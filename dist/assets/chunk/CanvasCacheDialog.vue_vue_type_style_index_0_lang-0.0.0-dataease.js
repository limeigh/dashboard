import{p as ne,R as Xe,z as ut}from"./index-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import{E as ct}from"./el-collapse-item-0.0.0-dataease.js";import{E as Pe}from"./el-color-picker-0.0.0-dataease.js";import{o as fe,G as Ae,j as ie,n as te,N as K,y as Oe,D as ye,v as mt}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{E as et}from"./el-divider-0.0.0-dataease.js";import{E as ge}from"./el-row-0.0.0-dataease.js";import{E as ve}from"./el-col-0.0.0-dataease.js";import{E as pt}from"./el-slider-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import{E as j,a as De}from"./el-form-item-0.0.0-dataease.js";import{E as Fe}from"./el-checkbox-0.0.0-dataease.js";import{d as we}from"./dvMain-0.0.0-dataease.js";import{b as ft,a as Re,C as _t,c as ht,d as vt,F as gt,e as Ct,S as bt,f as yt,g as wt,h as Vt,i as kt,j as St,k as xt}from"./chart-0.0.0-dataease.js";import{e as Ce}from"./eventBus-0.0.0-dataease.js";import{d as J,r as se,t as de,y as re,X as $e,af as Le,o as Ge,n as Ee,f as d,O as y,j as t,i as l,P as i,u as e,g as z,S as w,_ as W,a3 as H,a4 as v,a8 as Ue,Z as Ze,a6 as _e,W as ce,R as Q,U as ee,w as It,e as ze,l as be,T as je,ag as Et,ah as zt}from"./vue-0.0.0-dataease.js";import $t from"./CustomColorStyleSelect-0.0.0-dataease.js";import{e as Lt}from"./antv-0.0.0-dataease.js";import{s as Ve}from"./snapshot-0.0.0-dataease.js";import{_ as le}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import"./el-radio-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{a as tt,E as lt}from"./el-select-0.0.0-dataease.js";import{i as Me}from"./icon_info_outlined-0.0.0-dataease.js";import{a as Tt,L as Ht,D as Nt,c as Mt}from"./canvasStyle-0.0.0-dataease.js";import{C as At,a as Ut}from"./dataVisualization-0.0.0-dataease2.js";import{E as Dt}from"./el-space-0.0.0-dataease.js";import{u as Ft}from"./appearance-0.0.0-dataease.js";import{i as Bt}from"./ModelUtil-0.0.0-dataease.js";import{E as Pt,a as Ot}from"./index-0.0.0-dataease27.js";import{E as Rt}from"./index-0.0.0-dataease20.js";import{E as at}from"./index-0.0.0-dataease4.js";import{E as Gt}from"./el-upload-0.0.0-dataease.js";import"./el-progress-0.0.0-dataease.js";import{b as Zt,u as Ke,i as Qe}from"./imgUtils-0.0.0-dataease.js";import Wt from"./ImgViewDialog-0.0.0-dataease.js";import{e as qt}from"./lodash-0.0.0-dataease.js";import{E as ot}from"./el-popover-0.0.0-dataease.js";import{a as nt}from"./chart-list-0.0.0-dataease.js";import{c as Te,a as He}from"./canvasUtils-0.0.0-dataease.js";import{i as jt}from"./chart-dark-list-0.0.0-dataease.js";import{e as Kt,i as Qt}from"./MultiplexPreviewShow-0.0.0-dataease.js";import{E as st}from"./el-dialog-0.0.0-dataease.js";import{E as Yt,a as Jt}from"./el-tabs-0.0.0-dataease.js";import{E as Xt}from"./el-tree-0.0.0-dataease.js";import{i as el}from"./icon_delete-trash_outlined-0.0.0-dataease.js";import{i as tl}from"./icon_rename_outlined-0.0.0-dataease.js";import{i as ll}from"./icon_more-vertical_outlined-0.0.0-dataease.js";import{i as al}from"./icon_dataset-0.0.0-dataease.js";import{g as ol}from"./DeShortcutKey-0.0.0-dataease.js";import{u as nl,q as sl}from"./DePreview-0.0.0-dataease.js";import{b as il,v as rl}from"./dataVisualization-0.0.0-dataease.js";import{_ as dl}from"./HandleMore.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{f as Ye}from"./attr-0.0.0-dataease23.js";import{E as ul}from"./EmptyBackground-0.0.0-dataease.js";import{i as cl}from"./field-list-0.0.0-dataease.js";import{d as ml}from"./dv-info-0.0.0-dataease.js";const pl={style:{width:"100%",padding:"16px 8px 0"}},fl={class:"alpha-setting"},_l={style:{padding:"0 8px 8px"}},hl=J({__name:"ComponentColorSelector",props:{themes:{type:String,default:"light"}},emits:["onColorChange"],setup(s,{emit:n}){const{t:C}=fe(),o=Ve(),m=s;let b=se(!1);const{themes:r}=de(m),g=n,V=se(null),a=re(()=>k.value.component.chartColor),$=re(()=>k.value.component.seniorStyleSetting),L=Re,N=$e({basicStyleForm:JSON.parse(JSON.stringify(ft)),customColor:null,colorIndex:0}),R=we(),{canvasStyleData:k}=Le(R),E=()=>{N.customColor=a.value.basicStyle.colors[0],setTimeout(()=>{N.basicStyleForm=k.value.component.chartColor.basicStyle,b.value=!0},1e3);const T=a.value.tableHeader,f=a.value.tableCell;T.tableHeaderFontColor=T.tableHeaderFontColor??f.tableFontColor},x=(T="value")=>{a.value.basicStyle=N.basicStyleForm,h(T)},ae=()=>{o.recordSnapshotCache("changePagerColorChange")},h=T=>{a.value.modifyName=T,g("onColorChange",a.value)},p=se(),P=se(),A=re(()=>P.value<=240?108:197);return Ge(()=>{var f;E(),Ce.on("onThemeColorChange",E);const T=Lt();P.value=(f=p.value)==null?void 0:f.offsetWidth,T.listenTo(p.value,()=>{Ee(()=>{var F;P.value=(F=p.value)==null?void 0:F.offsetWidth})})}),(T,f)=>{const F=Fe,D=j,oe=pt,G=ve,q=Ae,S=ge,ke=et,c=Pe,_=ct,I=De;return d(),y("div",{style:{width:"100%"},ref_key:"containerRef",ref:p},[t(I,{ref_key:"colorFormRef",ref:V,model:a.value,size:"small",style:{width:"100%","padding-bottom":"8px"}},{default:l(()=>[i("div",pl,[e(b)?(d(),z($t,{key:0,class:w(["custom-color-pick",{"custom-dark":e(r)==="dark"}]),modelValue:N,"onUpdate:modelValue":f[0]||(f[0]=u=>N=u),themes:e(r),onChangeBasicStyle:f[1]||(f[1]=u=>x("value"))},null,8,["class","modelValue","themes"])):W("",!0),t(D,{class:w(["form-item","form-item-"+e(r)])},{default:l(()=>[t(F,{size:"small",effect:e(r),modelValue:a.value.basicStyle.gradient,"onUpdate:modelValue":f[2]||(f[2]=u=>a.value.basicStyle.gradient=u),onChange:f[3]||(f[3]=u=>h("gradient"))},{default:l(()=>[H(v(T.$t("chart.gradient"))+v(T.$t("chart.color")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),i("div",fl,[i("label",{class:w(["alpha-label",{dark:e(r)==="dark"}])},v(e(C)("chart.not_alpha")),3),t(S,{style:{flex:"1"},gutter:8},{default:l(()=>[t(G,{span:13},{default:l(()=>[t(D,{class:w(["form-item alpha-slider","form-item-"+e(r)])},{default:l(()=>[t(oe,{effect:e(r),modelValue:a.value.basicStyle.alpha,"onUpdate:modelValue":f[4]||(f[4]=u=>a.value.basicStyle.alpha=u),onChange:f[5]||(f[5]=u=>h("alpha"))},null,8,["effect","modelValue"])]),_:1},8,["class"])]),_:1}),t(G,{span:11},{default:l(()=>[t(D,{style:{"padding-top":"4px"},class:w(["form-item","form-item-"+e(r)])},{default:l(()=>[t(q,{type:"number",effect:e(r),modelValue:a.value.basicStyle.alpha,"onUpdate:modelValue":f[6]||(f[6]=u=>a.value.basicStyle.alpha=u),min:0,max:100,class:"alpha-input-number",controls:!1,onChange:f[7]||(f[7]=u=>h("alpha"))},{suffix:l(()=>[...f[25]||(f[25]=[H(" % ",-1)])]),_:1},8,["effect","modelValue"])]),_:1},8,["class"])]),_:1})]),_:1})]),t(ke,{class:w(["m-divider","m-divider-"+e(r)])},null,8,["class"])]),t(_,{title:e(C)("visualization.table_color_matching"),name:"table_color_matching",class:w(["inner-collapse",`inner-collapse_${e(r)}`]),effect:e(r)},{default:l(()=>[i("div",_l,[t(S,{gutter:8},{default:l(()=>[t(G,{span:12},{default:l(()=>[t(D,{label:e(C)("chart.table_header_row_bg"),class:"form-item"},{default:l(()=>[t(c,{"trigger-width":A.value,modelValue:a.value.tableHeader.tableHeaderBgColor,"onUpdate:modelValue":f[8]||(f[8]=u=>a.value.tableHeader.tableHeaderBgColor=u),size:"small",predefine:e(L),"is-custom":"","show-alpha":"",effect:e(r),onChange:f[9]||(f[9]=u=>h("tableHeaderBgColor"))},null,8,["trigger-width","modelValue","predefine","effect"])]),_:1},8,["label"])]),_:1}),t(G,{span:12},{default:l(()=>[t(D,{label:e(C)("chart.table_item_bg"),class:"form-item"},{default:l(()=>[t(c,{"trigger-width":A.value,modelValue:a.value.tableCell.tableItemBgColor,"onUpdate:modelValue":f[10]||(f[10]=u=>a.value.tableCell.tableItemBgColor=u),size:"small",predefine:e(L),effect:e(r),"show-alpha":"","is-custom":"",onChange:f[11]||(f[11]=u=>h("tableItemBgColor"))},null,8,["trigger-width","modelValue","predefine","effect"])]),_:1},8,["label"])]),_:1})]),_:1}),t(S,{gutter:8},{default:l(()=>[t(G,{span:12},{default:l(()=>[t(D,{label:e(C)("chart.table_header_font_color"),class:"form-item"},{default:l(()=>[t(c,{"trigger-width":A.value,modelValue:a.value.tableHeader.tableHeaderFontColor,"onUpdate:modelValue":f[12]||(f[12]=u=>a.value.tableHeader.tableHeaderFontColor=u),effect:e(r),size:"small",predefine:e(L),"is-custom":"",onChange:f[13]||(f[13]=u=>h("tableHeaderFontColor"))},null,8,["trigger-width","modelValue","effect","predefine"])]),_:1},8,["label"])]),_:1}),t(G,{span:12},{default:l(()=>[t(D,{label:e(C)("chart.colBackgroundColor"),class:"form-item"},{default:l(()=>[t(c,{"trigger-width":A.value,modelValue:a.value.tableHeader.tableHeaderColBgColor,"onUpdate:modelValue":f[14]||(f[14]=u=>a.value.tableHeader.tableHeaderColBgColor=u),size:"small",predefine:e(L),"color-format":"rgb",effect:e(r),"show-alpha":"","is-custom":"",onChange:f[15]||(f[15]=u=>h("tableHeaderColBgColor"))},null,8,["trigger-width","modelValue","predefine","effect"])]),_:1},8,["label"])]),_:1}),t(G,{span:12},{default:l(()=>[t(D,{label:e(C)("chart.cornerBackgroundColor"),class:"form-item"},{default:l(()=>[t(c,{"trigger-width":A.value,modelValue:a.value.tableHeader.tableHeaderCornerBgColor,"onUpdate:modelValue":f[16]||(f[16]=u=>a.value.tableHeader.tableHeaderCornerBgColor=u),size:"small",predefine:e(L),"color-format":"rgb",effect:e(r),"show-alpha":"","is-custom":"",onChange:f[17]||(f[17]=u=>h("tableHeaderCornerBgColor"))},null,8,["trigger-width","modelValue","predefine","effect"])]),_:1},8,["label"])]),_:1}),t(G,{span:12},{default:l(()=>[t(D,{label:e(C)("chart.table_item_font_color"),class:"form-item"},{default:l(()=>[t(c,{"trigger-width":A.value,modelValue:a.value.tableCell.tableFontColor,"onUpdate:modelValue":f[18]||(f[18]=u=>a.value.tableCell.tableFontColor=u),size:"small",predefine:e(L),effect:e(r),"is-custom":"",onChange:f[19]||(f[19]=u=>h("tableFontColor"))},null,8,["trigger-width","modelValue","predefine","effect"])]),_:1},8,["label"])]),_:1}),t(G,{span:12},{default:l(()=>[t(D,{label:e(C)("chart.table_border_color"),class:"form-item"},{default:l(()=>[t(c,{"trigger-width":A.value,modelValue:a.value.basicStyle.tableBorderColor,"onUpdate:modelValue":f[20]||(f[20]=u=>a.value.basicStyle.tableBorderColor=u),size:"small",predefine:e(L),effect:e(r),"is-custom":"","show-alpha":"",onChange:f[21]||(f[21]=u=>h("tableBorderColor"))},null,8,["trigger-width","modelValue","predefine","effect"])]),_:1},8,["label"])]),_:1}),t(G,{span:12},{default:l(()=>[t(D,{label:e(C)("chart.table_scroll_bar_color"),class:"form-item"},{default:l(()=>[t(c,{"trigger-width":A.value,modelValue:a.value.basicStyle.tableScrollBarColor,"onUpdate:modelValue":f[22]||(f[22]=u=>a.value.basicStyle.tableScrollBarColor=u),size:"small",predefine:e(L),"color-format":"rgb",effect:e(r),"show-alpha":"","is-custom":"",onChange:f[23]||(f[23]=u=>h("tableScrollBarColor"))},null,8,["trigger-width","modelValue","predefine","effect"])]),_:1},8,["label"])]),_:1}),t(G,{span:12},{default:l(()=>[t(D,{label:e(C)("components.pager_color"),class:"form-item"},{default:l(()=>[t(c,{"trigger-width":A.value,modelValue:$.value.pagerColor,"onUpdate:modelValue":f[24]||(f[24]=u=>$.value.pagerColor=u),size:"small",predefine:e(L),"color-format":"rgb",effect:e(r),"show-alpha":"","is-custom":"",onChange:ae},null,8,["trigger-width","modelValue","predefine","effect"])]),_:1},8,["label"])]),_:1})]),_:1})])]),_:1},8,["title","effect","class"])]),_:1},8,["model"])],512)}}});const Rn=le(hl,[["__scopeId","data-v-38805005"]]),vl={class:"color-button-main"},gl={class:"text-area"},Cl=J({__name:"ColorButton",props:{colorType:{type:String,default:"light"},label:{type:String,default:null}},emits:["onClick"],setup(s,{emit:n}){const C=n,o=s,{colorType:m,label:b}=de(o),r=re(()=>b.value===m.value),g=()=>{C("onClick",m.value)};return(V,a)=>(d(),y("div",vl,[i("div",{class:w(["color-button-outer",r.value?"color-button-active":""]),onClick:Ue(g,["stop"])},[i("div",{class:w(["color-button-inner","color-button-inner-"+e(m)])},null,2)],2),i("span",gl,[Ze(V.$slots,"default",{},void 0,!0)])]))}});const Je=le(Cl,[["__scopeId","data-v-ccb464e4"]]),bl={class:"color-btn-text"},yl={class:"color-btn-text"},wl={class:"data-area-label"},Vl={style:{"margin-right":"4px"}},kl={class:"data-area-label"},Sl={style:{"margin-right":"4px"}},xl=J({__name:"OverallSetting",props:{themes:{type:String,default:"light"}},setup(s){const{t:n}=fe(),C=we(),{canvasStyleData:o,dvInfo:m}=Le(C),b=Ft(),r=Bt(),g=Ve(),V=s,a=_t.concat(b.fontList.map(h=>({name:h.name,value:h.name}))),$=re(()=>V.themes==="dark"?"light":"dark"),L=re(()=>m.value.type==="dashboard"?n("work_branch.dashboard"):n("work_branch.big_data_screen")),N=h=>{if(h===""||parseFloat(h).toString()==="NaN"||parseFloat(h)<1){o.value.refreshTime=1;return}else parseFloat(h)>3600&&(o.value.refreshTime=3600);x()},R=()=>{b.setCurrentFont(o.value.fontFamily),document.documentElement.style.setProperty("--de-canvas_custom_font",`${o.value.fontFamily}`),Tt(o.value.fontFamily),g.recordSnapshotCache("renderChart")},k=()=>{Ce.emit("event-canvas-size-init"),g.recordSnapshotCache("renderChart")},E=()=>{switch(g.recordSnapshotCache("renderChart"),o.value.dashboard.gapMode){case"small":o.value.dashboard.gapSize=3;break;case"middle":o.value.dashboard.gapSize=5;break;case"large":o.value.dashboard.gapSize=10;break}},x=h=>{h==="themeColor"&&(o.value.component.chartCommonStyle.backgroundColorSelect=!0,o.value.backgroundColorSelect=!0,o.value.dashboard.themeColor==="light"?(o.value.backgroundColor=Ht,o.value.component.chartCommonStyle=K(At),o.value.component.chartTitle=K(ht),o.value.component.chartColor=K(vt),o.value.component.filterStyle=K(gt),o.value.component.tabStyle=K(Ct),o.value.component.seniorStyleSetting=K(bt)):(o.value.backgroundColor=Nt,o.value.component.chartCommonStyle=K(Ut),o.value.component.chartTitle=K(yt),o.value.component.chartColor=K(wt),o.value.component.filterStyle=K(Vt),o.value.component.tabStyle=K(kt),o.value.component.seniorStyleSetting=K(St)),Mt()),g.recordSnapshotCache("renderChart")},ae=h=>{h!==o.value.dashboard.themeColor?(o.value.dashboard.themeColor=h,x("themeColor")):o.value.dashboard.themeColor=h};return(h,p)=>{const P=tt,A=lt,T=Pt,f=Ot,F=Rt,D=Fe,oe=Ae,G=at,q=De;return d(),z(q,{size:"small","label-position":"top"},{default:l(()=>[e(m).type==="dashboard"?(d(),z(e(j),{key:0,class:w(["form-item","form-item-"+s.themes]),label:e(n)("visualization.theme_color")},{default:l(()=>[t(e(Dt),{size:24},{default:l(()=>[t(Je,{"color-type":"light",label:e(o).dashboard.themeColor,onOnClick:ae},{default:l(()=>[i("div",bl,v(e(n)("visualization.theme_color_light")),1)]),_:1},8,["label"]),t(Je,{"color-type":"dark",label:e(o).dashboard.themeColor,onOnClick:ae},{default:l(()=>[i("div",yl,v(e(n)("visualization.theme_color_dark")),1)]),_:1},8,["label"])]),_:1})]),_:1},8,["class","label"])):W("",!0),e(m).type==="dashboard"?(d(),z(e(j),{key:1,class:w(["form-item","form-item-"+s.themes]),label:e(n)("visualization.font_family_select")},{default:l(()=>[t(A,{effect:s.themes,modelValue:e(o).fontFamily,"onUpdate:modelValue":p[0]||(p[0]=S=>e(o).fontFamily=S),onChange:p[1]||(p[1]=S=>R())},{default:l(()=>[(d(!0),y(ce,null,_e(e(a),S=>(d(),z(P,{key:S.value,label:S.name,value:S.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue"])]),_:1},8,["class","label"])):W("",!0),e(m).type==="dashboard"?(d(),y(ce,{key:2},[t(e(j),{class:w(["form-item","form-item-"+s.themes]),label:e(n)("visualization.component_gap")},{default:l(()=>[t(f,{modelValue:e(o).dashboard.gap,"onUpdate:modelValue":p[2]||(p[2]=S=>e(o).dashboard.gap=S),onChange:x},{default:l(()=>[t(T,{effect:s.themes,label:"yes"},{default:l(()=>[H(v(e(n)("visualization.gap")),1)]),_:1},8,["effect"]),t(T,{effect:s.themes,label:"no"},{default:l(()=>[H(v(e(n)("visualization.no_gap")),1)]),_:1},8,["effect"])]),_:1},8,["modelValue"])]),_:1},8,["class","label"]),e(o).dashboard.gap==="yes"?(d(),z(e(j),{key:0,class:w(["form-item","form-item-"+s.themes]),label:e(n)("visualization.gap_size")},{default:l(()=>[t(f,{modelValue:e(o).dashboard.gapMode,"onUpdate:modelValue":p[3]||(p[3]=S=>e(o).dashboard.gapMode=S),onChange:E},{default:l(()=>[t(T,{effect:s.themes,label:"small"},{default:l(()=>[H(v(e(n)("visualization.small")),1)]),_:1},8,["effect"]),t(T,{effect:s.themes,label:"middle"},{default:l(()=>[H(v(e(n)("visualization.middle")),1)]),_:1},8,["effect"]),t(T,{effect:s.themes,label:"large"},{default:l(()=>[H(v(e(n)("visualization.large")),1)]),_:1},8,["effect"]),t(T,{effect:s.themes,label:"custom"},{default:l(()=>[H(v(e(n)("visualization.custom")),1)]),_:1},8,["effect"])]),_:1},8,["modelValue"])]),_:1},8,["class","label"])):W("",!0),Q(t(e(j),{class:w(["form-item","form-item-"+s.themes])},{default:l(()=>[t(F,{modelValue:e(o).dashboard.gapSize,"onUpdate:modelValue":p[4]||(p[4]=S=>e(o).dashboard.gapSize=S),effect:s.themes,"controls-position":"right",min:0,max:10,onChange:x},null,8,["modelValue","effect"])]),_:1},8,["class"]),[[ee,e(o).dashboard.gapMode==="custom"]])],64)):W("",!0),e(m).type==="dashboard"?(d(),z(e(j),{key:3,class:w(["form-item","form-item-"+s.themes]),label:e(n)("visualization.dashboard_adaptor")},{default:l(()=>[t(f,{modelValue:e(o).dashboardAdaptor,"onUpdate:modelValue":p[5]||(p[5]=S=>e(o).dashboardAdaptor=S),onChange:k},{default:l(()=>[t(T,{effect:s.themes,label:"keepHeightAndWidth"},{default:l(()=>[H(v(e(n)("visualization.scale_keep_height_and_width")),1)]),_:1},8,["effect"]),t(T,{effect:s.themes,label:"withWidth"},{default:l(()=>[H(v(e(n)("visualization.scale_with_width")),1)]),_:1},8,["effect"])]),_:1},8,["modelValue"])]),_:1},8,["class","label"])):W("",!0),t(e(j),{class:w(["form-item","form-item-"+s.themes]),style:{"margin-bottom":"8px"}},{default:l(()=>[t(D,{effect:s.themes,size:"small",modelValue:e(o).refreshViewEnable,"onUpdate:modelValue":p[6]||(p[6]=S=>e(o).refreshViewEnable=S),onChange:x},{default:l(()=>[H(v(e(n)("visualization.refresh_frequency")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),t(e(j),{class:w(["form-item","form-item-"+s.themes]),style:{"padding-left":"20px"}},{default:l(()=>[t(oe,{modelValue:e(o).refreshTime,"onUpdate:modelValue":p[8]||(p[8]=S=>e(o).refreshTime=S),effect:s.themes,class:w(["time-input-number",[e(m).type==="dashboard"&&"padding20",s.themes==="dark"&&"dv-dark"]]),type:"number",min:1,max:3600,disabled:!e(o).refreshViewEnable,onChange:N},{append:l(()=>[t(A,{modelValue:e(o).refreshUnit,"onUpdate:modelValue":p[7]||(p[7]=S=>e(o).refreshUnit=S),effect:s.themes,disabled:!e(o).refreshViewEnable,style:{width:"90px"},onChange:x},{default:l(()=>[t(P,{label:e(n)("visualization.minute"),value:"minute"},null,8,["label"]),t(P,{label:e(n)("visualization.second"),value:"second"},null,8,["label"])]),_:1},8,["modelValue","effect","disabled"])]),_:1},8,["modelValue","effect","class","disabled"])]),_:1},8,["class"]),t(e(j),{class:w(["form-item","form-item-"+s.themes]),style:{"margin-bottom":"8px"}},{default:l(()=>[t(D,{effect:s.themes,size:"small",modelValue:e(o).refreshBrowserEnable,"onUpdate:modelValue":p[9]||(p[9]=S=>e(o).refreshBrowserEnable=S),onChange:x},{default:l(()=>[H(v(e(n)("components.overall_refresh")),1)]),_:1},8,["effect","modelValue"]),t(G,{class:"item",effect:$.value,placement:"bottom"},{content:l(()=>[i("div",null,v(e(n)("components.previews_take_effect")),1)]),default:l(()=>[t(e(ie),{class:w(["hint-icon",{"hint-icon--dark":s.themes==="dark"}]),style:{"margin-left":"4px"}},{default:l(()=>[t(te,{name:"icon_info_outlined"},{default:l(()=>[t(e(Me),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1},8,["effect"])]),_:1},8,["class"]),t(e(j),{class:w(["form-item","form-item-"+s.themes]),style:{"padding-left":"20px"}},{default:l(()=>[t(oe,{modelValue:e(o).refreshBrowserTime,"onUpdate:modelValue":p[11]||(p[11]=S=>e(o).refreshBrowserTime=S),effect:s.themes,class:w(["time-input-number",[e(m).type==="dashboard"&&"padding20",s.themes==="dark"&&"dv-dark"]]),type:"number",min:1,max:3600,disabled:!e(o).refreshBrowserEnable,onChange:N},{append:l(()=>[t(A,{modelValue:e(o).refreshBrowserUnit,"onUpdate:modelValue":p[10]||(p[10]=S=>e(o).refreshBrowserUnit=S),effect:s.themes,disabled:!e(o).refreshBrowserEnable,style:{width:"90px"},onChange:x},{default:l(()=>[t(P,{label:e(n)("visualization.minute"),value:"minute"},null,8,["label"]),t(P,{label:e(n)("visualization.second"),value:"second"},null,8,["label"])]),_:1},8,["modelValue","effect","disabled"])]),_:1},8,["modelValue","effect","class","disabled"])]),_:1},8,["class"]),t(e(j),{class:w(["form-item","form-item-"+s.themes])},{default:l(()=>[t(D,{effect:s.themes,size:"small",modelValue:e(o).refreshViewLoading,"onUpdate:modelValue":p[12]||(p[12]=S=>e(o).refreshViewLoading=S),onChange:x},{default:l(()=>[H(v(e(n)("visualization.enable_view_loading")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),t(e(j),{class:w(["form-item","form-item-"+s.themes]),style:{"margin-bottom":"8px"}},{label:l(()=>[i("span",wl,[i("span",Vl,v(e(n)("visualization.panel_view_result_show")),1),t(G,{class:"item",effect:$.value,placement:"bottom"},{content:l(()=>[i("div",null,v(e(n)("visualization.panel_view_result_tips",[L.value])),1)]),default:l(()=>[t(e(ie),{class:w(["hint-icon",{"hint-icon--dark":s.themes==="dark"}])},{default:l(()=>[t(te,{name:"icon_info_outlined"},{default:l(()=>[t(e(Me),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1},8,["effect"])])]),default:l(()=>[t(f,{effect:s.themes,modelValue:e(o).dashboard.resultMode,"onUpdate:modelValue":p[13]||(p[13]=S=>e(o).dashboard.resultMode=S),class:"radio-span",onChange:x},{default:l(()=>[t(T,{label:"all",effect:s.themes},{default:l(()=>[H(v(e(n)("visualization.view")),1)]),_:1},8,["effect"]),t(T,{label:"custom",effect:s.themes},{default:l(()=>[H(v(L.value),1)]),_:1},8,["effect"])]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),Q(t(e(j),{class:w(["form-item","form-item-"+s.themes])},{default:l(()=>[t(F,{modelValue:e(o).dashboard.resultCount,"onUpdate:modelValue":p[14]||(p[14]=S=>e(o).dashboard.resultCount=S),effect:s.themes,"controls-position":"right",min:1,max:1e4,onChange:x,disabled:e(o).dashboard.resultMode==="all"},null,8,["modelValue","effect","disabled"])]),_:1},8,["class"]),[[ee,e(o).dashboard.resultMode==="custom"]]),Q(t(e(j),{style:{"margin-top":"16px","margin-bottom":"8px"},class:w("form-item-"+s.themes)},{default:l(()=>[t(D,{effect:s.themes,size:"small",modelValue:e(o).suspensionButtonAvailable,"onUpdate:modelValue":p[15]||(p[15]=S=>e(o).suspensionButtonAvailable=S),onChange:x},{default:l(()=>[i("span",kl,[i("span",Sl,v(e(n)("visualization.button_tips")),1),t(G,{class:"item",effect:$.value,placement:"bottom"},{content:l(()=>[i("div",null,v(e(n)("visualization.effective_during_link")),1)]),default:l(()=>[t(e(ie),{class:w(["hint-icon",{"hint-icon--dark":s.themes==="dark"}])},{default:l(()=>[t(te,{name:"icon_info_outlined"},{default:l(()=>[t(e(Me),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1},8,["effect"])])]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),[[ee,e(m).type==="dashboard"&&!e(r)]]),Q(t(e(j),{class:w(["form-item","form-item-"+s.themes]),style:{"margin-bottom":"0"}},{default:l(()=>[t(D,{effect:s.themes,size:"small",modelValue:e(o).dashboard.showGrid,"onUpdate:modelValue":p[16]||(p[16]=S=>e(o).dashboard.showGrid=S),onChange:x},{default:l(()=>[H(v(e(n)("visualization.display_auxiliary_grid")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),[[ee,e(m).type==="dashboard"]])]),_:1})}}});const Gn=le(xl,[["__scopeId","data-v-ccb0b8be"]]),Il={class:"indented-container"},El={class:"indented-item"},zl={class:"indented-container"},$l=15e6,Ll=50,Tl=J({__name:"CanvasBackground",props:{themes:{default:"dark"}},setup(s){const n=Ve(),{t:C}=fe(),o=se(null),m=we(),{canvasStyleData:b,dvInfo:r}=Le(m),g=$e({BackgroundShowMap:{},checked:!1,backgroundOrigin:{},fileList:[],dialogImageUrl:"",dialogVisible:!1,uploadDisabled:!1,predefineColors:Re}),V=re(()=>{var h,p,P,A;return r.value.watermarkInfo&&((p=(h=r.value.watermarkInfo)==null?void 0:h.settingContent)==null?void 0:p.enable)&&((A=(P=r.value.watermarkInfo)==null?void 0:P.settingContent)==null?void 0:A.enablePanelCustom)}),a=()=>{o.value.click()},$=()=>{ye.success(C("visualization.pic_size_error"))},L=h=>{const p=h.target.files[0];if(p.size>$l){$();return}Ke(p,P=>{b.value.background=P,g.fileList=[{url:Qe(b.value.background)}],x()})},N=()=>{b.value.background?g.fileList.push({url:Qe(b.value.background)}):g.fileList=[]},R=()=>{g.uploadDisabled=!1,b.value.background=null,g.fileList=[],x()},k=h=>{g.dialogImageUrl=h.url,g.dialogVisible=!0},E=h=>{Ke(h.file,p=>{b.value.background=p,x()})},x=()=>{n.recordSnapshotCache("onBackgroundChange")},ae=se();return Ge(()=>{N()}),It(()=>b.value.background,()=>{N()}),(h,p)=>{const P=Fe,A=j,T=Pe,f=ze("Plus"),F=ie,D=Gt,oe=ge,G=De;return d(),y("div",{style:{width:"100%"},ref_key:"bgForm",ref:ae},[i("input",{id:"input",ref_key:"files",ref:o,type:"file",accept:".jpeg,.jpg,.png,.gif,.svg",hidden:"",onClick:p[0]||(p[0]=q=>{q.target.value=""}),onChange:L},null,544),t(G,{size:"small","label-position":"top",style:{width:"100%","margin-bottom":"16px"}},{default:l(()=>[V.value?(d(),z(A,{key:0,class:w(["form-item","form-item-"+h.themes])},{default:l(()=>[t(P,{size:"small",effect:h.themes,modelValue:e(r).selfWatermarkStatus,"onUpdate:modelValue":p[1]||(p[1]=q=>e(r).selfWatermarkStatus=q),onChange:x},{default:l(()=>[H(v(e(C)("visualization.watermark")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"])):W("",!0),t(A,{class:w(["form-item no-margin-bottom","form-item-"+h.themes])},{default:l(()=>[t(P,{size:"small",effect:h.themes,modelValue:e(b).backgroundColorSelect,"onUpdate:modelValue":p[2]||(p[2]=q=>e(b).backgroundColorSelect=q),onChange:x},{default:l(()=>[H(v(e(C)("chart.color")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),i("div",Il,[i("div",El,[t(A,{class:w(["form-item","form-item-"+h.themes])},{default:l(()=>[t(T,{modelValue:e(b).backgroundColor,"onUpdate:modelValue":p[3]||(p[3]=q=>e(b).backgroundColor=q),effect:h.themes,disabled:!e(b).backgroundColorSelect,"trigger-width":Ll,"is-custom":"","show-alpha":"",class:"color-picker-style",predefine:g.predefineColors,onChange:x},null,8,["modelValue","effect","disabled","predefine"])]),_:1},8,["class"])])]),t(A,{class:w(["form-item no-margin-bottom","form-item-"+h.themes])},{default:l(()=>[t(P,{size:"small",effect:h.themes,modelValue:e(b).backgroundImageEnable,"onUpdate:modelValue":p[4]||(p[4]=q=>e(b).backgroundImageEnable=q),onChange:x},{default:l(()=>[H(v(e(C)("visualization.background")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),i("div",zl,[i("div",{class:w(["indented-item",{disabled:!e(b).backgroundImageEnable}])},[i("div",{class:w(["avatar-uploader-container",`img-area_${h.themes}`])},[t(D,{action:"",effect:h.themes,accept:".jpeg,.jpg,.png,.gif,.svg",class:"avatar-uploader","list-type":"picture-card","on-preview":k,"on-remove":R,"before-upload":e(Zt),"http-request":E,"file-list":g.fileList,disabled:!e(b).backgroundImageEnable},{default:l(()=>[t(F,null,{default:l(()=>[t(f)]),_:1})]),_:1},8,["effect","before-upload","file-list","disabled"]),t(oe,null,{default:l(()=>[e(b).background?W("",!0):(d(),y("span",{key:0,style:{"margin-top":"2px"},class:w(["image-hint",`image-hint_${h.themes}`])},v(e(C)("visualization.pic_upload_tips2")),3)),e(b).background?(d(),z(e(Oe),{key:1,size:"small",style:{margin:"8px 0 0 -4px"},text:"",onClick:a,disabled:!e(b).backgroundImageEnable},{default:l(()=>[H(v(e(C)("visualization.re_upload")),1)]),_:1},8,["disabled"])):W("",!0)]),_:1})],2),t(Wt,{modelValue:g.dialogVisible,"onUpdate:modelValue":p[5]||(p[5]=q=>g.dialogVisible=q),"image-url":g.dialogImageUrl},null,8,["modelValue","image-url"])],2)])]),_:1})],512)}}});const Zn=le(Tl,[["__scopeId","data-v-90fa3289"]]),Hl={style:{width:"100%","padding-bottom":"8px"}},Nl={style:{width:"100%",padding:"16px 8px 0"}},Ml=J({__name:"SeniorStyleSetting",props:{themes:{type:String,default:"light"}},setup(s){const{t:n}=fe(),C=we(),o=Ve(),m=re(()=>C.canvasStyleData.component.seniorStyleSetting),b=$e({fontSize:[],isSetting:!1,predefineColors:Re}),r=()=>{},g=()=>{C.canvasStyleData.component.seniorStyleSetting=qt(m.value),o.recordSnapshotCache("seniorStyleSettingSimpleSelector-themeChange")};return Ge(()=>{Ce.on("onThemeColorChange",r)}),(V,a)=>{const $=Pe,L=j,N=ve,R=ge,k=De;return d(),y("div",Hl,[t(k,{"label-position":"top",style:{width:"100%"}},{default:l(()=>[i("div",Nl,[t(R,{gutter:8},{default:l(()=>[t(N,{span:12},{default:l(()=>[t(L,{effect:s.themes,class:w(["form-item h-auto","form-item-"+s.themes]),label:e(n)("components.jump_icon_color")},{default:l(()=>[t($,{effect:s.themes,size:"small",modelValue:m.value.linkageIconColor,"onUpdate:modelValue":a[0]||(a[0]=E=>m.value.linkageIconColor=E),"trigger-width":100,"is-custom":"",predefine:b.predefineColors,onChange:g},null,8,["effect","modelValue","predefine"])]),_:1},8,["effect","class","label"])]),_:1}),t(N,{span:12},{default:l(()=>[t(L,{effect:s.themes,class:w(["form-item h-auto","form-item-"+s.themes]),label:e(n)("components.level_display_color")},{default:l(()=>[t($,{modelValue:m.value.drillLayerColor,"onUpdate:modelValue":a[1]||(a[1]=E=>m.value.drillLayerColor=E),effect:s.themes,"trigger-width":100,size:"small","is-custom":"",predefine:b.predefineColors,onChange:g},null,8,["modelValue","effect","predefine"])]),_:1},8,["effect","class","label"])]),_:1})]),_:1})])]),_:1})])}}});const Wn=le(Ml,[["__scopeId","data-v-70899e4e"]]),Al={width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"};function Ul(s,n){return d(),y("svg",Al,[...n[0]||(n[0]=[i("path",{d:"M13.3337 9.52522L17.9468 6.7715C18.0296 6.72207 18.1003 6.66005 18.1579 6.58933C18.2643 6.51383 18.3337 6.38969 18.3337 6.24935V6.16871C18.34 6.11084 18.3401 6.05212 18.3337 5.99359V2.49935C18.3337 2.26923 18.2404 2.0609 18.0896 1.91009C17.9388 1.75929 17.7304 1.66602 17.5003 1.66602H2.50033C2.04009 1.66602 1.66699 2.03911 1.66699 2.49935V6.24935C1.66699 6.37491 1.72254 6.48751 1.81039 6.5639C1.874 6.65742 1.95848 6.73887 2.06184 6.80066L6.66699 9.55366V15.5752C6.66699 15.733 6.75616 15.8773 6.89732 15.9478L12.7307 18.8645C13.0077 19.003 13.3337 18.8016 13.3337 18.4918V9.52522Z"},null,-1)])])}const qn={render:Ul},Dl={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"};function Fl(s,n){return d(),y("svg",Dl,[...n[0]||(n[0]=[i("path",{d:"M2.49935 2.5C2.03912 2.5 1.66602 2.8731 1.66602 3.33333V16.6667C1.66602 17.1269 2.03912 17.5 2.49935 17.5H17.4993C17.9596 17.5 18.3327 17.1269 18.3327 16.6667V3.33333C18.3327 2.8731 17.9596 2.5 17.4993 2.5H2.49935ZM16.666 4.1666V12.5001L14.8773 10.7113C14.7146 10.5487 14.4508 10.5487 14.288 10.7113L11.9607 13.0387C11.7979 13.2015 11.5341 13.2015 11.3713 13.0387L6.96064 8.628C6.79792 8.46533 6.53411 8.46533 6.37139 8.628L3.33268 11.6667V4.1666H16.666ZM13.3327 6.25C13.1026 6.25 12.916 6.43655 12.916 6.66667V7.91667C12.916 8.14678 13.1026 8.33333 13.3327 8.33333H14.5827C14.8128 8.33333 14.9993 8.14678 14.9993 7.91667V6.66667C14.9993 6.43655 14.8128 6.25 14.5827 6.25H13.3327Z"},null,-1)])])}const jn={render:Fl},Bl={width:"21",height:"20",viewBox:"0 0 21 20",xmlns:"http://www.w3.org/2000/svg"};function Pl(s,n){return d(),y("svg",Bl,[...n[0]||(n[0]=[i("path",{d:"M8.83342 1.66669H3.00008C2.53984 1.66669 2.16675 2.03978 2.16675 2.50002V8.33335C2.16675 8.79359 2.53984 9.16669 3.00008 9.16669H8.83342C9.29365 9.16669 9.66675 8.79359 9.66675 8.33335V2.50002C9.66675 2.03978 9.29365 1.66669 8.83342 1.66669Z"},null,-1),i("path",{d:"M8.83342 10.8334H3.00008C2.53984 10.8334 2.16675 11.2064 2.16675 11.6667V17.5C2.16675 17.9603 2.53984 18.3334 3.00008 18.3334H8.83342C9.29365 18.3334 9.66675 17.9603 9.66675 17.5V11.6667C9.66675 11.2064 9.29365 10.8334 8.83342 10.8334Z"},null,-1),i("path",{d:"M18.0001 1.66669H12.1667C11.7065 1.66669 11.3334 2.03978 11.3334 2.50002V8.33335C11.3334 8.79359 11.7065 9.16669 12.1667 9.16669H18.0001C18.4603 9.16669 18.8334 8.79359 18.8334 8.33335V2.50002C18.8334 2.03978 18.4603 1.66669 18.0001 1.66669Z"},null,-1),i("path",{d:"M17.9511 10.8334H12.2158C11.7285 10.8334 11.3334 11.2284 11.3334 11.7157V17.451C11.3334 17.9383 11.7285 18.3334 12.2158 18.3334H17.9511C18.4384 18.3334 18.8334 17.9383 18.8334 17.451V11.7157C18.8334 11.2284 18.4384 10.8334 17.9511 10.8334Z"},null,-1)])])}const Kn={render:Pl},Ol={width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"};function Rl(s,n){return d(),y("svg",Ol,[...n[0]||(n[0]=[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.0893 1.91058C17.933 1.7543 17.721 1.6665 17.5 1.6665H2.50002C2.27901 1.6665 2.06705 1.7543 1.91076 1.91058C1.75448 2.06686 1.66669 2.27882 1.66669 2.49984V17.4998C1.66669 17.7209 1.75448 17.9328 1.91076 18.0891C2.06705 18.2454 2.27901 18.3332 2.50002 18.3332H17.5C17.721 18.3332 17.933 18.2454 18.0893 18.0891C18.2456 17.9328 18.3334 17.7209 18.3334 17.4998V2.49984C18.3334 2.27882 18.2456 2.06686 18.0893 1.91058ZM10.8334 5.83323H13.75C13.8605 5.83323 13.9665 5.87713 14.0446 5.95527C14.1228 6.03341 14.1667 6.13939 14.1667 6.2499V7.08323C14.1667 7.19374 14.1228 7.29972 14.0446 7.37786C13.9665 7.456 13.8605 7.4999 13.75 7.4999H10.8334V13.7499C10.8334 13.8046 10.8226 13.8588 10.8016 13.9094C10.7807 13.9599 10.75 14.0058 10.7113 14.0445C10.6726 14.0832 10.6267 14.1139 10.5761 14.1348C10.5256 14.1558 10.4714 14.1666 10.4167 14.1666H9.58335C9.52864 14.1666 9.47446 14.1558 9.4239 14.1348C9.37335 14.1139 9.32742 14.0832 9.28873 14.0445C9.25004 14.0058 9.21934 13.9599 9.1984 13.9094C9.17747 13.8588 9.16669 13.8046 9.16669 13.7499V7.4999H6.25002C6.13951 7.4999 6.03353 7.456 5.95539 7.37786C5.87725 7.29972 5.83335 7.19374 5.83335 7.08323V6.2499C5.83335 6.13939 5.87725 6.03341 5.95539 5.95527C6.03353 5.87713 6.13951 5.83323 6.25002 5.83323H9.16669C9.16669 5.83323 10.8334 5.85657 10.8334 5.83323Z"},null,-1)])])}const Qn={render:Rl},Gl={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Zl(s,n){return d(),y("svg",Gl,[...n[0]||(n[0]=[i("path",{d:"M9.71952 18.0526C13.8471 18.0526 17.2237 14.8374 17.4815 10.7749C17.499 10.4994 17.2734 10.2748 16.9973 10.2748C14.5714 10.2748 12.1454 10.2748 9.71952 10.2748C9.71952 7.40872 9.71952 4.98267 9.71952 2.99669C9.71952 2.72055 9.49501 2.4954 9.21942 2.51289C5.15692 2.77069 1.94174 6.1473 1.94174 10.2748C1.94174 14.5704 5.42397 18.0526 9.71952 18.0526Z",fill:"#3370FF"},null,-1),i("path",{d:"M12.1306 8.60807C11.7192 8.60807 11.3857 8.2746 11.3857 7.86325V2.49351C11.3857 2.19784 11.6417 1.96535 11.9329 2.01629C15.011 2.55462 17.4392 4.9828 17.9775 8.0609C18.0285 8.35215 17.796 8.60807 17.5003 8.60807H12.1306Z",fill:"#00D6B9"},null,-1)])])}const Yn={render:Zl},Wl={width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};function ql(s,n){return d(),y("svg",Wl,[...n[0]||(n[0]=[i("path",{d:"M11.0036 1.80702L14.272 5.07542C14.4108 5.21428 14.4108 5.4394 14.272 5.57826L10.6893 9.16093C10.5505 9.29978 10.3253 9.29978 10.1865 9.16093L9.7465 8.72095C9.60765 8.5821 9.60765 8.35698 9.7465 8.21812L12.1858 5.77755L6.44444 5.77783C4.60349 5.77783 3.1111 7.27021 3.1111 9.11116C3.1111 10.9521 4.60349 12.4445 6.44444 12.4445H8.97777C9.17414 12.4445 9.33333 12.6037 9.33333 12.8V13.4223C9.33333 13.6186 9.17414 13.7778 8.97777 13.7778H6.22222C3.74827 13.6568 1.77777 11.6141 1.77777 9.11116C1.77777 6.6082 3.74827 4.56548 6.22259 4.44967L6.22222 4.44449L11.7555 4.44421L10.0608 2.74983C9.92192 2.61098 9.92192 2.38585 10.0608 2.247L10.5008 1.80702C10.6396 1.66817 10.8647 1.66817 11.0036 1.80702Z"},null,-1)])])}const Jn={render:ql},jl={width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};function Kl(s,n){return d(),y("svg",jl,[...n[0]||(n[0]=[i("path",{d:"M3.0166 1H11.3095C11.4421 1 11.5693 1.05268 11.663 1.14645L13.3702 2.85355C13.4639 2.94732 13.5166 3.0745 13.5166 3.20711V14.5C13.5166 14.7761 13.2927 15 13.0166 15L6.61962 14.9998C6.61373 14.9998 6.60786 14.9997 6.60202 14.9995L6.60786 14.9997V13.8H12.3167V4H10.6916C10.595 4 10.5166 3.92165 10.5166 3.825V2.2H3.71668V8.98657H2.5166V1.5C2.5166 1.22386 2.74046 1 3.0166 1Z"},null,-1),i("path",{d:"M5.94584 9.5C5.68794 9.26773 5.36928 9.10161 5.0166 9.02837V8.41667C5.0166 8.35224 5.06884 8.3 5.13327 8.3H8.23327C8.2977 8.3 8.34994 8.35223 8.34994 8.41667V9.38333C8.34994 9.44777 8.2977 9.5 8.23327 9.5H5.94584Z"},null,-1),i("path",{d:"M5.0166 5.91667C5.0166 5.85223 5.06884 5.8 5.13327 5.8H10.8999C10.9644 5.8 11.0166 5.85223 11.0166 5.91667V6.88333C11.0166 6.94777 10.9644 7 10.8999 7H5.13327C5.06884 7 5.0166 6.94777 5.0166 6.88333V5.91667Z"},null,-1),i("path",{d:"M5.17545 10.1799C5.17545 10.0805 5.09492 10 4.99557 10H1.00471C0.844448 10 0.76419 10.1938 0.87751 10.3071L2.15664 11.5862C1.31561 12.545 0.686543 14.7137 1.72678 15.754C1.79493 15.8221 1.8973 15.9133 2.00475 15.9865C2.03989 16.0091 2.07237 16.0023 2.09415 15.9741C2.10517 15.9586 2.10964 15.9395 2.10658 15.9207C2.10038 15.8659 2.09586 15.8212 2.09186 15.7817C2.0886 15.7497 2.0857 15.721 2.08252 15.693C2.00232 14.9869 2.885 13.7726 3.59451 13.0241L4.86837 14.2979C4.98169 14.4113 5.17545 14.331 5.17545 14.1707L5.17545 10.1799Z"},null,-1)])])}const Xn={render:Kl},Ql=J({__name:"ComponentButton",props:{title:ne.string,tips:ne.string,iconName:ne.string,showSplitLine:ne.bool,active:ne.bool},emits:["customClick"],setup(s,{emit:n}){const C=s,{title:o,tips:m,iconName:b,showSplitLine:r}=de(C),g=n;return(V,a)=>{const $=ie,L=ge;return d(),z(L,{class:w(["group_icon",{"group-right-border":e(r)}]),title:e(m),onClick:a[0]||(a[0]=N=>g("customClick"))},{default:l(()=>[t(e(ve),{span:24,class:w(["group_inner",{"inner-active":s.active}])},{default:l(()=>[t($,{class:"toolbar-icon"},{default:l(()=>[t(te,null,{default:l(()=>[(d(),z(be(e(b))))]),_:1})]),_:1}),i("span",null,v(e(o)),1)]),_:1},8,["class"])]),_:1},8,["title","class"])}}});const Yl=le(Ql,[["__scopeId","data-v-a89840a1"]]),Jl={class:"flex-align-center"},Xl=J({__name:"ComponentButtonLabel",props:{title:ne.string,tips:ne.string,iconName:ne.string,showSplitLine:ne.bool,active:ne.bool},emits:["customClick"],setup(s,{emit:n}){const C=s,{title:o,tips:m,iconName:b,showSplitLine:r}=de(C),g=n;return(V,a)=>{const $=ge,L=et;return d(),y("div",Jl,[t($,{class:"group_icon",title:e(m),onClick:a[0]||(a[0]=N=>g("customClick"))},{default:l(()=>[t(e(ve),{span:24,class:w(["group_inner",{"inner-active":s.active}])},{default:l(()=>[t(te,null,{default:l(()=>[(d(),z(be(e(b)),{class:"svg-icon toolbar-icon"}))]),_:1}),i("span",null,v(e(o)),1)]),_:1},8,["class"])]),_:1},8,["title"]),e(r)?(d(),z(L,{key:0,class:"group-right-border",direction:"vertical"})):W("",!0)])}}});const ea=le(Xl,[["__scopeId","data-v-fbaabbeb"]]),es=J({__name:"ComponentGroup",props:{title:ne.string,iconName:ne.string,showSplitLine:ne.bool,baseWidth:{required:!1,type:Number,default:200},isLabel:ne.bool.def(!1),themes:{type:String,default:"dark"},placement:{type:String,default:"bottom-start"}},setup(s){const n=s,{title:C,iconName:o,baseWidth:m,themes:b}=de(n);return(r,g)=>{const V=ot;return d(),z(V,{placement:s.placement,width:e(m),trigger:"click","show-arrow":!1,"popper-class":"custom-popover-"+e(b)},{reference:l(()=>[(d(),z(be(s.isLabel?ea:Yl),{title:e(C),"icon-name":e(o),"show-split-line":s.showSplitLine},null,8,["title","icon-name","show-split-line"]))]),default:l(()=>[Ze(r.$slots,"default")]),_:3},8,["placement","width","popper-class"])}}}),ta={class:"group-left"},la={class:"ul-custom"},aa=["onClick"],oa=["onClick","data-id","title"],na=["title"],sa=J({__name:"UserViewGroup",props:{propValue:{type:Array,default:()=>[]},dvModel:{type:String,default:"dv"},element:{type:Object,default(){return{propValue:null}}},themes:{type:String,default:"dark"}},setup(s){const n=s,{dvModel:C}=de(n),o=se(),m=$e({curCategory:"quota",chartGroupList:xt}),b=k=>{o==null||o.value.setScrollTop(k)},r=k=>{const E=document.querySelector(k);b(E.offsetTop)},g=(k,E)=>{Ce.emit("handleNew",{componentName:"UserView",innerType:k,staticMap:E})},V=k=>{Te(k,C.value)},a=k=>{He(k,C.value)},$=re(()=>m.chartGroupList.reduce((k,E)=>{if(E.display!=="hidden"){const x=(Math.floor((E.details.length-1)/3)+1)*88+20;return k.top===0?(k.top+=x,k[0]=E.category):(k[k.top]=E.category,k.top+=x),k}return k},{top:0})),L=k=>{let E=0;for(const x in $.value)k.scrollTop>x&&(E=x);m.curCategory=$.value[E]},N=k=>{m.curCategory=k,r("#"+k)},R=k=>{k.forEach(E=>{const{category:x,title:ae,render:h,chartValue:p,chartTitle:P,icon:A,staticMap:T}=E,f={render:h,category:x,icon:A,value:p,title:P,isPlugin:!0,staticMap:T},F=[...m.chartGroupList];let D=!1;for(;F!=null&&F.length;){const oe=F.pop();oe.category===x&&(oe.details.find(q=>q.value===f.value)||oe.details.push(f),D=!0)}D||m.chartGroupList.push({category:x,title:ae,display:"show",details:[f]})})};return(k,E)=>{const x=ge,ae=ve;return d(),y(ce,null,[t(x,{class:w(["group",s.themes]),onDragstart:V,onDragend:a},{default:l(()=>[i("div",ta,[i("ul",la,[(d(!0),y(ce,null,_e(m.chartGroupList,h=>Q((d(),y("li",{class:w(["li-custom",{"li-custom-active":m.curCategory===h.category}]),key:h.category,onClick:p=>N(h.category)},v(h.title),11,aa)),[[ee,h.display!=="hidden"]])),128))])]),t(e(Xe),{ref_key:"userViewGroup",ref:o,onScroll:L,class:"group-right",height:"392px"},{default:l(()=>[(d(!0),y(ce,null,_e(m.chartGroupList,h=>Q((d(),z(x,{id:h.category,key:h.title},{default:l(()=>[t(x,{class:"group-title"},{default:l(()=>[H(v(h.title),1)]),_:2},1024),t(x,{style:{width:"100%"}},{default:l(()=>[(d(!0),y(ce,null,_e(h.details,p=>(d(),z(ae,{class:"item",span:8,key:p.title},{default:l(()=>[i("div",{onClick:P=>g(p.value,p.staticMap),class:"item-top",draggable:"true","data-id":"UserView&"+p.value,title:p.title},[p.isPlugin?(d(),z(te,{key:0,"class-name":"item-top-icon","static-content":p.icon},null,8,["static-content"])):(d(),z(te,{key:1,"class-name":"item-top-icon"},{default:l(()=>[(d(),z(be(n.themes==="dark"?e(jt)[`${p.icon}-dark`]:e(nt)[p.icon]),{class:"svg-icon item-top-icon"}))]),_:2},1024))],8,oa),i("div",{title:p.title,class:"item-bottom"},[i("span",null,v(p.title),1)],8,na)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["id"])),[[ee,h.display!=="hidden"]])),128))]),_:1},512)]),_:1},8,["class"]),t(e(mt),{jsname:"L2NvbXBvbmVudC9wbHVnaW5zLWhhbmRsZXIvVmlld0NhdGVnb3J5SGFuZGxlcg==",onLoadPluginCategory:R})],64)}}});const ts=le(sa,[["__scopeId","data-v-b3f09501"]]),ia={width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ra(s,n){return d(),y("svg",ia,[...n[0]||(n[0]=[i("path",{d:"M4.99919 5C4.07872 5 3.33252 5.7462 3.33252 6.66667V33.3333C3.33252 34.2538 4.07872 35 4.99919 35H34.9992C35.9197 35 36.6659 34.2538 36.6659 33.3333V6.66667C36.6659 5.7462 35.9197 5 34.9992 5H4.99919ZM33.3325 8.3332V25.0002L29.7552 21.4227C29.4297 21.0973 28.902 21.0973 28.5765 21.4227L23.9219 26.0775C23.5964 26.403 23.0687 26.403 22.7432 26.0775L13.9218 17.256C13.5963 16.9307 13.0687 16.9307 12.7433 17.256L6.66585 23.3335V8.3332H33.3325ZM26.6659 12.5C26.2057 12.5 25.8325 12.8731 25.8325 13.3333V15.8333C25.8325 16.2936 26.2057 16.6667 26.6659 16.6667H29.1659C29.626 16.6667 29.9992 16.2936 29.9992 15.8333V13.3333C29.9992 12.8731 29.626 12.5 29.1659 12.5H26.6659Z",fill:"#3370FF"},null,-1)])])}const da={render:ra},ua={width:"40",height:"40",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"};function ca(s,n){return d(),y("svg",ua,[...n[0]||(n[0]=[i("path",{d:"M3.33251 3.33334C2.41205 3.33334 1.66585 4.07954 1.66585 5.00001V28.3333C1.66585 29.2538 2.41205 30 3.33251 30H29.9992C30.9197 30 31.6658 29.2538 31.6658 28.3333V5.00001C31.6658 4.07954 30.9197 3.33334 29.9992 3.33334H3.33251ZM28.3325 6.66654V21.6668L24.7552 18.0893C24.4297 17.764 23.902 17.764 23.5765 18.0893L18.9218 22.7442C18.5963 23.0697 18.0687 23.0697 17.7432 22.7442L10.5884 15.5893C10.263 15.264 9.73536 15.264 9.40993 15.5893L4.99918 20.0002V6.66654H28.3325ZM21.6658 9.16668C21.2057 9.16668 20.8325 9.53978 20.8325 10V12.5C20.8325 12.9602 21.2057 13.3333 21.6658 13.3333H24.1658C24.626 13.3333 24.9992 12.9602 24.9992 12.5V10C24.9992 9.53978 24.626 9.16668 24.1658 9.16668H21.6658Z"},null,-1),i("path",{d:"M38.3333 35C38.3333 35.4603 38.1468 35.8769 37.8452 36.1785C37.5436 36.4801 37.1269 36.6667 36.6667 36.6667H19.1667C18.7064 36.6667 18.3333 36.2936 18.3333 35.8333V34.1667C18.3333 33.7064 18.7064 33.3333 19.1667 33.3333H35V14.1667C35 13.7064 35.3731 13.3333 35.8333 13.3333H37.5C37.9602 13.3333 38.3333 13.7064 38.3333 14.1667V35Z"},null,-1)])])}const ma={render:ca},pa=["data-id"],fa={key:0,class:"label-content"},_a={class:"label-content"},ha=J({__name:"DragComponent",props:{icon:{type:String,required:!1},name:{type:String,required:!1},label:{type:String,required:!0,default:""},dragInfo:{type:String,required:!0,default:""},themes:{type:String,default:"dark"}},setup(s){const n=s,{icon:C,name:o,label:m,dragInfo:b,themes:r}=de(n);return(g,V)=>(d(),y("div",{class:w(["drag-component","drag-"+e(r)])},[i("div",{draggable:"true","data-id":e(b),class:"icon-content"},[e(o)?(d(),y("span",fa,v(e(o)),1)):W("",!0),e(C)?(d(),z(te,{key:1,class:"drag-icon"},{default:l(()=>[(d(),z(be(e(C)),{class:"svg-icon drag-icon"}))]),_:1})):W("",!0)],8,pa),i("div",_a,[i("span",null,v(e(m)),1)])],2))}});const he=le(ha,[["__scopeId","data-v-20dde548"]]),va=J({__name:"MediaGroup",props:{propValue:{type:Array,default:()=>[]},dvModel:{type:String,default:"dv"},element:{type:Object,default(){return{propValue:null}}},themes:{type:String,default:"dark"}},setup(s){const{t:n}=fe(),C=s,{dvModel:o}=de(C),m=(g,V)=>{Ce.emit("handleNew",{componentName:g,innerType:V})},b=g=>{Te(g,o.value)},r=g=>{He(g,o.value)};return(g,V)=>(d(),y("div",{class:"group",onDragstart:b,onDragend:r},[t(he,{class:"media-component",themes:s.themes,icon:e(da),label:e(n)("visualization.picture"),"drag-info":"Picture&Picture",onClick:V[0]||(V[0]=a=>m("Picture","Picture"))},null,8,["themes","icon","label"]),t(he,{class:"media-component",themes:s.themes,icon:e(Kt),label:e(n)("visualization.video"),"drag-info":"DeVideo&DeVideo",onClick:V[1]||(V[1]=a=>m("DeVideo","DeVideo"))},null,8,["themes","icon","label"]),t(he,{class:"media-component",themes:s.themes,icon:e(Qt),label:e(n)("visualization.stream_media"),"drag-info":"DeStreamMedia&DeStreamMedia",onClick:V[2]||(V[2]=a=>m("DeStreamMedia","DeStreamMedia"))},null,8,["themes","icon","label"]),t(he,{class:"media-component",themes:s.themes,icon:e(ma),label:e(n)("visualization.pic_group"),"drag-info":"UserView&picture-group",onClick:V[3]||(V[3]=a=>m("UserView","picture-group"))},null,8,["themes","icon","label"])],32))}});const ls=le(va,[["__scopeId","data-v-1acd6aa0"]]),ga={width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ca(s,n){return d(),y("svg",ga,[...n[0]||(n[0]=[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M36.1782 3.82019C35.8656 3.50763 35.4417 3.33203 34.9997 3.33203H4.99967C4.55765 3.33203 4.13372 3.50763 3.82116 3.82019C3.5086 4.13275 3.33301 4.55667 3.33301 4.9987V34.9987C3.33301 35.4407 3.5086 35.8647 3.82116 36.1772C4.13372 36.4898 4.55765 36.6654 4.99967 36.6654H34.9997C35.4417 36.6654 35.8656 36.4898 36.1782 36.1772C36.4908 35.8647 36.6663 35.4407 36.6663 34.9987V4.9987C36.6663 4.55667 36.4908 4.13275 36.1782 3.82019ZM21.6663 11.6655H27.4997C27.7207 11.6655 27.9327 11.7533 28.0889 11.9096C28.2452 12.0659 28.333 12.2778 28.333 12.4988V14.1655C28.333 14.3865 28.2452 14.5985 28.0889 14.7547C27.9327 14.911 27.7207 14.9988 27.4997 14.9988H21.6663V27.4988C21.6663 27.6083 21.6448 27.7166 21.6029 27.8177C21.561 27.9188 21.4996 28.0107 21.4223 28.0881C21.3449 28.1655 21.253 28.2268 21.1519 28.2687C21.0508 28.3106 20.9424 28.3322 20.833 28.3322H19.1663C19.0569 28.3322 18.9485 28.3106 18.8474 28.2687C18.7463 28.2268 18.6545 28.1655 18.5771 28.0881C18.4997 28.0107 18.4383 27.9188 18.3964 27.8177C18.3546 27.7166 18.333 27.6083 18.333 27.4988V14.9988H12.4997C12.2787 14.9988 12.0667 14.911 11.9104 14.7547C11.7541 14.5985 11.6663 14.3865 11.6663 14.1655V12.4988C11.6663 12.2778 11.7541 12.0659 11.9104 11.9096C12.0667 11.7533 12.2787 11.6655 12.4997 11.6655H18.333C18.333 11.6655 21.6663 11.7122 21.6663 11.6655Z",fill:"#3370FF"},null,-1)])])}const ba={render:Ca},ya={t:"1716529317390",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1706","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"};function wa(s,n){return d(),y("svg",ya,[...n[0]||(n[0]=[i("path",{d:"M810.666667 128H213.333333c-46.933333 0-85.333333 38.4-85.333333 85.333333v597.333334c0 46.933333 38.4 85.333333 85.333333 85.333333h597.333334c46.933333 0 85.333333-38.4 85.333333-85.333333V213.333333c0-46.933333-38.4-85.333333-85.333333-85.333333z m0 640c0 23.466667-19.2 42.666667-42.666667 42.666667H256c-23.466667 0-42.666667-19.2-42.666667-42.666667V256c0-23.466667 19.2-42.666667 42.666667-42.666667h512c23.466667 0 42.666667 19.2 42.666667 42.666667v512z",fill:"#297AFF","p-id":"1707"},null,-1),i("path",{d:"M725.333333 317.866667c0-12.8-8.533333-21.333333-21.333333-21.333334H320c-12.8 0-21.333333 8.533333-21.333333 21.333334v42.666666c0 12.8 8.533333 21.333333 21.333333 21.333334h149.333333v234.666666c0 12.8 8.533333 21.333333 21.333334 21.333334h42.666666c12.8 0 21.333333-8.533333 21.333334-21.333334v-234.666666h149.333333c12.8 0 21.333333-8.533333 21.333333-21.333334v-42.666666zM714.666667 682.666667H358.4v-32c0-2.133333-4.266667-4.266667-6.4-2.133334l-40.533333 40.533334c-8.533333 8.533333-8.533333 21.333333 0 29.866666l40.533333 40.533334c2.133333 2.133333 6.4 0 6.4-2.133334V725.333333h356.266667c6.4 0 10.666667-4.266667 10.666666-10.666666v-21.333334c0-6.4-4.266667-10.666667-10.666666-10.666666z",fill:"#297AFF","p-id":"1708"},null,-1)])])}const Va={render:wa},ka=J({__name:"TextGroup",props:{propValue:{type:Array,default:()=>[]},dvModel:{type:String,default:"dataV"},element:{type:Object,default(){return{propValue:null}}},themes:{type:String,default:"dark"}},setup(s){const{t:n}=fe(),C=s,{dvModel:o,themes:m}=de(C),b=V=>{Te(V,o.value)},r=V=>{He(V,o.value)},g=(V,a)=>{Ce.emit("handleNew",{componentName:V,innerType:a})};return(V,a)=>(d(),y("div",{class:"group",onDragstart:b,onDragend:r},[t(he,{themes:e(m),icon:e(ba),label:e(n)("visualization.rich_text"),"drag-info":"UserView&rich-text",onClick:a[0]||(a[0]=$=>g("UserView","rich-text"))},null,8,["themes","icon","label"]),e(o)==="dataV"?(d(),z(he,{key:0,themes:e(m),icon:e(Va),label:e(n)("visualization.scroll_text"),"drag-info":"ScrollText&ScrollText",onClick:a[1]||(a[1]=$=>g("ScrollText","ScrollText"))},null,8,["themes","icon","label"])):W("",!0)],32))}});const as=le(ka,[["__scopeId","data-v-a6f3daee"]]),Sa={width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function xa(s,n){return d(),y("svg",Sa,[...n[0]||(n[0]=[i("path",{d:"M26.6663 19.0504L35.8926 13.543C36.0582 13.4441 36.1997 13.3201 36.3149 13.1787C36.5276 13.0277 36.6663 12.7794 36.6663 12.4987V12.3374C36.679 12.2217 36.6792 12.1042 36.6663 11.9872V4.9987C36.6663 4.53846 36.4798 4.12179 36.1782 3.82019C35.8766 3.51858 35.4599 3.33203 34.9997 3.33203H4.99967C4.0792 3.33203 3.33301 4.07822 3.33301 4.9987V12.4987C3.33301 12.7498 3.44409 12.975 3.61981 13.1278C3.74703 13.3148 3.91598 13.4777 4.12271 13.6013L13.333 19.1073V31.1503C13.333 31.466 13.5113 31.7545 13.7937 31.8957L25.4603 37.729C26.0144 38.0061 26.6663 37.6032 26.6663 36.9837V19.0504Z",fill:"#3370FF"},null,-1)])])}const Ia={render:xa},Ea=J({__name:"QueryGroup",props:{propValue:{type:Array,default:()=>[]},dvModel:{type:String,default:"dv"},element:{type:Object,default(){return{propValue:null}}},themes:{type:String,default:"dark"}},setup(s){const{t:n}=fe(),C=s,{dvModel:o}=de(C),m=g=>{Te(g,o.value)},b=g=>{He(g,o.value)},r=g=>{Ce.emit("handleNew",{componentName:g,innerType:g})};return(g,V)=>(d(),y("div",{class:"group",onDragstart:m,onDragend:b,onClick:V[0]||(V[0]=a=>r("VQuery"))},[t(he,{themes:s.themes,icon:e(Ia),label:e(n)("visualization.query_component"),"drag-info":"VQuery&VQuery"},null,8,["themes","icon","label"])],32))}});const os=le(Ea,[["__scopeId","data-v-9f1529cd"]]),za={width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};function $a(s,n){return d(),y("svg",za,[...n[0]||(n[0]=[i("path",{d:"M10.6666 7.62068L14.3571 5.4177C14.4233 5.37816 14.4799 5.32854 14.526 5.27196C14.6111 5.21156 14.6666 5.11225 14.6666 4.99998V4.93547C14.6717 4.88918 14.6717 4.84219 14.6666 4.79537V1.99998C14.6666 1.81588 14.592 1.64922 14.4713 1.52858C14.3507 1.40793 14.184 1.33331 13.9999 1.33331H1.99992C1.63173 1.33331 1.33325 1.63179 1.33325 1.99998V4.99998C1.33325 5.10043 1.37769 5.19051 1.44797 5.25162C1.49886 5.32643 1.56644 5.3916 1.64913 5.44103L5.33325 7.64343V12.4606C5.33325 12.5869 5.40459 12.7023 5.51751 12.7588L10.1842 15.0921C10.4058 15.2029 10.6666 15.0418 10.6666 14.794V7.62068Z"},null,-1)])])}const La={render:$a},Ta={class:"head-text"},Ha={class:"head-filter"},Na={class:"custom-tree-node",style:{display:"flex"}},Ma={key:0},Aa={class:"auth-span"},Ua=["id"],Da={key:0,style:{width:"100%",padding:"0 15px"}},Fa={key:1,class:"tree-select-field"},Ba={key:2,class:"tree-select-field"},Pa={key:1,class:"icon-more"},Oa={style:{display:"flex"},class:"inner-content"},Ra={style:{width:"16px","margin-top":"2px"},class:"expand-custom-outer"},Ga={class:"expand-custom"},Za={style:{flex:"1"}},Wa={style:{flex:"1"}},qa={class:"outer-filter-content"},ja={style:{flex:"1","line-height":"32px"}},Ka={style:{flex:"1"}},Qa={style:{"font-size":"12px"}},Ya={style:{display:"flex"},class:"inner-content"},Ja={style:{width:"16px","margin-top":"2px"},class:"expand-custom-outer"},Xa={class:"expand-custom"},eo={style:{flex:"1"}},to={style:{flex:"1"}},lo={class:"outer-dataset-content"},ao={style:{display:"flex",width:"100%"}},oo={style:{width:"16px","margin-top":"7px"},class:"expand-custom-outer"},no={class:"expand-custom"},so={style:{flex:"1",display:"flex","line-height":"32px"}},io={style:{width:"16px","margin-top":"2px","margin-right":"4px"}},ro=["title"],uo={style:{flex:"1","margin-left":"-16px"}},co={style:{"font-size":"12px"}},mo={class:"ds-view-content"},po={style:{display:"flex",width:"100%",height:"22px"}},fo={class:"ds-content-title"},_o={style:{display:"flex","flex-wrap":"wrap",width:"100%"}},ho=["title"],vo={key:1,class:"empty"},go=J({__name:"OuterParamsSet",setup(s,{expose:n}){const C=we(),{dvInfo:o,componentData:m}=Le(C),b=se(null),{t:r}=fe(),g=se(null),V=Ve(),a=$e({filterExpand:!0,datasetExpand:!0,loading:!1,outerParamsSetVisible:!1,optMenu:[{label:r("visualization.rename"),svgName:tl,command:"rename"},{label:r("visualization.delete"),svgName:el,command:"delete"}],treeProp:{id:"paramsInfoId",label:"paramName",children:"children"},outerParams:{checked:!1,outerParamsInfoArray:[]},baseDatasetInfo:[],baseFilterInfo:[],outerParamsInfoArray:[],mapOuterParamsInfoArray:{},panelList:[],curNodeId:null,outerParamsInfo:{content:"",linkType:"",required:!1,enabledDefault:!1,defaultValue:null,targetViewInfoList:[],paramsInfoId:null},currentFiledTreeNode:null,defaultOuterParamsInfo:{paramName:"",checked:!0,required:!1,enabledDefault:!1,defaultValue:null,targetViewInfoList:[]},defaultTargetViewInfo:{targetViewId:null,targetFieldId:null},currentLinkPanelViewArray:[],viewIdFieldArrayMap:{},widgetSubjectsTrans:{timeYearWidget:r("visualization.time_year_widget"),timeMonthWidget:r("visualization.time_month_widget"),timeDateWidget:r("visualization.time_date_widget"),timeDateRangeWidget:r("visualization.time_date_range_widget"),textSelectWidget:r("visualization.text_select_widget"),textSelectGridWidget:r("visualization.time_year_widget"),textInputWidget:r("visualization.text_input_widget"),textSelectTreeWidget:r("visualization.text_select_tree_widget"),numberSelectWidget:r("visualization.number_select_widget"),numberSelectGridWidget:r("visualization.number_select_grid_widget"),numberRangeWidget:r("visualization.number_range_widget")}}),$=se({}),L=(c,_)=>{c&&($.value[_]=c)},N=(c,_)=>{const u=$.value[_].input;if(c===null||c===""||typeof c>"u"){u.style.color=null,u.parentNode.removeAttribute("style");const Z=u.parentNode.querySelector(".error-msg");return Z&&u.parentNode.removeChild(Z),!0}try{JSON.parse(c),u.style.color=null,u.parentNode.removeAttribute("style");const Z=u.parentNode.querySelector(".error-msg");return Z&&u.parentNode.removeChild(Z),!0}catch{if(u.style.color="red",u.parentNode.setAttribute("style","box-shadow: 0 0 0 1px red inset;"),!u.parentNode.querySelector(".error-msg")){const O=document.createElement("div");O.className="error-msg",O.innerText=r("visualization.format_error"),u.parentNode.appendChild(O)}return!1}},R=c=>{if(!c.paramName||c.paramName.length<2||c.paramName.length>25){ye({message:r("commons.params_value")+r("common.input_limit",[2,25]),type:"warning",showClose:!0}),c.paramName.length>25&&(c.paramName=c.paramName.splice(.25));return}g.value=null},k=(c,_,I)=>{c==="rename"?g.value=I.paramsInfoId:c==="delete"&&G(_,I)},E=async()=>{a.baseFilterInfo=[],a.baseDatasetInfo=[],m.value.forEach(c=>{c.component==="VQuery"?a.baseFilterInfo.push(c):c.component==="Group"?c.propValue.forEach(_=>{_.component==="VQuery"&&a.baseFilterInfo.push(_)}):c.component==="DeTabs"&&c.propValue.forEach(_=>{var I;(I=_.componentData)==null||I.forEach(u=>{u.component==="VQuery"&&a.baseFilterInfo.push(u)})})}),await il(o.value.id).then(c=>{a.baseDatasetInfo=c.data}),sl(o.value.id).then(c=>{var _;if(a.outerParams=c.data,a.outerParamsInfoArray=(_=a.outerParams)==null?void 0:_.outerParamsInfoArray,a.outerParamsInfoArray.length>=1){a.outerParamsInfoArray.forEach(u=>{const Z=K(a.baseFilterInfo),M=K(a.baseDatasetInfo);h(u,Z,M),a.mapOuterParamsInfoArray[u.paramsInfoId]=u}),a.curNodeId=null;const I=a.outerParamsInfoArray[0];Ee(()=>{b.value.setCurrentKey(I.paramsInfoId),T(I)})}}),f(o.value.id)},x=(c,_)=>c==="parameterList"?_.filter(I=>I.attachId.indexOf("DE")>-1):_.filter(I=>I.attachId.indexOf("DE")===-1),ae=c=>{let _=0;c.datasetViews.forEach(I=>{I.checked&&_++}),c.checkAll=_===c.datasetViews.length,c.checkAllIsIndeterminate=_>0&&_<c.datasetViews.length},h=(c,_,I)=>{const u={},Z=[];c.targetViewInfoList.forEach(M=>{Z.push(M.targetViewId),u[M.targetDsId]=M.targetFieldId==="empty"?M.targetViewId:M.targetFieldId}),I&&I.forEach(M=>{M.fieldIdSelected=u[M.id],M.viewExpand=!0;let O=0;M.datasetViews.forEach(me=>{Z.includes(me.chartId)?(me.checked=!0,O++):me.checked=!1}),M.checkAll=O===M.datasetViews.length,M.checkAllIsIndeterminate=O>0&&O<M.datasetViews.length,M.fieldIdSelected&&M.fieldIdSelected.indexOf("DE")>-1?M.activelist="parameterList":M.activelist="dimensionList"}),_&&_.forEach(M=>{M.filterSelected=u[M.id]}),c.filterInfo=_,c.datasetInfo=I},p=()=>{a.outerParamsSetVisible=!1},P=c=>{try{return JSON.parse(c)instanceof Array}catch{return!1}},A=()=>{var M;const c=K(a.outerParams);let _=0,I=0,u="";const Z=[];if((M=c.outerParamsInfoArray)==null||M.forEach(O=>{var me,Se;(!O.paramName||Z.includes(O.paramName))&&I++,Z.push(O.paramName),O.defaultValue&&!P(O.defaultValue)&&(_++,u=u+`${O.paramName}`),O.targetViewInfoList=[],(me=O.filterInfo)==null||me.forEach(ue=>{ue.filterSelected&&O.targetViewInfoList.push({targetViewId:ue.filterSelected,targetDsId:ue.id,targetFieldId:"empty"})}),(Se=O.datasetInfo)==null||Se.forEach(ue=>{var xe;ue.fieldIdSelected&&((xe=ue.datasetViews)==null||xe.forEach(Ne=>{Ne.checked&&O.targetViewInfoList.push({targetViewId:Ne.chartId,targetDsId:ue.id,targetFieldId:ue.fieldIdSelected})}))})}),_>0){ye({message:r("visualization.params_setting_check_message"),type:"warning",showClose:!0});return}if(I>0){ye({message:r("visualization.params_setting_check_message_tips"),type:"warning",showClose:!0});return}nl(c).then(()=>{ye({message:r("commons.save_success"),type:"success",showClose:!0}),V.recordSnapshotCache("renderChart"),p()})},T=c=>{a.outerParamsInfo=a.mapOuterParamsInfoArray[c.paramsInfoId],a.curNodeId=c.paramsInfoId},f=c=>{rl(c).then(_=>{a.viewIdFieldArrayMap={},a.currentLinkPanelViewArray=_.data,a.currentLinkPanelViewArray&&a.currentLinkPanelViewArray.forEach(I=>{a.viewIdFieldArrayMap[I.id]=I.tableFields}),m.value.forEach(I=>{I.component==="VQuery"&&I.propValue.forEach(u=>{a.currentLinkPanelViewArray.push({id:u.id,type:"filter",name:u.name,title:u.name}),a.viewIdFieldArrayMap[u.id]=[{id:"empty",name:r("visualization.filter_no_select")}]})})})},F=c=>{Ee(()=>{b.value.setCurrentKey(c.paramsInfoId),T(c)})},D=c=>{c.checked&&(a.outerParams.checked=!0),Ee(()=>{b.value.setCurrentKey(c.paramsInfoId),T(c)})},oe=()=>{a.outerParams.checked=!0;const c=K(a.defaultOuterParamsInfo);c.paramsInfoId=ol();const _=K(a.baseFilterInfo),I=K(a.baseDatasetInfo);h(c,_,I),a.outerParamsInfoArray.push(c),a.mapOuterParamsInfoArray[c.paramsInfoId]=c,g.value=c.paramsInfoId,F(c)},G=(c,_)=>{const I=c.parent,u=I.data.children||I.data,Z=u.findIndex(M=>M.paramsInfoId===_.paramsInfoId);u.splice(Z,1),_.paramsInfoId===a.outerParamsInfo.paramsInfoId&&(delete a.mapOuterParamsInfoArray[_.paramsInfoId],a.curNodeId=null)},q=(c,_)=>{_.datasetViews.forEach(I=>{I.checked=c}),_.checkAll=c,_.checkAllIsIndeterminate=!1},S=()=>{E(),a.outerParamsSetVisible=!0},ke=c=>{var _;return(_=C.canvasViewInfo[c])==null?void 0:_.title};return n({optInit:S}),(c,_)=>{const I=Oe,u=ge,Z=Fe,M=Xt,O=ze("CaretBottom"),me=ze("CaretRight"),Se=tt,ue=lt,xe=Yt,Ne=Jt,it=at,rt=st,dt=ut;return d(),z(rt,{class:"params-class","append-to-body":!0,title:e(r)("visualization.outer_param_set"),modelValue:a.outerParamsSetVisible,"onUpdate:modelValue":_[9]||(_[9]=Y=>a.outerParamsSetVisible=Y),width:"80vw",top:"10vh",trigger:"click"},{default:l(()=>[t(u,{style:{height:"550px"}},{default:l(()=>[Q((d(),z(u,null,{default:l(()=>[t(u,{class:"preview"},{default:l(()=>[t(e(ve),{span:6,class:"preview-left"},{default:l(()=>[t(u,{class:"tree-head"},{default:l(()=>[i("span",Ta,v(e(r)("visualization.params_list")),1),i("span",Ha,[t(I,{type:"primary",icon:"Plus",text:"",onClick:oe})])]),_:1}),t(u,{class:"tree-content"},{default:l(()=>[t(M,{class:"custom-tree",menu:"",ref_key:"outerParamsInfoTree",ref:b,data:a.outerParamsInfoArray,"node-key":"paramsInfoId","highlight-current":"",props:a.treeProp,onNodeClick:T},{default:l(({node:Y,data:X})=>[i("span",Na,[g.value!==X.paramsInfoId?(d(),y("span",Ma,[i("div",{onClick:_[0]||(_[0]=Ue(()=>{},["stop"]))},[i("span",Aa,[t(Z,{modelValue:X.checked,"onUpdate:modelValue":pe=>X.checked=pe,onChange:pe=>D(X)},null,8,["modelValue","onUpdate:modelValue","onChange"])])])])):W("",!0),i("span",{id:"paramName-"+X.paramsInfoId,style:{flex:"1"}},[g.value===X.paramsInfoId?(d(),y("div",Da,[t(e(Ae),{style:{width:"100%"},modelValue:X.paramName,"onUpdate:modelValue":pe=>X.paramName=pe,placeholder:c.$t("visualization.input_param_name"),onBlur:pe=>R(X)},null,8,["modelValue","onUpdate:modelValue","placeholder","onBlur"])])):X.paramName?(d(),y("span",Fa,v(X.paramName),1)):(d(),y("span",Ba,v(e(r)("visualization.no_setting_params_name_tip")),1))],8,Ua),g.value!==X.paramsInfoId?(d(),y("span",Pa,[t(dl,{style:{"margin-right":"15px"},onHandleCommand:pe=>k(pe,Y,X),"menu-list":a.optMenu,"icon-name":e(ll),placement:"bottom-start"},null,8,["onHandleCommand","menu-list","icon-name"])])):W("",!0)])]),_:1},8,["data","props"])]),_:1})]),_:1}),t(e(ve),{span:13,class:"preview-show"},{default:l(()=>[a.curNodeId?(d(),z(u,{key:0},{default:l(()=>{var Y,X,pe,We;return[t(u,{class:"new-params-title"},{default:l(()=>[H(v(e(r)("visualization.select_params_connect_component")),1)]),_:1}),(X=(Y=a.outerParamsInfo)==null?void 0:Y.filterInfo)!=null&&X.length?(d(),z(u,{key:0,class:"new-params-filter"},{default:l(()=>{var Ie;return[i("div",Oa,[i("div",Ra,[i("div",Ga,[t(e(ie),{onClick:_[1]||(_[1]=()=>a.filterExpand=!a.filterExpand)},{default:l(()=>[Q(t(O,null,null,512),[[ee,a.filterExpand]]),Q(t(me,null,null,512),[[ee,!a.filterExpand]])]),_:1})])]),i("div",Za,v(e(r)("visualization.filter_component")),1),i("div",Wa,v(e(r)("visualization.connection_condition")),1)]),i("div",qa,[(d(!0),y(ce,null,_e((Ie=a.outerParamsInfo)==null?void 0:Ie.filterInfo,(B,Be)=>Q((d(),y("div",{style:{display:"flex"},class:"inner-filter-content",key:Be},[_[10]||(_[10]=i("div",{style:{width:"16px"}},null,-1)),i("div",ja,[t(te,{name:"filter-params"},{default:l(()=>[t(e(La),{style:{"margin-top":"4px"},class:"svg-icon view-type-icon"})]),_:1}),i("span",null,v(ke(B.id)),1)]),i("div",Ka,[t(ue,{modelValue:B.filterSelected,"onUpdate:modelValue":U=>B.filterSelected=U,filterable:"",style:{width:"100%"},placeholder:e(r)("v_query.select_query_condition"),clearable:""},{default:l(()=>[(d(!0),y(ce,null,_e(B.propValue,U=>(d(),z(Se,{key:U.id,label:U.name,value:U.id},{default:l(()=>[i("span",Qa,v(U.name),1)]),_:2},1032,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])])])),[[ee,a.filterExpand]])),128))])]}),_:1})):W("",!0),(We=(pe=a.outerParamsInfo)==null?void 0:pe.datasetInfo)!=null&&We.length?(d(),z(u,{key:1,class:"new-params-ds"},{default:l(()=>{var Ie;return[i("div",Ya,[i("div",Ja,[i("div",Xa,[t(e(ie),{onClick:_[2]||(_[2]=()=>a.datasetExpand=!a.datasetExpand)},{default:l(()=>[Q(t(O,null,null,512),[[ee,a.datasetExpand]]),Q(t(me,null,null,512),[[ee,!a.datasetExpand]])]),_:1})])]),i("div",eo,v(e(r)("visualization.view")),1),i("div",to,v(e(r)("visualization.connection_params_fields")),1)]),i("div",lo,[(d(!0),y(ce,null,_e((Ie=a.outerParamsInfo)==null?void 0:Ie.datasetInfo,(B,Be)=>Q((d(),y("div",{class:"inner-dataset-content",key:Be},[i("div",ao,[i("div",oo,[i("div",no,[t(e(ie),{onClick:()=>B.viewExpand=!B.viewExpand},{default:l(()=>[Q(t(O,null,null,512),[[ee,B.viewExpand]]),Q(t(me,null,null,512),[[ee,!B.viewExpand]])]),_:2},1032,["onClick"])])]),i("div",so,[i("div",io,[t(e(ie),null,{default:l(()=>[t(te,{name:"icon_dataset"},{default:l(()=>[t(e(al),{class:"svg-icon"})]),_:1})]),_:1})]),i("span",{title:B.name,class:"ellipsis"},v(B.name),9,ro)]),i("div",uo,[t(ue,{modelValue:B.fieldIdSelected,"onUpdate:modelValue":U=>B.fieldIdSelected=U,filterable:"",clearable:"",style:{width:"100%"},placeholder:e(r)("common.selectText")},{header:l(()=>[t(Ne,{class:"params-select--header",modelValue:B.activelist,"onUpdate:modelValue":U=>B.activelist=U},{default:l(()=>[t(xe,{label:e(r)("visualization.fields"),name:"dimensionList"},null,8,["label"]),t(xe,{label:e(r)("visualization.params"),name:"parameterList"},null,8,["label"])]),_:1},8,["modelValue","onUpdate:modelValue"])]),default:l(()=>[(d(!0),y(ce,null,_e(x(B.activelist,B.datasetFields),U=>(d(),z(Se,{key:U.attachId,label:U.name,value:U.attachId},{default:l(()=>[t(te,null,{default:l(()=>[(d(),z(be(e(cl)[e(Ye)[U.deType]]),{class:w(["svg-icon",`field-icon-${e(Ye)[U.deType]}`]),style:{width:"14px",height:"14px"}},null,8,["class"]))]),_:2},1024),i("span",co,v(U.name),1)]),_:2},1032,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])])]),Q(i("div",mo,[i("div",po,[i("div",fo,v(e(r)("visualization.select_params_connect_view")),1),_[11]||(_[11]=i("div",{class:"custom-view-diver"},null,-1)),i("div",null,[t(Z,{style:{"margin-top":"-4px"},modelValue:B.checkAll,"onUpdate:modelValue":U=>B.checkAll=U,indeterminate:B.checkAllIsIndeterminate,disabled:!B.fieldIdSelected,onChange:U=>q(U,B)},{default:l(()=>[H(v(e(r)("visualization.select_all")),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","disabled","onChange"])])]),i("div",_o,[(d(!0),y(ce,null,_e(B.datasetViews,U=>(d(),y("div",{class:"view-item",key:U},[i("div",null,[t(Z,{modelValue:U.checked,"onUpdate:modelValue":qe=>U.checked=qe,disabled:!B.fieldIdSelected,onChange:qe=>ae(B)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"])]),i("div",null,[t(te,null,{default:l(()=>[(d(),z(be(e(nt)[U.chartType]),{class:"svg-icon view-type-icon",style:{margin:"0 4px"}}))]),_:2},1024)]),i("span",{class:"ellipsis",title:U.chartName,style:{"font-size":"12px"}},v(U.chartName),9,ho)]))),128))])],512),[[ee,B.viewExpand]])])),[[ee,a.datasetExpand]])),128))])]}),_:1})):W("",!0)]}),_:1})):(d(),y("div",vo,[t(ul,{description:e(r)("visualization.setting_params_tips"),"img-type":"noneWhite"},null,8,["description"])]))]),_:1}),t(e(ve),{span:5,class:"params-attach-setting"},{default:l(()=>[a.curNodeId?(d(),z(u,{key:0},{default:l(()=>[t(u,{class:"new-params-title"},{default:l(()=>[H(v(e(r)("visualization.setting_params")),1)]),_:1}),t(u,{class:"params-attach-content"},{default:l(()=>[t(u,null,{default:l(()=>[t(Z,{modelValue:a.outerParamsInfo.required,"onUpdate:modelValue":_[3]||(_[3]=Y=>a.outerParamsInfo.required=Y)},{default:l(()=>[H(v(e(r)("visualization.required")),1)]),_:1},8,["modelValue"])]),_:1}),t(u,null,{default:l(()=>[t(Z,{modelValue:a.outerParamsInfo.enabledDefault,"onUpdate:modelValue":_[4]||(_[4]=Y=>a.outerParamsInfo.enabledDefault=Y)},{default:l(()=>[H(v(e(r)("visualization.default_value")),1)]),_:1},8,["modelValue"]),t(it,{class:"item",placement:"bottom"},{content:l(()=>[i("div",null,[H(v(e(r)("visualization.default_value_tips1"))+" ",1),_[12]||(_[12]=i("br",null,null,-1)),H(" "+v(e(r)("visualization.default_value_tips2")),1)])]),default:l(()=>[t(e(ie),{class:"hint-icon"},{default:l(()=>[t(te,{name:"icon_info_outlined"},{default:l(()=>[t(e(Me),{class:"svg-icon"})]),_:1})]),_:1})]),_:1})]),_:1}),t(e(Ae),{ref:Y=>L(Y,a.outerParamsInfo.paramsInfoId),placeholder:e(r)("visualization.default_value_tips3"),modelValue:a.outerParamsInfo.defaultValue,"onUpdate:modelValue":_[5]||(_[5]=Y=>a.outerParamsInfo.defaultValue=Y),type:"textarea",autosize:{minRows:4,maxRows:8},onChange:_[6]||(_[6]=Y=>N(a.outerParamsInfo.defaultValue,a.outerParamsInfo.paramsInfoId))},null,8,["placeholder","modelValue"])]),_:1})]),_:1})):W("",!0)]),_:1})]),_:1})]),_:1})),[[dt,a.loading]]),t(u,{class:"root-class"},{default:l(()=>[t(I,{onClick:_[7]||(_[7]=Y=>p())},{default:l(()=>[H(v(e(r)("commons.cancel")),1)]),_:1}),t(I,{type:"primary",onClick:_[8]||(_[8]=Y=>A())},{default:l(()=>[H(v(e(r)("commons.confirm")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["title","modelValue"])}}});const ns=le(go,[["__scopeId","data-v-a09762cc"]]),Co={width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function bo(s,n){return d(),y("svg",Co,[...n[0]||(n[0]=[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.66699 4.9987C1.66699 4.07822 2.41318 3.33203 3.33366 3.33203H8.33366V13.332H38.3337L38.3337 34.9987C38.3337 35.9192 37.5875 36.6654 36.667 36.6654H3.33366C2.41318 36.6654 1.66699 35.9192 1.66699 34.9987V4.9987ZM38.3337 9.9987L38.3337 4.9987C38.3337 4.07822 37.5875 3.33203 36.667 3.33203H26.667V9.9987H38.3337ZM23.3337 3.33203H11.667V9.9987H23.3337V3.33203Z",fill:"#3370FF"},null,-1)])])}const yo={render:bo},wo=J({__name:"TabsGroup",props:{propValue:{type:Array,default:()=>[]},dvModel:{type:String,default:"dv"},element:{type:Object,default(){return{propValue:null}}},themes:{type:String,default:"dark"}},setup(s){const n=s,{dvModel:C}=de(n),o=()=>{Ce.emit("handleNew",{componentName:"DeTabs",innerType:"DeTabs"})},m=r=>{Te(r,C.value)},b=r=>{He(r,C.value)};return(r,g)=>(d(),y("div",{class:"group",onDragstart:m,onDragend:b,onClick:o},[t(he,{themes:s.themes,icon:e(yo),label:"Tab","drag-info":"DeTabs&DeTabs"},null,8,["themes","icon"])],32))}});const ss=le(wo,[["__scopeId","data-v-23f39738"]]),Vo=["id"],ko={style:{"margin-bottom":"4px","font-size":"14px"}},So={style:{"font-size":"14px"}},xo={key:0,class:"main-content"},Io={key:1,class:"collapse-title"},Eo=["effect"],zo=J({__name:"DvSidebar",props:{element:{required:!1,default:{}},scrollWidth:{required:!1,type:Number,default:6},width:{required:!1,type:Number,default:200},themeInfo:{required:!1,type:String,default:"dark"},asidePosition:{required:!1,type:String,default:"left"},sideName:{required:!1,type:String,default:"defaultSide"},view:{type:Object,required:!1},slideIndex:{type:Number,required:!1,default:0},themes:{type:String,default:"light"},title:String},setup(s){const n=we(),{canvasCollapse:C}=Le(n);let o=se(!1),m=se({id:null,name:null}),b=se(null);const r=Ve(),{t:g}=fe(),V=s,{width:a,asidePosition:$,sideName:L,themeInfo:N,view:R,themes:k,element:E}=de(V),x=()=>{C.value[L.value]=!C.value[L.value]},ae=re(()=>`${C.value[L.value]?36:a.value}px`),h=re(()=>R.value&&["picture-group"].includes(R.value.type)),p=re(()=>({"--de-scroll-width":V.scrollWidth+"px",width:ae.value})),P=()=>{var f;if(o.value=!1,V.element.id===m.value.id&&!(!m.value.name||!m.value.name.trim())&&!(m.value.name.trim()===((f=R.value)==null?void 0:f.title)||m.value.name.trim()===E.value.name)){if(m.value.name.trim().length>64||m.value.name.trim().length<2){ye.warning("2-64"),A();return}E.value.label=m.value.name,E.value.name=m.value.name,h.value&&(R.value.title=m.value.name),m.value.name=""}},A=()=>{var f,F;((f=E.value)!=null&&f.id||(F=R.value)!=null&&F.id)&&(o.value=!0,h.value?(m.value.name=R.value.title,m.value.id=R.value.id):(m.value.name=E.value.name,m.value.id=E.value.id),Ee(()=>{b.value.focus()}))},T=()=>{r.recordSnapshotCache("onComponentNameChange")};return(f,F)=>{const D=ot,oe=ze("Expand"),G=ze("Fold"),q=ge,S=Xe;return d(),y("div",{onKeyup:F[1]||(F[1]=Ue(()=>{},["stop"])),onKeydown:F[2]||(F[2]=Ue(()=>{},["stop"])),class:w(["dv-aside",["aside-"+e($)+"-"+e(N),"aside-area-"+e(N)]]),style:je(p.value)},[t(q,{align:"middle",class:w("title-"+e(N)),justify:"space-between"},{default:l(()=>[e(C)[e(L)]?W("",!0):(d(),y("div",{key:0,id:"attr-slide-component-name"+s.slideIndex,class:w(["name-area-attr",{"component-name-dark":e(N)==="dark"}]),style:je([{"max-width":"180px","text-overflow":"ellipsis","white-space":"nowrap"},{width:e(o)?"300px":"auto"}]),onDblclick:A},[H(v(h.value?e(R).title:s.title)+" ",1),t(D,{"show-arrow":"",offset:8,effect:e(k),placement:"bottom",width:"200",trigger:"click"},{reference:l(()=>[i("span",null,[Q(t(e(ie),{style:{margin:"2px 0 0 4px",cursor:"pointer"}},{default:l(()=>[t(te,null,{default:l(()=>[t(e(ml),{class:"svg-icon"})]),_:1})]),_:1},512),[[ee,e(E)&&e(E).id]])])]),default:l(()=>[i("div",ko,v(e(g)("visualization.component_id")),1),i("div",So,v(e(E).id),1)]),_:1},8,["effect"])],46,Vo)),t(e(ie),{title:s.title,class:w(["custom-icon-"+e(N),"collapse-icon-"+e(N)]),size:"20px",onClick:x},{default:l(()=>[e(C)[e(L)]&&e($)==="left"||!e(C)[e(L)]&&e($)==="right"?(d(),z(oe,{key:0})):(d(),z(G,{key:1}))]),_:1},8,["title","class"])]),_:1},8,["class"]),e(C)[e(L)]?W("",!0):(d(),y("div",xo,[t(S,null,{default:l(()=>[Ze(f.$slots,"default",{},void 0,!0)]),_:3})])),e(C)[e(L)]?(d(),y("div",Io,[i("span",null,v(s.title),1)])):W("",!0),e(o)?(d(),z(zt,{key:2,to:"#attr-slide-component-name"+s.slideIndex},[Q(i("input",{ref_key:"componentNameInputAttr",ref:b,"onUpdate:modelValue":F[0]||(F[0]=ke=>e(m).name=ke),width:"100%",effect:e(N),onChange:T,onBlur:P},null,40,Eo),[[Et,e(m).name]])],8,["to"])):W("",!0)],38)}}});const is=le(zo,[["__scopeId","data-v-94eac5f7"]]),$o={t:"1715734866524",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4224","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"};function Lo(s,n){return d(),y("svg",$o,[...n[0]||(n[0]=[i("path",{d:"M512 64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512 264.576 64 512 64z m64 608H448v128h128V672z m32-448H416l64 400h64l64-400z",fill:"#E6960C","p-id":"4225"},null,-1)])])}const To={render:Lo},Ho={style:{display:"flex","flex-direction":"row","align-items":"flex-start"}},No={class:"tips"},Mo={class:"dialog-footer"},rs=J({__name:"CanvasCacheDialog",emits:["doUseCache"],setup(s,{expose:n,emit:C}){const o=se(!1),{t:m}=fe(),b=C,r={resourceId:null,title:"",tips:""},g=a=>{const $=a.canvasType==="dataV"?m("work_branch.big_data_screen"):m("work_branch.dashboard");r.resourceId=a.resourceId,r.title=m("visualization.no_save_tips",[$]),r.tips=m("visualization.no_save_tips2"),o.value=!0},V=a=>{b("doUseCache",a),o.value=!1};return n({dialogInit:g}),(a,$)=>{const L=te,N=Oe,R=st;return d(),z(R,{ref:"canvasCacheDialogRef","append-to-body":!0,modelValue:o.value,"onUpdate:modelValue":$[2]||($[2]=k=>o.value=k),width:"420px","show-close":!1,trigger:"click","modal-class":"canvasCacheDialog-modal",class:"canvasCacheDialog"},{footer:l(()=>[i("div",Mo,[t(N,{size:"mini",onClick:$[0]||($[0]=k=>V(!1))},{default:l(()=>[H(v(e(m)("visualization.no")),1)]),_:1}),t(N,{type:"primary",size:"mini",onClick:$[1]||($[1]=k=>V(!0))},{default:l(()=>[H(v(e(m)("visualization.yes")),1)]),_:1})])]),default:l(()=>[i("div",Ho,[t(L,{name:"warn-tree"},{default:l(()=>[t(e(To),{class:"svg-icon warn-tree"})]),_:1}),i("span",No,v(r.tips),1)])]),_:1},8,["modelValue"])}}});export{Zn as C,he as D,ls as M,Gn as O,os as Q,Wn as S,as as T,ts as U,es as _,Rn as a,qn as b,Qn as c,Yn as d,jn as e,ss as f,Kn as g,ea as h,Jn as i,Yl as j,Xn as k,ns as l,is as m,rs as n,ma as p};
