import{y as E,u as n,B as rt,r as $,w as Ke,s as Ie,q as st,A as Ae,K as ct,ak as He,h as be,Q as St,d as Ce,x as it,Y as so,j as H,n as $e,o as dt,l as Rt,C as xt,W as co,I as io,L as Pt,a2 as Y,Z as je,a as uo}from"./vue-0.0.0-dataease.js";import{B as Q,V as Ye,i as ke,q as W,l as pe,G as ho,O as fo,U as mo,m as wo,aI as go,aJ as vo,o as yo,w as Ft}from"./index-0.0.0-dataease.js";import{h as bo,q as So,a as Ro}from"./lodash-0.0.0-dataease.js";import{m as xo,aq as To,j as $t}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{v as Te,a as Eo,b as Ho,I as Tt,S as Et,F as qe,u as Co,B as Ht,g as Ue,A as Re,R as _o,c as Ct,d as Mo,e as _t,i as Mt,f as It,h as Io,D as Ot,C as Oe,E as ot,j as lt,k as Dt}from"./el-virtual-list-0.0.0-dataease.js";import{c as Oo,r as Ao}from"./raf-0.0.0-dataease.js";import{E as po}from"./el-empty-0.0.0-dataease.js";var De=(e=>(e.ASC="asc",e.DESC="desc",e))(De||{}),Ge=(e=>(e.CENTER="center",e.RIGHT="right",e))(Ge||{}),Gt=(e=>(e.LEFT="left",e.RIGHT="right",e))(Gt||{});const nt={asc:"desc",desc:"asc"},Ve=Symbol("placeholder"),Wo=(e,t,o)=>{var l;const r={flexGrow:0,flexShrink:0,...o?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};o||(r.flexShrink=1);const a={...(l=e.style)!=null?l:{},...r,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(a.maxWidth=e.maxWidth),e.minWidth&&(a.minWidth=e.minWidth)),a};function No(e,t,o){const l=E(()=>n(t).map((c,f)=>{var b,T;return{...c,key:(T=(b=c.key)!=null?b:c.dataKey)!=null?T:f}})),r=E(()=>n(l).filter(c=>!c.hidden)),a=E(()=>n(r).filter(c=>c.fixed==="left"||c.fixed===!0)),i=E(()=>n(r).filter(c=>c.fixed==="right")),s=E(()=>n(r).filter(c=>!c.fixed)),m=E(()=>{const c=[];return n(a).forEach(f=>{c.push({...f,placeholderSign:Ve})}),n(s).forEach(f=>{c.push(f)}),n(i).forEach(f=>{c.push({...f,placeholderSign:Ve})}),c}),h=E(()=>n(a).length||n(i).length),u=E(()=>n(l).reduce((c,f)=>(c[f.key]=Wo(f,n(o),e.fixed),c),{})),y=E(()=>n(r).reduce((c,f)=>c+f.width,0)),v=c=>n(l).find(f=>f.key===c),w=c=>n(u)[c],g=(c,f)=>{c.width=f};function d(c){var f;const{key:b}=c.currentTarget.dataset;if(!b)return;const{sortState:T,sortBy:_}=e;let A=De.ASC;rt(T)?A=nt[T[b]]:A=nt[_.order],(f=e.onColumnSort)==null||f.call(e,{column:v(b),key:b,order:A})}return{columns:l,columnsStyles:u,columnsTotalWidth:y,fixedColumnsOnLeft:a,fixedColumnsOnRight:i,hasFixedColumns:h,mainColumns:m,normalColumns:s,visibleColumns:r,getColumn:v,getColumnStyle:w,updateColumnWidth:g,onColumnSorted:d}}const zo=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,onMaybeEndReached:r})=>{const a=$({scrollLeft:0,scrollTop:0});function i(w){var g,d,c;const{scrollTop:f}=w;(g=t.value)==null||g.scrollTo(w),(d=o.value)==null||d.scrollToTop(f),(c=l.value)==null||c.scrollToTop(f)}function s(w){a.value=w,i(w)}function m(w){a.value.scrollTop=w,i(n(a))}function h(w){var g,d;a.value.scrollLeft=w,(d=(g=t.value)==null?void 0:g.scrollTo)==null||d.call(g,n(a))}function u(w){var g;s(w),(g=e.onScroll)==null||g.call(e,w)}function y({scrollTop:w}){const{scrollTop:g}=n(a);w!==g&&m(w)}function v(w,g="auto"){var d;(d=t.value)==null||d.scrollToRow(w,g)}return Ke(()=>n(a).scrollTop,(w,g)=>{w>g&&r()}),{scrollPos:a,scrollTo:s,scrollToLeft:h,scrollToTop:m,scrollToRow:v,onScroll:u,onVerticalScroll:y}},Lo=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,tableInstance:r,ns:a,isScrolling:i})=>{const s=st(),{emit:m}=s,h=Ie(!1),u=$(e.defaultExpandedRowKeys||[]),y=$(-1),v=Ie(null),w=$({}),g=$({}),d=Ie({}),c=Ie({}),f=Ie({}),b=E(()=>Q(e.estimatedRowHeight));function T(x){var p;(p=e.onRowsRendered)==null||p.call(e,x),x.rowCacheEnd>n(y)&&(y.value=x.rowCacheEnd)}function _({hovered:x,rowKey:p}){if(i.value)return;r.vnode.el.querySelectorAll(`[rowkey="${String(p)}"]`).forEach(V=>{x?V.classList.add(a.is("hovered")):V.classList.remove(a.is("hovered"))})}function A({expanded:x,rowData:p,rowIndex:F,rowKey:N}){var V,B;const D=[...n(u)],q=D.indexOf(N);x?q===-1&&D.push(N):q>-1&&D.splice(q,1),u.value=D,m("update:expandedRowKeys",D),(V=e.onRowExpand)==null||V.call(e,{expanded:x,rowData:p,rowIndex:F,rowKey:N}),(B=e.onExpandedRowsChange)==null||B.call(e,D)}const P=bo(()=>{var x,p,F,N;h.value=!0,w.value={...n(w),...n(g)},G(n(v),!1),g.value={},v.value=null,(x=t.value)==null||x.forceUpdate(),(p=o.value)==null||p.forceUpdate(),(F=l.value)==null||F.forceUpdate(),(N=s.proxy)==null||N.$forceUpdate(),h.value=!1},0);function G(x,p=!1){n(b)&&[t,o,l].forEach(F=>{const N=n(F);N&&N.resetAfterRowIndex(x,p)})}function j(x,p,F){const N=n(v);(N===null||N>F)&&(v.value=F),g.value[x]=p}function k({rowKey:x,height:p,rowIndex:F},N){N?N===Gt.RIGHT?f.value[x]=p:d.value[x]=p:c.value[x]=p;const V=Math.max(...[d,f,c].map(B=>B.value[x]||0));n(w)[x]!==V&&(j(x,V,F),P())}return{expandedRowKeys:u,lastRenderedRowIndex:y,isDynamic:b,isResetting:h,rowHeights:w,resetAfterIndex:G,onRowExpanded:A,onRowHovered:_,onRowsRendered:T,onRowHeightChange:k}},Po=(e,{expandedRowKeys:t,lastRenderedRowIndex:o,resetAfterIndex:l})=>{const r=$({}),a=E(()=>{const s={},{data:m,rowKey:h}=e,u=n(t);if(!u||!u.length)return m;const y=[],v=new Set;u.forEach(g=>v.add(g));let w=m.slice();for(w.forEach(g=>s[g[h]]=0);w.length>0;){const g=w.shift();y.push(g),v.has(g[h])&&Ae(g.children)&&g.children.length>0&&(w=[...g.children,...w],g.children.forEach(d=>s[d[h]]=s[g[h]]+1))}return r.value=s,y}),i=E(()=>{const{data:s,expandColumnKey:m}=e;return m?n(a):s});return Ke(i,(s,m)=>{s!==m&&(o.value=-1,l(0,!0))}),{data:i,depthMap:r}},Fo=(e,t)=>e+t,Ze=e=>Ae(e)?e.reduce(Fo,0):e,Ee=(e,t,o={})=>ct(e)?e(t):e??o,we=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Ye(e[t])}),e),Vt=e=>He(e)?t=>be(e,t):e,$o=(e,{columnsTotalWidth:t,rowsHeight:o,fixedColumnsOnLeft:l,fixedColumnsOnRight:r})=>{const a=E(()=>{const{fixed:b,width:T,vScrollbarSize:_}=e,A=T-_;return b?Math.max(Math.round(n(t)),A):A}),i=E(()=>n(a)+e.vScrollbarSize),s=E(()=>{const{height:b=0,maxHeight:T=0,footerHeight:_,hScrollbarSize:A}=e;if(T>0){const P=n(w),G=n(o),k=n(v)+P+G+A;return Math.min(k,T-_)}return b-_}),m=E(()=>{const{maxHeight:b}=e,T=n(s);if(Q(b)&&b>0)return T;const _=n(o)+n(v)+n(w);return Math.min(T,_)}),h=b=>b.width,u=E(()=>Ze(n(l).map(h))),y=E(()=>Ze(n(r).map(h))),v=E(()=>Ze(e.headerHeight)),w=E(()=>{var b;return(((b=e.fixedData)==null?void 0:b.length)||0)*e.rowHeight}),g=E(()=>n(s)-n(v)-n(w)),d=E(()=>{const{style:b={},height:T,width:_}=e;return we({...b,height:T,width:_})}),c=E(()=>we({height:e.footerHeight})),f=E(()=>({top:Ye(n(v)),bottom:Ye(e.footerHeight),width:Ye(e.width)}));return{bodyWidth:a,fixedTableHeight:m,mainTableHeight:s,leftTableWidth:u,rightTableWidth:y,headerWidth:i,windowHeight:g,footerHeight:c,emptyStyle:f,rootStyle:d,headerHeight:v}};function Do(e){const t=$(),o=$(),l=$(),{columns:r,columnsStyles:a,columnsTotalWidth:i,fixedColumnsOnLeft:s,fixedColumnsOnRight:m,hasFixedColumns:h,mainColumns:u,onColumnSorted:y}=No(e,St(e,"columns"),St(e,"fixed")),{scrollTo:v,scrollToLeft:w,scrollToTop:g,scrollToRow:d,onScroll:c,onVerticalScroll:f,scrollPos:b}=zo(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,onMaybeEndReached:Le}),T=ke("table-v2"),_=st(),A=Ie(!1),{expandedRowKeys:P,lastRenderedRowIndex:G,isDynamic:j,isResetting:k,rowHeights:x,resetAfterIndex:p,onRowExpanded:F,onRowHeightChange:N,onRowHovered:V,onRowsRendered:B}=Lo(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,tableInstance:_,ns:T,isScrolling:A}),{data:D,depthMap:q}=Po(e,{expandedRowKeys:P,lastRenderedRowIndex:G,resetAfterIndex:p}),se=E(()=>{const{estimatedRowHeight:Z,rowHeight:ee}=e,ie=n(D);return Q(Z)?Object.values(n(x)).reduce((S,R)=>S+R,0):ie.length*ee}),{bodyWidth:ge,fixedTableHeight:ce,mainTableHeight:le,leftTableWidth:ve,rightTableWidth:he,headerWidth:ne,windowHeight:te,footerHeight:ae,emptyStyle:_e,rootStyle:fe,headerHeight:me}=$o(e,{columnsTotalWidth:i,fixedColumnsOnLeft:s,fixedColumnsOnRight:m,rowsHeight:se}),We=$(),Ne=E(()=>{const Z=n(D).length===0;return Ae(e.fixedData)?e.fixedData.length===0&&Z:Z});function ze(Z){const{estimatedRowHeight:ee,rowHeight:ie,rowKey:S}=e;return ee?n(x)[n(D)[Z][S]]||ee:ie}function Le(){const{onEndReached:Z}=e;if(!Z)return;const{scrollTop:ee}=n(b),ie=n(se),S=n(te),R=ie-(ee+S)+e.hScrollbarSize;n(G)>=0&&ie===ee+n(le)-n(me)&&Z(R)}return Ke(()=>e.expandedRowKeys,Z=>P.value=Z,{deep:!0}),{columns:r,containerRef:We,mainTableRef:t,leftTableRef:o,rightTableRef:l,isDynamic:j,isResetting:k,isScrolling:A,hasFixedColumns:h,columnsStyles:a,columnsTotalWidth:i,data:D,expandedRowKeys:P,depthMap:q,fixedColumnsOnLeft:s,fixedColumnsOnRight:m,mainColumns:u,bodyWidth:ge,emptyStyle:_e,rootStyle:fe,headerWidth:ne,footerHeight:ae,mainTableHeight:le,fixedTableHeight:ce,leftTableWidth:ve,rightTableWidth:he,showEmpty:Ne,getRowHeight:ze,onColumnSorted:y,onRowHovered:V,onRowExpanded:F,onRowsRendered:B,onRowHeightChange:N,scrollTo:v,scrollToLeft:w,scrollToTop:g,scrollToRow:d,onScroll:c,onVerticalScroll:f}}const ut=Symbol("tableV2"),Kt=String,Be={type:W(Array),required:!0},ht={type:W(Array)},jt={...ht,required:!0},Go=String,At={type:W(Array),default:()=>xo([])},Se={type:Number,required:!0},kt={type:W([String,Number,Symbol]),default:"id"},pt={type:W(Object)},xe=pe({class:String,columns:Be,columnsStyles:{type:W(Object),required:!0},depth:Number,expandColumnKey:Go,estimatedRowHeight:{...Te.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:W(Function)},onRowHover:{type:W(Function)},onRowHeightChange:{type:W(Function)},rowData:{type:W(Object),required:!0},rowEventHandlers:{type:W(Object)},rowIndex:{type:Number,required:!0},rowKey:kt,style:{type:W(Object)}}),tt={type:Number,required:!0},ft=pe({class:String,columns:Be,fixedHeaderData:{type:W(Array)},headerData:{type:W(Array),required:!0},headerHeight:{type:W([Number,Array]),default:50},rowWidth:tt,rowHeight:{type:Number,default:50},height:tt,width:tt}),Xe=pe({columns:Be,data:jt,fixedData:ht,estimatedRowHeight:xe.estimatedRowHeight,width:Se,height:Se,headerWidth:Se,headerHeight:ft.headerHeight,bodyWidth:Se,rowHeight:Se,cache:Eo.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Te.scrollbarAlwaysOn,scrollbarStartGap:Te.scrollbarStartGap,scrollbarEndGap:Te.scrollbarEndGap,class:Kt,style:pt,containerStyle:pt,getRowHeight:{type:W(Function),required:!0},rowKey:xe.rowKey,onRowsRendered:{type:W(Function)},onScroll:{type:W(Function)}}),Vo=pe({cache:Xe.cache,estimatedRowHeight:xe.estimatedRowHeight,rowKey:kt,headerClass:{type:W([String,Function])},headerProps:{type:W([Object,Function])},headerCellProps:{type:W([Object,Function])},headerHeight:ft.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:W([String,Function])},rowProps:{type:W([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:W([Object,Function])},columns:Be,data:jt,dataGetter:{type:W(Function)},fixedData:ht,expandColumnKey:xe.expandColumnKey,expandedRowKeys:At,defaultExpandedRowKeys:At,class:Kt,fixed:Boolean,style:{type:W(Object)},width:Se,height:Se,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Te.hScrollbarSize,vScrollbarSize:Te.vScrollbarSize,scrollbarAlwaysOn:Ho.alwaysOn,sortBy:{type:W(Object),default:()=>({})},sortState:{type:W(Object),default:void 0},onColumnSort:{type:W(Function)},onExpandedRowsChange:{type:W(Function)},onEndReached:{type:W(Function)},onRowExpand:xe.onRowExpand,onScroll:Xe.onScroll,onRowsRendered:Xe.onRowsRendered,rowEventHandlers:xe.rowEventHandlers}),Ko="ElTableV2Header",jo=Ce({name:Ko,props:ft,setup(e,{slots:t,expose:o}){const l=ke("table-v2"),r=it("tableV2GridScrollLeft"),a=$(),i=E(()=>we({width:e.width,height:e.height})),s=E(()=>we({width:e.rowWidth,height:e.height})),m=E(()=>So(n(e.headerHeight))),h=v=>{const w=n(a);$e(()=>{w!=null&&w.scroll&&w.scroll({left:v})})},u=()=>{const v=l.e("fixed-header-row"),{columns:w,fixedHeaderData:g,rowHeight:d}=e;return g==null?void 0:g.map((c,f)=>{var b;const T=we({height:d,width:"100%"});return(b=t.fixed)==null?void 0:b.call(t,{class:v,columns:w,rowData:c,rowIndex:-(f+1),style:T})})},y=()=>{const v=l.e("dynamic-header-row"),{columns:w}=e;return n(m).map((g,d)=>{var c;const f=we({width:"100%",height:g});return(c=t.dynamic)==null?void 0:c.call(t,{class:v,columns:w,headerIndex:d,style:f})})};return so(()=>{r!=null&&r.value&&h(r.value)}),o({scrollToLeft:h}),()=>{if(!(e.height<=0))return H("div",{ref:a,class:e.class,style:n(i),role:"rowgroup"},[H("div",{style:n(s),class:l.e("header")},[y(),u()])])}}});var ko=jo;const Bo=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:o,atYStartEdge:l},r)=>{let a=null,i=0,s=0;const m=(u,y)=>{const v=u<=0&&t.value||u>=0&&e.value,w=y<=0&&l.value||y>=0&&o.value;return v&&w};return{hasReachedEdge:m,onWheel:u=>{Oo(a);let y=u.deltaX,v=u.deltaY;Math.abs(y)>Math.abs(v)?v=0:y=0,u.shiftKey&&v!==0&&(y=v,v=0),!(m(i,s)&&m(i+y,s+v))&&(i+=y,s+=v,u.preventDefault(),a=Ao(()=>{r(i,s),i=0,s=0}))}}},Bt=({name:e,clearCache:t,getColumnPosition:o,getColumnStartIndexForOffset:l,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:a,getEstimatedTotalWidth:i,getColumnOffset:s,getRowOffset:m,getRowPosition:h,getRowStartIndexForOffset:u,getRowStopIndexForStartIndex:y,initCache:v,injectToInstance:w,validateProps:g})=>Ce({name:e??"ElVirtualList",props:Te,emits:[Tt,Et],setup(d,{emit:c,expose:f,slots:b}){const T=ke("vl");g(d);const _=st(),A=$(v(d,_));w==null||w(_,A);const P=$(),G=$(),j=$(),k=$(null),x=$({isScrolling:!1,scrollLeft:Q(d.initScrollLeft)?d.initScrollLeft:0,scrollTop:Q(d.initScrollTop)?d.initScrollTop:0,updateRequested:!1,xAxisScrollDir:qe,yAxisScrollDir:qe}),p=Co(),F=E(()=>Number.parseInt(`${d.height}`,10)),N=E(()=>Number.parseInt(`${d.width}`,10)),V=E(()=>{const{totalColumn:S,totalRow:R,columnCache:C}=d,{isScrolling:M,xAxisScrollDir:I,scrollLeft:O}=n(x);if(S===0||R===0)return[0,0,0,0];const z=l(d,O,n(A)),L=r(d,z,O,n(A)),K=!M||I===Ht?Math.max(1,C):1,U=!M||I===qe?Math.max(1,C):1;return[Math.max(0,z-K),Math.max(0,Math.min(S-1,L+U)),z,L]}),B=E(()=>{const{totalColumn:S,totalRow:R,rowCache:C}=d,{isScrolling:M,yAxisScrollDir:I,scrollTop:O}=n(x);if(S===0||R===0)return[0,0,0,0];const z=u(d,O,n(A)),L=y(d,z,O,n(A)),K=!M||I===Ht?Math.max(1,C):1,U=!M||I===qe?Math.max(1,C):1;return[Math.max(0,z-K),Math.max(0,Math.min(R-1,L+U)),z,L]}),D=E(()=>a(d,n(A))),q=E(()=>i(d,n(A))),se=E(()=>{var S;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:d.direction,height:Q(d.height)?`${d.height}px`:d.height,width:Q(d.width)?`${d.width}px`:d.width},(S=d.style)!=null?S:{}]}),ge=E(()=>{const S=`${n(q)}px`;return{height:`${n(D)}px`,pointerEvents:n(x).isScrolling?"none":void 0,width:S}}),ce=()=>{const{totalColumn:S,totalRow:R}=d;if(S>0&&R>0){const[L,K,U,re]=n(V),[X,J,Pe,vt]=n(B);c(Tt,{columnCacheStart:L,columnCacheEnd:K,rowCacheStart:X,rowCacheEnd:J,columnVisibleStart:U,columnVisibleEnd:re,rowVisibleStart:Pe,rowVisibleEnd:vt})}const{scrollLeft:C,scrollTop:M,updateRequested:I,xAxisScrollDir:O,yAxisScrollDir:z}=n(x);c(Et,{xAxisScrollDir:O,scrollLeft:C,yAxisScrollDir:z,scrollTop:M,updateRequested:I})},le=S=>{const{clientHeight:R,clientWidth:C,scrollHeight:M,scrollLeft:I,scrollTop:O,scrollWidth:z}=S.currentTarget,L=n(x);if(L.scrollTop===O&&L.scrollLeft===I)return;let K=I;if(Mt(d.direction))switch(Ct()){case _t:K=-I;break;case Io:K=z-C-I;break}x.value={...L,isScrolling:!0,scrollLeft:K,scrollTop:Math.max(0,Math.min(O,M-R)),updateRequested:!0,xAxisScrollDir:Ue(L.scrollLeft,K),yAxisScrollDir:Ue(L.scrollTop,O)},$e(()=>fe()),me(),ce()},ve=(S,R)=>{const C=n(F),M=(D.value-C)/R*S;te({scrollTop:Math.min(D.value-C,M)})},he=(S,R)=>{const C=n(N),M=(q.value-C)/R*S;te({scrollLeft:Math.min(q.value-C,M)})},{onWheel:ne}=Bo({atXStartEdge:E(()=>x.value.scrollLeft<=0),atXEndEdge:E(()=>x.value.scrollLeft>=q.value-n(N)),atYStartEdge:E(()=>x.value.scrollTop<=0),atYEndEdge:E(()=>x.value.scrollTop>=D.value-n(F))},(S,R)=>{var C,M,I,O;(M=(C=G.value)==null?void 0:C.onMouseUp)==null||M.call(C),(O=(I=j.value)==null?void 0:I.onMouseUp)==null||O.call(I);const z=n(N),L=n(F);te({scrollLeft:Math.min(x.value.scrollLeft+S,q.value-z),scrollTop:Math.min(x.value.scrollTop+R,D.value-L)})});ho(P,"wheel",ne,{passive:!1});const te=({scrollLeft:S=x.value.scrollLeft,scrollTop:R=x.value.scrollTop})=>{S=Math.max(S,0),R=Math.max(R,0);const C=n(x);R===C.scrollTop&&S===C.scrollLeft||(x.value={...C,xAxisScrollDir:Ue(C.scrollLeft,S),yAxisScrollDir:Ue(C.scrollTop,R),scrollLeft:S,scrollTop:R,updateRequested:!0},$e(()=>fe()),me(),ce())},ae=(S=0,R=0,C=Re)=>{const M=n(x);R=Math.max(0,Math.min(R,d.totalColumn-1)),S=Math.max(0,Math.min(S,d.totalRow-1));const I=To(T.namespace.value),O=n(A),z=a(d,O),L=i(d,O);te({scrollLeft:s(d,R,C,M.scrollLeft,O,L>d.width?I:0),scrollTop:m(d,S,C,M.scrollTop,O,z>d.height?I:0)})},_e=(S,R)=>{const{columnWidth:C,direction:M,rowHeight:I}=d,O=p.value(t&&C,t&&I,t&&M),z=`${S},${R}`;if(io(O,z))return O[z];{const[,L]=o(d,R,n(A)),K=n(A),U=Mt(M),[re,X]=h(d,S,K),[J]=o(d,R,K);return O[z]={position:"absolute",left:U?void 0:`${L}px`,right:U?`${L}px`:void 0,top:`${X}px`,height:`${re}px`,width:`${J}px`},O[z]}},fe=()=>{x.value.isScrolling=!1,$e(()=>{p.value(-1,null,null)})};dt(()=>{if(!fo)return;const{initScrollLeft:S,initScrollTop:R}=d,C=n(P);C&&(Q(S)&&(C.scrollLeft=S),Q(R)&&(C.scrollTop=R)),ce()});const me=()=>{const{direction:S}=d,{scrollLeft:R,scrollTop:C,updateRequested:M}=n(x),I=n(P);if(M&&I){if(S===_o)switch(Ct()){case _t:{I.scrollLeft=-R;break}case Mo:{I.scrollLeft=R;break}default:{const{clientWidth:O,scrollWidth:z}=I;I.scrollLeft=z-O-R;break}}else I.scrollLeft=Math.max(0,R);I.scrollTop=Math.max(0,C)}},{resetAfterColumnIndex:We,resetAfterRowIndex:Ne,resetAfter:ze}=_.proxy;f({windowRef:P,innerRef:k,getItemStyleCache:p,scrollTo:te,scrollToItem:ae,states:x,resetAfterColumnIndex:We,resetAfterRowIndex:Ne,resetAfter:ze});const Le=()=>{const{scrollbarAlwaysOn:S,scrollbarStartGap:R,scrollbarEndGap:C,totalColumn:M,totalRow:I}=d,O=n(N),z=n(F),L=n(q),K=n(D),{scrollLeft:U,scrollTop:re}=n(x),X=be(It,{ref:G,alwaysOn:S,startGap:R,endGap:C,class:T.e("horizontal"),clientSize:O,layout:"horizontal",onScroll:he,ratio:O*100/L,scrollFrom:U/(L-O),total:I,visible:!0}),J=be(It,{ref:j,alwaysOn:S,startGap:R,endGap:C,class:T.e("vertical"),clientSize:z,layout:"vertical",onScroll:ve,ratio:z*100/K,scrollFrom:re/(K-z),total:M,visible:!0});return{horizontalScrollbar:X,verticalScrollbar:J}},Z=()=>{var S;const[R,C]=n(V),[M,I]=n(B),{data:O,totalColumn:z,totalRow:L,useIsScrolling:K,itemKey:U}=d,re=[];if(L>0&&z>0)for(let X=M;X<=I;X++)for(let J=R;J<=C;J++){const Pe=U({columnIndex:J,data:O,rowIndex:X});re.push(be(co,{key:Pe},(S=b.default)==null?void 0:S.call(b,{columnIndex:J,data:O,isScrolling:K?n(x).isScrolling:void 0,style:_e(X,J),rowIndex:X})))}return re},ee=()=>{const S=Rt(d.innerElement),R=Z();return[be(S,{style:n(ge),ref:k},xt(S)?R:{default:()=>R})]};return()=>{const S=Rt(d.containerElement),{horizontalScrollbar:R,verticalScrollbar:C}=Le(),M=ee();return be("div",{key:0,class:T.e("wrapper"),role:d.role},[be(S,{class:d.className,style:n(se),onScroll:le,ref:P},xt(S)?M:{default:()=>M}),R,C])}}}),{max:Je,min:qt,floor:Ut}=Math,qo={column:"columnWidth",row:"rowHeight"},at={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},ue=(e,t,o,l)=>{const[r,a,i]=[o[l],e[qo[l]],o[at[l]]];if(t>i){let s=0;if(i>=0){const m=r[i];s=m.offset+m.size}for(let m=i+1;m<=t;m++){const h=a(m);r[m]={offset:s,size:h},s+=h}o[at[l]]=t}return r[t]},Yt=(e,t,o,l,r,a)=>{for(;o<=l;){const i=o+Ut((l-o)/2),s=ue(e,i,t,a).offset;if(s===r)return i;s<r?o=i+1:l=i-1}return Je(0,o-1)},Uo=(e,t,o,l,r)=>{const a=r==="column"?e.totalColumn:e.totalRow;let i=1;for(;o<a&&ue(e,o,t,r).offset<l;)o+=i,i*=2;return Yt(e,t,Ut(o/2),qt(o,a-1),l,r)},Wt=(e,t,o,l)=>{const[r,a]=[t[l],t[at[l]]];return(a>0?r[a].offset:0)>=o?Yt(e,t,0,a,o,l):Uo(e,t,Je(0,a),o,l)},Zt=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:o,row:l})=>{let r=0;if(o>=e&&(o=e-1),o>=0){const s=l[o];r=s.offset+s.size}const i=(e-o-1)*t;return r+i},Xt=({totalColumn:e},{column:t,estimatedColumnWidth:o,lastVisitedColumnIndex:l})=>{let r=0;if(l>e&&(l=e-1),l>=0){const s=t[l];r=s.offset+s.size}const i=(e-l-1)*o;return r+i},Yo={column:Xt,row:Zt},Nt=(e,t,o,l,r,a,i)=>{const[s,m]=[a==="row"?e.height:e.width,Yo[a]],h=ue(e,t,r,a),u=m(e,r),y=Je(0,qt(u-s,h.offset)),v=Je(0,h.offset-s+i+h.size);switch(o===Dt&&(l>=v-s&&l<=y+s?o=Re:o=Oe),o){case lt:return y;case ot:return v;case Oe:return Math.round(v+(y-v)/2);case Re:default:return l>=v&&l<=y?l:v>y||l<v?v:y}},Zo=Bt({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,o)=>{const l=ue(e,t,o,"column");return[l.size,l.offset]},getRowPosition:(e,t,o)=>{const l=ue(e,t,o,"row");return[l.size,l.offset]},getColumnOffset:(e,t,o,l,r,a)=>Nt(e,t,o,l,r,"column",a),getRowOffset:(e,t,o,l,r,a)=>Nt(e,t,o,l,r,"row",a),getColumnStartIndexForOffset:(e,t,o)=>Wt(e,o,t,"column"),getColumnStopIndexForStartIndex:(e,t,o,l)=>{const r=ue(e,t,l,"column"),a=o+e.width;let i=r.offset+r.size,s=t;for(;s<e.totalColumn-1&&i<a;)s++,i+=ue(e,t,l,"column").size;return s},getEstimatedTotalHeight:Zt,getEstimatedTotalWidth:Xt,getRowStartIndexForOffset:(e,t,o)=>Wt(e,o,t,"row"),getRowStopIndexForStartIndex:(e,t,o,l)=>{const{totalRow:r,height:a}=e,i=ue(e,t,l,"row"),s=o+a;let m=i.size+i.offset,h=t;for(;h<r-1&&m<s;)h++,m+=ue(e,h,l,"row").size;return h},injectToInstance:(e,t)=>{const o=({columnIndex:a,rowIndex:i},s)=>{var m,h;s=mo(s)?!0:s,Q(a)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,a-1)),Q(i)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,i-1)),(m=e.exposed)==null||m.getItemStyleCache.value(-1,null,null),s&&((h=e.proxy)==null||h.$forceUpdate())},l=(a,i)=>{o({columnIndex:a},i)},r=(a,i)=>{o({rowIndex:a},i)};Object.assign(e.proxy,{resetAfterColumnIndex:l,resetAfterRowIndex:r,resetAfter:o})},initCache:({estimatedColumnWidth:e=Ot,estimatedRowHeight:t=Ot})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Xo=Bt({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:o},l,r,a,i,s)=>{o=Number(o);const m=Math.max(0,e*t-o),h=Math.min(m,l*t),u=Math.max(0,l*t-o+s+t);switch(r==="smart"&&(a>=u-o&&a<=h+o?r=Re:r=Oe),r){case lt:return h;case ot:return u;case Oe:{const y=Math.round(u+(h-u)/2);return y<Math.ceil(o/2)?0:y>m+Math.floor(o/2)?m:y}case Re:default:return a>=u&&a<=h?a:u>h||a<u?u:h}},getRowOffset:({rowHeight:e,height:t,totalRow:o},l,r,a,i,s)=>{t=Number(t);const m=Math.max(0,o*e-t),h=Math.min(m,l*e),u=Math.max(0,l*e-t+s+e);switch(r===Dt&&(a>=u-t&&a<=h+t?r=Re:r=Oe),r){case lt:return h;case ot:return u;case Oe:{const y=Math.round(u+(h-u)/2);return y<Math.ceil(t/2)?0:y>m+Math.floor(t/2)?m:y}case Re:default:return a>=u&&a<=h?a:u>h||a<u?u:h}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:o},l,r)=>{const a=l*e,i=Math.ceil((o+r-a)/e);return Math.max(0,Math.min(t-1,l+i-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:o},l,r)=>{const a=l*e,i=Math.ceil((o+r-a)/e);return Math.max(0,Math.min(t-1,l+i-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Jo="ElTableV2Grid",Qo=e=>{const t=$(),o=$(),l=$(0),r=E(()=>{const{data:c,rowHeight:f,estimatedRowHeight:b}=e;if(!b)return c.length*f}),a=E(()=>{const{fixedData:c,rowHeight:f}=e;return((c==null?void 0:c.length)||0)*f}),i=E(()=>Ze(e.headerHeight)),s=E(()=>{const{height:c}=e;return Math.max(0,c-n(i)-n(a))}),m=E(()=>n(i)+n(a)>0),h=({data:c,rowIndex:f})=>c[f][e.rowKey];function u({rowCacheStart:c,rowCacheEnd:f,rowVisibleStart:b,rowVisibleEnd:T}){var _;(_=e.onRowsRendered)==null||_.call(e,{rowCacheStart:c,rowCacheEnd:f,rowVisibleStart:b,rowVisibleEnd:T})}function y(c,f){var b;(b=o.value)==null||b.resetAfterRowIndex(c,f)}function v(c,f){const b=n(t),T=n(o);rt(c)?(b==null||b.scrollToLeft(c.scrollLeft),l.value=c.scrollLeft,T==null||T.scrollTo(c)):(b==null||b.scrollToLeft(c),l.value=c,T==null||T.scrollTo({scrollLeft:c,scrollTop:f}))}function w(c){var f;(f=n(o))==null||f.scrollTo({scrollTop:c})}function g(c,f){var b;(b=n(o))==null||b.scrollToItem(c,1,f)}function d(){var c,f;(c=n(o))==null||c.$forceUpdate(),(f=n(t))==null||f.$forceUpdate()}return Ke(()=>e.bodyWidth,()=>{var c;Q(e.estimatedRowHeight)&&((c=o.value)==null||c.resetAfter({columnIndex:0},!1))}),{bodyRef:o,forceUpdate:d,fixedRowHeight:a,gridHeight:s,hasHeader:m,headerHeight:i,headerRef:t,totalHeight:r,itemKey:h,onItemRendered:u,resetAfterRowIndex:y,scrollTo:v,scrollToTop:w,scrollToRow:g,scrollLeft:l}},el=Ce({name:Jo,props:Xe,setup(e,{slots:t,expose:o}){const{ns:l}=it(ut),{bodyRef:r,fixedRowHeight:a,gridHeight:i,hasHeader:s,headerRef:m,headerHeight:h,totalHeight:u,forceUpdate:y,itemKey:v,onItemRendered:w,resetAfterRowIndex:g,scrollTo:d,scrollToTop:c,scrollToRow:f,scrollLeft:b}=Qo(e);Pt("tableV2GridScrollLeft",b),o({forceUpdate:y,totalHeight:u,scrollTo:d,scrollToTop:c,scrollToRow:f,resetAfterRowIndex:g});const T=()=>e.bodyWidth;return()=>{const{cache:_,columns:A,data:P,fixedData:G,useIsScrolling:j,scrollbarAlwaysOn:k,scrollbarEndGap:x,scrollbarStartGap:p,style:F,rowHeight:N,bodyWidth:V,estimatedRowHeight:B,headerWidth:D,height:q,width:se,getRowHeight:ge,onScroll:ce}=e,le=Q(B),ve=le?Zo:Xo,he=n(h);return H("div",{role:"table",class:[l.e("table"),e.class],style:F},[H(ve,{ref:r,data:P,useIsScrolling:j,itemKey:v,columnCache:0,columnWidth:le?T:V,totalColumn:1,totalRow:P.length,rowCache:_,rowHeight:le?ge:N,width:se,height:n(i),class:l.e("body"),role:"rowgroup",scrollbarStartGap:p,scrollbarEndGap:x,scrollbarAlwaysOn:k,onScroll:ce,onItemRendered:w,perfMode:!1},{default:ne=>{var te;const ae=P[ne.rowIndex];return(te=t.row)==null?void 0:te.call(t,{...ne,columns:A,rowData:ae})}}),n(s)&&H(ko,{ref:m,class:l.e("header-wrapper"),columns:A,headerData:P,headerHeight:e.headerHeight,fixedHeaderData:G,rowWidth:D,rowHeight:N,width:se,height:Math.min(he+n(a),q)},{dynamic:t.header,fixed:t.row})])}}});var mt=el;function tl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!He(e)}const ol=(e,{slots:t})=>{const{mainTableRef:o,...l}=e;return H(mt,Y({ref:o},l),tl(t)?t:{default:()=>[t]})};var ll=ol;function nl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!He(e)}const al=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:o,...l}=e;return H(mt,Y({ref:o},l),nl(t)?t:{default:()=>[t]})};var rl=al;function sl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!He(e)}const cl=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:o,...l}=e;return H(mt,Y({ref:o},l),sl(t)?t:{default:()=>[t]})};var il=cl;const dl=e=>{const{isScrolling:t}=it(ut),o=$(!1),l=$(),r=E(()=>Q(e.estimatedRowHeight)&&e.rowIndex>=0),a=(m=!1)=>{const h=n(l);if(!h)return;const{columns:u,onRowHeightChange:y,rowKey:v,rowIndex:w,style:g}=e,{height:d}=h.getBoundingClientRect();o.value=!0,$e(()=>{if(m||d!==Number.parseInt(g.height)){const c=u[0],f=(c==null?void 0:c.placeholderSign)===Ve;y==null||y({rowKey:v,height:d,rowIndex:w},c&&!f&&c.fixed)}})},i=E(()=>{const{rowData:m,rowIndex:h,rowKey:u,onRowHover:y}=e,v=e.rowEventHandlers||{},w={};return Object.entries(v).forEach(([g,d])=>{ct(d)&&(w[g]=c=>{d({event:c,rowData:m,rowIndex:h,rowKey:u})})}),y&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:g,hovered:d})=>{const c=w[g];w[g]=f=>{y({event:f,hovered:d,rowData:m,rowIndex:h,rowKey:u}),c==null||c(f)}}),w}),s=m=>{const{onRowExpand:h,rowData:u,rowIndex:y,rowKey:v}=e;h==null||h({expanded:m,rowData:u,rowIndex:y,rowKey:v})};return dt(()=>{n(r)&&a(!0)}),{isScrolling:t,measurable:r,measured:o,rowRef:l,eventHandlers:i,onExpand:s}},ul="ElTableV2TableRow",hl=Ce({name:ul,props:xe,setup(e,{expose:t,slots:o,attrs:l}){const{eventHandlers:r,isScrolling:a,measurable:i,measured:s,rowRef:m,onExpand:h}=dl(e);return t({onExpand:h}),()=>{const{columns:u,columnsStyles:y,expandColumnKey:v,depth:w,rowData:g,rowIndex:d,style:c}=e;let f=u.map((b,T)=>{const _=Ae(g.children)&&g.children.length>0&&b.key===v;return o.cell({column:b,columns:u,columnIndex:T,depth:w,style:y[b.key],rowData:g,rowIndex:d,isScrolling:n(a),expandIconProps:_?{rowData:g,rowIndex:d,onExpand:h}:void 0})});if(o.row&&(f=o.row({cells:f.map(b=>Ae(b)&&b.length===1?b[0]:b),style:c,columns:u,depth:w,rowData:g,rowIndex:d,isScrolling:n(a)})),n(i)){const{height:b,...T}=c||{},_=n(s);return H("div",Y({ref:m,class:e.class,style:_?c:T,role:"row"},l,n(r)),[f])}return H("div",Y(l,{ref:m,class:e.class,style:c,role:"row"},n(r)),[f])}}});var fl=hl;function ml(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!He(e)}const wl=(e,{slots:t})=>{const{columns:o,columnsStyles:l,depthMap:r,expandColumnKey:a,expandedRowKeys:i,estimatedRowHeight:s,hasFixedColumns:m,rowData:h,rowIndex:u,style:y,isScrolling:v,rowProps:w,rowClass:g,rowKey:d,rowEventHandlers:c,ns:f,onRowHovered:b,onRowExpanded:T}=e,_=Ee(g,{columns:o,rowData:h,rowIndex:u},""),A=Ee(w,{columns:o,rowData:h,rowIndex:u}),P=h[d],G=r[P]||0,j=!!a,k=u<0,x=[f.e("row"),_,{[f.e(`row-depth-${G}`)]:j&&u>=0,[f.is("expanded")]:j&&i.includes(P),[f.is("fixed")]:!G&&k,[f.is("customized")]:!!t.row}],p=m?b:void 0,F={...A,columns:o,columnsStyles:l,class:x,depth:G,expandColumnKey:a,estimatedRowHeight:k?void 0:s,isScrolling:v,rowIndex:u,rowData:h,rowKey:P,rowEventHandlers:c,style:y};return H(fl,Y(F,{onRowExpand:T,onMouseenter:B=>{p==null||p({hovered:!0,rowKey:P,event:B,rowData:h,rowIndex:u})},onMouseleave:B=>{p==null||p({hovered:!1,rowKey:P,event:B,rowData:h,rowIndex:u})},rowkey:P}),ml(t)?t:{default:()=>[t]})};var gl=wl;const wt=(e,{slots:t})=>{var o;const{cellData:l,style:r}=e,a=((o=l==null?void 0:l.toString)==null?void 0:o.call(l))||"",i=je(t,"default",e,()=>[a]);return H("div",{class:e.class,title:a,style:r},[i])};wt.displayName="ElTableV2Cell";wt.inheritAttrs=!1;var vl=wt;const yl=e=>{const{expanded:t,expandable:o,onExpand:l,style:r,size:a}=e,i={onClick:o?()=>l(!t):void 0,class:e.class};return H($t,Y(i,{size:a,style:r}),{default:()=>[H(wo,null,null)]})};var bl=yl;const Jt=({columns:e,column:t,columnIndex:o,depth:l,expandIconProps:r,isScrolling:a,rowData:i,rowIndex:s,style:m,expandedRowKeys:h,ns:u,cellProps:y,expandColumnKey:v,indentSize:w,iconSize:g,rowKey:d},{slots:c})=>{const f=we(m);if(t.placeholderSign===Ve)return H("div",{class:u.em("row-cell","placeholder"),style:f},null);const{cellRenderer:b,dataKey:T,dataGetter:_}=t,A=ct(_)?_({columns:e,column:t,columnIndex:o,rowData:i,rowIndex:s}):Ro(i,T??""),P=Ee(y,{cellData:A,columns:e,column:t,columnIndex:o,rowIndex:s,rowData:i}),G={class:u.e("cell-text"),columns:e,column:t,columnIndex:o,cellData:A,isScrolling:a,rowData:i,rowIndex:s},j=Vt(b),k=j?j(G):je(c,"default",G,()=>[H(vl,G,null)]),x=[u.e("row-cell"),t.class,t.align===Ge.CENTER&&u.is("align-center"),t.align===Ge.RIGHT&&u.is("align-right")],p=s>=0&&v&&t.key===v,F=s>=0&&h.includes(i[d]);let N;const V=`margin-inline-start: ${l*w}px;`;return p&&(rt(r)?N=H(bl,Y(r,{class:[u.e("expand-icon"),u.is("expanded",F)],size:g,expanded:F,style:V,expandable:!0}),null):N=H("div",{style:[V,`width: ${g}px; height: ${g}px;`].join(" ")},null)),H("div",Y({class:x,style:f},P,{role:"cell"}),[N,k])};Jt.inheritAttrs=!1;var zt=Jt;const Sl=pe({class:String,columns:Be,columnsStyles:{type:W(Object),required:!0},headerIndex:Number,style:{type:W(Object)}}),Rl=Ce({name:"ElTableV2HeaderRow",props:Sl,setup(e,{slots:t}){return()=>{const{columns:o,columnsStyles:l,headerIndex:r,style:a}=e;let i=o.map((s,m)=>t.cell({columns:o,column:s,columnIndex:m,headerIndex:r,style:l[s.key]}));return t.header&&(i=t.header({cells:i.map(s=>Ae(s)&&s.length===1?s[0]:s),columns:o,headerIndex:r})),H("div",{class:e.class,style:a,role:"row"},[i])}}});var xl=Rl;function Tl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!He(e)}const El=({columns:e,columnsStyles:t,headerIndex:o,style:l,headerClass:r,headerProps:a,ns:i},{slots:s})=>{const m={columns:e,headerIndex:o},h=[i.e("header-row"),Ee(r,m,""),{[i.is("customized")]:!!s.header}],u={...Ee(a,m),columnsStyles:t,class:h,columns:e,headerIndex:o,style:l};return H(xl,u,Tl(s)?s:{default:()=>[s]})};var Hl=El;const gt=(e,{slots:t})=>je(t,"default",e,()=>{var o,l;return[H("div",{class:e.class,title:(o=e.column)==null?void 0:o.title},[(l=e.column)==null?void 0:l.title])]});gt.displayName="ElTableV2HeaderCell";gt.inheritAttrs=!1;var Cl=gt;const _l=e=>{const{sortOrder:t}=e;return H($t,{size:14,class:e.class},{default:()=>[t===De.ASC?H(go,null,null):H(vo,null,null)]})};var Ml=_l;const Il=(e,{slots:t})=>{const{column:o,ns:l,style:r,onColumnSorted:a}=e,i=we(r);if(o.placeholderSign===Ve)return H("div",{class:l.em("header-row-cell","placeholder"),style:i},null);const{headerCellRenderer:s,headerClass:m,sortable:h}=o,u={...e,class:l.e("header-cell-text")},y=Vt(s),v=y?y(u):je(t,"default",u,()=>[H(Cl,u,null)]),{sortBy:w,sortState:g,headerCellProps:d}=e;let c,f;if(g){const _=g[o.key];c=!!nt[_],f=c?_:De.ASC}else c=o.key===w.key,f=c?w.order:De.ASC;const b=[l.e("header-cell"),Ee(m,e,""),o.align===Ge.CENTER&&l.is("align-center"),o.align===Ge.RIGHT&&l.is("align-right"),h&&l.is("sortable")],T={...Ee(d,e),onClick:o.sortable?a:void 0,class:b,style:i,"data-key":o.key};return H("div",Y(T,{role:"columnheader"}),[v,h&&H(Ml,{class:[l.e("sort-icon"),c&&l.is("sorting")],sortOrder:f},null)])};var Lt=Il;const Qt=(e,{slots:t})=>{var o;return H("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};Qt.displayName="ElTableV2Footer";var Ol=Qt;const eo=(e,{slots:t})=>{const o=je(t,"default",{},()=>[H(po,null,null)]);return H("div",{class:e.class,style:e.style},[o])};eo.displayName="ElTableV2Empty";var Al=eo;const to=(e,{slots:t})=>{var o;return H("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};to.displayName="ElTableV2Overlay";var pl=to;function Fe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!He(e)}const Wl="ElTableV2",Nl=Ce({name:Wl,props:Vo,setup(e,{slots:t,expose:o}){const l=ke("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:a,fixedColumnsOnRight:i,mainColumns:s,mainTableHeight:m,fixedTableHeight:h,leftTableWidth:u,rightTableWidth:y,data:v,depthMap:w,expandedRowKeys:g,hasFixedColumns:d,mainTableRef:c,leftTableRef:f,rightTableRef:b,isDynamic:T,isResetting:_,isScrolling:A,bodyWidth:P,emptyStyle:G,rootStyle:j,headerWidth:k,footerHeight:x,showEmpty:p,scrollTo:F,scrollToLeft:N,scrollToTop:V,scrollToRow:B,getRowHeight:D,onColumnSorted:q,onRowHeightChange:se,onRowHovered:ge,onRowExpanded:ce,onRowsRendered:le,onScroll:ve,onVerticalScroll:he}=Do(e);return o({scrollTo:F,scrollToLeft:N,scrollToTop:V,scrollToRow:B}),Pt(ut,{ns:l,isResetting:_,isScrolling:A}),()=>{const{cache:ne,cellProps:te,estimatedRowHeight:ae,expandColumnKey:_e,fixedData:fe,headerHeight:me,headerClass:We,headerProps:Ne,headerCellProps:ze,sortBy:Le,sortState:Z,rowHeight:ee,rowClass:ie,rowEventHandlers:S,rowKey:R,rowProps:C,scrollbarAlwaysOn:M,indentSize:I,iconSize:O,useIsScrolling:z,vScrollbarSize:L,width:K}=e,U=n(v),re={cache:ne,class:l.e("main"),columns:n(s),data:U,fixedData:fe,estimatedRowHeight:ae,bodyWidth:n(P)+L,headerHeight:me,headerWidth:n(k),height:n(m),mainTableRef:c,rowKey:R,rowHeight:ee,scrollbarAlwaysOn:M,scrollbarStartGap:2,scrollbarEndGap:L,useIsScrolling:z,width:K,getRowHeight:D,onRowsRendered:le,onScroll:ve},X=n(u),J=n(h),Pe={cache:ne,class:l.e("left"),columns:n(a),data:U,fixedData:fe,estimatedRowHeight:ae,leftTableRef:f,rowHeight:ee,bodyWidth:X,headerWidth:X,headerHeight:me,height:J,rowKey:R,scrollbarAlwaysOn:M,scrollbarStartGap:2,scrollbarEndGap:L,useIsScrolling:z,width:X,getRowHeight:D,onScroll:he},Qe=n(y)+L,oo={cache:ne,class:l.e("right"),columns:n(i),data:U,fixedData:fe,estimatedRowHeight:ae,rightTableRef:b,rowHeight:ee,bodyWidth:Qe,headerWidth:Qe,headerHeight:me,height:J,rowKey:R,scrollbarAlwaysOn:M,scrollbarStartGap:2,scrollbarEndGap:L,width:Qe,style:`--${n(l.namespace)}-table-scrollbar-size: ${L}px`,useIsScrolling:z,getRowHeight:D,onScroll:he},Me=n(r),lo={ns:l,depthMap:n(w),columnsStyles:Me,expandColumnKey:_e,expandedRowKeys:n(g),estimatedRowHeight:ae,hasFixedColumns:n(d),rowProps:C,rowClass:ie,rowKey:R,rowEventHandlers:S,onRowHovered:ge,onRowExpanded:ce,onRowHeightChange:se},yt={cellProps:te,expandColumnKey:_e,indentSize:I,iconSize:O,rowKey:R,expandedRowKeys:n(g),ns:l},no={ns:l,headerClass:We,headerProps:Ne,columnsStyles:Me},bt={ns:l,sortBy:Le,sortState:Z,headerCellProps:ze,onColumnSorted:q},de={row:et=>H(gl,Y(et,lo),{row:t.row,cell:oe=>{let ye;return t.cell?H(zt,Y(oe,yt,{style:Me[oe.column.key]}),Fe(ye=t.cell(oe))?ye:{default:()=>[ye]}):H(zt,Y(oe,yt,{style:Me[oe.column.key]}),null)}}),header:et=>H(Hl,Y(et,no),{header:t.header,cell:oe=>{let ye;return t["header-cell"]?H(Lt,Y(oe,bt,{style:Me[oe.column.key]}),Fe(ye=t["header-cell"](oe))?ye:{default:()=>[ye]}):H(Lt,Y(oe,bt,{style:Me[oe.column.key]}),null)}})},ao=[e.class,l.b(),l.e("root"),{[l.is("dynamic")]:n(T)}],ro={class:l.e("footer"),style:n(x)};return H("div",{class:ao,style:n(j)},[H(ll,re,Fe(de)?de:{default:()=>[de]}),H(rl,Pe,Fe(de)?de:{default:()=>[de]}),H(il,oo,Fe(de)?de:{default:()=>[de]}),t.footer&&H(Ol,ro,{default:t.footer}),n(p)&&H(Al,{class:l.e("empty"),style:n(G)},{default:t.empty}),t.overlay&&H(pl,{class:l.e("overlay")},{default:t.overlay})])}}});var zl=Nl;const Ll=pe({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:W(Function)}}),Pl=e=>{const t=$(),o=$(0),l=$(0);let r;return dt(()=>{r=yo(t,([a])=>{const{width:i,height:s}=a.contentRect,{paddingLeft:m,paddingRight:h,paddingTop:u,paddingBottom:y}=getComputedStyle(a.target),v=Number.parseInt(m)||0,w=Number.parseInt(h)||0,g=Number.parseInt(u)||0,d=Number.parseInt(y)||0;o.value=i-v-w,l.value=s-g-d}).stop}),uo(()=>{r==null||r()}),Ke([o,l],([a,i])=>{var s;(s=e.onResize)==null||s.call(e,{width:a,height:i})}),{sizer:t,width:o,height:l}},Fl=Ce({name:"ElAutoResizer",props:Ll,setup(e,{slots:t}){const o=ke("auto-resizer"),{height:l,width:r,sizer:a}=Pl(e),i={width:"100%",height:"100%"};return()=>{var s;return H("div",{ref:a,class:o.b(),style:i},[(s=t.default)==null?void 0:s.call(t,{height:l.value,width:r.value})])}}});var $l=Fl;const ql=Ft(zl),Ul=Ft($l);export{ql as E,Ul as a};
