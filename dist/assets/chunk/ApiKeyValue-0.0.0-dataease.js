import{h as $,f as M}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{e as j,r as z,af as W,C as Y,A as q,y as G,i as H,p as J}from"./element-plus-secondary-0.0.0-dataease.js";import{i as Q}from"./icon_drag_outlined-0.0.0-dataease.js";import{i as X}from"./icon_delete-trash_outlined-0.0.0-dataease.js";import{i as Z}from"./icon_add_outlined-0.0.0-dataease.js";import{p as c}from"./index-0.0.0-dataease.js";import{K as C}from"./ApiTestModel-0.0.0-dataease.js";import{d as ee}from"./vuedraggable-0.0.0-dataease.js";import{d as ae,k as E,t as oe,a7 as le,i as te,o as n,c as h,W as o,U as l,a as ne,u as i,T as s,R as m,S as w,a8 as x,_ as de,Y as re}from"./@vue-0.0.0-dataease.js";import{_ as ue}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./pinia-0.0.0-dataease.js";import"./vue-demi-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./qs-0.0.0-dataease.js";import"./@amap-0.0.0-dataease.js";import"./side-channel-0.0.0-dataease.js";import"./es-errors-0.0.0-dataease.js";import"./object-inspect-0.0.0-dataease.js";import"./crypto-js-0.0.0-dataease.js";import"./side-channel-list-0.0.0-dataease.js";import"./side-channel-map-0.0.0-dataease.js";import"./get-intrinsic-0.0.0-dataease.js";import"./es-object-atoms-0.0.0-dataease.js";import"./math-intrinsics-0.0.0-dataease.js";import"./gopd-0.0.0-dataease.js";import"./es-define-property-0.0.0-dataease.js";import"./has-symbols-0.0.0-dataease.js";import"./get-proto-0.0.0-dataease.js";import"./dunder-proto-0.0.0-dataease.js";import"./call-bind-apply-helpers-0.0.0-dataease.js";import"./function-bind-0.0.0-dataease.js";import"./hasown-0.0.0-dataease.js";import"./call-bound-0.0.0-dataease.js";import"./side-channel-weakmap-0.0.0-dataease.js";import"./jspdf-0.0.0-dataease.js";import"./@babel-0.0.0-dataease.js";import"./fflate-0.0.0-dataease.js";import"./fast-png-0.0.0-dataease.js";import"./iobuffer-0.0.0-dataease.js";import"./pako-0.0.0-dataease.js";import"./vue-router_2-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./vue-0.0.0-dataease.js";import"./vue-i18n-0.0.0-dataease.js";import"./@intlify-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./zrender-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./web-storage-cache-0.0.0-dataease.js";import"./lodash-es-0.0.0-dataease.js";import"./@vueuse-0.0.0-dataease.js";import"./@element-plus-0.0.0-dataease.js";import"./dayjs-0.0.0-dataease.js";import"./@popperjs-0.0.0-dataease.js";import"./async-validator-0.0.0-dataease.js";import"./@ctrl-0.0.0-dataease.js";import"./normalize-wheel-es-0.0.0-dataease.js";import"./memoize-one-0.0.0-dataease.js";import"./mitt-0.0.0-dataease.js";import"./vue-types-0.0.0-dataease.js";import"./is-plain-object-0.0.0-dataease.js";const ie={class:"api-key-value"},se={style:{"margin-bottom":"16px"}},me=ae({__name:"ApiKeyValue",props:{keyPlaceholder:c.string.def(""),valuePlaceholder:c.string.def(""),unShowSelect:c.bool.def(!1),isReadOnly:c.bool.def(!1),needMock:c.bool.def(!1),showDesc:c.bool.def(!1),items:{type:Array,default:()=>[]},valueList:{type:Array,default:()=>[]},suggestions:{type:Array,default:()=>[]}},setup(d){const g=d,{t:r}=$(),V=E(()=>g.keyPlaceholder||r("datasource.key"));E(()=>g.valuePlaceholder||r("datasource.value"));const{suggestions:_,items:u}=oe(g);le(()=>{(!u.value.length||u.value[u.value.length-1].name)&&u.value.push(new C({enable:!0,name:"",value:""}));for(let t=0;t<u.value.length;t++)u.value[t].hasOwnProperty("nameType")||(u.value[t].nameType="fixed")}),te("api-active-name");const S=t=>{U()||u.value.splice(t,1)},A=()=>{u.value.push(new C({enable:!0,nameType:"fixed"}))},U=()=>u.value.length===1,N=(t,y)=>{const f=t?_.value.filter(R(t)):_.value;y(f)},O=t=>{t.value=""},R=t=>y=>y.value.toLowerCase().indexOf(t.toLowerCase())===0,B=[{label:r("data_source.parameter"),value:"params"},{label:r("data_source.fixed_value"),value:"fixed"},{label:r("data_source.time_function"),value:"timeFun"},{label:r("data_source.customize"),value:"custom"}],D=[{label:r("data_source.that_day")+"（yyyy-MM-dd）",value:"currentDay yyyy-MM-dd"},{label:r("data_source.that_day")+"（yyyy/MM/dd）",value:"currentDay yyyy/MM/dd"}];return(t,y)=>{const f=M,F=j,v=z,L=W,p=Y,b=q,k=G,T=H,I=J,K=M;return n(),h("div",ie,[o(i(ee),{tag:"div",list:i(u),handle:".handle",class:"draggable-content_api"},{item:l(({element:a,index:P})=>[ne("div",se,[o(I,{gutter:8},{default:l(()=>[o(F,{class:"drag handle"},{default:l(()=>[o(f,{name:"icon_drag_outlined"},{default:l(()=>[o(i(Q),{class:"svg-icon"})]),_:1})]),_:1}),d.unShowSelect?m("",!0):(n(),s(p,{key:0,span:6},{default:l(()=>[i(_)?(n(),s(L,{key:1,modelValue:a.name,"onUpdate:modelValue":e=>a.name=e,disabled:d.isReadOnly,maxlength:400,"fetch-suggestions":N,placeholder:V.value,"show-word-limit":""},null,8,["modelValue","onUpdate:modelValue","disabled","placeholder"])):(n(),s(v,{key:0,modelValue:a.name,"onUpdate:modelValue":e=>a.name=e,disabled:d.isReadOnly,maxlength:"200",placeholder:V.value,"show-word-limit":""},null,8,["modelValue","onUpdate:modelValue","disabled","placeholder"]))]),_:2},1024)),o(p,{span:3},{default:l(()=>[o(k,{modelValue:a.nameType,"onUpdate:modelValue":e=>a.nameType=e,onChange:e=>O(a)},{default:l(()=>[(n(),h(w,null,x(B,e=>o(b,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),d.unShowSelect?(n(),s(p,{key:1,span:8},{default:l(()=>[i(_).length?(n(),s(v,{key:0,modelValue:a.name,"onUpdate:modelValue":e=>a.name=e,disabled:d.isReadOnly,maxlength:"200",placeholder:V.value,"show-word-limit":""},null,8,["modelValue","onUpdate:modelValue","disabled","placeholder"])):m("",!0)]),_:2},1024)):m("",!0),o(p,{span:6},{default:l(()=>[!d.needMock&&a.nameType==="params"?(n(),s(k,{key:0,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,style:{width:"100%"}},{default:l(()=>[(n(!0),h(w,null,x(d.valueList,e=>(n(),s(b,{key:e.originName,label:e.name,value:e.originName},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])):m("",!0),!d.needMock&&a.nameType==="timeFun"?(n(),s(k,{key:1,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,style:{width:"100%"}},{default:l(()=>[(n(),h(w,null,x(D,e=>o(b,{key:e.originName,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","onUpdate:modelValue"])):m("",!0),!d.needMock&&a.nameType!=="params"&&a.nameType!=="timeFun"?(n(),s(v,{key:2,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,disabled:d.isReadOnly,placeholder:a.nameType==="fixed"?i(r)("data_source.value"):i(r)("data_source.name_use_parameters"),"show-word-limit":""},null,8,["modelValue","onUpdate:modelValue","disabled","placeholder"])):m("",!0)]),_:2},1024),d.showDesc?(n(),s(p,{key:2,span:7},{default:l(()=>[o(v,{modelValue:a.description,"onUpdate:modelValue":e=>a.description=e,maxlength:"200",placeholder:i(r)("common.description"),"show-word-limit":""},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024)):m("",!0),o(p,{span:1},{default:l(()=>[o(T,{class:"api-variable_del",text:"",disabled:U(),onClick:e=>S(P)},{icon:l(()=>[o(f,{name:"icon_delete-trash_outlined"},{default:l(()=>[o(i(X),{class:"svg-icon"})]),_:1})]),_:1},8,["disabled","onClick"])]),_:2},1024)]),_:2},1024)])]),_:1},8,["list"]),o(T,{style:{"margin-top":"14px"},onClick:A,text:""},{icon:l(()=>[o(K,{name:"icon_add_outlined"},{default:l(()=>[o(i(Z),{class:"svg-icon"})]),_:1})]),default:l(()=>[de(" "+re(i(r)("data_source.add_parameters")),1)]),_:1})])}}});const ga=ue(me,[["__scopeId","data-v-c216d6fd"]]);export{ga as default};
