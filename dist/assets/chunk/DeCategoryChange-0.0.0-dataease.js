import{E as g,y as w,w as D,x as k,p as T,i as V,A}from"./element-plus-secondary-0.0.0-dataease.js";import{f as F}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{g as q,h as R}from"./template-0.0.0-dataease.js";import{d as S,l as U,b as M,o as i,c as u,W as a,U as m,u as l,S as N,a8 as $,_ as f,Y as y,T as L}from"./@vue-0.0.0-dataease.js";import{_ as O}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./@vueuse-0.0.0-dataease.js";import"./@element-plus-0.0.0-dataease.js";import"./lodash-es-0.0.0-dataease.js";import"./dayjs-0.0.0-dataease.js";import"./@amap-0.0.0-dataease.js";import"./@popperjs-0.0.0-dataease.js";import"./async-validator-0.0.0-dataease.js";import"./@ctrl-0.0.0-dataease.js";import"./normalize-wheel-es-0.0.0-dataease.js";import"./memoize-one-0.0.0-dataease.js";import"./pinia-0.0.0-dataease.js";import"./vue-demi-0.0.0-dataease.js";import"./index-0.0.0-dataease.js";import"./mitt-0.0.0-dataease.js";import"./web-storage-cache-0.0.0-dataease.js";import"./vue-types-0.0.0-dataease.js";import"./is-plain-object-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./qs-0.0.0-dataease.js";import"./side-channel-0.0.0-dataease.js";import"./es-errors-0.0.0-dataease.js";import"./object-inspect-0.0.0-dataease.js";import"./crypto-js-0.0.0-dataease.js";import"./side-channel-list-0.0.0-dataease.js";import"./side-channel-map-0.0.0-dataease.js";import"./get-intrinsic-0.0.0-dataease.js";import"./es-object-atoms-0.0.0-dataease.js";import"./math-intrinsics-0.0.0-dataease.js";import"./gopd-0.0.0-dataease.js";import"./es-define-property-0.0.0-dataease.js";import"./has-symbols-0.0.0-dataease.js";import"./get-proto-0.0.0-dataease.js";import"./dunder-proto-0.0.0-dataease.js";import"./call-bind-apply-helpers-0.0.0-dataease.js";import"./function-bind-0.0.0-dataease.js";import"./hasown-0.0.0-dataease.js";import"./call-bound-0.0.0-dataease.js";import"./side-channel-weakmap-0.0.0-dataease.js";import"./jspdf-0.0.0-dataease.js";import"./@babel-0.0.0-dataease.js";import"./fflate-0.0.0-dataease.js";import"./fast-png-0.0.0-dataease.js";import"./iobuffer-0.0.0-dataease.js";import"./pako-0.0.0-dataease.js";import"./vue-router_2-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./vue-0.0.0-dataease.js";import"./vue-i18n-0.0.0-dataease.js";import"./@intlify-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./zrender-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";const W={class:"template-import"},Y=S({__name:"DeCategoryChange",props:{templateCategories:{type:Array,required:!0},templateIds:{type:Array,required:!0}},emits:["closeBatchEditTemplateDialog","refresh"],setup(n,{emit:I}){const p=I,{t:r}=F(),c=n,t=U({templateInfo:{categories:[]},categories:[],templateInfoRules:{categories:[{required:!0,message:r("template_manage.please_select_catalog"),trigger:"change"}]}}),C=()=>{const s={templateArray:c.templateIds};q(s).then(e=>{t.templateInfo.categories=e.data})};M(()=>{C()});const h=()=>{p("closeBatchEditTemplateDialog")},E=()=>{const s={templateIds:c.templateIds,categories:t.templateInfo.categories};if(!t.templateInfo.categories.length)return g.warning(r("template_manage.please_select_catalog")),!1;R(s).then(()=>{g({message:r("template_manage.edit_success"),type:"success",showClose:!0}),p("refresh"),p("closeBatchEditTemplateDialog")})};return(s,e)=>{const b=A,v=w,x=D,B=k,_=T,d=V;return i(),u("div",W,[a(B,{ref:"templateImportForm",class:"de-form-item",model:t.templateInfo,rules:t.templateInfoRules,"label-position":"top"},{default:m(()=>[a(x,{label:l(r)("template_manage.select_catalog"),prop:"categories",style:{"margin-top":"16px"}},{default:m(()=>[a(v,{modelValue:t.templateInfo.categories,"onUpdate:modelValue":e[0]||(e[0]=o=>t.templateInfo.categories=o),multiple:"",style:{width:"100%"}},{default:m(()=>[(i(!0),u(N,null,$(n.templateCategories,o=>(i(),L(b,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"]),a(_),a(_,{class:"de-root-class"},{default:m(()=>[a(d,{secondary:"",onClick:e[1]||(e[1]=o=>h())},{default:m(()=>[f(y(l(r)("commons.cancel")),1)]),_:1}),a(d,{type:"primary",onClick:e[2]||(e[2]=o=>E())},{default:m(()=>[f(y(l(r)("commons.confirm")),1)]),_:1})]),_:1})])}}});const He=O(Y,[["__scopeId","data-v-39cd774b"]]);export{He as default};
