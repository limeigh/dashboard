import{g as oj,c as RB}from"./@amap-0.0.0-dataease.js";var E$={exports:{}};(function(bo){(function(){var Gn=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},Ta=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},ra=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},Fn=function(e,n){return Wr(function(a,i){return e.eq(n(a),n(i))})},Wr=function(e){return{eq:e}},tr=Wr(function(e,n){return e===n}),kr=tr,en=function(e){return Wr(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,c=0;c<i;c++)if(!e.eq(n[c],a[c]))return!1;return!0})},wa=function(e,n){return Fn(en(e),function(a){return ra(a,n)})},sa=function(e){return Wr(function(n,a){var i=Object.keys(n),c=Object.keys(a);if(!wa(kr).eq(i,c))return!1;for(var f=i.length,g=0;g<f;g++){var b=i[g];if(!e.eq(n[b],a[b]))return!1}return!0})},it=Wr(function(e,n){if(e===n)return!0;var a=Gn(e),i=Gn(n);return a!==i?!1:Ta(a)?e===n:a==="array"?en(it).eq(e,n):a==="object"?sa(it).eq(e,n):!1}),Zt=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},er=function(e){return function(n){return Zt(n)===e}},Mt=function(e){return function(n){return typeof n===e}},Ye=function(e){return function(n){return e===n}},Nn=er("string"),vt=er("object"),dn=er("array"),ve=Ye(null),Lt=Mt("boolean"),Rt=Ye(void 0),Tr=function(e){return e==null},Sn=function(e){return!Tr(e)},Ie=Mt("function"),Bt=Mt("number"),Qe=function(){},Jn=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},oe=function(e,n){return function(a){return e(n(a))}},L=function(e){return function(){return e}},mt=function(e){return e},Hn=function(e,n){return e===n};function Ze(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=n.concat(i);return e.apply(null,f)}}var nr=function(e){return function(n){return!e(n)}},Rn=function(e){return function(){throw new Error(e)}},A=function(e){return e()},Cr=function(e){e()},at=L(!1),Nt=L(!0),ca=function(){return yo},yo=function(){var e=function(i){return i()},n=mt,a={fold:function(i,c){return i()},isSome:at,isNone:Nt,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:L(null),getOrUndefined:L(void 0),or:n,orThunk:e,map:ca,each:Qe,bind:ca,exists:at,forall:Nt,filter:function(){return ca()},toArray:function(){return[]},toString:L("none()")};return a}(),In=function(e){var n=L(e),a=function(){return c},i=function(f){return f(e)},c={fold:function(f,g){return g(e)},isSome:Nt,isNone:at,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(f){return In(f(e))},each:function(f){f(e)},bind:i,exists:i,forall:i,filter:function(f){return f(e)?c:yo},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return c},Jr=function(e){return e==null?yo:In(e)},Z={some:In,none:ca,from:Jr},Co=Array.prototype.slice,ut=Array.prototype.indexOf,Ut=Array.prototype.push,Eo=function(e,n){return ut.call(e,n)},st=function(e,n){var a=Eo(e,n);return a===-1?Z.none():Z.some(a)},We=function(e,n){return Eo(e,n)>-1},be=function(e,n){for(var a=0,i=e.length;a<i;a++){var c=e[a];if(n(c,a))return!0}return!1},Ee=function(e,n){for(var a=e.length,i=new Array(a),c=0;c<a;c++){var f=e[c];i[c]=n(f,c)}return i},Ce=function(e,n){for(var a=0,i=e.length;a<i;a++){var c=e[a];n(c,a)}},Ct=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},Xt=function(e,n){for(var a=[],i=[],c=0,f=e.length;c<f;c++){var g=e[c],b=n(g,c)?a:i;b.push(g)}return{pass:a,fail:i}},xt=function(e,n){for(var a=[],i=0,c=e.length;i<c;i++){var f=e[i];n(f,i)&&a.push(f)}return a},Qn=function(e,n,a){return Ct(e,function(i,c){a=n(a,i,c)}),a},rr=function(e,n,a){return Ce(e,function(i,c){a=n(a,i,c)}),a},fn=function(e,n,a){for(var i=0,c=e.length;i<c;i++){var f=e[i];if(n(f,i))return Z.some(f);if(a(f,i))break}return Z.none()},jr=function(e,n){return fn(e,n,at)},ko=function(e,n){for(var a=0,i=e.length;a<i;a++){var c=e[a];if(n(c,a))return Z.some(a)}return Z.none()},Yi=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!dn(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);Ut.apply(n,e[a])}return n},Pi=function(e,n){return Yi(Ee(e,n))},mi=function(e,n){for(var a=0,i=e.length;a<i;++a){var c=e[a];if(n(c,a)!==!0)return!1}return!0},ta=function(e){var n=Co.call(e,0);return n.reverse(),n},Ka=function(e,n){return xt(e,function(a){return!We(n,a)})},fo=function(e,n){for(var a={},i=0,c=e.length;i<c;i++){var f=e[i];a[String(f)]=n(f,i)}return a},na=function(e,n){var a=Co.call(e,0);return a.sort(n),a},la=function(e,n){return n>=0&&n<e.length?Z.some(e[n]):Z.none()},Xa=function(e){return la(e,0)},aa=function(e){return la(e,e.length-1)},Br=Ie(Array.from)?Array.from:function(e){return Co.call(e)},Me=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return Z.none()},Pt=Object.keys,vn=Object.hasOwnProperty,zt=function(e,n){for(var a=Pt(e),i=0,c=a.length;i<c;i++){var f=a[i],g=e[f];n(g,f)}},gr=function(e,n){return Ar(e,function(a,i){return{k:i,v:n(a,i)}})},Ar=function(e,n){var a={};return zt(e,function(i,c){var f=n(i,c);a[f.k]=f.v}),a},Ha=function(e){return function(n,a){e[a]=n}},rn=function(e,n,a,i){var c={};return zt(e,function(f,g){(n(f,g)?a:i)(f,g)}),c},wr=function(e,n){var a={},i={};return rn(e,n,Ha(a),Ha(i)),{t:a,f:i}},Ea=function(e,n){var a={};return rn(e,n,Ha(a),Qe),a},gi=function(e,n){var a=[];return zt(e,function(i,c){a.push(n(i,c))}),a},ys=function(e){return gi(e,mt)},Mr=function(e,n){return qn(e,n)?Z.from(e[n]):Z.none()},qn=function(e,n){return vn.call(e,n)},Zi=function(e,n){return qn(e,n)&&e[n]!==void 0&&e[n]!==null},Vc=function(e,n,a){return a===void 0&&(a=it),sa(a).eq(e,n)},Fi=Array.isArray,Ii=function(e){if(Fi(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},Zu=function(e,n,a){var i,c;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,c=e.length;i<c;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(qn(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},Cs=function(e,n){var a=[];return Zu(e,function(i,c){a.push(n(i,c,e))}),a},Bu=function(e,n){var a=[];return Zu(e,function(i,c){(!n||n(i,c,e))&&a.push(i)}),a},zi=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},ws=function(e,n,a,i){for(var c=Rt(a)?e[0]:a,f=0;f<e.length;f++)c=n.call(i,c,e[f],f);return c},Lr=function(e,n,a){var i,c;for(i=0,c=e.length;i<c;i++)if(n.call(a,e[i],i,e))return i;return-1},lu=function(e){return e[e.length-1]},gn=function(){return gn=Object.assign||function(n){for(var a,i=1,c=arguments.length;i<c;i++){a=arguments[i];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(n[f]=a[f])}return n},gn.apply(this,arguments)};function Uc(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(e);c<i.length;c++)n.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(e,i[c])&&(a[i[c]]=e[i[c]]);return a}function hi(e,n,a){if(a||arguments.length===2)for(var i=0,c=n.length,f;i<c;i++)(f||!(i in n))&&(f||(f=Array.prototype.slice.call(n,0,i)),f[i]=n[i]);return e.concat(f||Array.prototype.slice.call(n))}var fu=function(e){var n=!1,a;return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return n||(n=!0,a=e.apply(null,i)),a}},pi=function(e,n,a,i){var c=e.isiOS()&&/ipad/i.test(a)===!0,f=e.isiOS()&&!c,g=e.isiOS()||e.isAndroid(),b=g||i("(pointer:coarse)"),C=c||!f&&g&&i("(min-device-width:768px)"),k=f||g&&!C,N=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,F=!k&&!C&&!N;return{isiPad:L(c),isiPhone:L(f),isTablet:L(C),isPhone:L(k),isTouch:L(b),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:L(N),isDesktop:L(F)}},Mu=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},xl=function(e,n){var a=Mu(e,n);if(!a)return{major:0,minor:0};var i=function(c){return Number(n.replace(a,"$"+c))};return J(i(1),i(2))},vu=function(e,n){var a=String(n).toLowerCase();return e.length===0?Wc():xl(e,a)},Wc=function(){return J(0,0)},J=function(e,n){return{major:e,minor:n}},ge={nu:J,detect:vu,unknown:Wc},ne=function(e,n){return Me(n.brands,function(a){var i=a.brand.toLowerCase();return jr(e,function(c){var f;return i===((f=c.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(function(c){return{current:c.name,version:ge.nu(parseInt(a.version,10),0)}})})},ke=function(e,n){var a=String(n).toLowerCase();return jr(e,function(i){return i.search(a)})},Tt=function(e,n){return ke(e,n).map(function(a){var i=ge.detect(a.versionRegexes,n);return{current:a.name,version:i}})},jt=function(e,n){return ke(e,n).map(function(a){var i=ge.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Tn=function(e,n){return e.substring(n)},_n=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},Or=function(e,n){return hr(e,n)?Tn(e,n.length):e},Er=function(e,n){return e.indexOf(n)!==-1},hr=function(e,n){return _n(e,n,0)},Ya=function(e){return function(n){return n.replace(e,"")}},Pa=Ya(/^\s+|\s+$/g),Ju=Ya(/^\s+/g),Po=Ya(/\s+$/g),Ss=function(e){return e.length>0},Ks=function(e){return!Ss(e)},Fa=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ia=function(e){return function(n){return Er(n,e)}},lt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Er(e,"edge/")&&Er(e,"chrome")&&Er(e,"safari")&&Er(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Fa],search:function(e){return Er(e,"chrome")&&!Er(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Er(e,"msie")||Er(e,"trident")}},{name:"Opera",versionRegexes:[Fa,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ia("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ia("firefox")},{name:"Safari",versionRegexes:[Fa,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Er(e,"safari")||Er(e,"mobile/"))&&Er(e,"applewebkit")}}],Ao=[{name:"Windows",search:Ia("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Er(e,"iphone")||Er(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ia("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ia("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ia("linux"),versionRegexes:[]},{name:"Solaris",search:Ia("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ia("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ia("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],xs={browsers:L(lt),oses:L(Ao)},mf="Edge",jc="Chrome",fr="IE",Tl="Opera",Ts="Firefox",Va="Safari",Gc=function(){return $i({current:void 0,version:ge.unknown()})},$i=function(e){var n=e.current,a=e.version,i=function(c){return function(){return n===c}};return{current:n,version:a,isEdge:i(mf),isChrome:i(jc),isIE:i(fr),isOpera:i(Tl),isFirefox:i(Ts),isSafari:i(Va)}},Ji={unknown:Gc,nu:$i,edge:L(mf),chrome:L(jc),ie:L(fr),opera:L(Tl),firefox:L(Ts),safari:L(Va)},ha="Windows",qc="iOS",Kc="Android",bc="Linux",El="OSX",Es="Solaris",Qu="FreeBSD",kl="ChromeOS",Nu=function(){return Qi({current:void 0,version:ge.unknown()})},Qi=function(e){var n=e.current,a=e.version,i=function(c){return function(){return n===c}};return{current:n,version:a,isWindows:i(ha),isiOS:i(qc),isAndroid:i(Kc),isOSX:i(El),isLinux:i(bc),isSolaris:i(Es),isFreeBSD:i(Qu),isChromeOS:i(kl)}},V={unknown:Nu,nu:Qi,windows:L(ha),ios:L(qc),android:L(Kc),linux:L(bc),osx:L(El),solaris:L(Es),freebsd:L(Qu),chromeos:L(kl)},se=function(e,n,a){var i=xs.browsers(),c=xs.oses(),f=n.bind(function(C){return ne(i,C)}).orThunk(function(){return Tt(i,e)}).fold(Ji.unknown,Ji.nu),g=jt(c,e).fold(V.unknown,V.nu),b=pi(g,f,e,a);return{browser:f,os:g,deviceType:b}},we={detect:se},Ve=function(e){return window.matchMedia(e).matches},ht=fu(function(){return we.detect(navigator.userAgent,Z.from(navigator.userAgentData),Ve)}),tn=function(){return ht()},Nr=navigator.userAgent,Qr=tn(),Kn=Qr.browser,ka=Qr.os,Ra=Qr.deviceType,yc=/WebKit/.test(Nr)&&!Kn.isEdge(),ti="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Xs=Nr.indexOf("Windows Phone")!==-1,hn={opera:Kn.isOpera(),webkit:yc,ie:Kn.isIE()||Kn.isEdge()?Kn.version.major:!1,gecko:Kn.isFirefox(),mac:ka.isOSX()||ka.isiOS(),iOS:Ra.isiPad()||Ra.isiPhone(),android:ka.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Kn.isIE()?document.documentMode||7:10,fileApi:ti,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Kn.isIE(),desktop:Ra.isDesktop(),windowsPhone:Xs,browser:{current:Kn.current,version:Kn.version,isChrome:Kn.isChrome,isEdge:Kn.isEdge,isFirefox:Kn.isFirefox,isIE:Kn.isIE,isOpera:Kn.isOpera,isSafari:Kn.isSafari},os:{current:ka.current,version:ka.version,isAndroid:ka.isAndroid,isChromeOS:ka.isChromeOS,isFreeBSD:ka.isFreeBSD,isiOS:ka.isiOS,isLinux:ka.isLinux,isOSX:ka.isOSX,isSolaris:ka.isSolaris,isWindows:ka.isWindows},deviceType:{isDesktop:Ra.isDesktop,isiPad:Ra.isiPad,isiPhone:Ra.isiPhone,isPhone:Ra.isPhone,isTablet:Ra.isTablet,isTouch:Ra.isTouch,isWebView:Ra.isWebView}},iv=/^\s*|\s*$/g,td=function(e){return e==null?"":(""+e).replace(iv,"")},Dr=function(e,n){return n?n==="array"&&Fi(e)?!0:typeof e===n:e!==void 0},nd=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},uv=qn,th=function(e,n,a){var i=this,c,f,g,b=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var C=e[3].match(/(^|\.)(\w+)$/i)[2],k=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!k[C]){if(e[2]==="static"){k[C]=n,this.onCreate&&this.onCreate(e[2],e[3],k[C]);return}n[C]||(n[C]=function(){},b=1),k[C]=n[C],i.extend(k[C].prototype,n),e[5]&&(c=i.resolve(e[5]).prototype,f=e[5].match(/\.(\w+)$/i)[1],g=k[C],b?k[C]=function(){return c[f].apply(this,arguments)}:k[C]=function(){return this.parent=c[f],g.apply(this,arguments)},k[C].prototype[C]=k[C],i.each(c,function(N,F){k[C].prototype[F]=c[F]}),i.each(n,function(N,F){c[F]?k[C].prototype[F]=function(){return this.parent=c[F],N.apply(this,arguments)}:F!==C&&(k[C].prototype[F]=N)})),i.each(n.static,function(N,F){k[C][F]=N})}},oa=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var c=n[i];for(var f in c)if(qn(c,f)){var g=c[f];g!==void 0&&(e[f]=g)}}return e},es=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),Zu(e,function(c,f){if(n.call(i,c,f,a)===!1)return!1;es(c,n,a,i)}))},nh=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},ks=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},vo=function(e,n){return!e||Dr(e,"array")?e:Cs(e.split(n||","),td)},Xc=function(e){var n=hn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},ze={trim:td,isArray:Fi,is:Dr,toArray:Ii,makeMap:nd,each:Zu,map:Cs,grep:Bu,inArray:zi,hasOwn:uv,extend:oa,create:th,walk:es,createNS:nh,resolve:ks,explode:vo,_addCacheSuffix:Xc},gf=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Yc(i.childNodes[0])},oo=function(e,n){var a=n||document,i=a.createElement(e);return Yc(i)},lm=function(e,n){var a=n||document,i=a.createTextNode(e);return Yc(i)},Yc=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},R=function(e,n,a){return Z.from(e.dom.elementFromPoint(n,a)).map(Yc)},B={fromHtml:gf,fromTag:oo,fromText:lm,fromDom:Yc,fromPoint:R},te=function(e,n){var a=[],i=function(f){return a.push(f),n(f)},c=n(e);do c=c.bind(i);while(c.isSome());return a},Ae=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},Ht=function(e,n){return Ae(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},Pn=8,Rr=9,bi=11,As=1,qo=3,Fo=function(e,n){var a=e.dom;if(a.nodeType!==As)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Al=function(e){return e.nodeType!==As&&e.nodeType!==Rr&&e.nodeType!==bi||e.childElementCount===0},fm=function(e,n){var a=n===void 0?document:n.dom;return Al(a)?[]:Ee(a.querySelectorAll(e),B.fromDom)},Ys=function(e,n){var a=n===void 0?document:n.dom;return Al(a)?Z.none():Z.from(a.querySelector(e)).map(B.fromDom)},pa=function(e,n){return e.dom===n.dom},vm=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},io=function(e,n){return Ht(e.dom,n.dom)},ni=function(e,n){return tn().browser.isIE()?io(e,n):vm(e,n)};typeof window<"u"||Function("return this;")();var uo=function(e){var n=e.dom.nodeName;return n.toLowerCase()},Ol=function(e){return e.dom.nodeType},Vn=function(e){return function(n){return Ol(n)===e}},ts=function(e){return Ol(e)===Pn||uo(e)==="#comment"},_a=Vn(As),Ua=Vn(qo),Wp=Vn(Rr),ri=Vn(bi),rh=function(e){return function(n){return _a(n)&&uo(n)===e}},Cc=function(e){return B.fromDom(e.dom.ownerDocument)},xn=function(e){return Wp(e)?e:Cc(e)},ns=function(e){return B.fromDom(xn(e).dom.documentElement)},Za=function(e){return B.fromDom(xn(e).dom.defaultView)},Ja=function(e){return Z.from(e.dom.parentNode).map(B.fromDom)},Io=function(e,n){for(var a=Ie(n)?n:at,i=e.dom,c=[];i.parentNode!==null&&i.parentNode!==void 0;){var f=i.parentNode,g=B.fromDom(f);if(c.push(g),a(g)===!0)break;i=f}return c},wo=function(e){var n=function(a){return xt(a,function(i){return!pa(e,i)})};return Ja(e).map(eu).map(n).getOr([])},hf=function(e){return Z.from(e.dom.previousSibling).map(B.fromDom)},Os=function(e){return Z.from(e.dom.nextSibling).map(B.fromDom)},Pr=function(e){return ta(te(e,hf))},Aa=function(e){return te(e,Os)},eu=function(e){return Ee(e.dom.childNodes,B.fromDom)},Zc=function(e,n){var a=e.dom.childNodes;return Z.from(a[n]).map(B.fromDom)},Oo=function(e){return Zc(e,0)},rs=function(e){return Zc(e,e.dom.childNodes.length-1)},jp=function(e){return e.dom.childNodes.length},pf=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return B.fromDom(n)},fa=function(e){return ri(e)&&Sn(e.dom.host)},Zs=Ie(Element.prototype.attachShadow)&&Ie(Node.prototype.getRootNode),Dl=L(Zs),du=Zs?function(e){return B.fromDom(e.dom.getRootNode())}:xn,so=function(e){return fa(e)?e:pf(xn(e))},Rl=function(e){var n=du(e);return fa(n)?Z.some(n):Z.none()},Jc=function(e){return B.fromDom(e.dom.host)},Li=function(e){if(Dl()&&Sn(e.target)){var n=B.fromDom(e.target);if(_a(n)&&mu(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return Xa(a)}}return Z.from(e.target)},mu=function(e){return Sn(e.dom.shadowRoot)},yi=function(e,n){var a=Ja(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},sv=function(e,n){var a=Os(e);a.fold(function(){var i=Ja(e);i.each(function(c){zo(c,n)})},function(i){yi(i,n)})},Js=function(e,n){var a=Oo(e);a.fold(function(){zo(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},zo=function(e,n){e.dom.appendChild(n.dom)},rd=function(e,n){yi(e,n),zo(n,e)},Gp=function(e,n){Ce(n,function(a){yi(e,a)})},bf=function(e,n){Ce(n,function(a){zo(e,a)})},yf=function(e){e.dom.textContent="",Ce(eu(e),function(n){Qa(n)})},Qa=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Cf=function(e){var n=eu(e);n.length>0&&Gp(e,n),Qa(e)},wf=function(e){var n=Ua(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Rl(B.fromDom(n)).fold(function(){return a.body.contains(n)},oe(wf,Jc))},Hi=function(e,n){var a=function(i,c){return Hi(e+i,n+c)};return{left:e,top:n,translate:a}},Qc=Hi,Sf=function(e){var n=e.getBoundingClientRect();return Qc(n.left,n.top)},el=function(e,n){return e!==void 0?e:n!==void 0?n:0},za=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,c=n.documentElement;if(a===e.dom)return Qc(a.offsetLeft,a.offsetTop);var f=el(i==null?void 0:i.pageYOffset,c.scrollTop),g=el(i==null?void 0:i.pageXOffset,c.scrollLeft),b=el(c.clientTop,a.clientTop),C=el(c.clientLeft,a.clientLeft);return Pu(e).translate(g-C,f-b)},Pu=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?Qc(i.offsetLeft,i.offsetTop):wf(e)?Sf(n):Qc(0,0)},dm=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return Qc(a,i)},as=function(e,n,a){var i=a!==void 0?a.dom:document,c=i.defaultView;c&&c.scrollTo(e,n)},mm=function(e,n){var a=tn().browser.isSafari();a&&Ie(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},qp=function(e){var n=e===void 0?window:e;return tn().browser.isFirefox()?Z.none():Z.from(n.visualViewport)},ah=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},xf=function(e){var n=e===void 0?window:e,a=n.document,i=dm(B.fromDom(a));return qp(n).fold(function(){var c=n.document.documentElement,f=c.clientWidth,g=c.clientHeight;return ah(i.left,i.top,f,g)},function(c){return ah(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height)})},Tf=function(e){return function(n){return!!n&&n.nodeType===e}},_l=function(e){return!!e&&!Object.getPrototypeOf(e)},En=Tf(1),Ds=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return We(n,i)}return!1}},gu=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(En(i))for(var c=0;c<a.length;c++){var f=i.ownerDocument.defaultView.getComputedStyle(i,null),g=f?f.getPropertyValue(e):null;if(g===a[c])return!0}return!1}},Vi=function(e){return function(n){return En(n)&&n.hasAttribute(e)}},Rs=function(e,n){return function(a){return En(a)&&a.getAttribute(e)===n}},mo=function(e){return En(e)&&e.hasAttribute("data-mce-bogus")},$o=function(e){return En(e)&&e.getAttribute("data-mce-bogus")==="all"},So=function(e){return En(e)&&e.tagName==="TABLE"},Bl=function(e){return function(n){return!!(En(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},Ci=Ds(["textarea","input"]),Vt=Tf(3),Ef=Tf(8),oh=Tf(9),Un=Tf(11),va=Ds(["br"]),gm=Ds(["img"]),wc=Bl("true"),Ba=Bl("false"),hm=Ds(["td","th"]),Fu=Ds(["video","audio","object","embed"]),ad=function(e,n,a){return a===void 0&&(a=Hn),e.exists(function(i){return a(i,n)})},Xn=function(e){for(var n=[],a=function(c){n.push(c)},i=0;i<e.length;i++)e[i].each(a);return n},tu=function(e,n,a){return e.isSome()&&n.isSome()?Z.some(a(e.getOrDie(),n.getOrDie())):Z.none()},Pb=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?Z.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):Z.none()},Fb=function(e,n){return e?Z.some(n):Z.none()},$a=function(e){return e.style!==void 0&&Ie(e.style.getPropertyValue)},pm=function(e,n,a){if(Nn(a)||Lt(a)||Bt(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},E=function(e,n,a){pm(e.dom,n,a)},P=function(e,n){var a=e.dom;zt(n,function(i,c){pm(a,c,i)})},$=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},Q=function(e,n){return Z.from($(e,n))},pe=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},Fe=function(e,n){e.dom.removeAttribute(n)},Jt=function(e){return rr(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},Bn=function(e,n,a){if(!Nn(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);$a(e)&&e.style.setProperty(n,a)},vr=function(e,n){var a=e.dom;zt(n,function(i,c){Bn(a,c,i)})},Yn=function(e,n){var a=e.dom,i=window.getComputedStyle(a),c=i.getPropertyValue(n);return c===""&&!wf(e)?ba(a,n):c},ba=function(e,n){return $a(e)?e.style.getPropertyValue(n):""},wi=function(e,n){var a=e.dom,i=ba(a,n);return Z.from(i).filter(function(c){return c.length>0})},eo=function(e){var n={},a=e.dom;if($a(a))for(var i=0;i<a.style.length;i++){var c=a.style.item(i);n[c]=a.style[c]}return n},d3=function(e){return e.dom.offsetWidth},jC=tn().browser,GC=function(e){return jr(e,_a)},m3=function(e){return jC.isFirefox()&&uo(e)==="table"?GC(eu(e)).filter(function(n){return uo(n)==="caption"}).bind(function(n){return GC(Aa(n)).map(function(a){var i=a.dom.offsetTop,c=n.dom.offsetTop,f=n.dom.offsetHeight;return i<=c?-f:0})}).getOr(0):0},tl=function(e,n){return e.children&&We(e.children,n)},ih=function(e,n,a){var i=0,c=0,f=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&Yn(B.fromDom(e),"position")==="static"){var g=n.getBoundingClientRect();return i=g.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,c=g.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:i,y:c}}for(var b=n;b&&b!==a&&b.nodeType&&!tl(b,a);){var C=b;i+=C.offsetLeft||0,c+=C.offsetTop||0,b=C.offsetParent}for(b=n.parentNode;b&&b!==a&&b.nodeType&&!tl(b,a);)i-=b.scrollLeft||0,c-=b.scrollTop||0,b=b.parentNode;c+=m3(B.fromDom(n))}return{x:i,y:c}},Iu={},bm={exports:Iu};(function(e,n,a,i){(function(c,f){typeof n=="object"&&typeof a<"u"?a.exports=f():typeof e=="function"&&e.amd?e(f):(c=typeof globalThis<"u"?globalThis:c||self,c.EphoxContactWrapper=f())})(this,function(){var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof RB<"u"?RB:typeof self<"u"?self:{},f={exports:{}};(function(k){(function(N){var F=setTimeout;function I(){}function W(ie,Se){return function(){ie.apply(Se,arguments)}}function G(ie){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof ie!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],he(ie,this)}function q(ie,Se){for(;ie._state===3;)ie=ie._value;if(ie._state===0){ie._deferreds.push(Se);return}ie._handled=!0,G._immediateFn(function(){var He=ie._state===1?Se.onFulfilled:Se.onRejected;if(He===null){(ie._state===1?K:ae)(Se.promise,ie._value);return}var ot;try{ot=He(ie._value)}catch(Cn){ae(Se.promise,Cn);return}K(Se.promise,ot)})}function K(ie,Se){try{if(Se===ie)throw new TypeError("A promise cannot be resolved with itself.");if(Se&&(typeof Se=="object"||typeof Se=="function")){var He=Se.then;if(Se instanceof G){ie._state=3,ie._value=Se,re(ie);return}else if(typeof He=="function"){he(W(He,Se),ie);return}}ie._state=1,ie._value=Se,re(ie)}catch(ot){ae(ie,ot)}}function ae(ie,Se){ie._state=2,ie._value=Se,re(ie)}function re(ie){ie._state===2&&ie._deferreds.length===0&&G._immediateFn(function(){ie._handled||G._unhandledRejectionFn(ie._value)});for(var Se=0,He=ie._deferreds.length;Se<He;Se++)q(ie,ie._deferreds[Se]);ie._deferreds=null}function ye(ie,Se,He){this.onFulfilled=typeof ie=="function"?ie:null,this.onRejected=typeof Se=="function"?Se:null,this.promise=He}function he(ie,Se){var He=!1;try{ie(function(ot){He||(He=!0,K(Se,ot))},function(ot){He||(He=!0,ae(Se,ot))})}catch(ot){if(He)return;He=!0,ae(Se,ot)}}G.prototype.catch=function(ie){return this.then(null,ie)},G.prototype.then=function(ie,Se){var He=new this.constructor(I);return q(this,new ye(ie,Se,He)),He},G.all=function(ie){var Se=Array.prototype.slice.call(ie);return new G(function(He,ot){if(Se.length===0)return He([]);var Cn=Se.length;function Ft(on,ft){try{if(ft&&(typeof ft=="object"||typeof ft=="function")){var _t=ft.then;if(typeof _t=="function"){_t.call(ft,function(dt){Ft(on,dt)},ot);return}}Se[on]=ft,--Cn===0&&He(Se)}catch(dt){ot(dt)}}for(var je=0;je<Se.length;je++)Ft(je,Se[je])})},G.resolve=function(ie){return ie&&typeof ie=="object"&&ie.constructor===G?ie:new G(function(Se){Se(ie)})},G.reject=function(ie){return new G(function(Se,He){He(ie)})},G.race=function(ie){return new G(function(Se,He){for(var ot=0,Cn=ie.length;ot<Cn;ot++)ie[ot].then(Se,He)})},G._immediateFn=typeof setImmediate=="function"?function(ie){setImmediate(ie)}:function(ie){F(ie,0)},G._unhandledRejectionFn=function(Se){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Se)},G._setImmediateFn=function(Se){G._immediateFn=Se},G._setUnhandledRejectionFn=function(Se){G._unhandledRejectionFn=Se},k.exports?k.exports=G:N.Promise||(N.Promise=G)})(c)})(f);var g=f.exports,b=function(){return typeof window<"u"?window:Function("return this;")()}(),C={boltExport:b.Promise||g};return C})})(void 0,Iu,bm);var Ib=bm.exports.boltExport,uh=function(e){var n=Z.none(),a=[],i=function(k){return uh(function(N){c(function(F){N(k(F))})})},c=function(k){g()?C(k):a.push(k)},f=function(k){g()||(n=Z.some(k),b(a),a=[])},g=function(){return n.isSome()},b=function(k){Ce(k,C)},C=function(k){n.each(function(N){setTimeout(function(){k(N)},0)})};return e(f),{get:c,map:i,isReady:g}},Kp=function(e){return uh(function(n){n(e)})},qC={nu:uh,pure:Kp},g3=function(e){setTimeout(function(){throw e},0)},nl=function(e){var n=function(C){e().then(C,g3)},a=function(C){return nl(function(){return e().then(C)})},i=function(C){return nl(function(){return e().then(function(k){return C(k).toPromise()})})},c=function(C){return nl(function(){return e().then(function(){return C.toPromise()})})},f=function(){return qC.nu(n)},g=function(){var C=null;return nl(function(){return C===null&&(C=e()),C})},b=e;return{map:a,bind:i,anonBind:c,toLazy:f,toCached:g,toPromise:b,get:n}},sh=function(e){return nl(function(){return new Ib(e)})},h3=function(e){return nl(function(){return Ib.resolve(e)})},zb={nu:sh,pure:h3},p3=function(e,n){return n(function(a){var i=[],c=0,f=function(g){return function(b){i[g]=b,c++,c>=e.length&&a(i)}};e.length===0?a([]):Ce(e,function(g,b){g.get(f(b))})})},b3=function(e){return p3(e,zb.nu)},ym=function(e){var n=function(F){return ym(e)},a=function(F){return ym(e)},i=function(F){return ym(F(e))},c=function(F){return ym(e)},f=function(F){F(e)},g=function(F){return F(e)},b=function(F,I){return I(e)},C=function(F){return F(e)},k=function(F){return F(e)},N=function(){return Z.some(e)};return{isValue:Nt,isError:at,getOr:L(e),getOrThunk:L(e),getOrDie:L(e),or:n,orThunk:a,fold:b,map:i,mapError:c,each:f,bind:g,exists:C,forall:k,toOptional:N}},ch=function(e){var n=function(k){return k()},a=function(){return Rn(String(e))()},i=mt,c=function(k){return k()},f=function(k){return ch(e)},g=function(k){return ch(k(e))},b=function(k){return ch(e)},C=function(k,N){return k(e)};return{isValue:at,isError:Nt,getOr:mt,getOrThunk:n,getOrDie:a,or:i,orThunk:c,fold:C,map:f,mapError:g,each:Qe,bind:b,exists:at,forall:Nt,toOptional:Z.none}},KC=function(e,n){return e.fold(function(){return ch(n)},ym)},XC={value:ym,error:ch,fromOption:KC},os=function(e){if(!dn(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return Ce(e,function(i,c){var f=Pt(i);if(f.length!==1)throw new Error("one and only one name per case");var g=f[0],b=i[g];if(a[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!dn(b))throw new Error("case arguments must be an array");n.push(g),a[g]=function(){for(var C=[],k=0;k<arguments.length;k++)C[k]=arguments[k];var N=C.length;if(N!==b.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+b.length+" ("+b+"), got "+N);var F=function(I){var W=Pt(I);if(n.length!==W.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+W.join(","));var G=mi(n,function(q){return We(W,q)});if(!G)throw new Error("Not all branches were specified when using match. Specified: "+W.join(", ")+`
Required: `+n.join(", "));return I[g].apply(null,C)};return{fold:function(){for(var I=[],W=0;W<arguments.length;W++)I[W]=arguments[W];if(I.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+I.length);var G=I[c];return G.apply(null,C)},match:F,log:function(I){console.log(I,{constructors:n,constructor:g,params:C})}}}}),a},sn={generate:os};sn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var kf=function(e){return e.fold(mt,mt)};function lh(e,n,a,i,c){return e(a,i)?Z.some(a):Ie(c)&&c(a)?Z.none():n(a,i,c)}var cv=function(e,n,a){for(var i=e.dom,c=Ie(a)?a:at;i.parentNode;){i=i.parentNode;var f=B.fromDom(i);if(n(f))return Z.some(f);if(c(f))break}return Z.none()},Cm=function(e,n,a){var i=function(c,f){return f(c)};return lh(i,cv,e,n,a)},$b=function(e,n){var a=e.dom;return a.parentNode?Sc(B.fromDom(a.parentNode),function(i){return!pa(e,i)&&n(i)}):Z.none()},Sc=function(e,n){var a=function(c){return n(B.fromDom(c))},i=jr(e.dom.childNodes,a);return i.map(B.fromDom)},od=function(e,n,a){return cv(e,function(i){return Fo(i,n)},a)},wm=function(e,n){return Ys(n,e)},go=function(e,n,a){var i=function(c,f){return Fo(c,f)};return lh(i,od,e,n,a)},ai=window.Promise?window.Promise:Ib,fh,Ml=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],c=function(g){window.setTimeout(g,0)},f=0;f<i.length&&!a;f++)a=window[i[f]+"RequestAnimationFrame"];a||(a=c),a(e,n)},vh=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},Xp=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},Yp=function(e){return clearTimeout(e)},y3=function(e){return clearInterval(e)},Sm=function(e,n){var a,i=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];clearTimeout(a),a=vh(function(){e.apply(this,c)},n)};return i.stop=function(){clearTimeout(a)},i},Ui={requestAnimationFrame:function(e,n){if(fh){fh.then(e);return}fh=new ai(function(a){n||(n=document.body),Ml(a,n)}).then(e)},setTimeout:vh,setInterval:Xp,setEditorTimeout:function(e,n,a){return vh(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=Xp(function(){e.removed?clearInterval(i):n()},a);return i},debounce:Sm,throttle:Sm,clearInterval:y3,clearTimeout:Yp},YC=function(e,n){n===void 0&&(n={});var a=0,i={},c=B.fromDom(e),f=xn(c),g=n.maxLoadTime||5e3,b=function(K){n.referrerPolicy=K},C=function(K){zo(so(c),K)},k=function(K){var ae=so(c);wm(ae,"#"+K).each(Qa)},N=function(K){return Mr(i,K).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},F=function(K,ae,re){var ye,he=ze._addCacheSuffix(K),ie=N(he);i[he]=ie,ie.count++;var Se=function(ft,_t){for(var dt=ft.length;dt--;)ft[dt]();ie.status=_t,ie.passed=[],ie.failed=[],ye&&(ye.onload=null,ye.onerror=null,ye=null)},He=function(){return Se(ie.passed,2)},ot=function(){return Se(ie.failed,3)},Cn=function(ft,_t){ft()||(Date.now()-on<g?Ui.setTimeout(_t):ot())},Ft=function(){Cn(function(){for(var ft=e.styleSheets,_t=ft.length;_t--;){var dt=ft[_t],Et=dt.ownerNode;if(Et&&Et.id===ye.id)return He(),!0}return!1},Ft)};if(ae&&ie.passed.push(ae),re&&ie.failed.push(re),ie.status!==1){if(ie.status===2){He();return}if(ie.status===3){ot();return}ie.status=1;var je=B.fromTag("link",f.dom);P(je,{rel:"stylesheet",type:"text/css",id:ie.id});var on=Date.now();n.contentCssCors&&E(je,"crossOrigin","anonymous"),n.referrerPolicy&&E(je,"referrerpolicy",n.referrerPolicy),ye=je.dom,ye.onload=Ft,ye.onerror=ot,C(je),E(je,"href",he)}},I=function(K){return zb.nu(function(ae){F(K,Jn(ae,L(XC.value(K))),Jn(ae,L(XC.error(K))))})},W=function(K,ae,re){b3(Ee(K,I)).get(function(ye){var he=Xt(ye,function(ie){return ie.isValue()});he.fail.length>0?re(he.fail.map(kf)):ae(he.pass.map(kf))})},G=function(K){var ae=ze._addCacheSuffix(K);Mr(i,ae).each(function(re){var ye=--re.count;ye===0&&(delete i[ae],k(re.id))})},q=function(K){Ce(K,function(ae){G(ae)})};return{load:F,loadAll:W,unload:G,unloadAll:q,_setReferrerPolicy:b}},Wa=function(){var e=new WeakMap,n=function(a,i){var c=du(a),f=c.dom;return Z.from(e.get(f)).getOrThunk(function(){var g=YC(f,i);return e.set(f,g),g})};return{forElement:n}},xc=Wa(),Xr=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,c){var f,g;if(n){if(!c&&n[a])return n[a];if(n!==this.rootNode){if(f=n[i],f)return f;for(g=n.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(f=g[i],f)return f}}},e.prototype.findPreviousNode=function(n,a,i,c){var f,g,b;if(n){if(f=n[i],this.rootNode&&f===this.rootNode)return;if(f){if(!c){for(b=f[a];b;b=b[a])if(!b[a])return b}return f}if(g=n.parentNode,g&&g!==this.rootNode)return g}},e}(),lv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Qs=["td","th"],C3=["thead","tbody","tfoot"],Lo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],hu=["h1","h2","h3","h4","h5","h6"],ZC=["li","dd","dt"],Ue=["ul","ol","dl"],zu=["pre","script","textarea","style"],Af=function(e){var n;return function(a){return n=n||fo(e,Nt),qn(n,uo(a))}},kn=Af(hu),_s=Af(lv),w3=function(e){return uo(e)==="table"},nu=function(e){return _a(e)&&!_s(e)},xm=function(e){return _a(e)&&uo(e)==="br"},Nl=Af(Lo),Tc=Af(Ue),Wi=Af(ZC),Fr=Af(C3),rl=Af(Qs),id=Af(zu),Sa=function(e,n,a){return od(e,n,a).isSome()},fv="\uFEFF",is=" ",us=function(e){return e===fv},S3=function(e){return e.replace(/\uFEFF/g,"")},me=fv,pu=us,$u=S3,Tm=En,Bs=Vt,da=function(e){return Bs(e)&&(e=e.parentNode),Tm(e)&&e.hasAttribute("data-mce-caret")},xa=function(e){return Bs(e)&&pu(e.data)},Lu=function(e){return da(e)||xa(e)},Of=function(e){return e.firstChild!==e.lastChild||!va(e.firstChild)},Lb=function(e,n){var a=e.ownerDocument,i=a.createTextNode(me),c=e.parentNode;if(n){var f=e.previousSibling;if(Bs(f)){if(Lu(f))return f;if(mh(f))return f.splitText(f.data.length-1)}c.insertBefore(i,e)}else{var f=e.nextSibling;if(Bs(f)){if(Lu(f))return f;if(dh(f))return f.splitText(1),f}e.nextSibling?c.insertBefore(i,e.nextSibling):c.appendChild(i)}return i},pn=function(e){var n=e.container();return Vt(n)?n.data.charAt(e.offset())===me||e.isAtStart()&&xa(n.previousSibling):!1},Zp=function(e){var n=e.container();return Vt(n)?n.data.charAt(e.offset()-1)===me||e.isAtEnd()&&xa(n.nextSibling):!1},Ms=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},JC=function(e,n,a){var i=n.ownerDocument,c=i.createElement(e);c.setAttribute("data-mce-caret",a?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(Ms());var f=n.parentNode;return a?f.insertBefore(c,n):n.nextSibling?f.insertBefore(c,n.nextSibling):f.appendChild(c),c},dh=function(e){return Bs(e)&&e.data[0]===me},mh=function(e){return Bs(e)&&e.data[e.data.length-1]===me},Hb=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];mo(a)&&a.parentNode.removeChild(a)},Vb=function(e){return e&&e.hasAttribute("data-mce-caret")?(Hb(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Pl=function(e){return da(e.startContainer)},Df=wc,x3=Ba,Ub=va,T3=Vt,QC=Ds(["script","style","textarea"]),gh=Ds(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Em=Ds(["table"]),ew=Lu,Fl=function(e){return ew(e)?!1:T3(e)?!QC(e.parentNode):gh(e)||Ub(e)||Em(e)||Wb(e)},km=function(e){return En(e)&&e.getAttribute("unselectable")==="true"},Wb=function(e){return km(e)===!1&&x3(e)},tw=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(Wb(e))return!1;if(Df(e))return!0}return!0},E3=function(e){return Wb(e)?rr(Br(e.getElementsByTagName("*")),function(n,a){return n||Df(a)},!1)!==!0:!1},k3=function(e){return gh(e)||E3(e)},Do=function(e,n){return Fl(e)&&tw(e,n)},Il=/^[ \t\r\n]*$/,Ec=function(e){return Il.test(e)},vv=function(e,n){var a=B.fromDom(n),i=B.fromDom(e);return Sa(i,"pre,code",Ze(pa,a))},nw=function(e,n){return Vt(e)&&Ec(e.data)&&vv(e,n)===!1},kc=function(e){return En(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},ud=function(e,n){return Fl(e)&&nw(e,n)===!1||kc(e)||jb(e)},jb=Vi("data-mce-bookmark"),Gb=Vi("data-mce-bogus"),Rf=Rs("data-mce-bogus","all"),ec=function(e,n){var a=0;if(ud(e,e))return!1;var i=e.firstChild;if(!i)return!0;var c=new Xr(i,e);do{if(n){if(Rf(i)){i=c.next(!0);continue}if(Gb(i)){i=c.next();continue}}if(va(i)){a++,i=c.next();continue}if(ud(i,e))return!1;i=c.next()}while(i);return a<=1},Si=function(e,n){return n===void 0&&(n=!0),ec(e.dom,n)},Jp=function(e){return e.nodeName.toLowerCase()==="span"},qb=function(e,n){return Sn(e)&&(ud(e,n)||nu(B.fromDom(e)))},sd=function(e,n){var a=new Xr(e,n).prev(!1),i=new Xr(e,n).next(!1),c=Rt(a)||qb(a,n),f=Rt(i)||qb(i,n);return c&&f},Am=function(e){return Jp(e)&&e.getAttribute("data-mce-type")==="bookmark"},Om=function(e,n){return Vt(e)&&e.data.length>0&&sd(e,n)},A3=function(e){return En(e)?e.childNodes.length>0:!1},Dm=function(e){return Un(e)||oh(e)},Kb=function(e,n,a){var i=a||n;if(En(n)&&Am(n))return n;for(var c=n.childNodes,f=c.length-1;f>=0;f--)Kb(e,c[f],i);if(En(n)){var g=n.childNodes;g.length===1&&Am(g[0])&&n.parentNode.insertBefore(g[0],n)}return!Dm(n)&&!ud(n,i)&&!A3(n)&&!Om(n,i)&&e.remove(n),n},O3=ze.makeMap,to=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qp=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dv=/[<>&\"\']/g,Xb=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Yb={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},tc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Ns={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},cd=function(e){var n=B.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},mv=function(e,n){var a,i,c,f={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),tc[i]||(c="&"+e[a+1]+";",f[i]=c,f[c]=i);return f}},e1=mv("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),hh=function(e,n){return e.replace(n?to:Qp,function(a){return tc[a]||a})},Zb=function(e){return(""+e).replace(dv,function(n){return tc[n]||n})},ld=function(e,n){return e.replace(n?to:Qp,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":tc[a]||"&#"+a.charCodeAt(0)+";"})},t1=function(e,n,a){return a=a||e1,e.replace(n?to:Qp,function(i){return tc[i]||a[i]||i})},D3=function(e,n){var a=mv(n)||e1,i=function(g,b){return g.replace(b?to:Qp,function(C){return tc[C]!==void 0?tc[C]:a[C]!==void 0?a[C]:C.length>1?"&#"+((C.charCodeAt(0)-55296)*1024+(C.charCodeAt(1)-56320)+65536)+";":"&#"+C.charCodeAt(0)+";"})},c=function(g,b){return t1(g,b,a)},f=O3(e.replace(/\+/g,","));return f.named&&f.numeric?i:f.named?n?c:t1:f.numeric?ld:hh},Jb=function(e){return e.replace(Xb,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):Yb[a]||String.fromCharCode(a)):Ns[n]||e1[n]||cd(n)})},Ps={encodeRaw:hh,encodeAllRaw:Zb,encodeNumeric:ld,encodeNamed:t1,getEncodeFunc:D3,decode:Jb},ss={},Rm={},Ac=ze.makeMap,ji=ze.each,n1=ze.extend,_f=ze.explode,rw=ze.inArray,xi=function(e,n){return e=ze.trim(e),e?e.split(n||" "):[]},Qb=function(e,n){var a=Ac(e," ",Ac(e.toUpperCase()," "));return n1(a,n)},r1=function(e){return Qb("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},_r=function(e){var n={},a,i,c,f,g,b,C=function(N,F,I){var W,G,q,K=function(re,ye){var he={},ie,Se;for(ie=0,Se=re.length;ie<Se;ie++)he[re[ie]]=ye||{};return he};I=I||[],F=F||"",typeof I=="string"&&(I=xi(I));var ae=xi(N);for(W=ae.length;W--;)G=xi([a,F].join(" ")),q={attributes:K(G),attributesOrder:G,children:K(I,Rm)},n[ae[W]]=q},k=function(N,F){var I,W,G,q,K=xi(N);I=K.length;for(var ae=xi(F);I--;)for(W=n[K[I]],G=0,q=ae.length;G<q;G++)W.attributes[ae[G]]={},W.attributesOrder.push(ae[G])};return ss[e]?ss[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",c="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",c+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",b="acronym applet basefont big font strike tt",c=[c,b].join(" "),ji(xi(b),function(N){C(N,"",c)}),g="center dir isindex noframes",i=[i,g].join(" "),f=[i,c].join(" "),ji(xi(g),function(N){C(N,"",f)})),f=f||[i,c].join(" "),C("html","manifest","head body"),C("head","","base command link meta noscript script style title"),C("title hr noscript br"),C("base","href target"),C("link","href rel media hreflang type sizes hreflang"),C("meta","name http-equiv content charset"),C("style","media type scoped"),C("script","src async defer type charset"),C("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),C("address dt dd div caption","",f),C("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),C("blockquote","cite",f),C("ol","reversed start type","li"),C("ul","","li"),C("li","value",f),C("dl","","dt dd"),C("a","href target rel media hreflang type",c),C("q","cite",c),C("ins del","cite datetime",f),C("img","src sizes srcset alt usemap ismap width height"),C("iframe","src name width height",f),C("embed","src type width height"),C("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),C("param","name value"),C("map","name",[f,"area"].join(" ")),C("area","alt coords shape href target rel media hreflang type"),C("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),C("colgroup","span","col"),C("col","span"),C("tbody thead tfoot","","tr"),C("tr","","td th"),C("td","colspan rowspan headers",f),C("th","colspan rowspan headers scope abbr",f),C("form","accept-charset action autocomplete enctype method name novalidate target",f),C("fieldset","disabled form name",[f,"legend"].join(" ")),C("label","form for",c),C("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),C("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:c),C("select","disabled form multiple name required size","option optgroup"),C("optgroup","disabled label","option"),C("option","disabled label selected value"),C("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),C("menu","type label",[f,"li"].join(" ")),C("noscript","",f),e!=="html4"&&(C("wbr"),C("ruby","",[c,"rt rp"].join(" ")),C("figcaption","",f),C("mark rt rp summary bdi","",c),C("canvas","width height",f),C("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),C("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),C("picture","","img source"),C("source","src srcset type media sizes"),C("track","kind src srclang label default"),C("datalist","",[c,"option"].join(" ")),C("article section nav aside main header footer","",f),C("hgroup","","h1 h2 h3 h4 h5 h6"),C("figure","",[f,"figcaption"].join(" ")),C("time","datetime",c),C("dialog","open",f),C("command","type label icon disabled checked radiogroup command"),C("output","for form name",c),C("progress","value max",c),C("meter","value min max low high optimum",c),C("details","open",[f,"summary"].join(" ")),C("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(k("script","language xml:space"),k("style","xml:space"),k("object","declare classid code codebase codetype archive standby align border hspace vspace"),k("embed","align name hspace vspace"),k("param","valuetype type"),k("a","charset name rev shape coords"),k("br","clear"),k("applet","codebase archive code object alt name width height align hspace vspace"),k("img","name longdesc align border hspace vspace"),k("iframe","longdesc frameborder marginwidth marginheight scrolling align"),k("font basefont","size color face"),k("input","usemap align"),k("select"),k("textarea"),k("h1 h2 h3 h4 h5 h6 div p legend caption","align"),k("ul","type compact"),k("li","type"),k("ol dl menu dir","compact"),k("pre","width xml:space"),k("hr","align noshade size width"),k("isindex","prompt"),k("table","summary width frame rules cellspacing cellpadding align bgcolor"),k("col","width align char charoff valign"),k("colgroup","width align char charoff valign"),k("thead","align char charoff valign"),k("tr","align char charoff valign bgcolor"),k("th","axis align char charoff valign nowrap bgcolor width height"),k("form","accept"),k("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),k("tfoot","align char charoff valign"),k("tbody","align char charoff valign"),k("area","nohref"),k("body","background bgcolor text link vlink alink")),e!=="html4"&&(k("input button select textarea","autofocus"),k("input textarea","placeholder"),k("a","download"),k("link script img","crossorigin"),k("img","loading"),k("iframe","sandbox seamless allowfullscreen loading")),ji(xi("a form meter progress dfn"),function(N){n[N]&&delete n[N].children[N]}),delete n.caption.children.table,delete n.script,ss[e]=n,n)},bn=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),ji(e,function(i,c){a[c]=a[c.toUpperCase()]=n==="map"?Ac(i,/[, ]/):_f(i,/[, ]/)})),a},Fs=function(e){var n={},a={},i=[],c={},f={},g=function(nt,yt,un){var xe=e[nt];return xe?xe=Ac(xe,/[, ]/,Ac(xe.toUpperCase(),/[, ]/)):(xe=ss[nt],xe||(xe=Qb(yt,un),ss[nt]=xe)),xe};e=e||{};var b=_r(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var C=bn(e.valid_styles),k=bn(e.invalid_styles,"map"),N=bn(e.valid_classes,"map"),F=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),I=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),W=g("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),G=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),q="td th iframe video audio object script code",K=g("non_empty_elements",q+" pre",W),ae=g("move_caret_before_on_enter_elements",q+" table",W),re=g("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),ye=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",re),he=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");ji((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(nt){f[nt]=new RegExp("</"+nt+"[^>]*>","gi")});var ie=function(nt){return new RegExp("^"+nt.replace(/([?+*])/g,".$1")+"$")},Se=function(nt){var yt,un,xe,ct,rt,ln,yn,Ca,li,Qo,Du,Ru,gs,ei,Lc,hs,Jv,Ur,Na=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,fi=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ev=/[*?+]/;if(nt){var tv=xi(nt,",");for(n["@"]&&(hs=n["@"].attributes,Jv=n["@"].attributesOrder),yt=0,un=tv.length;yt<un;yt++)if(rt=Na.exec(tv[yt]),rt){if(ei=rt[1],li=rt[2],Lc=rt[3],Ca=rt[5],Ru={},gs=[],ln={attributes:Ru,attributesOrder:gs},ei==="#"&&(ln.paddEmpty=!0),ei==="-"&&(ln.removeEmpty=!0),rt[4]==="!"&&(ln.removeEmptyAttrs=!0),hs&&(zt(hs,function(nv,Yg){Ru[Yg]=nv}),gs.push.apply(gs,Jv)),Ca){for(Ca=xi(Ca,"|"),xe=0,ct=Ca.length;xe<ct;xe++)if(rt=fi.exec(Ca[xe]),rt){if(yn={},Du=rt[1],Qo=rt[2].replace(/[\\:]:/g,":"),ei=rt[3],Ur=rt[4],Du==="!"&&(ln.attributesRequired=ln.attributesRequired||[],ln.attributesRequired.push(Qo),yn.required=!0),Du==="-"){delete Ru[Qo],gs.splice(rw(gs,Qo),1);continue}ei&&(ei==="="&&(ln.attributesDefault=ln.attributesDefault||[],ln.attributesDefault.push({name:Qo,value:Ur}),yn.defaultValue=Ur),ei===":"&&(ln.attributesForced=ln.attributesForced||[],ln.attributesForced.push({name:Qo,value:Ur}),yn.forcedValue=Ur),ei==="<"&&(yn.validValues=Ac(Ur,"?"))),ev.test(Qo)?(ln.attributePatterns=ln.attributePatterns||[],yn.pattern=ie(Qo),ln.attributePatterns.push(yn)):(Ru[Qo]||gs.push(Qo),Ru[Qo]=yn)}}!hs&&li==="@"&&(hs=Ru,Jv=gs),Lc&&(ln.outputName=li,n[Lc]=ln),ev.test(li)?(ln.pattern=ie(li),i.push(ln)):n[li]=ln}}},He=function(nt){n={},i=[],Se(nt),ji(b,function(yt,un){a[un]=yt.children})},ot=function(nt){var yt=/^(~)?(.+)$/;nt&&(ss.text_block_elements=ss.block_elements=null,ji(xi(nt,","),function(un){var xe=yt.exec(un),ct=xe[1]==="~",rt=ct?"span":"div",ln=xe[2];if(a[ln]=a[rt],c[ln]=rt,ct||(ye[ln.toUpperCase()]={},ye[ln]={}),!n[ln]){var yn=n[rt];yn=n1({},yn),delete yn.removeEmptyAttrs,delete yn.removeEmpty,n[ln]=yn}ji(a,function(Ca,li){Ca[rt]&&(a[li]=Ca=n1({},a[li]),Ca[ln]=Ca[rt])})}))},Cn=function(nt){var yt=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;ss[e.schema]=null,nt&&ji(xi(nt,","),function(un){var xe=yt.exec(un),ct,rt;xe&&(rt=xe[1],rt?ct=a[xe[2]]:ct=a[xe[2]]={"#comment":{}},ct=a[xe[2]],ji(xi(xe[3],"|"),function(ln){rt==="-"?delete ct[ln]:ct[ln]={}}))})},Ft=function(nt){var yt=n[nt],un;if(yt)return yt;for(un=i.length;un--;)if(yt=i[un],yt.pattern.test(nt))return yt};e.valid_elements?He(e.valid_elements):(ji(b,function(nt,yt){n[yt]={attributes:nt.attributes,attributesOrder:nt.attributesOrder},a[yt]=nt.children}),e.schema!=="html5"&&ji(xi("strong/b em/i"),function(nt){var yt=xi(nt,"/");n[yt[1]].outputName=yt[0]}),ji(he,function(nt,yt){n[yt]&&(e.padd_empty_block_inline_children&&(n[yt].paddInEmptyBlock=!0),n[yt].removeEmpty=!0)}),ji(xi("ol ul blockquote a table tbody"),function(nt){n[nt]&&(n[nt].removeEmpty=!0)}),ji(xi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(nt){n[nt].paddEmpty=!0}),ji(xi("span"),function(nt){n[nt].removeEmptyAttrs=!0})),ot(e.custom_elements),Cn(e.valid_children),Se(e.extended_valid_elements),Cn("+ol[ul|ol],+ul[ul|ol]"),ji({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(nt,yt){n[yt]&&(n[yt].parentsRequired=xi(nt))}),e.invalid_elements&&ji(_f(e.invalid_elements),function(nt){n[nt]&&delete n[nt]}),Ft("span")||Se("span[!data-mce-type|*]");var je=L(C),on=L(k),ft=L(N),_t=L(G),dt=L(ye),Et=L(re),Gt=L(he),tt=L(W),$t=L(I),ir=L(K),Vr=L(ae),$r=L(F),Mi=L(f),ro=function(nt,yt){var un=a[nt.toLowerCase()];return!!(un&&un[yt.toLowerCase()])},Ku=function(nt,yt){var un,xe,ct=Ft(nt);if(ct)if(yt){if(ct.attributes[yt])return!0;if(un=ct.attributePatterns,un){for(xe=un.length;xe--;)if(un[xe].pattern.test(nt))return!0}}else return!0;return!1},mc=L(c);return{children:a,elements:n,getValidStyles:je,getValidClasses:ft,getBlockElements:dt,getInvalidStyles:on,getShortEndedElements:tt,getTextBlockElements:Et,getTextInlineElements:Gt,getBoolAttrs:_t,getElementRule:Ft,getSelfClosingElements:$t,getNonEmptyElements:ir,getMoveCaretBeforeOnEnterElements:Vr,getWhiteSpaceElements:$r,getSpecialElements:Mi,isValidChild:ro,isValid:Ku,getCustomElements:mc,addValidElements:Se,setValidElements:He,addCustomElements:ot,addValidChildren:Cn}},a1=function(e,n,a,i){var c=function(f){return f=parseInt(f,10).toString(16),f.length>1?f:"0"+f};return"#"+c(n)+c(a)+c(i)},Oc=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,g=/\s+$/,b,C={},k,N,F=fv;e=e||{},n&&(k=n.getValidStyles(),N=n.getInvalidStyles());var I=(`\\" \\' \\; \\: ; : `+F).split(" ");for(b=0;b<I.length;b++)C[I[b]]=F+b,C[F+b]=I[b];return{toHex:function(W){return W.replace(i,a1)},parse:function(W){var G={},q,K,ae,re,ye=e.url_converter,he=e.url_converter_scope||a,ie=function(ft,_t,dt){var Et=G[ft+"-top"+_t];if(Et){var Gt=G[ft+"-right"+_t];if(Gt){var tt=G[ft+"-bottom"+_t];if(tt){var $t=G[ft+"-left"+_t];if($t){var ir=[Et,Gt,tt,$t];for(b=ir.length-1;b--&&ir[b]===ir[b+1];);b>-1&&dt||(G[ft+_t]=b===-1?ir[0]:ir.join(" "),delete G[ft+"-top"+_t],delete G[ft+"-right"+_t],delete G[ft+"-bottom"+_t],delete G[ft+"-left"+_t])}}}}},Se=function(ft){var _t=G[ft],dt;if(_t){for(_t=_t.split(" "),dt=_t.length;dt--;)if(_t[dt]!==_t[0])return!1;return G[ft]=_t[0],!0}},He=function(ft,_t,dt,Et){Se(_t)&&Se(dt)&&Se(Et)&&(G[ft]=G[_t]+" "+G[dt]+" "+G[Et],delete G[_t],delete G[dt],delete G[Et])},ot=function(ft){return re=!0,C[ft]},Cn=function(ft,_t){return re&&(ft=ft.replace(/\uFEFF[0-9]/g,function(dt){return C[dt]})),_t||(ft=ft.replace(/\\([\'\";:])/g,"$1")),ft},Ft=function(ft){return String.fromCharCode(parseInt(ft.slice(1),16))},je=function(ft){return ft.replace(/\\[0-9a-f]+/gi,Ft)},on=function(ft,_t,dt,Et,Gt,tt){if(Gt=Gt||tt,Gt)return Gt=Cn(Gt),"'"+Gt.replace(/\'/g,"\\'")+"'";if(_t=Cn(_t||dt||Et),!e.allow_script_urls){var $t=_t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test($t)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test($t))return""}return ye&&(_t=ye.call(he,_t,"style")),"url('"+_t.replace(/\'/g,"\\'")+"')"};if(W){for(W=W.replace(/[\u0000-\u001F]/g,""),W=W.replace(/\\[\"\';:\uFEFF]/g,ot).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(ft){return ft.replace(/[;:]/g,ot)});q=f.exec(W);)if(f.lastIndex=q.index+q[0].length,K=q[1].replace(g,"").toLowerCase(),ae=q[2].replace(g,""),K&&ae){if(K=je(K),ae=je(ae),K.indexOf(F)!==-1||K.indexOf('"')!==-1||!e.allow_script_urls&&(K==="behavior"||/expression\s*\(|\/\*|\*\//.test(ae)))continue;K==="font-weight"&&ae==="700"?ae="bold":(K==="color"||K==="background-color")&&(ae=ae.toLowerCase()),ae=ae.replace(i,a1),ae=ae.replace(c,on),G[K]=re?Cn(ae,!0):ae}ie("border","",!0),ie("border","-width"),ie("border","-color"),ie("border","-style"),ie("padding",""),ie("margin",""),He("border","border-width","border-style","border-color"),G.border==="medium none"&&delete G.border,G["border-image"]==="none"&&delete G["border-image"]}return G},serialize:function(W,G){var q="",K=function(re){var ye,he=k[re];if(he)for(var ie=0,Se=he.length;ie<Se;ie++)re=he[ie],ye=W[re],ye&&(q+=(q.length>0?" ":"")+re+": "+ye+";")},ae=function(re,ye){var he=N["*"];return he&&he[re]?!1:(he=N[ye],!(he&&he[re]))};return G&&k?(K("*"),K(G)):zt(W,function(re,ye){re&&(!N||ae(ye,G))&&(q+=(q.length>0?" ":"")+ye+": "+re+";")}),q}}},aw={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ma=function(e){return e instanceof Event||Ie(e.initEvent)},ey=function(e){return e.isDefaultPrevented===Nt||e.isDefaultPrevented===at},o1=function(e){return Tr(e.preventDefault)||ma(e)},i1=function(e,n){var a=n??{};for(var i in e)qn(aw,i)||(a[i]=e[i]);return Sn(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},Xe=function(e,n,a,i){var c,f=i1(n,i);return f.type=e,Tr(f.target)&&(f.target=(c=f.srcElement)!==null&&c!==void 0?c:a),o1(n)&&(f.preventDefault=function(){f.defaultPrevented=!0,f.isDefaultPrevented=Nt,Ie(n.preventDefault)?n.preventDefault():ma(n)&&(n.returnValue=!1)},f.stopPropagation=function(){f.cancelBubble=!0,f.isPropagationStopped=Nt,Ie(n.stopPropagation)?n.stopPropagation():ma(n)&&(n.cancelBubble=!0)},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=Nt,f.stopPropagation()},ey(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?Nt:at,f.isPropagationStopped=f.cancelBubble===!0?Nt:at,f.isImmediatePropagationStopped=at)),f},ty="mce-data-",ny=/^(?:mouse|contextmenu)|click/,gv=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},ph=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},fd=function(e){return Sn(e)&&ny.test(e.type)},hv=function(e,n){var a=Xe(e.type,e,document,n);if(fd(e)&&Rt(e.pageX)&&!Rt(e.clientX)){var i=a.target.ownerDocument||document,c=i.documentElement,f=i.body,g=a;g.pageX=e.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0),g.pageY=e.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&f.clientTop||0)}return Rt(a.metaKey)&&(a.metaKey=!1),a},vd=function(e,n,a){var i=e.document,c={type:"ready"};if(a.domLoaded){n(c);return}var f=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},g=function(){ph(e,"DOMContentLoaded",g),ph(e,"load",g),a.domLoaded||(a.domLoaded=!0,n(c)),e=null};f()?g():gv(e,"DOMContentLoaded",g),a.domLoaded||gv(e,"load",g)},_m=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=ty+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,c){var f=this,g,b,C,k,N,F,I,W=window,G=function(K){f.executeHandlers(hv(K||W.event),g)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[f.expando]?g=n[f.expando]:(g=f.count++,n[f.expando]=g,f.events[g]={}),c=c||n;var q=a.split(" ");for(C=q.length;C--;){if(k=q[C],F=G,N=I=!1,k==="DOMContentLoaded"&&(k="ready"),f.domLoaded&&k==="ready"&&n.readyState==="complete"){i.call(c,hv({type:k}));continue}f.hasMouseEnterLeave||(N=f.mouseEnterLeave[k],N&&(F=function(K){var ae=K.currentTarget,re=K.relatedTarget;if(re&&ae.contains)re=ae.contains(re);else for(;re&&re!==ae;)re=re.parentNode;re||(K=hv(K||W.event),K.type=K.type==="mouseout"?"mouseleave":"mouseenter",K.target=ae,f.executeHandlers(K,g))})),!f.hasFocusIn&&(k==="focusin"||k==="focusout")&&(I=!0,N=k==="focusin"?"focus":"blur",F=function(K){K=hv(K||W.event),K.type=K.type==="focus"?"focusin":"focusout",f.executeHandlers(K,g)}),b=f.events[g][k],b?k==="ready"&&f.domLoaded?i(hv({type:k})):b.push({func:i,scope:c}):(f.events[g][k]=b=[{func:i,scope:c}],b.fakeName=N,b.capture=I,b.nativeHandler=F,k==="ready"?vd(n,F,f):gv(n,N||k,F,I))}return n=b=null,i}},e.prototype.unbind=function(n,a,i){var c,f,g,b,C;if(!n||n.nodeType===3||n.nodeType===8)return this;var k=n[this.expando];if(k){if(C=this.events[k],a){var N=a.split(" ");for(f=N.length;f--;)if(b=N[f],c=C[b],c){if(i){for(g=c.length;g--;)if(c[g].func===i){var F=c.nativeHandler,I=c.fakeName,W=c.capture;c=c.slice(0,g).concat(c.slice(g+1)),c.nativeHandler=F,c.fakeName=I,c.capture=W,C[b]=c}}(!i||c.length===0)&&(delete C[b],ph(n,c.fakeName||b,c.nativeHandler,c.capture))}}else zt(C,function(G,q){ph(n,G.fakeName||q,G.nativeHandler,G.capture)}),C={};for(b in C)if(qn(C,b))return this;delete this.events[k];try{delete n[this.expando]}catch{n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var c;if(!n||n.nodeType===3||n.nodeType===8)return this;var f=hv({type:a,target:n},i);do c=n[this.expando],c&&this.executeHandlers(f,c),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!f.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],c=i&&i[n.type];if(c)for(var f=0,g=c.length;f<g;f++){var b=c[f];if(b&&b.func.call(b.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),xo,zn,Is,ow,cs,ry,zl,Bf,Mf,zs,pv,Ko,bu,$l,bv,Bm,dd,qt,oi="sizzle"+-new Date,al=window.document,Ll=0,bh=0,iw=l1(),u1=l1(),yv=l1(),Cv=function(e,n){return e===n&&(zs=!0),0},Mm="undefined",yh=1<<31,R3={}.hasOwnProperty,$s=[],ay=$s.pop,md=$s.push,wv=$s.push,oy=$s.slice,Sv=$s.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},uw="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ja="[\\x20\\t\\r\\n\\f]",Ti="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Gi="\\["+ja+"*("+Ti+")(?:"+ja+"*([*^$|!~]?=)"+ja+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ti+"))|)"+ja+"*\\]",sw=":("+Ti+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Gi+")*)|.*)\\)|)",s1=new RegExp("^"+ja+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ja+"+$","g"),_3=new RegExp("^"+ja+"*,"+ja+"*"),cw=new RegExp("^"+ja+"*([>+~]|"+ja+")"+ja+"*"),Dc=new RegExp("="+ja+`*([^\\]'"]*?)`+ja+"*\\]","g"),B3=new RegExp(sw),Nm=new RegExp("^"+Ti+"$"),c1={ID:new RegExp("^#("+Ti+")"),CLASS:new RegExp("^\\.("+Ti+")"),TAG:new RegExp("^("+Ti+"|[*])"),ATTR:new RegExp("^"+Gi),PSEUDO:new RegExp("^"+sw),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ja+"*(even|odd|(([+-]|)(\\d*)n|)"+ja+"*(?:([+-]|)"+ja+"*(\\d+)|))"+ja+"*\\)|)","i"),bool:new RegExp("^(?:"+uw+")$","i"),needsContext:new RegExp("^"+ja+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ja+"*((?:-\\d)?\\d*)"+ja+"*\\)|)(?=[^-]|$)","i")},M3=/^(?:input|select|textarea|button)$/i,lw=/^h\d$/i,iy=/^[^{]+\{\s*\[native \w/,uy=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sy=/[+~]/,N3=/'|\\/g,xv=new RegExp("\\\\([\\da-f]{1,6}"+ja+"?|("+ja+")|.)","ig"),Tv=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{wv.apply($s=oy.call(al.childNodes),al.childNodes),$s[al.childNodes.length].nodeType}catch{wv={apply:$s.length?function(n,a){md.apply(n,oy.call(a))}:function(n,a){for(var i=n.length,c=0;n[i++]=a[c++];);n.length=i-1}}}var ia=function(e,n,a,i){var c,f,g,b,C,k,N,F,I,W;if((n?n.ownerDocument||n:al)!==Ko&&pv(n),n=n||Ko,a=a||[],!e||typeof e!="string")return a;if((b=n.nodeType)!==1&&b!==9)return[];if($l&&!i){if(c=uy.exec(e))if(g=c[1]){if(b===9)if(f=n.getElementById(g),f&&f.parentNode){if(f.id===g)return a.push(f),a}else return a;else if(n.ownerDocument&&(f=n.ownerDocument.getElementById(g))&&qt(n,f)&&f.id===g)return a.push(f),a}else{if(c[2])return wv.apply(a,n.getElementsByTagName(e)),a;if((g=c[3])&&xo.getElementsByClassName)return wv.apply(a,n.getElementsByClassName(g)),a}if(xo.qsa&&(!bv||!bv.test(e))){if(F=N=oi,I=n,W=b===9&&e,b===1&&n.nodeName.toLowerCase()!=="object"){for(k=cs(e),(N=n.getAttribute("id"))?F=N.replace(N3,"\\$&"):n.setAttribute("id",F),F="[id='"+F+"'] ",C=k.length;C--;)k[C]=F+v1(k[C]);I=sy.test(e)&&f1(n.parentNode)||n,W=k.join(",")}if(W)try{return wv.apply(a,I.querySelectorAll(W)),a}catch{}finally{N||n.removeAttribute("id")}}}return zl(e.replace(s1,"$1"),n,a,i)};function l1(){var e=[];function n(a,i){return e.push(a+" ")>zn.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function ol(e){return e[oi]=!0,e}function fw(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||yh)-(~e.sourceIndex||yh);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function il(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function Hl(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function Ev(e){return ol(function(n){return n=+n,ol(function(a,i){for(var c,f=e([],a.length,n),g=f.length;g--;)a[c=f[g]]&&(a[c]=!(i[c]=a[c]))})})}function f1(e){return e&&typeof e.getElementsByTagName!==Mm&&e}xo=ia.support={},ow=ia.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},pv=ia.setDocument=function(e){var n,a=e?e.ownerDocument||e:al,i=a.defaultView;function c(f){try{return f.top}catch{}return null}return a===Ko||a.nodeType!==9||!a.documentElement?Ko:(Ko=a,bu=a.documentElement,$l=!ow(a),i&&i!==c(i)&&(i.addEventListener?i.addEventListener("unload",function(){pv()},!1):i.attachEvent&&i.attachEvent("onunload",function(){pv()})),xo.attributes=!0,xo.getElementsByTagName=!0,xo.getElementsByClassName=iy.test(a.getElementsByClassName),xo.getById=!0,zn.find.ID=function(f,g){if(typeof g.getElementById!==Mm&&$l){var b=g.getElementById(f);return b&&b.parentNode?[b]:[]}},zn.filter.ID=function(f){var g=f.replace(xv,Tv);return function(b){return b.getAttribute("id")===g}},zn.find.TAG=xo.getElementsByTagName?function(f,g){if(typeof g.getElementsByTagName!==Mm)return g.getElementsByTagName(f)}:function(f,g){var b,C=[],k=0,N=g.getElementsByTagName(f);if(f==="*"){for(;b=N[k++];)b.nodeType===1&&C.push(b);return C}return N},zn.find.CLASS=xo.getElementsByClassName&&function(f,g){if($l)return g.getElementsByClassName(f)},Bm=[],bv=[],xo.disconnectedMatch=!0,bv=bv.length&&new RegExp(bv.join("|")),Bm=Bm.length&&new RegExp(Bm.join("|")),n=iy.test(bu.compareDocumentPosition),qt=n||iy.test(bu.contains)?function(f,g){var b=f.nodeType===9?f.documentElement:f,C=g&&g.parentNode;return f===C||!!(C&&C.nodeType===1&&(b.contains?b.contains(C):f.compareDocumentPosition&&f.compareDocumentPosition(C)&16))}:function(f,g){if(g){for(;g=g.parentNode;)if(g===f)return!0}return!1},Cv=n?function(f,g){if(f===g)return zs=!0,0;var b=!f.compareDocumentPosition-!g.compareDocumentPosition;return b||(b=(f.ownerDocument||f)===(g.ownerDocument||g)?f.compareDocumentPosition(g):1,b&1||!xo.sortDetached&&g.compareDocumentPosition(f)===b?f===a||f.ownerDocument===al&&qt(al,f)?-1:g===a||g.ownerDocument===al&&qt(al,g)?1:Mf?Sv.call(Mf,f)-Sv.call(Mf,g):0:b&4?-1:1)}:function(f,g){if(f===g)return zs=!0,0;var b,C=0,k=f.parentNode,N=g.parentNode,F=[f],I=[g];if(!k||!N)return f===a?-1:g===a?1:k?-1:N?1:Mf?Sv.call(Mf,f)-Sv.call(Mf,g):0;if(k===N)return fw(f,g);for(b=f;b=b.parentNode;)F.unshift(b);for(b=g;b=b.parentNode;)I.unshift(b);for(;F[C]===I[C];)C++;return C?fw(F[C],I[C]):F[C]===al?-1:I[C]===al?1:0},a)},ia.matches=function(e,n){return ia(e,null,null,n)},ia.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Ko&&pv(e),n=n.replace(Dc,"='$1']"),xo.matchesSelector&&$l&&(!Bm||!Bm.test(n))&&(!bv||!bv.test(n)))try{var a=dd.call(e,n);if(a||xo.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return ia(n,Ko,null,[e]).length>0},ia.contains=function(e,n){return(e.ownerDocument||e)!==Ko&&pv(e),qt(e,n)},ia.attr=function(e,n){(e.ownerDocument||e)!==Ko&&pv(e);var a=zn.attrHandle[n.toLowerCase()],i=a&&R3.call(zn.attrHandle,n.toLowerCase())?a(e,n,!$l):void 0;return i!==void 0?i:xo.attributes||!$l?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},ia.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ia.uniqueSort=function(e){var n,a=[],i=0,c=0;if(zs=!xo.detectDuplicates,Mf=!xo.sortStable&&e.slice(0),e.sort(Cv),zs){for(;n=e[c++];)n===e[c]&&(i=a.push(c));for(;i--;)e.splice(a[i],1)}return Mf=null,e},Is=ia.getText=function(e){var n,a="",i=0,c=e.nodeType;if(c){if(c===1||c===9||c===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=Is(e)}else if(c===3||c===4)return e.nodeValue}else for(;n=e[i++];)a+=Is(n);return a},zn=ia.selectors={cacheLength:50,createPseudo:ol,match:c1,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xv,Tv),e[3]=(e[3]||e[4]||e[5]||"").replace(xv,Tv),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ia.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ia.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return c1.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&B3.test(a)&&(n=cs(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(xv,Tv).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=iw[e+" "];return n||(n=new RegExp("(^|"+ja+")"+e+"("+ja+"|$)"))&&iw(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Mm&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var c=ia.attr(i,e);return c==null?n==="!=":n?(c+="",n==="="?c===a:n==="!="?c!==a:n==="^="?a&&c.indexOf(a)===0:n==="*="?a&&c.indexOf(a)>-1:n==="$="?a&&c.slice(-a.length)===a:n==="~="?(" "+c+" ").indexOf(a)>-1:n==="|="?c===a||c.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,c){var f=e.slice(0,3)!=="nth",g=e.slice(-4)!=="last",b=n==="of-type";return i===1&&c===0?function(C){return!!C.parentNode}:function(C,k,N){var F,I,W,G,q,K,ae=f!==g?"nextSibling":"previousSibling",re=C.parentNode,ye=b&&C.nodeName.toLowerCase(),he=!N&&!b;if(re){if(f){for(;ae;){for(W=C;W=W[ae];)if(b?W.nodeName.toLowerCase()===ye:W.nodeType===1)return!1;K=ae=e==="only"&&!K&&"nextSibling"}return!0}if(K=[g?re.firstChild:re.lastChild],g&&he){for(I=re[oi]||(re[oi]={}),F=I[e]||[],q=F[0]===Ll&&F[1],G=F[0]===Ll&&F[2],W=q&&re.childNodes[q];W=++q&&W&&W[ae]||(G=q=0)||K.pop();)if(W.nodeType===1&&++G&&W===C){I[e]=[Ll,q,G];break}}else if(he&&(F=(C[oi]||(C[oi]={}))[e])&&F[0]===Ll)G=F[1];else for(;(W=++q&&W&&W[ae]||(G=q=0)||K.pop())&&!((b?W.nodeName.toLowerCase()===ye:W.nodeType===1)&&++G&&(he&&((W[oi]||(W[oi]={}))[e]=[Ll,G]),W===C)););return G-=c,G===i||G%i===0&&G/i>=0}}},PSEUDO:function(e,n){var a,i=zn.pseudos[e]||zn.setFilters[e.toLowerCase()]||ia.error("unsupported pseudo: "+e);return i[oi]?i(n):i.length>1?(a=[e,e,"",n],zn.setFilters.hasOwnProperty(e.toLowerCase())?ol(function(c,f){for(var g,b=i(c,n),C=b.length;C--;)g=Sv.call(c,b[C]),c[g]=!(f[g]=b[C])}):function(c){return i(c,0,a)}):i}},pseudos:{not:ol(function(e){var n=[],a=[],i=ry(e.replace(s1,"$1"));return i[oi]?ol(function(c,f,g,b){for(var C,k=i(c,null,b,[]),N=c.length;N--;)(C=k[N])&&(c[N]=!(f[N]=C))}):function(c,f,g){return n[0]=c,i(n,null,g,a),n[0]=null,!a.pop()}}),has:ol(function(e){return function(n){return ia(e,n).length>0}}),contains:ol(function(e){return e=e.replace(xv,Tv),function(n){return(n.textContent||n.innerText||Is(n)).indexOf(e)>-1}}),lang:ol(function(e){return Nm.test(e||"")||ia.error("unsupported lang: "+e),e=e.replace(xv,Tv).toLowerCase(),function(n){var a;do if(a=$l?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===bu},focus:function(e){return e===Ko.activeElement&&(!Ko.hasFocus||Ko.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!zn.pseudos.empty(e)},header:function(e){return lw.test(e.nodeName)},input:function(e){return M3.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:Ev(function(){return[0]}),last:Ev(function(e,n){return[n-1]}),eq:Ev(function(e,n,a){return[a<0?a+n:a]}),even:Ev(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:Ev(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:Ev(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:Ev(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},zn.pseudos.nth=zn.pseudos.eq,Ce(["radio","checkbox","file","password","image"],function(e){zn.pseudos[e]=il(e)}),Ce(["submit","reset"],function(e){zn.pseudos[e]=Hl(e)});function Ch(){}Ch.prototype=zn.filters=zn.pseudos,zn.setFilters=new Ch,cs=ia.tokenize=function(e,n){var a,i,c,f,g,b,C,k=u1[e+" "];if(k)return n?0:k.slice(0);for(g=e,b=[],C=zn.preFilter;g;){(!a||(i=_3.exec(g)))&&(i&&(g=g.slice(i[0].length)||g),b.push(c=[])),a=!1,(i=cw.exec(g))&&(a=i.shift(),c.push({value:a,type:i[0].replace(s1," ")}),g=g.slice(a.length));for(f in zn.filter)zn.filter.hasOwnProperty(f)&&(i=c1[f].exec(g))&&(!C[f]||(i=C[f](i)))&&(a=i.shift(),c.push({value:a,type:f,matches:i}),g=g.slice(a.length));if(!a)break}return n?g.length:g?ia.error(e):u1(e,b).slice(0)};function v1(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function d1(e,n,a){var i=n.dir,c=a&&i==="parentNode",f=bh++;return n.first?function(g,b,C){for(;g=g[i];)if(g.nodeType===1||c)return e(g,b,C)}:function(g,b,C){var k,N,F=[Ll,f];if(C){for(;g=g[i];)if((g.nodeType===1||c)&&e(g,b,C))return!0}else for(;g=g[i];)if(g.nodeType===1||c){if(N=g[oi]||(g[oi]={}),(k=N[i])&&k[0]===Ll&&k[1]===f)return F[2]=k[2];if(N[i]=F,F[2]=e(g,b,C))return!0}}}function gd(e){return e.length>1?function(n,a,i){for(var c=e.length;c--;)if(!e[c](n,a,i))return!1;return!0}:e[0]}function P3(e,n,a){for(var i=0,c=n.length;i<c;i++)ia(e,n[i],a);return a}function m1(e,n,a,i,c){for(var f,g=[],b=0,C=e.length,k=n!=null;b<C;b++)(f=e[b])&&(!a||a(f,i,c))&&(g.push(f),k&&n.push(b));return g}function Pm(e,n,a,i,c,f){return i&&!i[oi]&&(i=Pm(i)),c&&!c[oi]&&(c=Pm(c,f)),ol(function(g,b,C,k){var N,F,I,W=[],G=[],q=b.length,K=g||P3(n||"*",C.nodeType?[C]:C,[]),ae=e&&(g||!n)?m1(K,W,e,C,k):K,re=a?c||(g?e:q||i)?[]:b:ae;if(a&&a(ae,re,C,k),i)for(N=m1(re,G),i(N,[],C,k),F=N.length;F--;)(I=N[F])&&(re[G[F]]=!(ae[G[F]]=I));if(g){if(c||e){if(c){for(N=[],F=re.length;F--;)(I=re[F])&&N.push(ae[F]=I);c(null,re=[],N,k)}for(F=re.length;F--;)(I=re[F])&&(N=c?Sv.call(g,I):W[F])>-1&&(g[N]=!(b[N]=I))}}else re=m1(re===b?re.splice(q,re.length):re),c?c(null,b,re,k):wv.apply(b,re)})}function wh(e){for(var n,a,i,c=e.length,f=zn.relative[e[0].type],g=f||zn.relative[" "],b=f?1:0,C=d1(function(F){return F===n},g,!0),k=d1(function(F){return Sv.call(n,F)>-1},g,!0),N=[function(F,I,W){var G=!f&&(W||I!==Bf)||((n=I).nodeType?C(F,I,W):k(F,I,W));return n=null,G}];b<c;b++)if(a=zn.relative[e[b].type])N=[d1(gd(N),a)];else{if(a=zn.filter[e[b].type].apply(null,e[b].matches),a[oi]){for(i=++b;i<c&&!zn.relative[e[i].type];i++);return Pm(b>1&&gd(N),b>1&&v1(e.slice(0,b-1).concat({value:e[b-2].type===" "?"*":""})).replace(s1,"$1"),a,b<i&&wh(e.slice(b,i)),i<c&&wh(e=e.slice(i)),i<c&&v1(e))}N.push(a)}return gd(N)}function Sh(e,n){var a=n.length>0,i=e.length>0,c=function(f,g,b,C,k){var N,F,I,W=0,G="0",q=f&&[],K=[],ae=Bf,re=f||i&&zn.find.TAG("*",k),ye=Ll+=ae==null?1:Math.random()||.1,he=re.length;for(k&&(Bf=g!==Ko&&g);G!==he&&(N=re[G])!=null;G++){if(i&&N){for(F=0;I=e[F++];)if(I(N,g,b)){C.push(N);break}k&&(Ll=ye)}a&&((N=!I&&N)&&W--,f&&q.push(N))}if(W+=G,a&&G!==W){for(F=0;I=n[F++];)I(q,K,g,b);if(f){if(W>0)for(;G--;)q[G]||K[G]||(K[G]=ay.call(C));K=m1(K)}wv.apply(C,K),k&&!f&&K.length>0&&W+n.length>1&&ia.uniqueSort(C)}return k&&(Ll=ye,Bf=ae),q};return a?ol(c):c}ry=ia.compile=function(e,n){var a,i=[],c=[],f=yv[e+" "];if(!f){for(n||(n=cs(e)),a=n.length;a--;)f=wh(n[a]),f[oi]?i.push(f):c.push(f);f=yv(e,Sh(c,i)),f.selector=e}return f},zl=ia.select=function(e,n,a,i){var c,f,g,b,C,k=typeof e=="function"&&e,N=!i&&cs(e=k.selector||e);if(a=a||[],N.length===1){if(f=N[0]=N[0].slice(0),f.length>2&&(g=f[0]).type==="ID"&&xo.getById&&n.nodeType===9&&$l&&zn.relative[f[1].type]){if(n=(zn.find.ID(g.matches[0].replace(xv,Tv),n)||[])[0],n)k&&(n=n.parentNode);else return a;e=e.slice(f.shift().value.length)}for(c=c1.needsContext.test(e)?0:f.length;c--&&(g=f[c],!zn.relative[b=g.type]);)if((C=zn.find[b])&&(i=C(g.matches[0].replace(xv,Tv),sy.test(f[0].type)&&f1(n.parentNode)||n))){if(f.splice(c,1),e=i.length&&v1(f),!e)return wv.apply(a,i),a;break}}return(k||ry(e,N))(i,n,!$l,a,sy.test(e)&&f1(n.parentNode)||n),a},xo.sortStable=oi.split("").sort(Cv).join("")===oi,xo.detectDuplicates=!!zs,pv(),xo.sortDetached=!0;var cy=document,Ho=Array.prototype.push,hd=Array.prototype.slice,Ro=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,yu=_m.Event,pd=ze.makeMap("children,contents,next,prev"),Ls=function(e){return typeof e<"u"},g1=function(e){return typeof e=="string"},Vl=function(e){return e&&e===e.window},Fm=function(e,n){n=n||cy;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var c;c=a.firstChild;)i.appendChild(c);return i},Im=function(e,n,a,i){var c;if(g1(n))n=Fm(n,kv(e[0]));else if(n.length&&!n.nodeType){if(n=Wn.makeArray(n),i)for(c=n.length-1;c>=0;c--)Im(e,n[c],a,i);else for(c=0;c<n.length;c++)Im(e,n[c],a,i);return e}if(n.nodeType)for(c=e.length;c--;)a.call(e[c],n);return e},vw=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},dw=function(e,n,a){var i,c;return n=Wn(n)[0],e.each(function(){var f=this;(!a||i!==f.parentNode)&&(i=f.parentNode,c=n.cloneNode(!1),f.parentNode.insertBefore(c,f)),c.appendChild(f)}),e},F3=ze.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),I3=ze.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),z3={for:"htmlFor",class:"className",readonly:"readOnly"},mw={float:"cssFloat"},h1={},p1={},Ei=function(e,n){return new Wn.fn.init(e,n)},b1=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},ly=/^\s*|\s*$/g,nc=function(e){return e==null?"":(""+e).replace(ly,"")},Ma=function(e,n){var a,i,c,f;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(f=e[i],n.call(f,i,f)===!1))break}else for(c=0;c<a&&(f=e[c],n.call(f,c,f)!==!1);c++);return e},Hs=function(e,n){var a=[];return Ma(e,function(i,c){n(c,i)&&a.push(c)}),a},kv=function(e){return e?e.nodeType===9?e:e.ownerDocument:cy};Ei.fn=Ei.prototype={constructor:Ei,selector:"",context:null,length:0,init:function(e,n){var a=this,i,c;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return Wn(e).attr(n);a.context=n=document}if(g1(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Ro.exec(e),i)if(i[1])for(c=Fm(e,kv(n)).firstChild;c;)Ho.call(a,c),c=c.nextSibling;else{if(c=kv(n).getElementById(i[2]),!c)return a;if(c.id!==i[2])return a.find(e);a.length=1,a[0]=c}else return Wn(n).find(e);else this.add(e,!1);return a},toArray:function(){return ze.toArray(this)},add:function(e,n){var a=this,i,c;if(g1(e))return a.add(Wn(e));if(n!==!1)for(i=Wn.unique(a.toArray().concat(Wn.makeArray(e))),a.length=i.length,c=0;c<i.length;c++)a[c]=i[c];else Ho.apply(a,Wn.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")Ma(e,function(c,f){a.attr(c,f)});else if(Ls(n))this.each(function(){var c;if(this.nodeType===1){if(c=h1[e],c&&c.set){c.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=h1[e],i&&i.get)return i.get(a[0],e);if(I3[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=z3[e]||e,typeof e=="object")Ma(e,function(i,c){a.prop(i,c)});else if(Ls(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,c,f=function(b){return b.replace(/-(\D)/g,function(C,k){return k.toUpperCase()})},g=function(b){return b.replace(/[A-Z]/g,function(C){return"-"+C})};if(typeof e=="object")Ma(e,function(b,C){a.css(b,C)});else if(Ls(n))e=f(e),typeof n=="number"&&!F3[e]&&(n=n.toString()+"px"),a.each(function(){var b=this.style;if(c=p1[e],c&&c.set){c.set(this,n);return}try{this.style[mw[e]||e]=n}catch{}(n===null||n==="")&&(b.removeProperty?b.removeProperty(g(e)):b.removeAttribute(e))});else{if(i=a[0],c=p1[e],c&&c.get)return c.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(g(e))}catch{return}else return i.currentStyle?i.currentStyle[f(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],yu.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Ls(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch{Wn(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Ls(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Im(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Im(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Im(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Im(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return Wn(e).append(this),this},prependTo:function(e){return Wn(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return dw(this,e)},wrapAll:function(e){return dw(this,e,!0)},wrapInner:function(e){return this.each(function(){Wn(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Wn(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Wn(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Ma(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,c){var f=vw(c,e);if(f!==n){var g=c.className;f?c.className=nc((" "+g+" ").replace(" "+e+" "," ")):c.className+=g?" "+e:e}})),a},hasClass:function(e){return vw(this[0],e)},each:function(e){return Ma(this,e)},on:function(e,n){return this.each(function(){yu.bind(this,e,n)})},off:function(e,n){return this.each(function(){yu.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?yu.fire(this,e.type,e):yu.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Wn(hd.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)Wn.find(e,this[n],i);return Wn(i)},filter:function(e){return Wn(typeof e=="function"?Hs(this.toArray(),function(n,a){return e(a,n)}):Wn.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof Wn&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&Wn(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),Wn(n)},offset:function(e){var n,a,i,c=0,f=0,g;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(g=n.getBoundingClientRect(),c=g.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,f=g.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:c,top:f})},push:Ho,sort:Array.prototype.sort,splice:Array.prototype.splice},ze.extend(Ei,{extend:ze.extend,makeArray:function(e){return Vl(e)||e.nodeType?[e]:ze.toArray(e)},inArray:b1,isArray:ze.isArray,each:Ma,trim:nc,grep:Hs,find:ia,expr:ia.selectors,unique:ia.uniqueSort,text:ia.getText,contains:ia.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=Wn.find.matchesSelector(n[0],e)?[n[0]]:[]:n=Wn.find.matches(e,n),n}});var fy=function(e,n,a){var i=[],c=e[n];for(typeof a!="string"&&a instanceof Wn&&(a=a[0]);c&&c.nodeType!==9&&!(a!==void 0&&(c===a||typeof a=="string"&&Wn(c).is(a)));)c.nodeType===1&&i.push(c),c=c[n];return i},y1=function(e,n,a,i){var c=[];for(i instanceof Wn&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&Wn(e).is(i)))break;c.push(e)}return c},gw=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};Ma({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return fy(e,"parentNode")},next:function(e){return gw(e,"nextSibling",1)},prev:function(e){return gw(e,"previousSibling",1)},children:function(e){return y1(e.firstChild,"nextSibling",1)},contents:function(e){return ze.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){Ei.fn[e]=function(a){var i=this,c=[];i.each(function(){var g=n.call(c,this,a,c);g&&(Wn.isArray(g)?c.push.apply(c,g):c.push(g))}),this.length>1&&(pd[e]||(c=Wn.unique(c)),e.indexOf("parents")===0&&(c=c.reverse()));var f=Wn(c);return a?f.filter(a):f}}),Ma({parentsUntil:function(e,n){return fy(e,"parentNode",n)},nextUntil:function(e,n){return y1(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return y1(e,"previousSibling",1,n).slice(1)}},function(e,n){Ei.fn[e]=function(a,i){var c=this,f=[];c.each(function(){var b=n.call(f,this,a,f);b&&(Wn.isArray(b)?f.push.apply(f,b):f.push(b))}),this.length>1&&(f=Wn.unique(f),(e.indexOf("parents")===0||e==="prevUntil")&&(f=f.reverse()));var g=Wn(f);return i?g.filter(i):g}}),Ei.fn.is=function(e){return!!e&&this.filter(e).length>0},Ei.fn.init.prototype=Ei.fn,Ei.overrideDefaults=function(e){var n,a=function(i,c){return n=n||e(),arguments.length===0&&(i=n.element),c||(c=n.context),new a.fn.init(i,c)};return Wn.extend(a,this),a},Ei.attrHooks=h1,Ei.cssHooks=p1;var Wn=Ei,zm=ze.each,C1=ze.grep,vy=hn.ie,Vo=/^([a-z0-9],?)+$/i,rc=function(e,n,a){var i=n.keep_values,c={set:function(g,b,C){n.url_converter&&b!==null&&(b=n.url_converter.call(n.url_converter_scope||a(),b,C,g[0])),g.attr("data-mce-"+C,b).attr(C,b)},get:function(g,b){return g.attr("data-mce-"+b)||g.attr(b)}},f={style:{set:function(g,b){if(b!==null&&typeof b=="object"){g.css(b);return}i&&g.attr("data-mce-style",b),b!==null&&typeof b=="string"?(g.removeAttr("style"),g.css(e.parse(b))):g.attr("style",b)},get:function(g){var b=g.attr("data-mce-style")||g.attr("style");return b=e.serialize(e.parse(b),g[0].nodeName),b}}};return i&&(f.href=f.src=c),f},hw=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},bd=function(e,n){var a=0,i,c;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)c=e.nodeType,!(n&&c===3&&(c===i||!e.nodeValue.length))&&(a++,i=c);return a},Oa=function(e,n){n===void 0&&(n={});var a={},i=window,c={},f=0,g=!0,b=!0,C=xc.forElement(B.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),k=[],N=n.schema?n.schema:Fs({}),F=Oc({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),I=n.ownEvents?new _m:_m.Event,W=N.getBlockElements(),G=Wn.overrideDefaults(function(){return{context:e,element:Pp.getRoot()}}),q=function(le){if(typeof le=="string")return!!W[le];if(le){var Oe=le.nodeType;if(Oe)return!!(Oe===1&&W[le.nodeName])}return!1},K=function(le){return le&&e&&Nn(le)?e.getElementById(le):le},ae=function(le){return G(typeof le=="string"?K(le):le)},re=function(le,Oe,gt){var kt,Zn,qr=ae(le);return qr.length&&(kt=Qv[Oe],kt&&kt.get?Zn=kt.get(qr,Oe):Zn=qr.attr(Oe)),typeof Zn>"u"&&(Zn=gt||""),Zn},ye=function(le){var Oe=K(le);return Oe?Oe.attributes:[]},he=function(le,Oe,gt){gt===""&&(gt=null);var kt=ae(le),Zn=kt.attr(Oe);if(kt.length){var qr=Qv[Oe];qr&&qr.set?qr.set(kt,gt,Oe):kt.attr(Oe,gt),Zn!==gt&&n.onSetAttrib&&n.onSetAttrib({attrElm:kt,attrName:Oe,attrValue:gt})}},ie=function(le,Oe){if(!vy||le.nodeType!==1||Oe)return le.cloneNode(Oe);var gt=e.createElement(le.nodeName);return zm(ye(le),function(kt){he(gt,kt.nodeName,re(le,kt.nodeName))}),gt},Se=function(){return n.root_element||e.body},He=function(le){var Oe=xf(le);return{x:Oe.x,y:Oe.y,w:Oe.width,h:Oe.height}},ot=function(le,Oe){return ih(e.body,K(le),Oe)},Cn=function(le,Oe,gt){var kt=Nn(Oe)?ae(le).css(Oe,gt):ae(le).css(Oe);n.update_styles&&hw(F,kt)},Ft=function(le,Oe){var gt=ae(le).css(Oe);n.update_styles&&hw(F,gt)},je=function(le,Oe,gt){var kt=ae(le);return gt?kt.css(Oe):(Oe=Oe.replace(/-(\D)/g,function(Zn,qr){return qr.toUpperCase()}),Oe==="float"&&(Oe=hn.browser.isIE()?"styleFloat":"cssFloat"),kt[0]&&kt[0].style?kt[0].style[Oe]:void 0)},on=function(le){var Oe,gt;return le=K(le),Oe=je(le,"width"),gt=je(le,"height"),Oe.indexOf("px")===-1&&(Oe=0),gt.indexOf("px")===-1&&(gt=0),{w:parseInt(Oe,10)||le.offsetWidth||le.clientWidth,h:parseInt(gt,10)||le.offsetHeight||le.clientHeight}},ft=function(le){le=K(le);var Oe=ot(le),gt=on(le);return{x:Oe.x,y:Oe.y,w:gt.w,h:gt.h}},_t=function(le,Oe){var gt;if(!le)return!1;if(!Array.isArray(le)){if(Oe==="*")return le.nodeType===1;if(Vo.test(Oe)){var kt=Oe.toLowerCase().split(/,/),Zn=le.nodeName.toLowerCase();for(gt=kt.length-1;gt>=0;gt--)if(kt[gt]===Zn)return!0;return!1}if(le.nodeType&&le.nodeType!==1)return!1}var qr=Array.isArray(le)?le:[le];return ia(Oe,qr[0].ownerDocument||qr[0],null,qr).length>0},dt=function(le,Oe,gt,kt){var Zn=[],qr,Ga=K(le);for(kt=kt===void 0,gt=gt||(Se().nodeName!=="BODY"?Se().parentNode:null),ze.is(Oe,"string")&&(qr=Oe,Oe==="*"?Oe=function(Zg){return Zg.nodeType===1}:Oe=function(Zg){return _t(Zg,qr)});Ga&&!(Ga===gt||Tr(Ga.nodeType)||oh(Ga)||Un(Ga));){if(!Oe||typeof Oe=="function"&&Oe(Ga))if(kt)Zn.push(Ga);else return[Ga];Ga=Ga.parentNode}return kt?Zn:null},Et=function(le,Oe,gt){var kt=dt(le,Oe,gt,!1);return kt&&kt.length>0?kt[0]:null},Gt=function(le,Oe,gt){var kt=Oe;if(le){for(typeof Oe=="string"&&(kt=function(Zn){return _t(Zn,Oe)}),le=le[gt];le;le=le[gt])if(typeof kt=="function"&&kt(le))return le}return null},tt=function(le,Oe){return Gt(le,Oe,"nextSibling")},$t=function(le,Oe){return Gt(le,Oe,"previousSibling")},ir=function(le,Oe){return ia(le,K(Oe)||n.root_element||e,[])},Vr=function(le,Oe,gt){var kt,Zn=typeof le=="string"?K(le):le;if(!Zn)return!1;if(ze.isArray(Zn)&&(Zn.length||Zn.length===0))return kt=[],zm(Zn,function(Ga,Zg){Ga&&kt.push(Oe.call(gt,typeof Ga=="string"?K(Ga):Ga,Zg))}),kt;var qr=gt||this;return Oe.call(qr,Zn)},$r=function(le,Oe){ae(le).each(function(gt,kt){zm(Oe,function(Zn,qr){he(kt,qr,Zn)})})},Mi=function(le,Oe){var gt=ae(le);vy?gt.each(function(kt,Zn){if(Zn.canHaveHTML!==!1){for(;Zn.firstChild;)Zn.removeChild(Zn.firstChild);try{Zn.innerHTML="<br>"+Oe,Zn.removeChild(Zn.firstChild)}catch{Wn("<div></div>").html("<br>"+Oe).contents().slice(1).appendTo(Zn)}return Oe}}):gt.html(Oe)},ro=function(le,Oe,gt,kt,Zn){return Vr(le,function(qr){var Ga=typeof Oe=="string"?e.createElement(Oe):Oe;return $r(Ga,gt),kt&&(typeof kt!="string"&&kt.nodeType?Ga.appendChild(kt):typeof kt=="string"&&Mi(Ga,kt)),Zn?Ga:qr.appendChild(Ga)})},Ku=function(le,Oe,gt){return ro(e.createElement(le),le,Oe,gt,!0)},mc=Ps.decode,nt=Ps.encodeAllRaw,yt=function(le,Oe,gt){var kt="",Zn;kt+="<"+le;for(Zn in Oe)Zi(Oe,Zn)&&(kt+=" "+Zn+'="'+nt(Oe[Zn])+'"');return typeof gt<"u"?kt+">"+gt+"</"+le+">":kt+" />"},un=function(le){var Oe,gt=e.createElement("div"),kt=e.createDocumentFragment();for(kt.appendChild(gt),le&&(gt.innerHTML=le);Oe=gt.firstChild;)kt.appendChild(Oe);return kt.removeChild(gt),kt},xe=function(le,Oe){var gt=ae(le);return Oe?gt.each(function(){for(var kt;kt=this.firstChild;)kt.nodeType===3&&kt.data.length===0?this.removeChild(kt):this.parentNode.insertBefore(kt,this)}).remove():gt.remove(),gt.length>1?gt.toArray():gt[0]},ct=function(le){return Vr(le,function(Oe){var gt,kt=Oe.attributes;for(gt=kt.length-1;gt>=0;gt--)Oe.removeAttributeNode(kt.item(gt))})},rt=function(le){return F.parse(le)},ln=function(le,Oe){return F.serialize(le,Oe)},yn=function(le){var Oe,gt;if(Pp!==Oa.DOM&&e===document){if(a[le])return;a[le]=!0}gt=e.getElementById("mceDefaultStyles"),gt||(gt=e.createElement("style"),gt.id="mceDefaultStyles",gt.type="text/css",Oe=e.getElementsByTagName("head")[0],Oe.firstChild?Oe.insertBefore(gt,Oe.firstChild):Oe.appendChild(gt)),gt.styleSheet?gt.styleSheet.cssText+=le:gt.appendChild(e.createTextNode(le))},Ca=function(le){le||(le=""),Ce(le.split(","),function(Oe){c[Oe]=!0,C.load(Oe,Qe)})},li=function(le,Oe,gt){ae(le).toggleClass(Oe,gt).each(function(){this.className===""&&Wn(this).attr("class",null)})},Qo=function(le,Oe){ae(le).addClass(Oe)},Du=function(le,Oe){li(le,Oe,!1)},Ru=function(le,Oe){return ae(le).hasClass(Oe)},gs=function(le){ae(le).show()},ei=function(le){ae(le).hide()},Lc=function(le){return ae(le).css("display")==="none"},hs=function(le){return(le||"mce_")+f++},Jv=function(le){var Oe=typeof le=="string"?K(le):le;return En(Oe)?Oe.outerHTML:Wn("<div></div>").append(Wn(Oe).clone()).html()},Ur=function(le,Oe){ae(le).each(function(){try{if("outerHTML"in this){this.outerHTML=Oe;return}}catch{}xe(Wn(this).html(Oe),!0)})},Na=function(le,Oe){var gt=K(Oe);return Vr(le,function(kt){var Zn=gt.parentNode,qr=gt.nextSibling;return qr?Zn.insertBefore(kt,qr):Zn.appendChild(kt),kt})},fi=function(le,Oe,gt){return Vr(Oe,function(kt){return ze.is(kt,"array")&&(le=le.cloneNode(!0)),gt&&zm(C1(kt.childNodes),function(Zn){le.appendChild(Zn)}),kt.parentNode.replaceChild(le,kt)})},ev=function(le,Oe){var gt;return le.nodeName!==Oe.toUpperCase()&&(gt=Ku(Oe),zm(ye(le),function(kt){he(gt,kt.nodeName,re(le,kt.nodeName))}),fi(gt,le,!0)),gt||le},tv=function(le,Oe){for(var gt=le,kt;gt;){for(kt=Oe;kt&&gt!==kt;)kt=kt.parentNode;if(gt===kt)break;gt=gt.parentNode}return!gt&&le.ownerDocument?le.ownerDocument.documentElement:gt},nv=function(le){return F.toHex(ze.trim(le))},Yg=function(le){if(En(le)){var Oe=le.nodeName.toLowerCase()==="a"&&!re(le,"href")&&re(le,"id");if(re(le,"name")||re(le,"data-mce-bookmark")||Oe)return!0}return!1},dO=function(le,Oe){var gt,kt,Zn=0;if(Yg(le))return!1;if(le=le.firstChild,le){var qr=new Xr(le,le.parentNode),Ga=N?N.getWhiteSpaceElements():{};Oe=Oe||(N?N.getNonEmptyElements():null);do{if(gt=le.nodeType,En(le)){var Zg=le.getAttribute("data-mce-bogus");if(Zg){le=qr.next(Zg==="all");continue}if(kt=le.nodeName.toLowerCase(),Oe&&Oe[kt]){if(kt==="br"){Zn++,le=qr.next();continue}return!1}if(Yg(le))return!1}if(gt===8||gt===3&&!Ec(le.nodeValue)||gt===3&&le.parentNode&&Ga[le.parentNode.nodeName]&&Ec(le.nodeValue))return!1;le=qr.next()}while(le)}return Zn<=1},mO=function(){return e.createRange()},wF=function(le,Oe,gt){var kt=mO(),Zn,qr,Ga;if(le&&Oe)return kt.setStart(le.parentNode,bd(le)),kt.setEnd(Oe.parentNode,bd(Oe)),Zn=kt.extractContents(),kt=mO(),kt.setStart(Oe.parentNode,bd(Oe)+1),kt.setEnd(le.parentNode,bd(le)+1),qr=kt.extractContents(),Ga=le.parentNode,Ga.insertBefore(Kb(Pp,Zn),le),gt?Ga.insertBefore(gt,le):Ga.insertBefore(Oe,le),Ga.insertBefore(Kb(Pp,qr),le),xe(le),gt||Oe},o3=function(le,Oe,gt,kt){if(ze.isArray(le)){for(var Zn=le.length,qr=[];Zn--;)qr[Zn]=o3(le[Zn],Oe,gt,kt);return qr}n.collect&&(le===e||le===i)&&k.push([le,Oe,gt,kt]);var Ga=I.bind(le,Oe,gt,kt||Pp);return Ga},i3=function(le,Oe,gt){if(ze.isArray(le)){for(var kt=le.length,Zn=[];kt--;)Zn[kt]=i3(le[kt],Oe,gt);return Zn}else{if(k.length>0&&(le===e||le===i))for(var kt=k.length;kt--;){var qr=k[kt];le===qr[0]&&(!Oe||Oe===qr[1])&&(!gt||gt===qr[2])&&I.unbind(qr[0],qr[1],qr[2])}return I.unbind(le,Oe,gt)}},SF=function(le,Oe,gt){return I.fire(le,Oe,gt)},cB=function(le){if(le&&En(le)){var Oe=le.getAttribute("data-mce-contenteditable");return Oe&&Oe!=="inherit"?Oe:le.contentEditable!=="inherit"?le.contentEditable:null}else return null},xF=function(le){for(var Oe=Se(),gt=null;le&&le!==Oe&&(gt=cB(le),gt===null);le=le.parentNode);return gt},TF=function(){if(k.length>0)for(var le=k.length;le--;){var Oe=k[le];I.unbind(Oe[0],Oe[1],Oe[2])}zt(c,function(gt,kt){C.unload(kt),delete c[kt]}),ia.setDocument&&ia.setDocument()},EF=function(le,Oe){if(vy){for(;le;){if(Oe===le)return!0;le=le.parentNode}return!1}else return le===Oe||Oe.contains(le)},kF=function(le){return"startContainer: "+le.startContainer.nodeName+", startOffset: "+le.startOffset+", endContainer: "+le.endContainer.nodeName+", endOffset: "+le.endOffset},Pp={doc:e,settings:n,win:i,files:c,stdMode:g,boxModel:b,styleSheetLoader:C,boundEvents:k,styles:F,schema:N,events:I,isBlock:q,$:G,$$:ae,root:null,clone:ie,getRoot:Se,getViewPort:He,getRect:ft,getSize:on,getParent:Et,getParents:dt,get:K,getNext:tt,getPrev:$t,select:ir,is:_t,add:ro,create:Ku,createHTML:yt,createFragment:un,remove:xe,setStyle:Cn,getStyle:je,setStyles:Ft,removeAllAttribs:ct,setAttrib:he,setAttribs:$r,getAttrib:re,getPos:ot,parseStyle:rt,serializeStyle:ln,addStyle:yn,loadCSS:Ca,addClass:Qo,removeClass:Du,hasClass:Ru,toggleClass:li,show:gs,hide:ei,isHidden:Lc,uniqueId:hs,setHTML:Mi,getOuterHTML:Jv,setOuterHTML:Ur,decode:mc,encode:nt,insertAfter:Na,replace:fi,rename:ev,findCommonAncestor:tv,toHex:nv,run:Vr,getAttribs:ye,isEmpty:dO,createRng:mO,nodeIndex:bd,split:wF,bind:o3,unbind:i3,fire:SF,getContentEditable:cB,getContentEditableParent:xF,destroy:TF,isChildOf:EF,dumpRng:kF},Qv=rc(F,n,L(Pp));return Pp};Oa.DOM=Oa(document),Oa.nodeIndex=bd;var yd=Oa.DOM,w1=ze.each,$m=ze.grep,dy=0,pw=1,xh=2,bw=3,Nf=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var c=yd,f,g=function(){c.remove(k),f&&(f.onerror=f.onload=f=null)},b=function(){g(),a()},C=function(){g(),Ie(i)?i():typeof console<"u"&&console.log&&console.log("Failed to load script: "+n)},k=c.uniqueId();f=document.createElement("script"),f.id=k,f.type="text/javascript",f.src=ze._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=b,f.onerror=C,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)},e.prototype.isDone=function(n){return this.states[n]===xh},e.prototype.markDone=function(n){this.states[n]=xh},e.prototype.add=function(n,a,i,c){var f=this.states[n];this.queue.push(n),f===void 0&&(this.states[n]=dy),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:c,scope:i||this}))},e.prototype.load=function(n,a,i,c){return this.add(n,a,i,c)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,c){var f=this,g=[],b=function(k,N){w1(f.scriptLoadedCallbacks[N],function(F){Ie(F[k])&&F[k].call(F.scope)}),f.scriptLoadedCallbacks[N]=void 0};f.queueLoadedCallbacks.push({success:a,failure:c,scope:i||this});var C=function(){var k=$m(n);if(n.length=0,w1(k,function(F){if(f.states[F]===xh){b("success",F);return}if(f.states[F]===bw){b("failure",F);return}f.states[F]!==pw&&(f.states[F]=pw,f.loading++,f.loadScript(F,function(){f.states[F]=xh,f.loading--,b("success",F),C()},function(){f.states[F]=bw,f.loading--,g.push(F),b("failure",F),C()}))}),!f.loading){var N=f.queueLoadedCallbacks.slice(0);f.queueLoadedCallbacks.length=0,w1(N,function(F){g.length===0?Ie(F.success)&&F.success.call(F.scope):Ie(F.failure)&&F.failure.call(F.scope,g)})}};C()},e.ScriptLoader=new e,e}(),Cu=function(e){var n=e,a=function(){return n},i=function(c){n=c};return{get:a,set:i}},my=function(e){return vt(e)&&qn(e,"raw")},$3=function(e){return dn(e)&&e.length>1},ul={},Pf=Cu("en"),S1=function(){return Mr(ul,Pf.get())},L3=function(){return gr(ul,function(e){return gn({},e)})},H3=function(e){e&&Pf.set(e)},Cd=function(){return Pf.get()},wd=function(e,n){var a=ul[e];a||(ul[e]=a={}),zt(n,function(i,c){a[c.toLowerCase()]=i})},x1=function(e){var n=S1().getOr({}),a=function(C){return Ie(C)?Object.prototype.toString.call(C):i(C)?"":""+C},i=function(C){return C===""||C===null||C===void 0},c=function(C){var k=a(C);return Mr(n,k.toLowerCase()).map(a).getOr(k)},f=function(C){return C.replace(/{context:\w+}$/,"")};if(i(e))return"";if(my(e))return a(e.raw);if($3(e)){var g=e.slice(1),b=c(e[0]).replace(/\{([0-9]+)\}/g,function(C,k){return qn(g,k)?a(g[k]):C});return f(b)}return f(c(e))},Ir=function(){return S1().bind(function(e){return Mr(e,"_dir")}).exists(function(e){return e==="rtl"})},Uo=function(e){return qn(ul,e)},wu={getData:L3,setCode:H3,getCode:Cd,add:wd,translate:x1,isRtl:Ir,hasCode:Uo},Hu=function(){var e=[],n={},a={},i=[],c=function(q,K){var ae=xt(i,function(re){return re.name===q&&re.state===K});Ce(ae,function(re){return re.callback()})},f=function(q){if(a[q])return a[q].instance},g=function(q){var K;return a[q]&&(K=a[q].dependencies),K||[]},b=function(q,K){Hu.languageLoad!==!1&&G(q,function(){var ae=wu.getCode(),re=","+(K||"")+",";!ae||K&&re.indexOf(","+ae+",")===-1||Nf.ScriptLoader.add(n[q]+"/langs/"+ae+".js")},"loaded")},C=function(q,K,ae){var re=K;return e.push(re),a[q]={instance:re,dependencies:ae},c(q,"added"),re},k=function(q){delete n[q],delete a[q]},N=function(q,K){return typeof K=="object"?K:typeof q=="string"?{prefix:"",resource:K,suffix:""}:{prefix:q.prefix,resource:K,suffix:q.suffix}},F=function(q,K){var ae=n[q];Ce(K,function(re){Nf.ScriptLoader.add(ae+"/"+re)})},I=function(q,K,ae,re){var ye=g(q);Ce(ye,function(he){var ie=N(K,he);W(ie.resource,ie,void 0,void 0)}),ae&&(re?ae.call(re):ae.call(Nf))},W=function(q,K,ae,re,ye){if(!n[q]){var he=typeof K=="string"?K:K.prefix+K.resource+K.suffix;he.indexOf("/")!==0&&he.indexOf("://")===-1&&(he=Hu.baseURL+"/"+he),n[q]=he.substring(0,he.lastIndexOf("/"));var ie=function(){c(q,"loaded"),I(q,K,ae,re)};a[q]?ie():Nf.ScriptLoader.add(he,ie,re,ye)}},G=function(q,K,ae){ae===void 0&&(ae="added"),qn(a,q)&&ae==="added"||qn(n,q)&&ae==="loaded"?K():i.push({name:q,state:ae,callback:K})};return{items:e,urls:n,lookup:a,_listeners:i,get:f,dependencies:g,requireLangPack:b,add:C,remove:k,createUrl:N,addComponents:F,load:W,waitFor:G}};Hu.languageLoad=!0,Hu.baseURL="",Hu.PluginManager=Hu(),Hu.ThemeManager=Hu();var ya=function(e){var n=Cu(Z.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(Z.none())},c=function(){return n.get().isSome()},f=function(){return n.get()},g=function(b){a(),n.set(Z.some(b))};return{clear:i,isSet:c,get:f,set:g}},Av=function(){var e=ya(Qe),n=function(a){return e.get().each(a)};return gn(gn({},e),{on:n})},T1=function(e,n){var a=null,i=function(){ve(a)||(clearTimeout(a),a=null)},c=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];ve(a)&&(a=setTimeout(function(){a=null,e.apply(null,f)},n))};return{cancel:i,throttle:c}},Xo=function(e,n){var a=null,i=function(){ve(a)||(clearTimeout(a),a=null)},c=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];i(),a=setTimeout(function(){a=null,e.apply(null,f)},n)};return{cancel:i,throttle:c}},Ul=function(e,n){var a=$(e,n);return a===void 0||a===""?[]:a.split(" ")},V3=function(e,n,a){var i=Ul(e,n),c=i.concat([a]);return E(e,n,c.join(" ")),!0},U3=function(e,n,a){var i=xt(Ul(e,n),function(c){return c!==a});return i.length>0?E(e,n,i.join(" ")):Fe(e,n),!1},E1=function(e){return e.dom.classList!==void 0},k1=function(e){return Ul(e,"class")},gy=function(e,n){return V3(e,"class",n)},hy=function(e,n){return U3(e,"class",n)},Sd=function(e,n){E1(e)?e.dom.classList.add(n):gy(e,n)},Th=function(e){var n=E1(e)?e.dom.classList:k1(e);n.length===0&&Fe(e,"class")},py=function(e,n){if(E1(e)){var a=e.dom.classList;a.remove(n)}else hy(e,n);Th(e)},by=function(e,n){return E1(e)&&e.dom.classList.contains(n)},Lm=function(e,n){var a=[];return Ce(eu(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Lm(i,n))}),a},ki=function(e,n){return fm(n,e)},ls=L("mce-annotation"),Eh=L("data-mce-annotation"),Wo=L("data-mce-annotation-uid"),A1=function(e,n){var a=e.selection.getRng(),i=B.fromDom(a.startContainer),c=B.fromDom(e.getBody()),f=n.fold(function(){return"."+ls()},function(k){return"["+Eh()+'="'+k+'"]'}),g=Zc(i,a.startOffset).getOr(i),b=go(g,f,function(k){return pa(k,c)}),C=function(k,N){return pe(k,N)?Z.some($(k,N)):Z.none()};return b.bind(function(k){return C(k,""+Wo()).bind(function(N){return C(k,""+Eh()).map(function(F){var I=yy(e,N);return{uid:N,name:F,elements:I}})})})},Ff=function(e){return _a(e)&&by(e,ls())},yy=function(e,n){var a=B.fromDom(e.getBody());return ki(a,"["+Wo()+'="'+n+'"]')},Cy=function(e,n){var a=B.fromDom(e.getBody()),i=ki(a,"["+Eh()+'="'+n+'"]'),c={};return Ce(i,function(f){var g=$(f,Wo()),b=Mr(c,g).getOr([]);c[g]=b.concat([f])}),c},yw=function(e,n){var a=Cu({}),i=function(){return{listeners:[],previous:Av()}},c=function(N,F){f(N,function(I){return F(I),I})},f=function(N,F){var I=a.get(),W=Mr(I,N).getOrThunk(i),G=F(W);I[N]=G,a.set(I)},g=function(N,F,I){c(N,function(W){Ce(W.listeners,function(G){return G(!0,N,{uid:F,nodes:Ee(I,function(q){return q.dom})})})})},b=function(N){c(N,function(F){Ce(F.listeners,function(I){return I(!1,N)})})},C=Xo(function(){var N=a.get(),F=na(Pt(N));Ce(F,function(I){f(I,function(W){var G=W.previous.get();return A1(e,Z.some(I)).fold(function(){G.isSome()&&(b(I),W.previous.clear())},function(q){var K=q.uid,ae=q.name,re=q.elements;ad(G,K)||(g(ae,K,re),W.previous.set(K))}),{previous:W.previous,listeners:W.listeners}})})},30);e.on("remove",function(){C.cancel()}),e.on("NodeChange",function(){C.throttle()});var k=function(N,F){f(N,function(I){return{previous:I.previous,listeners:I.listeners.concat([F])}})};return{addListener:k}},wy=function(e,n){var a=function(i){return Z.from(i.attr(Eh())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){Ce(i,function(c){a(c).each(function(f){f.persistent===!1&&c.unwrap()})})})})},kh=function(){var e={},n=function(i,c){e[i]={name:i,settings:c}},a=function(i){return Mr(e,i).map(function(c){return c.settings})};return{register:n,lookup:a}},O1=0,Cw=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return O1++,e+"_"+i+O1+String(a)},W3=function(e,n){Ce(n,function(a){Sd(e,a)})},qi=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,eu(B.fromDom(i))},Yo=function(e){return Ee(e,B.fromDom)},Su=function(e){return e.dom.innerHTML},xu=function(e,n){var a=Cc(e),i=a.dom,c=B.fromDom(i.createDocumentFragment()),f=qi(n,i);bf(c,f),yf(e),zo(e,c)},Vu=function(e,n){return B.fromDom(e.dom.cloneNode(n))},_o=function(e){return Vu(e,!1)},D1=function(e){return Vu(e,!0)},R1=function(e,n,a){a===void 0&&(a=at);var i=new Xr(e,n),c=function(f){var g;do g=i[f]();while(g&&!Vt(g)&&!a(g));return Z.from(g).filter(Vt)};return{current:function(){return Z.from(i.current()).filter(Vt)},next:function(){return c("next")},prev:function(){return c("prev")},prev2:function(){return c("prev2")}}},Sy=function(e,n){var a=n||function(g){return e.isBlock(g)||va(g)||Ba(g)},i=function(g,b,C,k){if(Vt(g)){var N=k(g,b,g.data);if(N!==-1)return Z.some({container:g,offset:N})}return C().bind(function(F){return i(F.container,F.offset,C,k)})},c=function(g,b,C,k){var N=R1(g,k,a);return i(g,b,function(){return N.prev().map(function(F){return{container:F,offset:F.length}})},C).getOrNull()},f=function(g,b,C,k){var N=R1(g,k,a);return i(g,b,function(){return N.next().map(function(F){return{container:F,offset:0}})},C).getOrNull()};return{backwards:c,forwards:f}},xd=Math.round,Ov=function(e){return e?{left:xd(e.left),top:xd(e.top),bottom:xd(e.bottom),right:xd(e.right),width:xd(e.width),height:xd(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},_1=function(e,n){return e=Ov(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},B1=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},M1=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},Hm=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:M1(n.top-e.bottom,e,n)},Vm=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:M1(n.bottom-e.top,e,n)},ww=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},Wl=function(e,n,a){return Math.min(Math.max(e,n),a)},Td=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},La=function(e,n){if(En(e)&&e.hasChildNodes()){var a=e.childNodes,i=Wl(n,0,a.length-1);return a[i]}else return e},j3=function(e,n){if(!(n<0&&En(e)&&e.hasChildNodes()))return La(e,n)},G3=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),N1=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&G3.test(e)},q3=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},Sw=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},wt=En,K3=Fl,jo=gu("display","block table"),xy=gu("float","left right"),Ed=Sw(wt,K3,nr(xy)),xw=nr(gu("white-space","pre pre-line pre-wrap")),ru=Vt,Ah=va,P1=Oa.nodeIndex,Oh=j3,sl=function(e){return"createRange"in e?e.createRange():Oa.DOM.createRng()},Dh=function(e){return e&&/[\r\n\t ]/.test(e)},Rh=function(e){return!!e.setStart&&!!e.setEnd},Tu=function(e){var n=e.startContainer,a=e.startOffset;if(Dh(e.toString())&&xw(n.parentNode)&&Vt(n)){var i=n.data;if(Dh(i[a-1])||Dh(i[a+1]))return!0}return!1},cl=function(e){var n=e.ownerDocument,a=sl(n),i=n.createTextNode(is),c=e.parentNode;c.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var f=Ov(a.getBoundingClientRect());return c.removeChild(i),f},Tw=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,c=e.endOffset;if(n===a&&Vt(a)&&i===0&&c===1){var f=e.cloneRange();return f.setEndAfter(a),jl(f)}else return null},au=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},jl=function(e){var n,a=e.getClientRects();return a.length>0?n=Ov(a[0]):n=Ov(e.getBoundingClientRect()),!Rh(e)&&Ah(e)&&au(n)?cl(e):au(n)&&Rh(e)?Tw(e):n},Dv=function(e,n){var a=_1(e,n);return a.width=1,a.right=a.left+1,a},_h=function(e){var n=[],a=function(C){C.height!==0&&(n.length>0&&B1(C,n[n.length-1])||n.push(C))},i=function(C,k){var N=sl(C.ownerDocument);if(k<C.data.length){if(N1(C.data[k]))return n;if(N1(C.data[k-1])&&(N.setStart(C,k),N.setEnd(C,k+1),!Tu(N)))return a(Dv(jl(N),!1)),n}k>0&&(N.setStart(C,k-1),N.setEnd(C,k),Tu(N)||a(Dv(jl(N),!1))),k<C.data.length&&(N.setStart(C,k),N.setEnd(C,k+1),Tu(N)||a(Dv(jl(N),!0)))},c=e.container(),f=e.offset();if(ru(c))return i(c,f),n;if(wt(c))if(e.isAtEnd()){var g=Oh(c,f);ru(g)&&i(g,g.data.length),Ed(g)&&!Ah(g)&&a(Dv(jl(g),!1))}else{var g=Oh(c,f);if(ru(g)&&i(g,0),Ed(g)&&e.isAtEnd())return a(Dv(jl(g),!1)),n;var b=Oh(e.container(),e.offset()-1);Ed(b)&&!Ah(b)&&(jo(b)||jo(g)||!Ed(g))&&a(Dv(jl(b),!1)),Ed(g)&&a(Dv(jl(g),!0))}return n},Be=function(e,n,a){var i=function(){return ru(e),n===0},c=function(){return ru(e)?n>=e.data.length:n>=e.childNodes.length},f=function(){var N=sl(e.ownerDocument);return N.setStart(e,n),N.setEnd(e,n),N},g=function(){return a||(a=_h(Be(e,n))),a},b=function(){return g().length>0},C=function(N){return N&&e===N.container()&&n===N.offset()},k=function(N){return Oh(e,N?n-1:n)};return{container:L(e),offset:L(n),toRange:f,getClientRects:g,isVisible:b,isAtStart:i,isAtEnd:c,isEqual:C,getNode:k}};Be.fromRangeStart=function(e){return Be(e.startContainer,e.startOffset)},Be.fromRangeEnd=function(e){return Be(e.endContainer,e.endOffset)},Be.after=function(e){return Be(e.parentNode,P1(e)+1)},Be.before=function(e){return Be(e.parentNode,P1(e))},Be.isAbove=function(e,n){return tu(Xa(n.getClientRects()),aa(e.getClientRects()),Hm).getOr(!1)},Be.isBelow=function(e,n){return tu(aa(n.getClientRects()),Xa(e.getClientRects()),Vm).getOr(!1)},Be.isAtStart=function(e){return e?e.isAtStart():!1},Be.isAtEnd=function(e){return e?e.isAtEnd():!1},Be.isTextPosition=function(e){return e?Vt(e.container()):!1},Be.isElementPosition=function(e){return Be.isTextPosition(e)===!1};var If=function(e,n){Vt(n)&&n.data.length===0&&e.remove(n)},Um=function(e,n,a){n.insertNode(a),If(e,a.previousSibling),If(e,a.nextSibling)},X3=function(e,n,a){var i=Z.from(a.firstChild),c=Z.from(a.lastChild);n.insertNode(a),i.each(function(f){return If(e,f.previousSibling)}),c.each(function(f){return If(e,f.nextSibling)})},F1=function(e,n,a){Un(a)?X3(e,n,a):Um(e,n,a)},Rc=Vt,I1=mo,Ty=Oa.nodeIndex,Ey=function(e){var n=e.parentNode;return I1(n)?Ey(n):n},z1=function(e){return e?ws(e.childNodes,function(n,a){return I1(a)&&a.nodeName!=="BR"?n=n.concat(z1(a)):n.push(a),n},[]):[]},ky=function(e,n){for(;(e=e.previousSibling)&&Rc(e);)n+=e.data.length;return n},Ay=function(e){return function(n){return e===n}},Oy=function(e){var n,a;n=z1(Ey(e)),a=Lr(n,Ay(e),e),n=n.slice(0,a+1);var i=ws(n,function(c,f,g){return Rc(f)&&Rc(n[g-1])&&c++,c},0);return n=Bu(n,Ds([e.nodeName])),a=Lr(n,Ay(e),e),a-i},Dy=function(e){var n;return Rc(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+Oy(e)+"]"},kd=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},Ew=function(e,n){var a,i,c=[],f,g,b;return a=n.container(),i=n.offset(),Rc(a)?f=ky(a,i):(g=a.childNodes,i>=g.length?(f="after",i=g.length-1):f="before",a=g[i]),c.push(Dy(a)),b=kd(e,a),b=Bu(b,nr(mo)),c=c.concat(Cs(b,function(C){return Dy(C)})),c.reverse().join("/")+","+f},Y3=function(e,n,a){var i=z1(e);return i=Bu(i,function(c,f){return!Rc(c)||!Rc(i[f-1])}),i=Bu(i,Ds([n])),i[a]},Z3=function(e,n){for(var a=e,i=0,c;Rc(a);){if(c=a.data.length,n>=i&&n<=i+c){e=a,n=n-i;break}if(!Rc(a.nextSibling)){e=a,n=c;break}i+=c,a=a.nextSibling}return Rc(e)&&n>e.data.length&&(n=e.data.length),Be(e,n)},Wm=function(e,n){var a;if(!n)return null;var i=n.split(","),c=i[0].split("/");a=i.length>1?i[1]:"before";var f=ws(c,function(g,b){var C=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return C?(C[1]==="text()"&&(C[1]="#text"),Y3(g,C[1],parseInt(C[2],10))):null},e);return f?Rc(f)?Z3(f,parseInt(a,10)):(a==="after"?a=Ty(f)+1:a=Ty(f),Be(f.parentNode,a)):null},jm=Ba,$1=function(e,n,a){var i,c;for(c=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&Vt(i);i=i.previousSibling)c+=e(i.data).length;return c},Ry=function(e,n,a,i,c){var f=i[c?"startContainer":"endContainer"],g=i[c?"startOffset":"endOffset"],b=[],C,k=0,N=e.getRoot();for(Vt(f)?b.push(a?$1(n,f,g):g):(C=f.childNodes,g>=C.length&&C.length&&(k=1,g=Math.max(0,C.length-1)),b.push(e.nodeIndex(C[g],a)+k));f&&f!==N;f=f.parentNode)b.push(e.nodeIndex(f,a));return b},Gm=function(e,n,a,i){var c=n.dom,f={};return f.start=Ry(c,e,a,i,!0),n.isCollapsed()||(f.end=Ry(c,e,a,i,!1)),Pl(i)&&(f.isFakeCaret=!0),f},_y=function(e,n,a){var i=0;return ze.each(e.select(n),function(c){if(c.getAttribute("data-mce-bogus")!=="all"){if(c===a)return!1;i++}}),i},co=function(e,n){var a,i,c,f=n?"start":"end";a=e[f+"Container"],i=e[f+"Offset"],En(a)&&a.nodeName==="TR"&&(c=a.childNodes,a=c[Math.min(n?i:i-1,c.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},Bh=function(e){return co(e,!0),co(e,!1),e},ho=function(e,n){var a;if(En(e)&&(e=La(e,n),jm(e)))return e;if(Lu(e)&&(Vt(e)&&da(e)&&(e=e.parentNode),a=e.previousSibling,jm(a)||(a=e.nextSibling,jm(a))))return a},L1=function(e){return ho(e.startContainer,e.startOffset)||ho(e.endContainer,e.endOffset)},Ad=function(e,n,a){var i=a.getNode(),c=i?i.nodeName:null,f=a.getRng();if(jm(i)||c==="IMG")return{name:c,index:_y(a.dom,c,i)};var g=L1(f);return g?(c=g.tagName,{name:c,index:_y(a.dom,c,g)}):Gm(e,a,n,f)},By=function(e){var n=e.getRng();return{start:Ew(e.dom.getRoot(),Be.fromRangeStart(n)),end:Ew(e.dom.getRoot(),Be.fromRangeEnd(n))}},Mh=function(e){return{rng:e.getRng()}},My=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},kw=function(e,n){var a=e.dom,i=e.getRng(),c=a.uniqueId(),f=e.isCollapsed(),g=e.getNode(),b=g.nodeName;if(b==="IMG")return{name:b,index:_y(a,b,g)};var C=Bh(i.cloneRange());if(!f){C.collapse(!1);var k=My(a,c+"_end",n);F1(a,C,k)}i=Bh(i),i.collapse(!0);var N=My(a,c+"_start",n);return F1(a,i,N),e.moveToBookmark({id:c,keep:!0}),{id:c}},J3=function(e,n,a){return n===2?Ad($u,a,e):n===3?By(e):n?Mh(e):kw(e,!1)},Aw=Ze(Ad,mt,!0),Q3=Oa.DOM,H1="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Nh=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var c=e.getParam(n,"","hash");return Mr(c,e.id).getOr(a)}else return i},eE=function(e){return e.getParam("iframe_attrs",{})},Ow=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Ny=function(e){return e.getParam("document_base_url","")},tE=function(e){return Nh(e,"body_id","tinymce")},nE=function(e){return Nh(e,"body_class","")},V1=function(e){return e.getParam("content_security_policy","")},Py=function(e){return e.getParam("br_in_pre",!0)},Ai=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},qm=function(e){return e.getParam("forced_root_block_attrs",{})},Km=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Dw=function(e){return e.getParam("no_newline_selector","")},rE=function(e){return e.getParam("keep_styles",!0)},Ph=function(e){return e.getParam("end_container_on_empty_block",!1)},Fh=function(e){return ze.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Od=function(e){return ze.explode(e.getParam("font_size_classes",""))},U1=function(e){return e.getParam("images_dataimg_filter",Nt,"function")},Ih=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Fy=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},aE=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Gl=function(e){return e.getParam("icons","","string")},W1=function(e){return e.getParam("icons_url","","string")},oE=function(e){return e.getParam("images_upload_url","","string")},Rv=function(e){return e.getParam("images_upload_base_path","","string")},_v=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},iE=function(e){return e.getParam("images_upload_handler",null,"function")},j1=function(e){return e.getParam("content_css_cors",!1,"boolean")},G1=function(e){return e.getParam("referrer_policy","","string")},q1=function(e){return e.getParam("language","en","string")},ii=function(e){return e.getParam("language_url","","string")},Rw=function(e){return e.getParam("indent_use_margin",!1)},Iy=function(e){return e.getParam("indentation","40px","string")},_w=function(e){var n=e.getParam("content_css");return Nn(n)?Ee(n.split(","),Pa):dn(n)?n:n===!1||e.inline?[]:["default"]},Bw=function(e){var n=e.getParam("font_css",[]);return dn(n)?n:Ee(n.split(","),Pa)},ll=function(e){return e.getParam("directionality",wu.isRtl()?"rtl":void 0)},zf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Mw=function(e){var n=e.getParam("object_resizing");return n===!1||hn.iOS?!1:Nn(n)?n:"table,img,figure.image,div,video,iframe"},Nw=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},zy=function(e){return e.getParam("placeholder",Q3.getAttrib(e.getElement(),"placeholder"),"string")},K1=function(e){return e.getParam("event_root")},Pw=function(e){return e.getParam("service_message")},Xm=function(e){return e.getParam("theme")},uE=function(e){return e.getParam("validate")},zh=function(e){return e.getParam("inline_boundaries")!==!1},sE=function(e){return e.getParam("formats")},Ym=function(e){var n=e.getParam("preview_styles",H1);return Nn(n)?n:""},Dd=function(e){return e.getParam("format_empty_lines",!1,"boolean")},$y=function(e){return e.getParam("custom_ui_selector","","string")},Fw=function(e){return e.getParam("theme_url")},cE=function(e){return e.getParam("inline")},Iw=function(e){return e.getParam("hidden_input")},zw=function(e){return e.getParam("submit_patch")},Ly=function(e){return e.getParam("encoding")==="xml"},lE=function(e){return e.getParam("add_form_submit_trigger")},X1=function(e){return e.getParam("add_unload_trigger")},fE=function(e){return Ai(e)!==""},$h=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},vE=function(e){return e.getParam("disable_nodechange")},dE=function(e){return e.getParam("readonly")},mE=function(e){return e.getParam("content_css_cors")},Y1=function(e){return e.getParam("plugins","","string")},gE=function(e){return e.getParam("external_plugins")},Zm=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},$w=function(e){return e.getParam("visual",!0,"boolean")},hE=function(e){return e.getParam("visual_table_class","mce-item-table","string")},Hy=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},Lw=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},Vy=En,Hw=Vt,Vw=function(e){var n=e.parentNode;n&&n.removeChild(e)},Jm=function(e){var n=$u(e);return{count:e.length-n.length,text:n}},Uy=function(e){for(var n;(n=e.data.lastIndexOf(me))!==-1;)e.deleteData(n,1)},Wy=function(e,n){return Bv(e),n},pE=function(e,n){var a=Jm(e.data.substr(0,n.offset())),i=Jm(e.data.substr(n.offset())),c=a.text+i.text;return c.length>0?(Uy(e),Be(e,n.offset()-a.count)):n},bE=function(e,n){var a=n.container(),i=st(Br(a.childNodes),e).map(function(c){return c<n.offset()?Be(a,n.offset()-1):n}).getOr(n);return Bv(e),i},jy=function(e,n){return Hw(e)&&n.container()===e?pE(e,n):Wy(e,n)},yE=function(e,n){return n.container()===e.parentNode?bE(e,n):Wy(e,n)},Uw=function(e,n){return Be.isTextPosition(n)?jy(e,n):yE(e,n)},Bv=function(e){Vy(e)&&Lu(e)&&(Of(e)?e.removeAttribute("data-mce-caret"):Vw(e)),Hw(e)&&(Uy(e),e.data.length===0&&Vw(e))},Qm=tn().browser,Ww=Ba,CE=Fu,jw=hm,wE="*[contentEditable=false],video,audio,embed,object",Gy=function(e,n,a){var i=_1(n.getBoundingClientRect(),a),c,f;if(e.tagName==="BODY"){var g=e.ownerDocument.documentElement;c=e.scrollLeft||g.scrollLeft,f=e.scrollTop||g.scrollTop}else{var b=e.getBoundingClientRect();c=e.scrollLeft-b.left,f=e.scrollTop-b.top}i.left+=c,i.right+=c,i.top+=f,i.bottom+=f,i.width=1;var C=n.offsetWidth-n.clientWidth;return C>0&&(a&&(C*=-1),i.left+=C,i.right+=C),i},eg=function(e){for(var n=ki(B.fromDom(e),wE),a=0;a<n.length;a++){var i=n[a].dom,c=i.previousSibling;if(mh(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(f.length-1,1)}if(c=i.nextSibling,dh(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(0,1)}}},ou=function(e,n,a,i){var c=Av(),f,g,b=Ai(e),C=b.length>0?b:"p",k=function(q,K){var ae;if(N(),jw(K))return null;if(a(K)){g=JC(C,K,q);var re=Gy(n,K,q);Wn(g).css("top",re.top);var ye=Wn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(gn({},re)).appendTo(n)[0];c.set({caret:ye,element:K,before:q}),q&&Wn(ye).addClass("mce-visual-caret-before"),F(),ae=K.ownerDocument.createRange(),ae.setStart(g,0),ae.setEnd(g,0)}else return g=Lb(K,q),ae=K.ownerDocument.createRange(),tg(g.nextSibling)?(ae.setStart(g,0),ae.setEnd(g,0)):(ae.setStart(g,1),ae.setEnd(g,1)),ae;return ae},N=function(){eg(n),g&&(Bv(g),g=null),c.on(function(q){Wn(q.caret).remove(),c.clear()}),f&&(Ui.clearInterval(f),f=void 0)},F=function(){f=Ui.setInterval(function(){i()?Wn("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):Wn("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},I=function(){c.on(function(q){var K=Gy(n,q.element,q.before);Wn(q.caret).css(gn({},K))})},W=function(){return Ui.clearInterval(f)},G=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:k,hide:N,getCss:G,reposition:I,destroy:W}},qy=function(){return Qm.isIE()||Qm.isEdge()||Qm.isFirefox()},tg=function(e){return Ww(e)||CE(e)},Rd=function(e){return tg(e)||So(e)&&qy()},Z1=Ba,SE=Fu,Gw=gu("display","block table table-cell table-caption list-item"),Ky=Lu,Uu=da,Lh=En,xE=Fl,_d=function(e){return e>0},Mv=function(e){return e<0},ng=function(e,n){for(var a;a=e(n);)if(!Uu(a))return a;return null},Nv=function(e,n,a,i,c){var f=new Xr(e,i),g=Z1(e)||Uu(e);if(Mv(n)){if(g&&(e=ng(f.prev.bind(f),!0),a(e)))return e;for(;e=ng(f.prev.bind(f),c);)if(a(e))return e}if(_d(n)){if(g&&(e=ng(f.next.bind(f),!0),a(e)))return e;for(;e=ng(f.next.bind(f),c);)if(a(e))return e}return null},fl=function(e,n){for(;e&&e!==n;){if(Gw(e))return e;e=e.parentNode}return null},vl=function(e,n,a){return fl(e.container(),a)===fl(n.container(),a)},J1=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return Lh(a)?a.childNodes[i+e]:null},Q1=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},Xy=function(e,n,a){return fl(n,e)===fl(a,e)},rg=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var c=a[i];if(Ky(c)&&(c=c[i]),Z1(c)||SE(c)){if(Xy(n,c,a))return c;break}if(xE(c))break;a=a.parentNode}return null},ag=Ze(Q1,!0),og=Ze(Q1,!1),Ki=function(e,n,a){var i,c=Ze(rg,!0,n),f=Ze(rg,!1,n),g=a.startContainer,b=a.startOffset;if(da(g)){Lh(g)||(g=g.parentNode);var C=g.getAttribute("data-mce-caret");if(C==="before"&&(i=g.nextSibling,Rd(i)))return ag(i);if(C==="after"&&(i=g.previousSibling,Rd(i)))return og(i)}if(!a.collapsed)return a;if(Vt(g)){if(Ky(g)){if(e===1){if(i=f(g),i)return ag(i);if(i=c(g),i)return og(i)}if(e===-1){if(i=c(g),i)return og(i);if(i=f(g),i)return ag(i)}return a}if(mh(g)&&b>=g.data.length-1)return e===1&&(i=f(g),i)?ag(i):a;if(dh(g)&&b<=1)return e===-1&&(i=c(g),i)?og(i):a;if(b===g.data.length)return i=f(g),i?ag(i):a;if(b===0)return i=c(g),i?og(i):a}return a},ig=function(e,n){return Z.from(J1(e?0:-1,n)).filter(Z1)},ug=function(e,n,a){var i=Ki(e,n,a);return e===-1?Be.fromRangeStart(i):Be.fromRangeEnd(i)},e0=function(e){return Z.from(e.getNode()).map(B.fromDom)},TE=function(e){return Z.from(e.getNode(!0)).map(B.fromDom)},Yy=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},t0=function(e,n){var a=vl(e,n);return!a&&va(e.getNode())?!0:a},Oi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Oi||(Oi={}));var EE=Ba,ql=Vt,n0=En,Zy=va,sg=Fl,Jy=k3,Hh=Do,kE=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},qw=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},Kw=function(e,n){if(_d(e)){if(sg(n.previousSibling)&&!ql(n.previousSibling))return Be.before(n);if(ql(n))return Be(n,0)}if(Mv(e)){if(sg(n.nextSibling)&&!ql(n.nextSibling))return Be.after(n);if(ql(n))return Be(n,n.data.length)}return Mv(e)?Zy(n)?Be.before(n):Be.after(n):Be.before(n)},AE=function(e,n){var a=n.nextSibling;return a&&sg(a)?ql(a)?Be(a,0):Be.before(a):cg(Oi.Forwards,Be.after(n),e)},cg=function(e,n,a){var i,c,f,g;if(!n0(a)||!n)return null;if(n.isEqual(Be.after(a))&&a.lastChild){if(g=Be.after(a.lastChild),Mv(e)&&sg(a.lastChild)&&n0(a.lastChild))return Zy(a.lastChild)?Be.before(a.lastChild):g}else g=n;var b=g.container(),C=g.offset();if(ql(b)){if(Mv(e)&&C>0)return Be(b,--C);if(_d(e)&&C<b.length)return Be(b,++C);i=b}else{if(Mv(e)&&C>0&&(c=qw(b,C-1),sg(c)))return!Jy(c)&&(f=Nv(c,e,Hh,c),f)?ql(f)?Be(f,f.data.length):Be.after(f):ql(c)?Be(c,c.data.length):Be.before(c);if(_d(e)&&C<b.childNodes.length&&(c=qw(b,C),sg(c)))return Zy(c)?AE(a,c):!Jy(c)&&(f=Nv(c,e,Hh,c),f)?ql(f)?Be(f,0):Be.before(f):ql(c)?Be(c,0):Be.after(c);i=c||g.getNode()}if((_d(e)&&g.isAtEnd()||Mv(e)&&g.isAtStart())&&(i=Nv(i,e,Nt,a,!0),Hh(i,a)))return Kw(e,i);c=Nv(i,e,Hh,a);var k=lu(xt(kE(b,a),EE));return k&&(!c||!k.contains(c))?(_d(e)?g=Be.after(k):g=Be.before(k),g):c?Kw(e,c):null},lo=function(e){return{next:function(n){return cg(Oi.Forwards,n,e)},prev:function(n){return cg(Oi.Backwards,n,e)}}},r0=function(e,n,a){var i=e?Be.before(a):Be.after(a);return Wu(e,n,i)},a0=function(e){return va(e)?Be.before(e):Be.after(e)},Qy=function(e){return Be.isTextPosition(e)?e.offset()===0:Fl(e.getNode())},Xw=function(e){if(Be.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return Fl(e.getNode(!0))},e2=function(e,n){return!Be.isTextPosition(e)&&!Be.isTextPosition(n)&&e.getNode()===n.getNode(!0)},Bd=function(e){return!Be.isTextPosition(e)&&va(e.getNode())},o0=function(e,n,a){return e?!e2(n,a)&&!Bd(n)&&Xw(n)&&Qy(a):!e2(a,n)&&Qy(n)&&Xw(a)},Wu=function(e,n,a){var i=lo(n);return Z.from(e?i.next(a):i.prev(a))},dl=function(e,n,a){return Wu(e,n,a).bind(function(i){return vl(a,i,n)&&o0(e,a,i)?Wu(e,n,i):Z.some(i)})},i0=function(e,n,a,i){return dl(e,n,a).bind(function(c){return i(c)?i0(e,n,c,i):Z.some(c)})},$f=function(e,n){var a=e?n.firstChild:n.lastChild;return Vt(a)?Z.some(Be(a,e?0:a.data.length)):a?Fl(a)?Z.some(e?Be.before(a):a0(a)):r0(e,n,a):Z.none()},_c=Ze(Wu,!0),ml=Ze(Wu,!1),iu=Ze($f,!0),ac=Ze($f,!1),lg="_mce_caret",Kl=function(e){return En(e)&&e.id===lg},Md=function(e,n){for(;n&&n!==e;){if(n.id===lg)return n;n=n.parentNode}return null},Yw=function(e){return Nn(e.start)},Zw=function(e){return qn(e,"rng")},OE=function(e){return qn(e,"id")},DE=function(e){return qn(e,"name")},Jw=function(e){return ze.isArray(e.start)},Qw=function(e,n){return En(n)&&e.isBlock(n)&&!n.innerHTML&&!hn.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},eS=function(e,n){var a,i=e.createRng();return a=Wm(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=Wm(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},RE=function(e,n){var a=e.ownerDocument.createTextNode(me);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},tS=function(e){return e.hasChildNodes()===!1},_E=function(e,n){return ac(e).fold(at,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},nS=function(e,n,a){return tS(n)&&Md(e,n)?(RE(n,a),!0):!1},rS=function(e,n,a,i){var c=a[n?"start":"end"],f,g,b,C,k=e.getRoot();if(c){for(b=c[0],g=k,f=c.length-1;f>=1;f--){if(C=g.childNodes,nS(k,g,i))return!0;if(c[f]>C.length-1)return nS(k,g,i)?!0:_E(g,i);g=C[c[f]]}g.nodeType===3&&(b=Math.min(c[0],g.nodeValue.length)),g.nodeType===1&&(b=Math.min(c[0],g.childNodes.length)),n?i.setStart(g,b):i.setEnd(g,b)}return!0},t2=function(e){return Vt(e)&&e.data.length>0},aS=function(e,n,a){var i=e.get(a.id+"_"+n),c,f,g,b,C=a.keep,k,N;if(i){if(c=i.parentNode,n==="start"?(C?i.hasChildNodes()?(c=i.firstChild,f=1):t2(i.nextSibling)?(c=i.nextSibling,f=0):t2(i.previousSibling)?(c=i.previousSibling,f=i.previousSibling.data.length):(c=i.parentNode,f=e.nodeIndex(i)+1):f=e.nodeIndex(i),k=c,N=f):(C?i.hasChildNodes()?(c=i.firstChild,f=1):t2(i.previousSibling)?(c=i.previousSibling,f=i.previousSibling.data.length):(c=i.parentNode,f=e.nodeIndex(i)):f=e.nodeIndex(i),k=c,N=f),!C){for(b=i.previousSibling,g=i.nextSibling,ze.each(ze.grep(i.childNodes),function(F){Vt(F)&&(F.nodeValue=F.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);b&&g&&b.nodeType===g.nodeType&&Vt(b)&&!hn.opera&&(f=b.nodeValue.length,b.appendData(g.nodeValue),e.remove(g),k=b,N=f)}return Z.some(Be(k,N))}else return Z.none()},BE=function(e,n){var a=e.createRng();return rS(e,!0,n,a)&&rS(e,!1,n,a)?Z.some(a):Z.none()},pr=function(e,n){var a=aS(e,"start",n),i=aS(e,"end",n);return tu(a,i.or(a),function(c,f){var g=e.createRng();return g.setStart(Qw(e,c.container()),c.offset()),g.setEnd(Qw(e,f.container()),f.offset()),g})},Nd=function(e,n){return Z.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},fg=function(e,n){var a=e.dom;if(n){if(Jw(n))return BE(a,n);if(Yw(n))return Z.some(eS(a,n));if(OE(n))return pr(a,n);if(DE(n))return Nd(a,n);if(Zw(n))return Z.some(n.rng)}return Z.none()},n2=function(e,n,a){return J3(e,n,a)},ME=function(e,n){fg(e,n).each(function(a){e.setRng(a)})},ju=function(e){return En(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},NE=function(e){return function(n){return e===n}},Pd=NE(is),Pv=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},u0=function(e){return!Pv(e)&&!Pd(e)},s0=function(e){return!!e.nodeType},PE=function(e){return e&&/^(IMG)$/.test(e.nodeName)},oS=function(e,n,a){var i=a.startOffset,c=a.startContainer;if(!(c===a.endContainer&&PE(c.childNodes[i]))&&En(c)){var f=c.childNodes,g=void 0;i<f.length?(c=f[i],g=new Xr(c,e.getParent(c,e.isBlock))):(c=f[f.length-1],g=new Xr(c,e.getParent(c,e.isBlock)),g.next(!0));for(var b=g.current();b;b=g.next())if(Vt(b)&&!l0(b)){a.setStart(b,0),n.setRng(a);return}}},c0=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(En(e)||!l0(e))return e}},r2=function(e,n){return s0(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},vg=function(e,n,a){return e.schema.isValidChild(n,a)},l0=function(e,n){if(n===void 0&&(n=!1),Sn(e)&&Vt(e)){var a=n?e.data.replace(/ /g," "):e.data;return Ec(a)}else return!1},FE=function(e){return Sn(e)&&Vt(e)&&e.length===0},Xl=function(e,n){return Ie(e)?e=e(n):Sn(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},a2=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},o2=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},dg=function(e,n,a){return o2(e,e.getStyle(n,a),a)},i2=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},Vh=function(e,n,a){return e.getParents(n,a,e.getRoot())},iS=function(e,n){var a=function(i){var c=function(f){return f.length>1&&f.charAt(0)==="%"};return be(["styles","attributes"],function(f){return Mr(i,f).exists(function(g){var b=dn(g)?g:ys(g);return be(b,c)})})};return be(e.formatter.get(n),a)},IE=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],c=function(f){return Ea(f,function(g,b){return be(i,function(C){return C===b})})};return be(e.formatter.get(n),function(f){var g=c(f);return be(e.formatter.get(a),function(b){var C=c(b);return Vc(g,C)})})},Yl=function(e){return Zi(e,"block")},fs=function(e){return Zi(e,"selector")},Di=function(e){return Zi(e,"inline")},zE=function(e){return fs(e)&&Di(e)&&ad(Mr(e,"mixed"),!0)},u2=function(e){return fs(e)&&e.expand!==!1&&!Di(e)},mg=ju,s2=Vh,Uh=l0,c2=r2,$E=function(e){return va(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},At=function(e,n){for(var a=n;a;){if(En(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},Go=function(e,n,a,i){for(var c=n.data,f=a;e?f>=0:f<c.length;e?f--:f++)if(i(c.charAt(f)))return e?f+1:f;return-1},gg=function(e,n,a){return Go(e,n,a,function(i){return Pd(i)||Pv(i)})},ui=function(e,n,a){return Go(e,n,a,u0)},oc=function(e,n,a,i,c,f){var g,b=e.getParent(a,e.isBlock)||n,C=function(N,F,I){var W=Sy(e),G=c?W.backwards:W.forwards;return Z.from(G(N,F,function(q,K){return mg(q.parentNode)?-1:(g=q,I(c,q,K))},b))},k=C(a,i,gg);return k.bind(function(N){return f?C(N.container,N.offset+(c?-1:0),ui):Z.some(N)}).orThunk(function(){return g?Z.some({container:g,offset:c?0:g.length}):Z.none()})},l2=function(e,n,a,i,c){Vt(i)&&Ks(i.data)&&i[c]&&(i=i[c]);for(var f=s2(e,i),g=0;g<f.length;g++)for(var b=0;b<n.length;b++){var C=n[b];if(!(Sn(C.collapsed)&&C.collapsed!==a.collapsed)&&fs(C)&&e.is(f[g],C.selector))return f[g]}return i},Wh=function(e,n,a,i){var c=a,f=e.dom,g=f.getRoot(),b=n[0];if(Yl(b)&&(c=b.wrapper?null:f.getParent(a,b.block,g)),!c){var C=f.getParent(a,"LI,TD,TH");c=f.getParent(Vt(a)?a.parentNode:a,function(k){return k!==g&&c2(e,k)},C)}if(c&&Yl(b)&&b.wrapper&&(c=s2(f,c,"ul,ol").reverse()[0]||c),!c)for(c=a;c[i]&&!f.isBlock(c[i])&&(c=c[i],!a2(c,"br")););return c||a},f0=function(e,n,a,i){var c=a.parentNode;return Sn(a[i])?!1:c===n||Tr(c)||e.isBlock(c)?!0:f0(e,n,c,i)},v0=function(e,n,a,i,c){var f=a,g=c?"previousSibling":"nextSibling",b=e.getRoot();if(Vt(a)&&!Uh(a)&&(c?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(f))return f;for(var C=f[g];C;C=C[g]){var k=Vt(C)&&!f0(e,b,C,g);if(!mg(C)&&!$E(C)&&!Uh(C,k))return f}if(f===b||f.parentNode===b){a=f;break}f=f.parentNode}return a},d0=function(e){return mg(e.parentNode)||mg(e)},Fv=function(e,n,a,i){i===void 0&&(i=!1);var c=n.startContainer,f=n.startOffset,g=n.endContainer,b=n.endOffset,C=e.dom,k=a[0];if(En(c)&&c.hasChildNodes()&&(c=La(c,f),Vt(c)&&(f=0)),En(g)&&g.hasChildNodes()&&(g=La(g,n.collapsed?b:b-1),Vt(g)&&(b=g.nodeValue.length)),c=At(C,c),g=At(C,g),d0(c)&&(c=mg(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,Vt(c)&&(f=n.collapsed?c.length:0)),d0(g)&&(g=mg(g)?g:g.parentNode,n.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,Vt(g)&&(b=n.collapsed?0:g.length)),n.collapsed){var N=oc(C,e.getBody(),c,f,!0,i);N.each(function(I){var W=I.container,G=I.offset;c=W,f=G});var F=oc(C,e.getBody(),g,b,!1,i);F.each(function(I){var W=I.container,G=I.offset;g=W,b=G})}return(Di(k)||k.block_expand)&&((!Di(k)||!Vt(c)||f===0)&&(c=v0(C,a,c,f,!0)),(!Di(k)||!Vt(g)||b===g.nodeValue.length)&&(g=v0(C,a,g,b,!1))),u2(k)&&(c=l2(C,a,n,c,"previousSibling"),g=l2(C,a,n,g,"nextSibling")),(Yl(k)||fs(k))&&(c=Wh(e,a,c,"previousSibling"),g=Wh(e,a,g,"nextSibling"),Yl(k)&&(C.isBlock(c)||(c=v0(C,a,c,f,!0)),C.isBlock(g)||(g=v0(C,a,g,b,!1)))),En(c)&&(f=C.nodeIndex(c),c=c.parentNode),En(g)&&(b=C.nodeIndex(g)+1,g=g.parentNode),{startContainer:c,startOffset:f,endContainer:g,endOffset:b}},jh=function(e,n,a){var i=n.startOffset,c=La(n.startContainer,i),f=n.endOffset,g=La(n.endContainer,f-1),b=function(q){var K=q[0];Vt(K)&&K===c&&i>=K.data.length&&q.splice(0,1);var ae=q[q.length-1];return f===0&&q.length>0&&ae===g&&Vt(ae)&&q.splice(q.length-1,1),q},C=function(q,K,ae){for(var re=[];q&&q!==ae;q=q[K])re.push(q);return re},k=function(q,K){return e.getParent(q,function(ae){return ae.parentNode===K},K)},N=function(q,K,ae){for(var re=ae?"nextSibling":"previousSibling",ye=q,he=ye.parentNode;ye&&ye!==K;ye=he){he=ye.parentNode;var ie=C(ye===q?ye:ye[re],re);ie.length&&(ae||ie.reverse(),a(b(ie)))}};if(c===g)return a(b([c]));var F=e.findCommonAncestor(c,g);if(e.isChildOf(c,g))return N(c,F,!0);if(e.isChildOf(g,c))return N(g,F);var I=k(c,F)||c,W=k(g,F)||g;N(c,I,!0);var G=C(I===c?I:I.nextSibling,"nextSibling",W===g?W.nextSibling:W);G.length&&a(b(G)),N(g,W)},f2=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},v2=function(e){return Pi(e,function(n){var a=Td(n);return a?[B.fromDom(a)]:[]})},d2=function(e){return f2(e).length>1},LE=function(e){return xt(v2(e),rl)},uS=function(e){return ki(e,"td[data-mce-selected],th[data-mce-selected]")},Lf=function(e,n){var a=uS(n);return a.length>0?a:LE(e)},Zl=function(e){return Lf(f2(e.selection.getSel()),B.fromDom(e.getBody()))},Fd=function(e,n){return od(e,"table",n)},hg=function(e){var n=e.startContainer,a=e.startOffset;return Vt(n)?a===0?Z.some(B.fromDom(n)):Z.none():Z.from(n.childNodes[a]).map(B.fromDom)},m2=function(e){var n=e.endContainer,a=e.endOffset;return Vt(n)?a===n.data.length?Z.some(B.fromDom(n)):Z.none():Z.from(n.childNodes[a-1]).map(B.fromDom)},m0=function(e){return Oo(e).fold(L([e]),function(n){return[e].concat(m0(n))})},Jl=function(e){return rs(e).fold(L([e]),function(n){return uo(n)==="br"?hf(n).map(function(a){return[e].concat(Jl(a))}).getOr([]):[e].concat(Jl(n))})},Bc=function(e,n){return tu(hg(n),m2(n),function(a,i){var c=jr(m0(e),Ze(pa,a)),f=jr(Jl(e),Ze(pa,i));return c.isSome()&&f.isSome()}).getOr(!1)},Iv=function(e,n,a,i){var c=a,f=new Xr(a,c),g=Ea(e.schema.getMoveCaretBeforeOnEnterElements(),function(b,C){return!We(["td","th","table"],C.toLowerCase())});do{if(Vt(a)&&ze.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(g[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?f.next():f.prev());c.nodeName==="BODY"&&(i?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},zv=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},Id=function(e,n){var a=Zl(e);a.length>0?Ce(a,function(i){var c=i.dom,f=e.dom.createRng();f.setStartBefore(c),f.setEndAfter(c),n(f,!0)}):n(e.selection.getRng(),!1)},pg=function(e,n,a){var i=kw(e,n);a(i),e.moveToBookmark(i)},g2=function(e,n){var a=function(f){if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return i(f).getOr("")},i=function(f){return e(f)?Z.from(f.dom.nodeValue):Z.none()},c=function(f,g){if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=g};return{get:a,getOption:i,set:c}},h2=g2(Ua,"text"),p2=function(e){return h2.get(e)},g0=function(e){return Ua(e)&&p2(e)===me},Ri=function(e,n,a,i){return Ja(n).fold(function(){return"skipping"},function(c){return i==="br"||g0(n)?"valid":Ff(n)?"existing":Kl(n.dom)?"caret":!vg(e,a,i)||!vg(e,uo(c),a)?"invalid-child":"valid"})},Vs=function(e,n){var a=Fv(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},ic=function(e,n,a,i){var c=n.uid,f=c===void 0?Cw("mce-annotation"):c,g=Uc(n,["uid"]),b=B.fromTag("span",e);Sd(b,ls()),E(b,""+Wo(),f),E(b,""+Eh(),a);var C=i(f,g),k=C.attributes,N=k===void 0?{}:k,F=C.classes,I=F===void 0?[]:F;return P(b,N),W3(b,I),b},Ql=function(e,n,a,i,c){var f=[],g=ic(e.getDoc(),c,a,i),b=Av(),C=function(){b.clear()},k=function(){return b.get().getOrThunk(function(){var W=_o(g);return f.push(W),b.set(W),W})},N=function(W){Ce(W,F)},F=function(W){var G=Ri(e,W,"span",uo(W));switch(G){case"invalid-child":{C();var q=eu(W);N(q),C();break}case"valid":{var K=k();rd(W,K);break}}},I=function(W){var G=Ee(W,B.fromDom);N(G)};return jh(e.dom,n,function(W){C(),I(W)}),f},bg=function(e,n,a,i){e.undoManager.transact(function(){var c=e.selection,f=c.getRng(),g=Zl(e).length>0;if(f.collapsed&&!g&&Vs(e,f),c.getRng().collapsed&&!g){var b=ic(e.getDoc(),i,n,a.decorate);xu(b,is),c.getRng().insertNode(b.dom),c.select(b.dom)}else pg(c,!1,function(){Id(e,function(C){Ql(e,C,n,a.decorate,i)})})})},h0=function(e){var n=kh();wy(e,n);var a=yw(e);return{register:function(i,c){n.register(i,c)},annotate:function(i,c){n.lookup(i).each(function(f){bg(e,i,f,c)})},annotationChanged:function(i,c){a.addListener(i,c)},remove:function(i){A1(e,Z.some(i)).each(function(c){var f=c.elements;Ce(f,Cf)})},getAll:function(i){var c=Cy(e,i);return gr(c,function(f){return Ee(f,function(g){return g.dom})})}}},$v=function(e){return{getBookmark:Ze(n2,e),moveToBookmark:Ze(ME,e)}};$v.isBookmarkNode=ju;var zd=function(e,n){for(;n&&n!==e;){if(wc(n)||Ba(n))return n;n=n.parentNode}return null},$d=function(e,n,a){if(a.collapsed)return!1;if(hn.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(En(i))return be(i.getClientRects(),function(c){return ww(c,e,n)})}return be(a.getClientRects(),function(c){return ww(c,e,n)})},HE=function(e,n){return e.fire("PreProcess",n)},b2=function(e,n){return e.fire("PostProcess",n)},sS=function(e){return e.fire("remove")},cS=function(e){return e.fire("detach")},y2=function(e,n){return e.fire("SwitchMode",{mode:n})},C2=function(e,n,a,i,c){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:c})},ua=function(e,n,a,i,c){e.fire("ObjectResized",{target:n,width:a,height:i,origin:c})},ef=function(e){return e.fire("PreInit")},lS=function(e){return e.fire("PostRender")},fS=function(e){return e.fire("Init")},vS=function(e,n){return e.fire("PlaceholderToggle",{state:n})},p0=function(e,n,a){return e.fire(n,a)},w2=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},Gh=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},wn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||wn.metaKeyPressed(e)},metaKeyPressed:function(e){return hn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},VE=Ba,S2=function(e,n){var a="data-mce-selected",i=n.dom,c=ze.each,f,g,b,C,k,N,F,I,W,G,q,K,ae,re,ye,he=n.getDoc(),ie=document,Se=Math.abs,He=Math.round,ot=n.getBody(),Cn,Ft,je={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},on=function(xe){return xe&&(xe.nodeName==="IMG"||n.dom.is(xe,"figure.image"))},ft=function(xe){return Fu(xe)||i.hasClass(xe,"mce-preview-object")},_t=function(xe,ct){if(xe.type==="longpress"||xe.type.indexOf("touch")===0){var rt=xe.touches[0];return on(xe.target)&&!$d(rt.clientX,rt.clientY,ct)}else return on(xe.target)&&!$d(xe.clientX,xe.clientY,ct)},dt=function(xe){var ct=xe.target;_t(xe,n.selection.getRng())&&!xe.isDefaultPrevented()&&n.selection.select(ct)},Et=function(xe){return i.is(xe,"figure.image")?[xe.querySelector("img")]:i.hasClass(xe,"mce-preview-object")&&Sn(xe.firstElementChild)?[xe,xe.firstElementChild]:[xe]},Gt=function(xe){var ct=Mw(n);return!ct||xe.getAttribute("data-mce-resize")==="false"||xe===n.getBody()?!1:i.hasClass(xe,"mce-preview-object")?Fo(B.fromDom(xe.firstElementChild),ct):Fo(B.fromDom(xe),ct)},tt=function(xe){return ft(xe)?i.create("img",{src:hn.transparentSrc}):xe.cloneNode(!0)},$t=function(xe,ct,rt){if(Sn(rt)){var ln=Et(xe);Ce(ln,function(yn){yn.style[ct]||!n.schema.isValid(yn.nodeName.toLowerCase(),ct)?i.setStyle(yn,ct,rt):i.setAttrib(yn,ct,""+rt)})}},ir=function(xe,ct,rt){$t(xe,"width",ct),$t(xe,"height",rt)},Vr=function(xe){var ct,rt,ln,yn,Ca;ct=xe.screenX-N,rt=xe.screenY-F,re=ct*C[2]+G,ye=rt*C[3]+q,re=re<5?5:re,ye=ye<5?5:ye,(on(f)||ft(f))&&Nw(n)!==!1?ln=!wn.modifierPressed(xe):ln=wn.modifierPressed(xe),ln&&(Se(ct)>Se(rt)?(ye=He(re*K),re=He(ye/K)):(re=He(ye/K),ye=He(re*K))),ir(g,re,ye),yn=C.startPos.x+ct,Ca=C.startPos.y+rt,yn=yn>0?yn:0,Ca=Ca>0?Ca:0,i.setStyles(b,{left:yn,top:Ca,display:"block"}),b.innerHTML=re+" &times; "+ye,C[2]<0&&g.clientWidth<=re&&i.setStyle(g,"left",I+(G-re)),C[3]<0&&g.clientHeight<=ye&&i.setStyle(g,"top",W+(q-ye)),ct=ot.scrollWidth-Cn,rt=ot.scrollHeight-Ft,ct+rt!==0&&i.setStyles(b,{left:yn-ct,top:Ca-rt}),ae||(C2(n,f,G,q,"corner-"+C.name),ae=!0)},$r=function(){var xe=ae;ae=!1,xe&&($t(f,"width",re),$t(f,"height",ye)),i.unbind(he,"mousemove",Vr),i.unbind(he,"mouseup",$r),ie!==he&&(i.unbind(ie,"mousemove",Vr),i.unbind(ie,"mouseup",$r)),i.remove(g),i.remove(b),i.remove(k),Mi(f),xe&&(ua(n,f,re,ye,"corner-"+C.name),i.setAttrib(f,"style",i.getAttrib(f,"style"))),n.nodeChanged()},Mi=function(xe){nt();var ct=i.getPos(xe,ot),rt=ct.x,ln=ct.y,yn=xe.getBoundingClientRect(),Ca=yn.width||yn.right-yn.left,li=yn.height||yn.bottom-yn.top;f!==xe&&(ro(),f=xe,re=ye=0);var Qo=n.fire("ObjectSelected",{target:xe}),Du=i.getAttrib(f,a,"1");Gt(xe)&&!Qo.isDefaultPrevented()?c(je,function(Ru,gs){var ei,Lc=function(hs){var Jv=Et(f)[0];N=hs.screenX,F=hs.screenY,G=Jv.clientWidth,q=Jv.clientHeight,K=q/G,C=Ru,C.name=gs,C.startPos={x:Ca*Ru[0]+rt,y:li*Ru[1]+ln},Cn=ot.scrollWidth,Ft=ot.scrollHeight,k=i.add(ot,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(k,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=tt(f),i.addClass(g,"mce-clonedresizable"),i.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",i.setStyles(g,{left:rt,top:ln,margin:0}),ir(g,Ca,li),g.removeAttribute(a),ot.appendChild(g),i.bind(he,"mousemove",Vr),i.bind(he,"mouseup",$r),ie!==he&&(i.bind(ie,"mousemove",Vr),i.bind(ie,"mouseup",$r)),b=i.add(ot,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},G+" &times; "+q)};ei=i.get("mceResizeHandle"+gs),ei&&i.remove(ei),ei=i.add(ot,"div",{id:"mceResizeHandle"+gs,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+gs+"-resize; margin:0; padding:0"}),hn.ie===11&&(ei.contentEditable=!1),i.bind(ei,"mousedown",function(hs){hs.stopImmediatePropagation(),hs.preventDefault(),Lc(hs)}),Ru.elm=ei,i.setStyles(ei,{left:Ca*Ru[0]+rt-ei.offsetWidth/2,top:li*Ru[1]+ln-ei.offsetHeight/2})}):ro(),i.getAttrib(f,a)||f.setAttribute(a,Du)},ro=function(){nt(),f&&f.removeAttribute(a),zt(je,function(xe,ct){var rt=i.get("mceResizeHandle"+ct);rt&&(i.unbind(rt),i.remove(rt))})},Ku=function(xe){var ct,rt,ln=function(yn,Ca){if(yn)do if(yn===Ca)return!0;while(yn=yn.parentNode)};if(!(ae||n.removed)){if(c(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(yn){yn.removeAttribute(a)}),rt=xe.type==="mousedown"?xe.target:e.getNode(),rt=i.$(rt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],ln(rt,ot)&&(yt(),ct=e.getStart(!0),ln(ct,rt)&&ln(e.getEnd(!0),rt))){Mi(rt);return}ro()}},mc=function(xe){return VE(zd(n.getBody(),xe))},nt=function(){zt(je,function(xe){xe.elm&&(i.unbind(xe.elm),delete xe.elm)})},yt=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};n.on("init",function(){if(yt(),hn.browser.isIE()||hn.browser.isEdge()){n.on("mousedown click",function(rt){var ln=rt.target,yn=ln.nodeName;!ae&&/^(TABLE|IMG|HR)$/.test(yn)&&!mc(ln)&&(rt.button!==2&&n.selection.select(ln,yn==="TABLE"),rt.type==="mousedown"&&n.nodeChanged())});var xe=function(rt){var ln=function(yn){Ui.setEditorTimeout(n,function(){return n.selection.select(yn)})};if(mc(rt.target)||Fu(rt.target)){rt.preventDefault(),ln(rt.target);return}/^(TABLE|IMG|HR)$/.test(rt.target.nodeName)&&(rt.preventDefault(),rt.target.tagName==="IMG"&&ln(rt.target))};i.bind(ot,"mscontrolselect",xe),n.on("remove",function(){return i.unbind(ot,"mscontrolselect",xe)})}var ct=Ui.throttle(function(rt){n.composing||Ku(rt)});n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",ct),n.on("keyup compositionend",function(rt){f&&f.nodeName==="TABLE"&&ct(rt)}),n.on("hide blur",ro),n.on("contextmenu longpress",dt,!0)}),n.on("remove",nt);var un=function(){f=g=k=null};return{isResizable:Gt,showResizeRect:Mi,hideResizeRect:ro,updateResizeRect:Ku,destroy:un}},dS=function(e){return wc(e)||Ba(e)},x2=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},UE=function(e,n,a){var i,c=a.elementFromPoint(e,n),f=a.body.createTextRange();if((!c||c.tagName==="HTML")&&(c=a.body),f.moveToElementText(c),i=ze.toArray(f.getClientRects()),i=i.sort(function(g,b){return g=Math.abs(Math.max(g.top-n,g.bottom-n)),b=Math.abs(Math.max(b.top-n,b.bottom-n)),g-b}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return f.moveToPoint(e,n),f.collapse(!0),f}catch{}}return null},mS=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return Ba(x2(a,n,dS))?null:e},T2=function(e,n,a){var i,c,f=a;if(f.caretPositionFromPoint)c=f.caretPositionFromPoint(e,n),c&&(i=a.createRange(),i.setStart(c.offsetNode,c.offset),i.collapse(!0));else if(f.caretRangeFromPoint)i=f.caretRangeFromPoint(e,n);else if(f.body.createTextRange){i=f.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=UE(e,n,a)}return mS(i,a.body)}return i},E2=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},WE=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Us=function(e,n,a){return WE(e,n,a)!==null},Eu=function(e,n,a){return Us(e,n,function(i){return i.nodeName===a})},tf=function(e){return e&&e.nodeName==="TABLE"},jE=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},GE=function(e,n){return Lu(e)&&Us(e,n,Kl)===!1},k2=function(e,n,a){for(var i=new Xr(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(va(n))return!0},sr=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},qE=function(e,n){for(;n&&n!==e;){if(Ba(n))return!0;n=n.parentNode}return!1},b0=function(e,n,a,i,c){var f,g=e.getRoot(),b,C=e.schema.getNonEmptyElements(),k=e.getParent(c.parentNode,e.isBlock)||g;if(i&&va(c)&&n&&e.isEmpty(k))return Z.some(Be(c.parentNode,e.nodeIndex(c)));for(var N=new Xr(c,k);b=N[i?"prev":"next"]();){if(e.getContentEditableParent(b)==="false"||GE(b,g))return Z.none();if(Vt(b)&&b.nodeValue.length>0)return Eu(b,g,"A")===!1?Z.some(Be(b,i?b.nodeValue.length:0)):Z.none();if(e.isBlock(b)||C[b.nodeName.toLowerCase()])return Z.none();f=b}return a&&f?Z.some(Be(f,0)):Z.none()},y0=function(e,n,a,i){var c,f,g=e.getRoot(),b,C,k=!1;c=i[(a?"start":"end")+"Container"],f=i[(a?"start":"end")+"Offset"];var N=En(c)&&f===c.childNodes.length,F=e.schema.getNonEmptyElements();if(C=a,Lu(c))return Z.none();if(En(c)&&f>c.childNodes.length-1&&(C=!1),oh(c)&&(c=g,f=0),c===g){if(C&&(b=c.childNodes[f>0?f-1:0],b&&(Lu(b)||F[b.nodeName]||tf(b))))return Z.none();if(c.hasChildNodes()){if(f=Math.min(!C&&f>0?f-1:f,c.childNodes.length-1),c=c.childNodes[f],f=Vt(c)&&N?c.data.length:0,!n&&c===g.lastChild&&tf(c)||qE(g,c)||Lu(c))return Z.none();if(c.hasChildNodes()&&tf(c)===!1){b=c;var I=new Xr(c,g);do{if(Ba(b)||Lu(b)){k=!1;break}if(Vt(b)&&b.nodeValue.length>0){f=C?0:b.nodeValue.length,c=b,k=!0;break}if(F[b.nodeName.toLowerCase()]&&!jE(b)){f=e.nodeIndex(b),c=b.parentNode,C||f++,k=!0;break}}while(b=C?I.next():I.prev())}}}return n&&(Vt(c)&&f===0&&b0(e,N,n,!0,c).each(function(W){c=W.container(),f=W.offset(),k=!0}),En(c)&&(b=c.childNodes[f],b||(b=c.childNodes[f-1]),b&&va(b)&&!sr(b,"A")&&!k2(e,b,!1)&&!k2(e,b,!0)&&b0(e,N,n,!0,b).each(function(W){c=W.container(),f=W.offset(),k=!0}))),C&&!n&&Vt(c)&&f===c.nodeValue.length&&b0(e,N,n,!1,c).each(function(W){c=W.container(),f=W.offset(),k=!0}),k?Z.some(Be(c,f)):Z.none()},C0=function(e,n){var a=n.collapsed,i=n.cloneRange(),c=Be.fromRangeStart(n);return y0(e,a,!0,i).each(function(f){(!a||!Be.isAbove(c,f))&&i.setStart(f.container(),f.offset())}),a||y0(e,a,!1,i).each(function(f){i.setEnd(f.container(),f.offset())}),a&&i.collapse(!0),E2(n,i)?Z.none():Z.some(i)},qh=function(e,n){return e.splitText(n)},Hf=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,c=e.endOffset;return n===i&&Vt(n)?a>0&&a<n.nodeValue.length&&(i=qh(n,a),n=i.previousSibling,c>a?(c=c-a,n=i=qh(i,c).previousSibling,c=i.nodeValue.length,a=0):c=0):(Vt(n)&&a>0&&a<n.nodeValue.length&&(n=qh(n,a),a=0),Vt(i)&&c>0&&c<i.nodeValue.length&&(i=qh(i,c).previousSibling,c=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:c}},Kh=function(e){var n=function(c,f){return jh(e,c,f)},a=Hf,i=function(c){return C0(e,c).fold(at,function(f){return c.setStart(f.startContainer,f.startOffset),c.setEnd(f.endContainer,f.endOffset),!0})};return{walk:n,split:a,normalize:i}};Kh.compareRanges=E2,Kh.getCaretRangeFromPoint=T2,Kh.getSelectedNode=Td,Kh.getNode=La;var KE=function(e,n){var a=function(b,C){if(!Bt(C)&&!C.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+C);var k=b.dom;$a(k)&&(k.style[e]=C+"px")},i=function(b){var C=n(b);if(C<=0||C===null){var k=Yn(b,e);return parseFloat(k)||0}return C},c=i,f=function(b,C){return rr(C,function(k,N){var F=Yn(b,N),I=F===void 0?0:parseInt(F,10);return isNaN(I)?k:k+I},0)},g=function(b,C,k){var N=f(b,k),F=C>N?C-N:0;return F};return{set:a,get:i,getOuter:c,aggregate:f,max:g}},gS=KE("height",function(e){var n=e.dom;return wf(e)?n.getBoundingClientRect().height:n.offsetHeight}),A2=function(e){return gS.get(e)},Lv=function(e,n){var a=e.view(n);return a.fold(L([]),function(i){var c=e.owner(i),f=Lv(e,c);return[i].concat(f)})},w0=function(e,n){var a=n.owner(e);return Lv(n,a)},hS=function(e){var n,a=e.dom===document?Z.none():Z.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(B.fromDom)},XE=function(e){return xn(e)},YE=Object.freeze({__proto__:null,view:hS,owner:XE}),ZE=function(e){var n=B.fromDom(document),a=dm(n),i=w0(e,YE),c=Pu(e),f=Qn(i,function(g,b){var C=Pu(b);return{left:g.left+C.left,top:g.top+C.top}},{left:0,top:0});return Qc(f.left+c.left+a.left,f.top+c.top+a.top)},Ld=function(e){return uo(e)==="textarea"},O2=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},mn=function(e,n){e.fire("AfterScrollIntoView",n)},pS=function(e,n){var a=eu(e);if(a.length===0||Ld(e))return{element:e,offset:n};if(n<a.length&&!Ld(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return Ld(i)?{element:e,offset:n}:uo(i)==="img"?{element:i,offset:1}:Ua(i)?{element:i,offset:p2(i).length}:{element:i,offset:eu(i).length}},bS=function(e,n){var a=za(e),i=A2(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},JE=function(e,n){var a=pS(e,n),i=B.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+me+"</span>");return yi(a.element,i),bS(i,function(){return Qa(i)})},Xh=function(e){return bS(B.fromDom(e),Qe)},uu=function(e,n,a,i){D2(e,function(c,f){return QE(e,n,a,i)},a)},Yh=function(e,n,a,i,c){var f={elm:i.element.dom,alignToTop:c};if(!O2(e,f)){var g=dm(n).top;a(n,g,i,c),mn(e,f)}},QE=function(e,n,a,i){var c=B.fromDom(e.getBody()),f=B.fromDom(e.getDoc());d3(c);var g=JE(B.fromDom(a.startContainer),a.startOffset);Yh(e,f,n,g,i),g.cleanup()},yS=function(e,n,a,i){var c=B.fromDom(e.getDoc());Yh(e,c,a,Xh(n),i)},D2=function(e,n,a){var i=a.startContainer,c=a.startOffset,f=a.endContainer,g=a.endOffset;n(B.fromDom(i),B.fromDom(f));var b=e.dom.createRng();b.setStart(i,c),b.setEnd(f,g),e.selection.setRng(a)},R2=function(e,n,a,i){var c=e.pos;if(a)as(c.left,c.top,i);else{var f=c.top-n+e.height;as(c.left,f,i)}},CS=function(e,n,a,i,c){var f=a+n,g=i.pos.top,b=i.bottom,C=b-g>=a;if(g<n)R2(i,a,c!==!1,e);else if(g>f){var k=C?c!==!1:c===!0;R2(i,a,k,e)}else b>f&&!C&&R2(i,a,c===!0,e)},_2=function(e,n,a,i){var c=e.dom.defaultView.innerHeight;CS(e,n,c,a,i)},B2=function(e,n,a,i){var c=e.dom.defaultView.innerHeight;CS(e,n,c,a,i);var f=ZE(a.element),g=xf(window);f.top<g.y?mm(a.element,i!==!1):f.top>g.bottom&&mm(a.element,i===!0)},Vf=function(e,n,a){return uu(e,_2,n,a)},ek=function(e,n,a){return yS(e,n,_2,a)},tk=function(e,n,a){return uu(e,B2,n,a)},wS=function(e,n,a){return yS(e,n,B2,a)},nk=function(e,n,a){var i=e.inline?ek:wS;i(e,n,a)},Zh=function(e,n,a){var i=e.inline?Vf:tk;i(e,n,a)},Hr=function(){return B.fromDom(document)},S0=function(e){return e.dom.focus()},Uf=function(e){var n=du(e).dom;return e.dom===n.activeElement},Mc=function(e){return e===void 0&&(e=Hr()),Z.from(e.dom.activeElement).map(B.fromDom)},Hv=function(e){return Mc(du(e)).filter(function(n){return e.dom.contains(n.dom)})},Gu=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},x0={create:Gu},Hd=sn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),yg=function(e,n,a,i){return e.fold(n,a,i)},Vv=function(e){return e.fold(mt,mt,mt)},rk=Hd.before,SS=Hd.on,ak=Hd.after,ok={before:rk,on:SS,after:ak,cata:yg,getStart:Vv},ar=sn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Nc=function(e){return ar.exact(e.start,e.soffset,e.finish,e.foffset)},Cg=function(e){return e.match({domRange:function(n){return B.fromDom(n.startContainer)},relative:function(n,a){return ok.getStart(n)},exact:function(n,a,i,c){return n}})},xS=ar.domRange,Jh=ar.relative,br=ar.exact,TS=function(e){var n=Cg(e);return Za(n)},ES=x0.create,Qh={domRange:xS,relative:Jh,exact:br,exactFromRange:Nc,getWin:TS,range:ES},kS=tn().browser,ep=function(e,n){var a=Ua(n)?p2(n).length:eu(n).length+1;return e>a?a:e<0?0:e},Vd=function(e){return Qh.range(e.start,ep(e.soffset,e.start),e.finish,ep(e.foffset,e.finish))},M2=function(e,n){return!_l(n.dom)&&(ni(e,n)||pa(e,n))},N2=function(e){return function(n){return M2(e,n.start)&&M2(e,n.finish)}},AS=function(e){return e.inline===!0||kS.isIE()},OS=function(e){return Qh.range(B.fromDom(e.startContainer),e.startOffset,B.fromDom(e.endContainer),e.endOffset)},Uv=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?Z.none():Z.from(n.getRangeAt(0));return a.map(OS)},Ud=function(e){var n=Za(e);return Uv(n.dom).filter(N2(e))},P2=function(e,n){return Z.from(n).filter(N2(e)).map(Vd)},DS=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),Z.some(n)}catch{return Z.none()}},T0=function(e){var n=AS(e)?Ud(B.fromDom(e.getBody())):Z.none();e.bookmark=n.isSome()?n:e.bookmark},ik=function(e,n){var a=B.fromDom(e.getBody()),i=AS(e)?Z.from(n):Z.none(),c=i.map(OS).filter(N2(a));e.bookmark=c.isSome()?c:e.bookmark},wg=function(e){var n=e.bookmark?e.bookmark:Z.none();return n.bind(function(a){return P2(B.fromDom(e.getBody()),a)}).bind(DS)},F2=function(e){wg(e).each(function(n){return e.selection.setRng(n)})},I2=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},RS={isEditorUIElement:I2},z2=function(e){return e.type==="nodechange"&&e.selectionChange},E0=function(e,n){var a=function(){n.throttle()};Oa.DOM.bind(document,"mouseup",a),e.on("remove",function(){Oa.DOM.unbind(document,"mouseup",a)})},k0=function(e){e.on("focusout",function(){T0(e)})},$2=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},L2=function(e,n){var a=tn().browser;a.isIE()?k0(e):$2(e,n),e.on("keyup NodeChange",function(i){z2(i)||T0(e)})},_S=function(e){var n=T1(function(){T0(e)},0);e.on("init",function(){e.inline&&E0(e,n),L2(e,n)}),e.on("remove",function(){n.cancel()})},Wd,Sg=Oa.DOM,BS=function(e){return RS.isEditorUIElement(e)},MS=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},A0=function(e,n){var a=$y(e),i=Sg.getParent(n,function(c){return BS(c)||(a?e.dom.is(c,a):!1)});return i!==null},NS=function(e){try{var n=du(B.fromDom(e.getElement()));return Mc(n).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},PS=function(e,n){var a=n.editor;_S(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Ui.setEditorTimeout(a,function(){var i=e.focusedEditor;!A0(a,NS(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Wd||(Wd=function(i){var c=e.activeEditor;c&&Li(i).each(function(f){f.ownerDocument===document&&f!==document.body&&!A0(c,f)&&e.focusedEditor===c&&(c.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Sg.bind(document,"focusin",Wd))},H2=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(Sg.unbind(document,"focusin",Wd),Wd=null)},FS=function(e){e.on("AddEditor",Ze(PS,e)),e.on("RemoveEditor",Ze(H2,e))},IS=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},zS=function(e){return e.collapsed?Z.from(La(e.startContainer,e.startOffset)).map(B.fromDom):Z.none()},uk=function(e,n){return zS(n).bind(function(a){return Fr(a)?Z.some(a):ni(e,a)===!1?Z.some(e):Z.none()})},$S=function(e,n){uk(B.fromDom(e.getBody()),n).bind(function(a){return iu(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},V2=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},xg=function(e){return Uf(e)||Hv(e).isSome()},sk=function(e){return e.iframeElement&&Uf(B.fromDom(e.iframeElement))},LS=function(e){var n=e.getBody();return n&&xg(B.fromDom(n))},HS=function(e){var n=du(B.fromDom(e.getElement()));return Mc(n).filter(function(a){return!MS(a.dom)&&A0(e,a.dom)}).isSome()},uc=function(e){return e.inline?LS(e):sk(e)},VS=function(e){return uc(e)||HS(e)},US=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&uc(e)===!1&&wg(e).each(function(f){e.selection.setRng(f),i=f});var c=IS(e,n.getNode());if(e.$.contains(a,c)){V2(c),$S(e,i),O0(e);return}e.inline||(hn.opera||V2(a),e.getWin().focus()),(hn.gecko||e.inline)&&(V2(a),$S(e,i)),O0(e)},O0=function(e){return e.editorManager.setActive(e)},D0=function(e,n){e.removed||(n?O0(e):US(e))},U2=function(e,n,a,i,c){var f=a?n.startContainer:n.endContainer,g=a?n.startOffset:n.endOffset;return Z.from(f).map(B.fromDom).map(function(b){return!i||!n.collapsed?Zc(b,c(b,g)).getOr(b):b}).bind(function(b){return _a(b)?Z.some(b):Ja(b).filter(_a)}).map(function(b){return b.dom}).getOr(e)},jd=function(e,n,a){return U2(e,n,!0,a,function(i,c){return Math.min(jp(i),c)})},Tg=function(e,n,a){return U2(e,n,!1,a,function(i,c){return c>0?c-1:c})},WS=function(e,n){for(var a=e;e&&Vt(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},jS=function(e,n){var a,i,c;if(!n)return e;i=n.startContainer,c=n.endContainer;var f=n.startOffset,g=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===c&&g-f<2&&i.hasChildNodes()&&(a=i.childNodes[f]),i.nodeType===3&&c.nodeType===3&&(i.length===f?i=WS(i.nextSibling,!0):i=i.parentNode,g===0?c=WS(c.previousSibling,!1):c=c.parentNode,i&&i===c))?i:a&&a.nodeType===3?a.parentNode:a},R0=function(e,n,a,i){var c,f=[],g=e.getRoot();if(a=e.getParent(a||jd(g,n,n.collapsed),e.isBlock),i=e.getParent(i||Tg(g,n,n.collapsed),e.isBlock),a&&a!==g&&f.push(a),a&&i&&a!==i){c=a;for(var b=new Xr(a,g);(c=b.next())&&c!==i;)e.isBlock(c)&&f.push(c)}return i&&a!==i&&i!==g&&f.push(i),f},ck=function(e,n,a){return Z.from(n).map(function(i){var c=e.nodeIndex(i),f=e.createRng();return f.setStart(i.parentNode,c),f.setEnd(i.parentNode,c+1),a&&(Iv(e,f,i,!0),Iv(e,f,i,!1)),f})},_0=function(e,n){return Ee(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},tp={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},B0=function(e,n,a){var i=a?"lastChild":"firstChild",c=a?"prev":"next";if(e[i])return e[i];if(e!==n){var f=e[c];if(f)return f;for(var g=e.parent;g&&g!==n;g=g.parent)if(f=g[c],f)return f}},GS=function(e){if(!Ec(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},M0=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},sc=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,tp[n]||1);return a&&zt(a,function(c,f){i.attr(f,c)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,c;if(typeof n!="string")return n!=null&&zt(n,function(g,b){i.attr(b,g)}),i;if(c=i.attributes){if(a!==void 0){if(a===null){if(n in c.map){delete c.map[n];for(var f=c.length;f--;)if(c[f].name===n)return c.splice(f,1),i}return i}if(n in c.map){for(var f=c.length;f--;)if(c[f].name===n){c[f].value=a;break}}else c.push({name:n,value:a});return c.map[n]=a,i}return c.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var c=[];c.map={};for(var f=0,g=i.length;f<g;f++){var b=i[f];b.name!=="id"&&(c[c.length]={name:b.name,value:b.value},c.map[b.name]=b.value)}a.attributes=c}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,c=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):c.next=i,a.lastChild===n?(a.lastChild=c,c&&(c.next=null)):i.prev=c,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var c=a.parent||this;return i?(a===c.firstChild?c.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===c.lastChild?c.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=c,n},e.prototype.getAll=function(n){for(var a=this,i=[],c=a.firstChild;c;c=B0(c,a))c.name===n&&i.push(c);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=B0(i,n))a.push(i);for(var c=a.length;c--;){var i=a[c];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var c=this,f=c.firstChild;if(M0(c))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(n[f.name]||M0(f))return!1}if(f.type===8||f.type===3&&!GS(f)||f.type===3&&f.parent&&a[f.parent.name]&&Ec(f.value)||i&&i(f))return!1}while(f=B0(f,c));return!0},e.prototype.walk=function(n){return B0(this,null,n)},e}(),lk=ze.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),W2=function(e){return Nn(e.nodeValue)&&Er(e.nodeValue,me)},j2=function(e){return(e.length===0?"":Ee(e,function(n){return"["+n+"]"}).join(",")+",")+'[data-mce-bogus="all"]'},N0=function(e,n){return n.querySelectorAll(j2(e))},Eg=function(e,n,a){return document.createTreeWalker(e,n,a,!1)},P0=function(e){return Eg(e,NodeFilter.SHOW_COMMENT,function(n){return W2(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})},G2=function(e){return Eg(e,NodeFilter.SHOW_TEXT,function(n){if(W2(n)){var a=n.parentNode;return a&&qn(lk,a.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP})},qS=function(e){return P0(e).nextNode()!==null},KS=function(e){return G2(e).nextNode()!==null},F0=function(e,n){return n.querySelector(j2(e))!==null},fk=function(e,n){Ce(N0(e,n),function(a){var i=B.fromDom(a);$(i,"data-mce-bogus")==="all"?Qa(i):Ce(e,function(c){pe(i,c)&&Fe(i,c)})})},XS=function(e){for(var n=e.nextNode();n!==null;)n.nodeValue=null,n=e.nextNode()},vk=Jn(XS,P0),dk=Jn(XS,G2),Gd=function(e,n){var a=[{condition:Ze(F0,n),action:Ze(fk,n)},{condition:qS,action:vk},{condition:KS,action:dk}],i=e,c=!1;return Ce(a,function(f){var g=f.condition,b=f.action;g(i)&&(c||(i=e.cloneNode(!0),c=!0),b(i))}),i},mk=function(e,n){var a=Ai(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},gk=function(e,n){return gn(gn({},e),{format:n,get:!0,getInner:!0})},hk=function(e,n,a,i){var c=gk(n,a),f=n.no_events?c:e.fire("BeforeGetContent",c),g;return f.format==="raw"?g=ze.trim($u(Gd(i,e.serializer.getTempAttrs()).innerHTML)):f.format==="text"?g=e.dom.isEmpty(i)?"":$u(i.innerText||i.textContent):f.format==="tree"?g=e.serializer.serialize(i,f):g=mk(e,e.serializer.serialize(i,f)),!We(["text","tree"],f.format)&&!id(B.fromDom(i))?f.content=ze.trim(g):f.content=g,f.no_events?f.content:e.fire("GetContent",f).content},q2=function(e,n,a){return Z.from(e.getBody()).fold(L(n.format==="tree"?new sc("body",11):""),function(i){return hk(e,n,a,i)})},K2=ze.each,YS=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var c=function(g){var b={};return K2(e.getAttribs(g),function(C){var k=C.nodeName.toLowerCase();k.indexOf("_")!==0&&k!=="style"&&k.indexOf("data-")!==0&&(b[k]=e.getAttrib(g,k))}),b},f=function(g,b){var C,k;for(k in g)if(qn(g,k)){if(C=b[k],typeof C>"u"||g[k]!==C)return!1;delete b[k]}for(k in b)if(qn(b,k))return!1;return!0};return!f(c(a),c(i))||!f(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!ju(a)&&!ju(i)};return{compare:n}},np=ze.makeMap,X2=function(e){var n=[];e=e||{};var a=e.indent,i=np(e.indent_before||""),c=np(e.indent_after||""),f=Ps.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format==="html";return{start:function(b,C,k){var N,F,I,W;if(a&&i[b]&&n.length>0&&(W=n[n.length-1],W.length>0&&W!==`
`&&n.push(`
`)),n.push("<",b),C)for(N=0,F=C.length;N<F;N++)I=C[N],n.push(" ",I.name,'="',f(I.value,!0),'"');!k||g?n[n.length]=">":n[n.length]=" />",k&&a&&c[b]&&n.length>0&&(W=n[n.length-1],W.length>0&&W!==`
`&&n.push(`
`))},end:function(b){var C;n.push("</",b,">"),a&&c[b]&&n.length>0&&(C=n[n.length-1],C.length>0&&C!==`
`&&n.push(`
`))},text:function(b,C){b.length>0&&(n[n.length]=C?b:f(b))},cdata:function(b){n.push("<![CDATA[",b,"]]>")},comment:function(b){n.push("<!--",b,"-->")},pi:function(b,C){C?n.push("<?",b," ",f(C),"?>"):n.push("<?",b,"?>"),a&&n.push(`
`)},doctype:function(b){n.push("<!DOCTYPE",b,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},qd=function(e,n){n===void 0&&(n=Fs());var a=X2(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(c){var f=e.validate,g={3:function(C){a.text(C.value,C.raw)},8:function(C){a.comment(C.value)},7:function(C){a.pi(C.name,C.value)},10:function(C){a.doctype(C.value)},4:function(C){a.cdata(C.value)},11:function(C){if(C=C.firstChild)do b(C);while(C=C.next)}};a.reset();var b=function(C){var k=g[C.type];if(k)k(C);else{var N=C.name,F=C.shortEnded,I=C.attributes;if(f&&I&&I.length>1){var W=[];W.map={};var G=n.getElementRule(C.name);if(G){for(var q=0,K=G.attributesOrder.length;q<K;q++){var ae=G.attributesOrder[q];if(ae in I.map){var re=I.map[ae];W.map[ae]=re,W.push({name:ae,value:re})}}for(var q=0,K=I.length;q<K;q++){var ae=I[q].name;if(!(ae in W.map)){var re=I.map[ae];W.map[ae]=re,W.push({name:ae,value:re})}}I=W}}if(a.start(C.name,I,F),!F){if(C=C.firstChild)do b(C);while(C=C.next);a.end(N)}}};return c.type===1&&!e.inner?b(c):g[11](c),a.getContent()};return{serialize:i}},ZS=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Ce(e,function(n){ZS.add(n)})})();var rp=["font","text-decoration","text-emphasis"],kg=function(e,n){return Pt(e.parseStyle(e.getAttrib(n,"style")))},JS=function(e){return ZS.has(e)},pk=function(e,n){return mi(kg(e,n),function(a){return!JS(a)})},bk=function(e){return xt(e,function(n){return be(rp,function(a){return hr(n,a)})})},QS=function(e,n,a){var i=kg(e,n),c=kg(e,a),f=function(g){var b=e.getStyle(n,g),C=e.getStyle(a,g);return Ss(b)&&Ss(C)&&b!==C};return be(i,function(g){var b=function(k){return be(k,function(N){return N===g})};if(!b(c)&&b(rp)){var C=bk(c);return be(C,f)}else return f(g)})},ap=function(e,n,a){return Z.from(a.container()).filter(Vt).exists(function(i){var c=e?0:-1;return n(i.data.charAt(a.offset()+c))})},op=Ze(ap,!0,Pv),ip=Ze(ap,!1,Pv),ex=function(e){var n=e.container();return Vt(n)&&(n.data.length===0||pu(n.data)&&$v.isBookmarkNode(n.parentNode))},qu=function(e,n){return function(a){return Z.from(J1(e?0:-1,a)).filter(n).isSome()}},tx=function(e){return gm(e)&&Yn(B.fromDom(e),"display")==="block"},gl=function(e){return Ba(e)&&!$o(e)},yk=qu(!0,tx),nx=qu(!1,tx),Ag=qu(!0,Fu),Og=qu(!1,Fu),rx=qu(!0,So),ax=qu(!1,So),Wv=qu(!0,gl),jv=qu(!1,gl),Y2=function(e){for(var n=[],a=e.dom;a;)n.push(B.fromDom(a)),a=a.lastChild;return n},Ck=function(e){var n=ki(e,"br"),a=xt(Y2(e).slice(-1),xm);n.length===a.length&&Ce(a,Qa)},Kd=function(e){yf(e),zo(e,B.fromHtml('<br data-mce-bogus="1">'))},wk=function(e){rs(e).each(function(n){hf(n).each(function(a){_s(e)&&xm(n)&&_s(a)&&Qa(n)})})},ox=function(e){return e.slice(0,-1)},up=function(e,n,a){return ni(n,e)?ox(Io(e,function(i){return a(i)||pa(i,n)})):[]},ix=function(e,n){return up(e,n,at)},nn=function(e,n){return[e].concat(ix(e,n))},sp=function(e,n,a){return i0(e,n,a,ex)},cp=function(e,n){return jr(nn(B.fromDom(n.container()),e),_s)},Z2=function(e,n,a){return sp(e,n.dom,a).forall(function(i){return cp(n,a).fold(function(){return vl(i,a,n.dom)===!1},function(c){return vl(i,a,n.dom)===!1&&ni(c,B.fromDom(i.container()))})})},ux=function(e,n,a){return cp(n,a).fold(function(){return sp(e,n.dom,a).forall(function(i){return vl(i,a,n.dom)===!1})},function(i){return sp(e,i.dom,a).isNone()})},I0=Ze(ux,!1),lp=Ze(ux,!0),J2=Ze(Z2,!1),sx=Ze(Z2,!0),Sk=function(e){return e0(e).exists(xm)},An=function(e,n,a){var i=xt(nn(B.fromDom(a.container()),n),_s),c=Xa(i).getOr(n);return Wu(e,c.dom,a).filter(Sk)},z0=function(e,n){return e0(n).exists(xm)||An(!0,e,n).isSome()},$n=function(e,n){return TE(n).exists(xm)||An(!1,e,n).isSome()},cx=Ze(An,!1),lx=Ze(An,!0),Q2=function(e){return Be.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Xd=function(e,n){var a=xt(nn(B.fromDom(n.container()),e),_s);return Xa(a).getOr(e)},$0=function(e,n){return Q2(n)?ip(n):ip(n)||ml(Xd(e,n).dom,n).exists(ip)},fp=function(e,n){return Q2(n)?op(n):op(n)||_c(Xd(e,n).dom,n).exists(op)},L0=function(e){return We(["pre","pre-wrap"],e)},eC=function(e){return e0(e).bind(function(n){return Cm(n,_a)}).exists(function(n){return L0(Yn(n,"white-space"))})},On=function(e,n){return ml(e.dom,n).isNone()},xk=function(e,n){return _c(e.dom,n).isNone()},fx=function(e,n){return On(e,n)||xk(e,n)||I0(e,n)||lp(e,n)||$n(e,n)||z0(e,n)},H0=function(e,n){return eC(n)?!1:fx(e,n)||$0(e,n)||fp(e,n)},nf=function(e,n){return eC(n)?!1:I0(e,n)||J2(e,n)||$n(e,n)||$0(e,n)},vx=function(e){var n=e.container(),a=e.offset();return Vt(n)&&a<n.data.length?Be(n,a+1):e},vp=function(e,n){return eC(n)?!1:lp(e,n)||sx(e,n)||z0(e,n)||fp(e,n)},V0=function(e,n){return nf(e,n)||vp(e,vx(n))},dx=function(e,n){return Pd(e.charAt(n))},mx=function(e){var n=e.container();return Vt(n)&&Er(n.data,is)},Tk=function(e){var n=e.split("");return Ee(n,function(a,i){return Pd(a)&&i>0&&i<n.length-1&&u0(n[i-1])&&u0(n[i+1])?" ":a}).join("")},Ek=function(e,n){var a=n.data,i=Be(n,0);return dx(a,0)&&!V0(e,i)?(n.data=" "+a.slice(1),!0):!1},kk=function(e){var n=e.data,a=Tk(n);return a!==n?(e.data=a,!0):!1},Ak=function(e,n){var a=n.data,i=Be(n,a.length-1);return dx(a,a.length-1)&&!V0(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},Ok=function(e,n){return Z.some(n).filter(mx).bind(function(a){var i=a.container(),c=Ek(e,i)||kk(i)||Ak(e,i);return c?Z.some(a):Z.none()})},gx=function(e){var n=B.fromDom(e.getBody());e.selection.isCollapsed()&&Ok(n,Be.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},Dk=function(e,n,a){var i=rr(e,function(c,f){return Pv(f)||Pd(f)?c.previousCharIsSpace||c.str===""&&n||c.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:c.str+is}:{previousCharIsSpace:!0,str:c.str+" "}:{previousCharIsSpace:!1,str:c.str+f}},{previousCharIsSpace:!1,str:""});return i.str},tC=function(e,n,a){if(a!==0){var i=B.fromDom(e),c=cv(i,_s).getOr(i),f=e.data.slice(n,n+a),g=n+a>=e.data.length&&vp(c,Be(e,e.data.length)),b=n===0&&nf(c,Be(e,0));e.replaceData(n,a,Dk(f,b,g))}},Dg=function(e,n){var a=e.data.slice(n),i=a.length-Ju(a).length;tC(e,n,i)},dr=function(e,n){var a=e.data.slice(0,n),i=a.length-Po(a).length;tC(e,n-i,i)},U0=function(e,n,a,i){i===void 0&&(i=!0);var c=Po(e.data).length,f=i?e:n,g=i?n:e;return i?f.appendData(g.data):f.insertData(0,g.data),Qa(B.fromDom(g)),a&&Dg(f,c),f},W0=function(e,n){var a=e.container(),i=e.offset();return Be.isTextPosition(e)===!1&&a===n.parentNode&&i>Be.before(n).offset()},hx=function(e,n){return W0(n,e)?Be(n.container(),n.offset()-1):n},px=function(e){return Vt(e)?Be(e,0):Be.before(e)},bx=function(e){return Vt(e)?Be(e,e.data.length):Be.after(e)},nC=function(e){return Fl(e.previousSibling)?Z.some(bx(e.previousSibling)):e.previousSibling?ac(e.previousSibling):Z.none()},rC=function(e){return Fl(e.nextSibling)?Z.some(px(e.nextSibling)):e.nextSibling?iu(e.nextSibling):Z.none()},u=function(e,n){var a=Be.before(n.previousSibling?n.previousSibling:n.parentNode);return ml(e,a).fold(function(){return _c(e,Be.after(n))},Z.some)},l=function(e,n){return _c(e,Be.after(n)).fold(function(){return ml(e,Be.before(n))},Z.some)},d=function(e,n){return nC(n).orThunk(function(){return rC(n)}).orThunk(function(){return u(e,n)})},h=function(e,n){return rC(n).orThunk(function(){return nC(n)}).orThunk(function(){return l(e,n)})},y=function(e,n,a){return e?h(n,a):d(n,a)},x=function(e,n,a){return y(e,n,a).map(Ze(hx,a))},O=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},M=function(e){return function(n){return n.dom===e}},U=function(e,n){return n&&qn(e.schema.getBlockElements(),uo(n))},X=function(e){if(Si(e)){var n=B.fromHtml('<br data-mce-bogus="1">');return yf(e),zo(e,n),Z.some(Be.before(n.dom))}else return Z.none()},ue=function(e,n,a){var i=hf(e).filter(Ua),c=Os(e).filter(Ua);return Qa(e),Pb(i,c,n,function(f,g,b){var C=f.dom,k=g.dom,N=C.data.length;return U0(C,k,a),b.container()===k?Be(C,N):b}).orThunk(function(){return a&&(i.each(function(f){return dr(f.dom,f.dom.length)}),c.each(function(f){return Dg(f.dom,0)})),n})},Pe=function(e,n){return qn(e.schema.getTextInlineElements(),uo(n))},et=function(e,n,a,i){i===void 0&&(i=!0);var c=x(n,e.getBody(),a.dom),f=cv(a,Ze(U,e),M(e.getBody())),g=ue(a,c,Pe(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(X).fold(function(){i&&O(e,n,g)},function(b){i&&O(e,n,Z.some(b))})},qe=function(e){return function(n){return pa(e,n)}},Ne=function(e){return ki(e,"td,th")},bt=function(e,n){var a=function(k){return Fd(B.fromDom(k),n)},i=a(e.startContainer),c=a(e.endContainer),f=i.isSome(),g=c.isSome(),b=tu(i,c,pa).getOr(!1),C=!b&&f&&g;return{startTable:i,endTable:c,isStartInTable:f,isEndInTable:g,isSameTable:b,isMultiTable:C}},St=function(e,n){return{start:e,end:n}},an=function(e,n,a){return{rng:e,table:n,cells:a}},yr=sn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),cn=function(e,n){return go(B.fromDom(e),"td,th",n)},Dn=function(e){return!pa(e.start,e.end)},cr=function(e,n){return Fd(e.start,n).bind(function(a){return Fd(e.end,n).bind(function(i){return Fb(pa(a,i),a)})})},or=function(e,n){return!Dn(e)&&cr(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},Bo=function(e,n){var a=cn(e.startContainer,n),i=cn(e.endContainer,n);return tu(a,i,St)},si=function(e){return function(n){return Fd(n,e).bind(function(a){return aa(Ne(a)).map(function(i){return St(n,i)})})}},ku=function(e){return function(n){return Fd(n,e).bind(function(a){return Xa(Ne(a)).map(function(i){return St(i,n)})})}},Sr=function(e){return function(n){return cr(n,e).map(function(a){return an(n,a,Ne(a))})}},Mn=function(e,n,a,i){if(a.collapsed||!e.forall(Dn))return Z.none();if(n.isSameTable){var c=e.bind(Sr(i));return Z.some({start:c,end:c})}else{var f=cn(a.startContainer,i),g=cn(a.endContainer,i),b=f.bind(si(i)).bind(Sr(i)),C=g.bind(ku(i)).bind(Sr(i));return Z.some({start:b,end:C})}},mr=function(e,n){return ko(e,function(a){return pa(a,n)})},Yr=function(e){return tu(mr(e.cells,e.rng.start),mr(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},no=function(e,n,a){return e.exists(function(i){return or(i,a)&&Bc(i.start,n)})},rf=function(e,n){var a=n.startTable,i=n.endTable,c=e.cloneRange();return a.each(function(f){return c.setStartAfter(f.dom)}),i.each(function(f){return c.setEndBefore(f.dom)}),c},ea=function(e,n,a,i){return Mn(e,n,a,i).bind(function(c){var f=c.start,g=c.end;return f.or(g)}).bind(function(c){var f=n.isSameTable,g=Yr(c).getOr([]);if(f&&c.cells.length===g.length)return Z.some(yr.fullTable(c.table));if(g.length>0){if(f)return Z.some(yr.partialTable(g,Z.none()));var b=rf(a,n);return Z.some(yr.partialTable(g,Z.some(gn(gn({},n),{rng:b}))))}else return Z.none()})},cc=function(e,n,a,i){return Mn(e,n,a,i).bind(function(c){var f=c.start,g=c.end,b=f.bind(Yr).getOr([]),C=g.bind(Yr).getOr([]);if(b.length>0&&C.length>0){var k=rf(a,n);return Z.some(yr.multiTable(b,C,k))}else return Z.none()})},_i=function(e,n){var a=qe(e),i=Bo(n,a),c=bt(n,a);return no(i,n,a)?i.map(function(f){return yr.singleCellTable(n,f.start)}):c.isMultiTable?cc(i,c,n,a):ea(i,c,n,a)},dp=function(e){var n=ts(e)?hf(e):rs(e);return n.bind(dp).orThunk(function(){return Z.some(e)})},Gv=function(e){return Ce(e,function(n){Fe(n,"contenteditable"),Kd(n)})},hl=function(e,n){return Z.from(e.dom.getParent(n,e.dom.isBlock)).map(B.fromDom)},lc=function(e,n,a){a.each(function(i){n?Qa(i):(Kd(i),e.selection.setCursorLocation(i.dom,0))})},Pc=function(e,n,a,i){var c=a.cloneRange();i?(c.setStart(a.startContainer,a.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(a.endContainer,a.endOffset)),Zd(e,c,n,!1)},mp=function(e){var n=Zl(e),a=B.fromDom(e.selection.getNode());hm(a.dom)&&Si(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&be(n,function(i){return pa(i,a)})&&E(a,"data-mce-selected","1")},Yd=function(e,n,a){var i=e.selection.getRng(),c=a.bind(function(f){var g=f.rng,b=f.isStartInTable,C=hl(e,b?g.endContainer:g.startContainer);g.deleteContents(),lc(e,b,C.filter(Si));var k=b?n[0]:n[n.length-1];return Pc(e,k,i,b),Si(k)?Z.none():Z.some(b?n.slice(1):n.slice(0,-1))}).getOr(n);return Gv(c),mp(e),!0},gp=function(e,n,a,i){var c=e.selection.getRng(),f=n[0],g=a[a.length-1];Pc(e,f,c,!0),Pc(e,g,c,!1);var b=Si(f)?n:n.slice(1),C=Si(g)?a:a.slice(0,-1);return Gv(b.concat(C)),i.deleteContents(),mp(e),!0},Zd=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var c=dp(a).getOr(a),f=B.fromDom(e.dom.getParent(c.dom,e.dom.isBlock));if(Si(f)&&(Kd(f),i&&e.selection.setCursorLocation(f.dom,0)),!pa(a,f)){var g=ad(Ja(f),a)?[]:wo(f);Ce(g.concat(eu(a)),function(b){!pa(b,f)&&!ni(b,f)&&Si(b)&&Qa(b)})}return!0},pl=function(e,n){return et(e,!1,n),!0},Rg=function(e,n,a){return _i(n,a).map(function(i){return i.fold(Ze(Zd,e),Ze(pl,e),Ze(Yd,e),Ze(gp,e))})},j0=function(e,n){return Wf(e,n)},yx=function(e,n,a,i){return _k(n,i).fold(function(){return Rg(e,n,a)},function(c){return j0(e,c)}).getOr(!1)},hp=function(e,n,a){var i=B.fromDom(e.getBody()),c=e.selection.getRng();return a.length!==0?Yd(e,a,Z.none()):yx(e,i,c,n)},Rk=function(e,n){return jr(nn(n,e),rl)},_k=function(e,n){return jr(nn(n,e),rh("caption"))},_B=function(e,n,a,i,c){return dl(a,e.getBody(),c).bind(function(f){return Rk(n,B.fromDom(f.getNode())).map(function(g){return pa(g,i)===!1})})},Wf=function(e,n){return Kd(n),e.selection.setCursorLocation(n.dom,0),Z.some(!0)},BB=function(e,n,a,i){return iu(e.dom).bind(function(c){return ac(e.dom).map(function(f){return n?a.isEqual(c)&&i.isEqual(f):a.isEqual(f)&&i.isEqual(c)})}).getOr(!0)},vs=function(e,n){return Wf(e,n)},MB=function(e,n,a){return _k(e,B.fromDom(a.getNode())).map(function(i){return pa(i,n)===!1})},NB=function(e,n,a,i,c){return dl(a,e.getBody(),c).bind(function(f){return BB(i,a,c,f)?vs(e,i):MB(n,i,f)}).or(Z.some(!0))},Jd=function(e,n,a,i){var c=Be.fromRangeStart(e.selection.getRng());return Rk(a,i).bind(function(f){return Si(f)?Wf(e,f):_B(e,a,n,f,c)}).getOr(!1)},Gr=function(e,n,a,i){var c=Be.fromRangeStart(e.selection.getRng());return Si(i)?Wf(e,i):NB(e,a,n,i,c)},_g=function(e,n){return e?rx(n):ax(n)},Bk=function(e,n){var a=Be.fromRangeStart(e.selection.getRng());return _g(n,a)||Wu(n,e.getBody(),a).exists(function(i){return _g(n,i)})},PB=function(e,n,a){var i=B.fromDom(e.getBody());return _k(i,a).fold(function(){return Jd(e,n,i,a)||Bk(e,n)},function(c){return Gr(e,n,i,c).getOr(!1)})},pp=function(e,n){var a=B.fromDom(e.selection.getStart(!0)),i=Zl(e);return e.selection.isCollapsed()&&i.length===0?PB(e,n,a):hp(e,a,i)},jf=function(e,n,a,i){var c=document.createRange();return c.setStart(e,n),c.setEnd(a,i),c},FB=function(e){var n=Be.fromRangeStart(e),a=Be.fromRangeEnd(e),i=e.commonAncestorContainer;return Wu(!1,i,a).map(function(c){return!vl(n,a,i)&&vl(n,c,i)?jf(n.container(),n.offset(),c.container(),c.offset()):e}).getOr(e)},Mk=function(e){return e.collapsed?e:FB(e)},IB=function(e){return e.firstChild&&e.firstChild===e.lastChild},Nk=function(e){return e.name==="br"||e.value===is},zB=function(e,n){var a=e.getBlockElements();return a[n.name]&&IB(n)&&Nk(n.firstChild)},$B=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||zB(e,n))},CO=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),$B(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},LB=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},HB=function(e,n,a){var i=n.serialize(a),c=e.createFragment(i);return LB(c)},VB=function(e){return xt(e.childNodes,function(n){return n.nodeName==="LI"})},fc=function(e){return e.data===is||va(e)},qv=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&fc(e.firstChild)},UB=function(e){return!e.firstChild||qv(e)},wO=function(e){return e.length>0&&UB(e[e.length-1])?e.slice(0,-1):e},G0=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},Pk=function(e,n){return!!G0(e,n)},WB=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},SO=function(e,n){var a=Be.before(e),i=lo(n),c=i.next(a);return c?c.toRange():null},q0=function(e,n){var a=Be.after(e),i=lo(n),c=i.prev(a);return c?c.toRange():null},Cx=function(e,n,a,i){var c=WB(e,i),f=e.parentNode;return f.insertBefore(c[0],e),ze.each(n,function(g){f.insertBefore(g,e)}),f.insertBefore(c[1],e),f.removeChild(e),q0(n[n.length-1],a)},jB=function(e,n,a){var i=e.parentNode;return ze.each(n,function(c){i.insertBefore(c,e)}),SO(e,a)},Bg=function(e,n,a,i){return i.insertAfter(n.reverse(),e),q0(n[0],a)},GB=function(e,n,a,i){var c=HB(n,e,i),f=G0(n,a.startContainer),g=wO(VB(c.firstChild)),b=1,C=2,k=n.getRoot(),N=function(F){var I=Be.fromRangeStart(a),W=lo(n.getRoot()),G=F===b?W.prev(I):W.next(I);return G?G0(n,G.getNode())!==f:!0};return N(b)?jB(f,g,k):N(C)?Bg(f,g,k,n):Cx(f,g,k,a)},qB=function(e,n,a){var i=B.fromDom(e.getRoot());return nf(i,Be.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),vp(i,Be.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},ds=hm,Fk=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,ds);return a===i&&Bc(B.fromDom(a),n)}else return!1},Gf=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,c=a.lastChild;!i||i===c&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},KB=function(e,n){Z.from(e.getParent(n,"td,th")).map(B.fromDom).each(wk)},ga=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var c=e.getBody(),f=YS(i);ze.each(i.select("*[data-mce-fragment]"),function(g){var b=Sn(a[g.nodeName.toLowerCase()]);if(b&&pk(i,g))for(var C=g.parentNode;Sn(C)&&C!==c;C=C.parentNode){var k=QS(i,g,C);if(k)break;if(f.compare(C,g)){i.remove(g,!0);break}}})}},bp=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},wx=function(e){ze.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},xO=function(e){return!!e.getAttribute("data-mce-fragment")},Ik=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},zk=function(e,n){var a,i=e.dom,c=e.selection;if(n){c.scrollIntoView(n);var f=zd(e.getBody(),n);if(i.getContentEditable(f)==="false"){i.remove(n),c.select(f);return}var g=i.createRng(),b=n.previousSibling;if(Vt(b)){if(g.setStart(b,b.nodeValue.length),!hn.ie){var C=n.nextSibling;Vt(C)&&(b.appendData(C.data),C.parentNode.removeChild(C))}}else g.setStartBefore(n),g.setEndBefore(n);var k=function(F){var I=Be.fromRangeStart(F),W=lo(e.getBody());if(I=W.next(I),I)return I.toRange()},N=i.getParent(n,i.isBlock);i.remove(n),N&&i.isEmpty(N)&&(e.$(N).empty(),g.setStart(N,0),g.setEnd(N,0),!ds(N)&&!xO(N)&&(a=k(g))?(g=a,i.remove(N)):i.add(N,i.create("br",{"data-mce-bogus":"1"}))),c.setRng(g)}},XB=function(e){var n=e.dom,a=Mk(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,ds);Fk(n,a,i)?Zd(e,a,B.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},$k=function(e,n,a){var i,c,f,g=e.selection,b=e.dom;/^ | $/.test(n)&&(n=qB(b,g.getRng(),n));var C=e.parser,k=a.merge,N=qd({validate:uE(e)},e.schema),F='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',I=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(I.isDefaultPrevented()){e.fire("SetContent",{content:I.content,format:"html",selection:!0,paste:a.paste});return}n=I.content,a.preserve_zwsp||(n=$u(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,F),c=g.getRng();var W=c.startContainer||(c.parentElement?c.parentElement():null),G=e.getBody();W===G&&g.isCollapsed()&&b.isBlock(G.firstChild)&&Ik(e,G.firstChild)&&b.isEmpty(G.firstChild)&&(c=b.createRng(),c.setStart(G.firstChild,0),c.setEnd(G.firstChild,0),g.setRng(c)),g.isCollapsed()||XB(e),i=g.getNode();var q={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},K=C.parse(n,q);if(a.paste===!0&&CO(e.schema,K)&&Pk(b,i)){c=GB(N,b,g.getRng(),K),g.setRng(c),e.fire("SetContent",I);return}if(bp(K),f=K.lastChild,f.attr("id")==="mce_marker"){var ae=f;for(f=f.prev;f;f=f.walk(!0))if(f.type===3||!b.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(ae,f,f.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!q.invalid)n=N.serialize(K),Gf(e,n,i);else{e.selection.setContent(F),i=g.getNode();var re=e.getBody();for(i.nodeType===9?i=f=re:f=i;f!==re;)i=f,f=f.parentNode;n=i===re?re.innerHTML:b.getOuterHTML(i),n=N.serialize(C.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return N.serialize(K)}))),i===re?b.setHTML(re,n):b.setOuterHTML(i,n)}ga(e,k),zk(e,b.get("mce_marker")),wx(e.getBody()),KB(b,g.getStart()),e.fire("SetContent",I),e.addVisual()},Lk=function(e,n){n(e),e.firstChild&&Lk(e.firstChild,n),e.next&&Lk(e.next,n)},TO=function(e,n,a){var i={},c={},f=[];a.firstChild&&Lk(a.firstChild,function(C){Ce(e,function(k){k.name===C.name&&(i[k.name]?i[k.name].nodes.push(C):i[k.name]={filter:k,nodes:[C]})}),Ce(n,function(k){typeof C.attr(k.name)=="string"&&(c[k.name]?c[k.name].nodes.push(C):c[k.name]={filter:k,nodes:[C]})})});for(var g in i)qn(i,g)&&f.push(i[g]);for(var b in c)qn(c,b)&&f.push(c[b]);return f},EO=function(e,n,a){var i=TO(e,n,a);Ce(i,function(c){Ce(c.filter.callbacks,function(f){f(c.nodes,c.filter.name,{})})})},Hk="html",Sx=function(e){return e instanceof sc},xx=function(e){uc(e)&&iu(e.getBody()).each(function(n){var a=n.getNode(),i=So(a)?iu(a).getOr(n):n;e.selection.setRng(i.toRange())})},Vk=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&xx(e)},YB=function(e,n,a,i){if(a=$u(a),a.length===0||/^\s+$/.test(a)){var c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+c+"</li>");var f=Ai(e);f&&e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(a=c,a=e.dom.createHTML(f,qm(e),a)):a||(a='<br data-mce-bogus="1">'),Vk(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=qd({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=id(B.fromDom(n))?a:ze.trim(a),Vk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},ZB=function(e,n,a,i){EO(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var c=qd({validate:e.validate},e.schema).serialize(a);return i.content=$u(id(B.fromDom(n))?c:ze.trim(c)),Vk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},JB=function(e,n){return gn(gn({format:Hk},e),{set:!0,content:Sx(n)?"":n})},QB=function(e,n,a){var i=JB(a,n),c=a.no_events?i:e.fire("BeforeSetContent",i);return Sx(n)||(n=c.content),Z.from(e.getBody()).fold(L(n),function(f){return Sx(n)?ZB(e,f,n,c):YB(e,f,n,c)})},eM=function(e,n){return $b(e,n).isSome()},kO=function(e){return Ie(e)?e:at},tM=function(e,n,a){for(var i=e.dom,c=kO(a);i.parentNode;){i=i.parentNode;var f=B.fromDom(i),g=n(f);if(g.isSome())return g;if(c(f))break}return Z.none()},Uk=function(e,n,a){var i=n(e),c=kO(a);return i.orThunk(function(){return c(e)?Z.none():tM(e,n,c)})},Wk=a2,jk=function(e,n,a){var i=e.formatter.get(a);if(i)for(var c=0;c<i.length;c++){var f=i[c];if(fs(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},Gk=function(e,n,a,i,c){var f=e.dom.getRoot();return n===f?!1:(n=e.dom.getParent(n,function(g){return jk(e,g,a)?!0:g.parentNode===f||!!Kv(e,g,a,i,!0)}),!!Kv(e,n,a,i,c))},Tx=function(e,n,a){if(Wk(n,a.inline)||Wk(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},af=function(e,n,a,i,c,f){var g=a[i];if(Ie(a.onmatch))return a.onmatch(n,a,i);if(g){if(Rt(g.length)){for(var b in g)if(qn(g,b)){var C=i==="attributes"?e.getAttrib(n,b):dg(e,n,b),k=Xl(g[b],f),N=Tr(C)||Ks(C);if(N&&Tr(k))continue;if(c&&N&&!a.exact||(!c||a.exact)&&!Wk(C,o2(e,k,b)))return!1}}else for(var F=0;F<g.length;F++)if(i==="attributes"?e.getAttrib(n,g[F]):dg(e,n,g[F]))return!0}return!0},Kv=function(e,n,a,i,c){var f=e.formatter.get(a),g=e.dom;if(f&&n)for(var b=0;b<f.length;b++){var C=f[b];if(Tx(e.dom,n,C)&&af(g,n,C,"attributes",c,i)&&af(g,n,C,"styles",c,i)){var k=C.classes;if(k){for(var N=0;N<k.length;N++)if(!e.dom.hasClass(n,Xl(k[N],i)))return}return C}}},Ex=function(e,n,a,i,c){if(i)return Gk(e,i,n,a,c);if(i=e.selection.getNode(),Gk(e,i,n,a,c))return!0;var f=e.selection.getStart();return!!(f!==i&&Gk(e,f,n,a,c))},qk=function(e,n,a){var i=[],c={},f=e.selection.getStart();return e.dom.getParent(f,function(g){for(var b=0;b<n.length;b++){var C=n[b];!c[C]&&Kv(e,g,C,a)&&(c[C]=!0,i.push(C))}},e.dom.getRoot()),i},Kk=function(e,n){var a=function(c){return pa(c,B.fromDom(e.getBody()))},i=function(c,f){return Kv(e,c.dom,f)?Z.some(f):Z.none()};return Z.from(e.selection.getStart(!0)).bind(function(c){return Uk(B.fromDom(c),function(f){return Me(n,function(g){return i(f,g)})},a)}).getOrNull()},AO=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var c=e.selection.getStart(),f=Vh(i,c),g=a.length-1;g>=0;g--){var b=a[g];if(!fs(b)||Sn(b.defaultBlock))return!0;for(var C=f.length-1;C>=0;C--)if(i.is(f[C],b.selector))return!0}return!1},OO=function(e,n,a){return rr(a,function(i,c){var f=iS(e,c);return e.formatter.matchNode(n,c,{},f)?i.concat([c]):i},[])},K0=me,DO="_mce_caret",Xk=function(e,n){return e.importNode(n,!0)},RO=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==K0||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},of=function(e){return RO(e).length>0},_O=function(e){if(e){var n=new Xr(e,e);for(e=n.current();e;e=n.next())if(Vt(e))return e}return null},Yk=function(e){var n=B.fromTag("span");return P(n,{id:DO,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&zo(n,B.fromText(K0)),n},nM=function(e){var n=_O(e);return n&&n.nodeValue.charAt(0)===K0&&n.deleteData(0,1),n},aC=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,c=e.selection;if(of(n))et(e,!1,B.fromDom(n),a);else{var f=c.getRng(),g=i.getParent(n,i.isBlock),b=f.startContainer,C=f.startOffset,k=f.endContainer,N=f.endOffset,F=nM(n);i.remove(n,!0),b===F&&C>0&&f.setStart(F,C-1),k===F&&N>0&&f.setEnd(F,N-1),g&&i.isEmpty(g)&&Kd(B.fromDom(g)),c.setRng(f)}},Zk=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,c=e.selection;if(n)aC(e,n,a);else if(n=Md(e.getBody(),c.getStart()),!n)for(;n=i.get(DO);)aC(e,n,!1)},rM=function(e,n,a){var i=e.dom,c=i.getParent(a,Ze(r2,e));c&&i.isEmpty(c)?a.parentNode.replaceChild(n,a):(Ck(B.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},kx=function(e,n){return e.appendChild(n),n},BO=function(e,n){var a=Qn(e,function(i,c){return kx(i,c.cloneNode(!1))},n);return kx(a,a.ownerDocument.createTextNode(K0))},aM=function(e,n,a,i,c,f){var g=e.formatter,b=e.dom,C=xt(Pt(g.get()),function(I){return I!==i&&!Er(I,"removeformat")}),k=OO(e,a,C),N=xt(k,function(I){return!IE(e,I,i)});if(N.length>0){var F=a.cloneNode(!1);return b.add(n,F),g.remove(i,c,F,f),b.remove(F),Z.some(F)}else return Z.none()},MO=function(e,n,a){var i,c,f=e.selection,g=f.getRng(),b=g.startOffset,C=g.startContainer,k=C.nodeValue;i=Md(e.getBody(),f.getStart()),i&&(c=_O(i));var N=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(k&&b>0&&b<k.length&&N.test(k.charAt(b))&&N.test(k.charAt(b-1))){var F=f.getBookmark();g.collapse(!0);var I=Fv(e,g,e.formatter.get(n));I=Hf(I),e.formatter.apply(n,a,I),f.moveToBookmark(F)}else(!i||c.nodeValue!==K0)&&(i=Xk(e.getDoc(),Yk(!0).dom),c=i.firstChild,g.insertNode(i),b=1),e.formatter.apply(n,a,i),f.setCursorLocation(c,b)},oM=function(e,n,a,i){var c=e.dom,f=e.selection,g,b,C,k=[],N=f.getRng(),F=N.startContainer,I=N.startOffset;for(b=F,F.nodeType===3&&(I!==F.nodeValue.length&&(g=!0),b=b.parentNode);b;){if(Kv(e,b,n,a,i)){C=b;break}b.nextSibling&&(g=!0),k.push(b),b=b.parentNode}if(C)if(g){var W=f.getBookmark();N.collapse(!0);var G=Fv(e,N,e.formatter.get(n),!0);G=Hf(G),e.formatter.remove(n,a,G,i),f.moveToBookmark(W)}else{var q=Md(e.getBody(),C),K=Yk(!1).dom;rM(e,K,q!==null?q:C);var ae=aM(e,K,C,n,a,i),re=BO(k.concat(ae.toArray()),K);aC(e,q,!1),f.setCursorLocation(re,1),c.isEmpty(C)&&c.remove(C)}},iM=function(e,n){var a=e.selection,i=e.getBody();Zk(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===K0&&Zk(e,Md(i,a.getStart())),(n===37||n===39)&&Zk(e,Md(i,a.getStart()))},Ax=function(e){e.on("mouseup keydown",function(n){iM(e,n.keyCode)})},uM=function(e,n){var a=Yk(!1),i=BO(n,a.dom);return yi(B.fromDom(e),a),Qa(B.fromDom(e)),Be(i,0)},NO=function(e,n){var a=e.schema.getTextInlineElements();return qn(a,uo(n))&&!Kl(n.dom)&&!mo(n.dom)},PO=function(e){return Kl(e.dom)&&of(e.dom)},X0={},FO=Bu,IO=Zu,Jk=function(e,n){var a=X0[e];a||(X0[e]=[]),X0[e].push(n)},sM=function(e,n){IO(X0[e],function(a){a(n)})};Jk("pre",function(e){var n=e.selection.getRng(),a,i=function(g){return f(g.previousSibling)&&zi(a,g.previousSibling)!==-1},c=function(g,b){Wn(b).remove(),Wn(g).append("<br><br>").append(b.childNodes)},f=Ds(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),IO(FO(FO(a,f),i),function(g){c(g.previousSibling,g)}))});var Qk=ze.each,yp=function(e){return En(e)&&!ju(e)&&!Kl(e)&&!mo(e)},Ox=function(e,n){for(var a=e;a;a=a[n]){if(Vt(a)&&Ss(a.data))return e;if(En(a)&&!ju(a))return a}return e},zO=function(e,n,a){var i=YS(e);if(n&&a&&(n=Ox(n,"previousSibling"),a=Ox(a,"nextSibling"),i.compare(n,a))){for(var c=n.nextSibling;c&&c!==a;){var f=c;c=c.nextSibling,n.appendChild(f)}return e.remove(a),ze.each(ze.grep(a.childNodes),function(g){n.appendChild(g)}),n}return a},$O=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var c=zO(e,c0(i),i);zO(e,c,c0(c,!0))}},LO=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";Qk(e.select(i,a),function(c){yp(c)&&Qk(n.styles,function(f,g){e.setStyle(c,g,"")})})}},Dx=function(e,n,a){Qk(e.childNodes,function(i){yp(i)&&(n(i)&&a(i),i.hasChildNodes()&&Dx(i,n,a))})},cM=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},HO=function(e,n){return function(a){return!!(a&&dg(e,a,n))}},VO=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),cM(e,i)}},oC=sn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),UO=/^(src|href|style)$/,Rx=ze.each,Y0=a2,lM=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},WO=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},jO=function(e,n,a){var i=n[a?"startContainer":"endContainer"],c=n[a?"startOffset":"endOffset"];if(En(i)){var f=i.childNodes.length-1;!a&&c&&c--,i=i.childNodes[c>f?f:c]}return Vt(i)&&a&&c>=i.nodeValue.length&&(i=new Xr(i,e.getBody()).next()||i),Vt(i)&&!a&&c===0&&(i=new Xr(i,e.getBody()).prev()||i),i},GO=function(e,n){var a=n?"firstChild":"lastChild";if(lM(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},e4=function(e,n,a,i){var c=e.create(a,i);return n.parentNode.insertBefore(c,n),c.appendChild(n),c},Z0=function(e,n,a,i,c){var f=B.fromDom(n),g=B.fromDom(e.create(i,c)),b=a?Aa(f):Pr(f);return bf(g,b),a?(yi(f,g),Js(g,f)):(sv(f,g),zo(g,f)),g.dom},fM=function(e,n,a){if(Di(a)&&Y0(n,a.inline)||Yl(a)&&Y0(n,a.block))return!0;if(fs(a))return En(n)&&e.is(n,a.selector)},qO=function(e,n){return n.links&&e.nodeName==="A"},J0=function(e,n,a,i){var c=c0(n,a,i);return Tr(c)||c.nodeName==="BR"||e.isBlock(c)},vM=function(e,n,a){var i=n.parentNode,c,f=e.dom,g=Ai(e);Yl(a)&&(g?i===f.getRoot()&&(!a.list_block||!Y0(n,a.list_block))&&Ce(Br(n.childNodes),function(b){vg(e,g,b.nodeName.toLowerCase())?c?c.appendChild(b):(c=e4(f,b,g),f.setAttribs(c,e.settings.forced_root_block_attrs)):c=null}):f.isBlock(n)&&!f.isBlock(i)&&(!J0(f,n,!1)&&!J0(f,n.firstChild,!0,!0)&&n.insertBefore(f.create("br"),n.firstChild),!J0(f,n,!0)&&!J0(f,n.lastChild,!1,!0)&&n.appendChild(f.create("br")))),!(zE(a)&&!Y0(a.inline,n))&&f.remove(n,!0)},t4=function(e,n,a,i,c){var f,g=e.dom;if(!fM(g,i,n)&&!qO(i,n))return oC.keep();var b=i;if(Di(n)&&n.remove==="all"&&dn(n.preserve_attributes)){var C=xt(g.getAttribs(b),function(I){return We(n.preserve_attributes,I.name.toLowerCase())});if(g.removeAllAttribs(b),Ce(C,function(I){return g.setAttrib(b,I.name,I.value)}),C.length>0)return oC.rename("span")}if(n.remove!=="all"){Rx(n.styles,function(I,W){I=o2(g,Xl(I,a),W+""),Bt(W)&&(W=I,c=null),(n.remove_similar||!c||Y0(dg(g,c,W),I))&&g.setStyle(b,W,""),f=!0}),f&&g.getAttrib(b,"style")===""&&(b.removeAttribute("style"),b.removeAttribute("data-mce-style")),Rx(n.attributes,function(I,W){var G;if(I=Xl(I,a),Bt(W)&&(W=I,c=null),n.remove_similar||!c||Y0(g.getAttrib(c,W),I)){if(W==="class"&&(I=g.getAttrib(b,W),I&&(G="",Ce(I.split(/\s+/),function(q){/mce\-\w+/.test(q)&&(G+=(G?" ":"")+q)}),G))){g.setAttrib(b,W,G);return}if(UO.test(W)&&b.removeAttribute("data-mce-"+W),W==="style"&&Ds(["li"])(b)&&g.getStyle(b,"list-style-type")==="none"){b.removeAttribute(W),g.setStyle(b,"list-style-type","none");return}W==="class"&&b.removeAttribute("className"),b.removeAttribute(W)}}),Rx(n.classes,function(I){I=Xl(I,a),(!c||g.hasClass(c,I))&&g.removeClass(b,I)});for(var k=g.getAttribs(b),N=0;N<k.length;N++){var F=k[N].nodeName;if(F.indexOf("_")!==0&&F.indexOf("data-")!==0)return oC.keep()}}return n.remove!=="none"?(vM(e,b,n),oC.removed()):oC.keep()},Cp=function(e,n,a,i,c){return t4(e,n,a,i,c).fold(at,function(f){return e.dom.rename(i,f),!0},Nt)},dM=function(e,n,a,i,c){var f;return Ce(Vh(e.dom,n.parentNode).reverse(),function(g){if(!f&&g.id!=="_start"&&g.id!=="_end"){var b=Kv(e,g,a,i,c);b&&b.split!==!1&&(f=g)}}),f},mM=function(e,n,a,i){return t4(e,n,a,i,i).fold(L(i),function(c){var f=e.dom.createFragment();return f.appendChild(i),e.dom.rename(i,c)},L(null))},gM=function(e,n,a,i,c,f,g,b){var C,k,N,F=e.dom;if(a){for(var I=a.parentNode,W=i.parentNode;W&&W!==I;W=W.parentNode){C=F.clone(W,!1);for(var G=0;G<n.length&&(C=mM(e,n[G],b,C),C!==null);G++);C&&(k&&C.appendChild(k),N||(N=C),k=C)}f&&(!g.mixed||!F.isBlock(a))&&(i=F.split(a,i)),k&&(c.parentNode.insertBefore(k,c),N.appendChild(c),Di(g)&&$O(F,g,b,k))}return i},KO=function(e,n,a,i,c){var f=e.formatter.get(n),g=f[0],b=!0,C=e.dom,k=e.selection,N=function(re){var ye=dM(e,re,n,a,c);return gM(e,f,ye,re,re,!0,g,a)},F=function(re){return ju(re)&&En(re)&&(re.id==="_start"||re.id==="_end")},I=function(re){return be(f,function(ye){return Cp(e,ye,a,re,re)})},W=function(re){var ye=!0,he=!1;En(re)&&C.getContentEditable(re)&&(ye=b,b=C.getContentEditable(re)==="true",he=!0);var ie=Br(re.childNodes);if(b&&!he){var Se=I(re),He=Se||be(f,function(je){return Tx(C,re,je)}),ot=re.parentNode;!He&&Sn(ot)&&u2(g)&&I(ot)}if(g.deep&&ie.length){for(var Cn=0;Cn<ie.length;Cn++)W(ie[Cn]);he&&(b=ye)}var Ft=["underline","line-through","overline"];Ce(Ft,function(je){En(re)&&e.dom.getStyle(re,"text-decoration")===je&&re.parentNode&&i2(C,re.parentNode)===je&&Cp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:je}},null,re)})},G=function(re){var ye=C.get(re?"_start":"_end"),he=ye[re?"firstChild":"lastChild"];return F(he)&&(he=he[re?"firstChild":"lastChild"]),Vt(he)&&he.data.length===0&&(he=re?ye.previousSibling||ye.nextSibling:ye.nextSibling||ye.previousSibling),C.remove(ye,!0),he},q=function(re){var ye,he,ie=Fv(e,re,f,re.collapsed);if(g.split){if(ie=Hf(ie),ye=jO(e,ie,!0),he=jO(e,ie),ye!==he){if(ye=GO(ye,!0),he=GO(he,!1),WO(C,ye,he)){var Se=Z.from(ye.firstChild).getOr(ye);N(Z0(C,Se,!0,"span",{id:"_start","data-mce-type":"bookmark"})),G(!0);return}if(WO(C,he,ye)){var Se=Z.from(he.lastChild).getOr(he);N(Z0(C,Se,!1,"span",{id:"_end","data-mce-type":"bookmark"})),G(!1);return}ye=e4(C,ye,"span",{id:"_start","data-mce-type":"bookmark"}),he=e4(C,he,"span",{id:"_end","data-mce-type":"bookmark"});var He=C.createRng();He.setStartAfter(ye),He.setEndBefore(he),jh(C,He,function(ot){Ce(ot,function(Cn){!ju(Cn)&&!ju(Cn.parentNode)&&N(Cn)})}),N(ye),N(he),ye=G(!0),he=G()}else ye=he=N(ye);ie.startContainer=ye.parentNode?ye.parentNode:ye,ie.startOffset=C.nodeIndex(ye),ie.endContainer=he.parentNode?he.parentNode:he,ie.endOffset=C.nodeIndex(he)+1}jh(C,ie,function(ot){Ce(ot,W)})};if(i){if(s0(i)){var K=C.createRng();K.setStartBefore(i),K.setEndAfter(i),q(K)}else q(i);Gh(e,n,i,a);return}if(C.getContentEditable(k.getNode())==="false"){i=k.getNode();for(var ae=0;ae<f.length&&!(f[ae].ceFalseOverride&&Cp(e,f[ae],a,i,i));ae++);Gh(e,n,i,a);return}!k.isCollapsed()||!Di(g)||Zl(e).length?(pg(k,!0,function(){Id(e,q)}),Di(g)&&Ex(e,n,a,k.getStart())&&oS(C,k,k.getRng()),e.nodeChanged()):oM(e,n,a,c),Gh(e,n,i,a)},XO=ze.each,hM=function(e,n,a,i){var c=function(f){if(f.nodeType===1&&f.parentNode&&f.parentNode.nodeType===1){var g=i2(e,f.parentNode);e.getStyle(f,"color")&&g?e.setStyle(f,"text-decoration",g):e.getStyle(f,"text-decoration")===g&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(ze.walk(i,c,"childNodes"),c(i))},pM=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&Dx(i,HO(e,"fontSize"),VO(e,"backgroundColor",Xl(n.styles.backgroundColor,a)))},bM=function(e,n,a,i){Di(n)&&(n.inline==="sub"||n.inline==="sup")&&(Dx(i,HO(e,"fontSize"),VO(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},yM=function(e,n,a,i){XO(n,function(c){Di(c)&&XO(e.dom.select(c.inline,i),function(f){yp(f)&&Cp(e,c,a,f,c.exact?f:null)}),LO(e.dom,c,i)})},CM=function(e,n,a,i,c){Kv(e,c.parentNode,a,i)&&Cp(e,n,i,c)||n.merge_with_parents&&e.dom.getParent(c.parentNode,function(f){if(Kv(e,f,a,i))return Cp(e,n,i,c),!0})},_x=ze.each,n4=function(e){return En(e)&&!ju(e)&&!Kl(e)&&!mo(e)},qf=function(e,n,a,i){if(Dd(e)&&Di(n)){var c=r1(e.schema),f=eM(B.fromDom(a),function(g){return Kl(g.dom)});return Zi(c,i)&&Si(B.fromDom(a.parentNode),!1)&&!f}else return!1},iC=function(e,n,a,i){var c=e.formatter.get(n),f=c[0],g=!i&&e.selection.isCollapsed(),b=e.dom,C=e.selection,k=function(ye,he){if(he===void 0&&(he=f),Ie(he.onformat)&&he.onformat(ye,he,a,i),_x(he.styles,function(Se,He){b.setStyle(ye,He,Xl(Se,a))}),he.styles){var ie=b.getAttrib(ye,"style");ie&&b.setAttrib(ye,"data-mce-style",ie)}_x(he.attributes,function(Se,He){b.setAttrib(ye,He,Xl(Se,a))}),_x(he.classes,function(Se){Se=Xl(Se,a),b.hasClass(ye,Se)||b.addClass(ye,Se)})},N=function(ye,he){var ie=!1;return _x(ye,function(Se){if(!fs(Se))return!1;if(!(Sn(Se.collapsed)&&Se.collapsed!==g)&&b.is(he,Se.selector)&&!Kl(he))return k(he,Se),ie=!0,!1}),ie},F=function(ye){if(Nn(ye)){var he=b.create(ye);return k(he),he}else return null},I=function(ye,he,ie){var Se=[],He=!0,ot=f.inline||f.block,Cn=F(ot);jh(ye,he,function(Ft){var je,on=function(ft){var _t=!1,dt=He,Et=ft.nodeName.toLowerCase(),Gt=ft.parentNode,tt=Gt.nodeName.toLowerCase();if(En(ft)&&ye.getContentEditable(ft)&&(dt=He,He=ye.getContentEditable(ft)==="true",_t=!0),va(ft)&&!qf(e,f,ft,tt)){je=null,Yl(f)&&ye.remove(ft);return}if(Yl(f)&&f.wrapper&&Kv(e,ft,n,a)){je=null;return}if(He&&!_t&&Yl(f)&&!f.wrapper&&r2(e,Et)&&vg(e,tt,ot)){var $t=ye.rename(ft,ot);k($t),Se.push($t),je=null;return}if(fs(f)){var ir=N(c,ft);if(!ir&&Sn(Gt)&&u2(f)&&(ir=N(c,Gt)),!Di(f)||ir){je=null;return}}He&&!_t&&vg(e,ot,Et)&&vg(e,tt,ot)&&!(!ie&&Vt(ft)&&pu(ft.data))&&!Kl(ft)&&(!Di(f)||!ye.isBlock(ft))?(je||(je=ye.clone(Cn,!1),ft.parentNode.insertBefore(je,ft),Se.push(je)),je.appendChild(ft)):(je=null,Ce(Br(ft.childNodes),on),_t&&(He=dt),je=null)};Ce(Ft,on)}),f.links===!0&&Ce(Se,function(Ft){var je=function(on){on.nodeName==="A"&&k(on,f),Ce(Br(on.childNodes),je)};je(Ft)}),Ce(Se,function(Ft){var je=function(_t){var dt=0;return Ce(_t.childNodes,function(Et){!FE(Et)&&!ju(Et)&&dt++}),dt},on=function(_t){var dt=jr(_t.childNodes,n4).filter(function(Et){return Tx(ye,Et,f)});return dt.map(function(Et){var Gt=ye.clone(Et,!1);return k(Gt),ye.replace(Gt,_t,!0),ye.remove(Et,!0),Gt}).getOr(_t)},ft=je(Ft);if((Se.length>1||!ye.isBlock(Ft))&&ft===0){ye.remove(Ft,!0);return}(Di(f)||Yl(f)&&f.wrapper)&&(!f.exact&&ft===1&&(Ft=on(Ft)),yM(e,c,a,Ft),CM(e,f,n,a,Ft),pM(ye,f,a,Ft),hM(ye,f,a,Ft),bM(ye,f,a,Ft),$O(ye,f,a,Ft))})};if(b.getContentEditable(C.getNode())==="false"){i=C.getNode();for(var W=0,G=c.length;W<G;W++){var q=c[W];if(q.ceFalseOverride&&fs(q)&&b.is(i,q.selector)){k(i,q);break}}w2(e,n,i,a);return}if(f){if(i)if(s0(i)){if(!N(c,i)){var K=b.createRng();K.setStartBefore(i),K.setEndAfter(i),I(b,Fv(e,K,c),!0)}}else I(b,i,!0);else if(!g||!Di(f)||Zl(e).length){var ae=C.getNode(),re=c[0];!e.settings.forced_root_block&&re.defaultBlock&&!b.getParent(ae,b.isBlock)&&iC(e,re.defaultBlock),C.setRng(Mk(C.getRng())),pg(C,!0,function(){Id(e,function(ye,he){var ie=he?ye:Fv(e,ye,c);I(b,ie,!1)})}),oS(b,C,C.getRng()),e.nodeChanged()}else MO(e,n,a);sM(n,e)}w2(e,n,i,a)},Bx=function(e){return qn(e,"vars")},r4=function(e,n){e.set({}),n.on("NodeChange",function(a){o4(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=Z.from(a.node).map(function(c){return s0(c)?c:c.startContainer}).bind(function(c){return En(c)?Z.some(c):Z.from(c.parentElement)}).getOrThunk(function(){return YO(n)});o4(n,i,e.get())})},YO=function(e){return e.selection.getStart()},a4=function(e,n,a,i,c){var f=function(b){var C=e.formatter.matchNode(b,a,c??{},i);return!Rt(C)},g=function(b){return jk(e,b,a)?!0:i?!1:Sn(e.formatter.matchNode(b,a,c,!0))};return fn(n,f,g)},ZO=function(e,n){var a=n??YO(e);return xt(Vh(e.dom,a),function(i){return En(i)&&!mo(i)})},o4=function(e,n,a){var i=ZO(e,n);zt(a,function(c,f){var g=function(b){var C=a4(e,i,f,b.similar,Bx(b)?b.vars:void 0),k=C.isSome();if(b.state.get()!==k){b.state.set(k);var N=C.getOr(n);Bx(b)?b.callback(k,{node:N,format:f,parents:i}):Ce(b.callbacks,function(F){return F(k,{node:N,format:f,parents:i})})}};Ce([c.withSimilar,c.withoutSimilar],g),Ce(c.withVars,g)})},i4=function(e,n,a,i,c,f){var g=n.get();Ce(a.split(","),function(b){var C=Mr(g,b).getOrThunk(function(){var F={withSimilar:{state:Cu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Cu(!1),similar:!1,callbacks:[]},withVars:[]};return g[b]=F,F}),k=function(){var F=ZO(e);return a4(e,F,b,c,f).isSome()};if(Rt(f)){var N=c?C.withSimilar:C.withoutSimilar;N.callbacks.push(i),N.callbacks.length===1&&N.state.set(k())}else C.withVars.push({state:Cu(k()),similar:c,vars:f,callback:i})}),n.set(g)},wM=function(e,n,a){var i=e.get();Ce(n.split(","),function(c){return Mr(i,c).each(function(f){i[c]={withSimilar:gn(gn({},f.withSimilar),{callbacks:xt(f.withSimilar.callbacks,function(g){return g!==a})}),withoutSimilar:gn(gn({},f.withoutSimilar),{callbacks:xt(f.withoutSimilar.callbacks,function(g){return g!==a})}),withVars:xt(f.withVars,function(g){return g.callback!==a})}})}),e.set(i)},JO=function(e,n,a,i,c,f){return n.get()===null&&r4(n,e),i4(e,n,a,i,c,f),{unbind:function(){return wM(n,a,i)}}},SM=function(e,n,a,i){var c=e.formatter.get(n);Ex(e,n,a,i)&&(!("toggle"in c[0])||c[0].toggle)?KO(e,n,a,i):iC(e,n,a,i)},wp=function(e,n){var a=n||document,i=a.createDocumentFragment();return Ce(e,function(c){i.appendChild(c.dom)}),B.fromDom(i)},Mx=function(e,n,a){return{element:e,width:n,rows:a}},QO=function(e,n){return{element:e,cells:n}},eD=function(e,n){return{x:e,y:n}},tD=function(e,n){var a=parseInt($(e,n),10);return isNaN(a)?1:a},xM=function(e,n,a,i,c){for(var f=tD(c,"rowspan"),g=tD(c,"colspan"),b=e.rows,C=a;C<a+f;C++){b[C]||(b[C]=QO(D1(i),[]));for(var k=n;k<n+g;k++){var N=b[C].cells;N[k]=C===a&&k===n?c:_o(c)}}},TM=function(e,n,a){var i=e.rows,c=i[a]?i[a].cells:[];return!!c[n]},EM=function(e,n,a){for(;TM(e,n,a);)n++;return n},nD=function(e){return rr(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},u4=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var c=a[i].cells,f=0;f<c.length;f++)if(pa(c[f],n))return Z.some(eD(f,i));return Z.none()},rD=function(e,n,a,i,c){for(var f=[],g=e.rows,b=a;b<=c;b++){var C=g[b].cells,k=n<i?C.slice(n,i+1):C.slice(i,n+1);f.push(QO(g[b].element,k))}return f},s4=function(e,n,a){var i=n.x,c=n.y,f=a.x,g=a.y,b=c<g?rD(e,i,c,f,g):rD(e,i,g,f,c);return Mx(e.element,nD(b),b)},Q0=function(e,n){var a=_o(e.element),i=B.fromTag("tbody");return bf(i,n),zo(a,i),a},kM=function(e){return Ee(e.rows,function(n){var a=Ee(n.cells,function(c){var f=D1(c);return Fe(f,"colspan"),Fe(f,"rowspan"),f}),i=_o(n.element);return bf(i,a),i})},AM=function(e){var n=Mx(_o(e),0,[]);return Ce(ki(e,"tr"),function(a,i){Ce(ki(a,"td,th"),function(c,f){xM(n,EM(n,f,i),i,a,c)})}),Mx(n.element,nD(n.rows),n.rows)},Nx=function(e){return Q0(e,kM(e))},c4=function(e,n,a){return u4(e,n).bind(function(i){return u4(e,a).map(function(c){return s4(e,i,c)})})},OM=function(e){return jr(e,function(n){return uo(n)==="ul"||uo(n)==="ol"})},DM=function(e,n){return jr(e,function(a){return uo(a)==="li"&&Bc(a,n)}).fold(L([]),function(a){return OM(e).map(function(i){var c=B.fromTag(uo(i)),f=Ea(eo(i),function(g,b){return hr(b,"list-style")});return vr(c,f),[B.fromTag("li"),c]}).getOr([])})},aD=function(e,n){var a=rr(n,function(i,c){return zo(c,i),c},e);return n.length>0?wp([a]):a},l4=function(e){return Wi(e)?Ja(e).filter(Tc).fold(L([]),function(n){return[e,n]}):Tc(e)?[e]:[]},RM=function(e,n){var a=B.fromDom(n.commonAncestorContainer),i=nn(a,e),c=xt(i,function(b){return nu(b)||kn(b)}),f=DM(i,n),g=c.concat(f.length?f:l4(a));return Ee(g,_o)},uC=function(){return wp([])},Qd=function(e,n){return aD(B.fromDom(n.cloneContents()),RM(e,n))},_M=function(e,n){return od(n,"table",Ze(pa,e))},f4=function(e,n){return _M(e,n[0]).bind(function(a){var i=n[0],c=n[n.length-1],f=AM(a);return c4(f,i,c).map(function(g){return wp([Nx(g)])})}).getOrThunk(uC)},BM=function(e,n){return n.length>0&&n[0].collapsed?uC():Qd(e,n[0])},MM=function(e,n){var a=Lf(n,e);return a.length>0?f4(e,a):BM(e,n)},NM=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Px=function(e,n){return n>=0&&n<e.length&&Pv(e.charAt(n))},v4=function(e,n){var a=$u(e.innerText);return n?NM(a):a},PM=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},eb=function(e){return Z.from(e.selection.getRng()).map(function(n){var a=Z.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),c=PM(a),f=hn.browser.isIE()&&c!=="pre",g=e.dom.add(i,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),b=v4(g,f),C=$u(g.textContent);if(e.dom.remove(g),Px(C,0)||Px(C,C.length-1)){var k=a.getOr(i),N=v4(k,f),F=N.indexOf(b);if(F===-1)return b;var I=Px(N,F-1),W=Px(N,F+b.length);return(I?" ":"")+b+(W?" ":"")}else return b}).getOr("")},FM=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),f=_0(e,f2(c)),g=n.contextual?MM(B.fromDom(e.getBody()),f).dom:a.cloneContents();return g&&i.appendChild(g),e.selection.serializer.serialize(i,n)},IM=function(e,n){return gn(gn({},e),{format:n,get:!0,selection:!0})},zM=function(e,n,a){a===void 0&&(a={});var i=IM(a,n),c=e.fire("BeforeGetContent",i);if(c.isDefaultPrevented())return e.fire("GetContent",c),c.content;if(c.format==="text")return eb(e);c.getInner=!0;var f=FM(e,c);return c.format==="tree"?f:(c.content=e.selection.isCollapsed()?"":f,e.fire("GetContent",c),c.content)},d4=0,m4=1,oD=2,$M=function(e,n){var a=e.length+n.length+2,i=new Array(a),c=new Array(a),f=function(N,F,I){return{start:N,end:F,diag:I}},g=function(N,F,I,W,G){var q=C(N,F,I,W);if(q===null||q.start===F&&q.diag===F-W||q.end===N&&q.diag===N-I)for(var K=N,ae=I;K<F||ae<W;)K<F&&ae<W&&e[K]===n[ae]?(G.push([d4,e[K]]),++K,++ae):F-N>W-I?(G.push([oD,e[K]]),++K):(G.push([m4,n[ae]]),++ae);else{g(N,q.start,I,q.start-q.diag,G);for(var re=q.start;re<q.end;++re)G.push([d4,e[re]]);g(q.end,F,q.end-q.diag,W,G)}},b=function(N,F,I,W){for(var G=N;G-F<W&&G<I&&e[G]===n[G-F];)++G;return f(N,G,F)},C=function(N,F,I,W){var G=F-N,q=W-I;if(G===0||q===0)return null;var K=G-q,ae=q+G,re=(ae%2===0?ae:ae+1)/2;i[1+re]=N,c[1+re]=F+1;var ye,he,ie,Se,He;for(ye=0;ye<=re;++ye){for(he=-ye;he<=ye;he+=2){for(ie=he+re,he===-ye||he!==ye&&i[ie-1]<i[ie+1]?i[ie]=i[ie+1]:i[ie]=i[ie-1]+1,Se=i[ie],He=Se-N+I-he;Se<F&&He<W&&e[Se]===n[He];)i[ie]=++Se,++He;if(K%2!==0&&K-ye<=he&&he<=K+ye&&c[ie-K]<=i[ie])return b(c[ie-K],he+N-I,F,W)}for(he=K-ye;he<=K+ye;he+=2){for(ie=he+re-K,he===K-ye||he!==K+ye&&c[ie+1]<=c[ie-1]?c[ie]=c[ie+1]-1:c[ie]=c[ie-1],Se=c[ie]-1,He=Se-N+I-he;Se>=N&&He>=I&&e[Se]===n[He];)c[ie]=Se--,He--;if(K%2===0&&-ye<=he&&he<=ye&&c[ie]<=i[ie+K])return b(c[ie],he+N-I,F,W)}}},k=[];return g(0,e.length,0,n.length,k),k},g4=function(e){return En(e)?e.outerHTML:Vt(e)?Ps.encodeRaw(e.data,!1):Ef(e)?"<!--"+e.data+"-->":""},LM=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},HM=function(e,n,a){var i=LM(n);if(e.hasChildNodes()&&a<e.childNodes.length){var c=e.childNodes[a];c.parentNode.insertBefore(i,c)}else e.appendChild(i)},VM=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},UM=function(e,n){var a=0;Ce(e,function(i){i[0]===d4?a++:i[0]===m4?(HM(n,i[1],a),a++):i[0]===oD&&VM(n,a)})},WM=function(e,n){return xt(Ee(Br(e.childNodes),n?Jn($u,g4):g4),function(a){return a.length>0})},jM=function(e,n){var a=Ee(Br(n.childNodes),g4);return UM($M(a,e),n),n},GM=fu(function(){return document.implementation.createHTMLDocument("undo")}),h4=function(e){return e.querySelector("iframe")!==null},iD=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},qM=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},tb=function(e){var n=e.serializer.getTempAttrs(),a=Gd(e.getBody(),n);return h4(a)?iD(WM(a,!0)):qM($u(a.innerHTML))},Fx=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?jM(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Sn(i)&&Jw(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},Sp=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},nb=function(e){var n=B.fromTag("body",GM());return xu(n,Sp(e)),Ce(ki(n,"*[data-mce-bogus]"),Cf),Su(n)},uD=function(e,n){return Sp(e)===Sp(n)},KM=function(e,n){return nb(e)===nb(n)},Ix=function(e,n){return!e||!n?!1:uD(e,n)?!0:KM(e,n)},p4=function(e){return e.get()===0},zx=function(e,n,a){p4(a)&&(e.typing=n)},sD=function(e,n){e.typing&&(zx(e,!1,n),e.add())},XM=function(e){e.typing&&(e.typing=!1,e.add())},YM=function(e,n,a){p4(n)&&a.set(Aw(e.selection))},cD=function(e,n,a,i,c,f,g){var b=tb(e);if(f=f||{},f=ze.extend(f,b),p4(i)===!1||e.removed)return null;var C=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:f,lastLevel:C,originalEvent:g}).isDefaultPrevented()||C&&Ix(C,f))return null;n.data[a.get()]&&c.get().each(function(I){n.data[a.get()].beforeBookmark=I});var k=$h(e);if(k&&n.data.length>k){for(var N=0;N<n.data.length-1;N++)n.data[N]=n.data[N+1];n.data.length--,a.set(n.data.length)}f.bookmark=Aw(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(f),a.set(n.data.length-1);var F={level:f,lastLevel:C,originalEvent:g};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",F),e.fire("change",F)):e.fire("AddUndo",F),f},ZM=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},sC=function(e,n,a,i,c){if(n.transact(i)){var f=n.data[a.get()].bookmark,g=n.data[a.get()-1];Fx(e,g,!0),n.transact(c)&&(n.data[a.get()-1].beforeBookmark=f)}},JM=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],Fx(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},QM=function(e,n,a,i){var c;return n.typing&&(n.add(),n.typing=!1,zx(n,!1,a)),i.get()>0&&(i.set(i.get()-1),c=n.data[i.get()],Fx(e,c,!0),e.setDirty(!0),e.fire("Undo",{level:c})),c},e8=function(e){e.clear(),e.add()},t8=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!Ix(tb(e),n.data[0])},lD=function(e,n){return n.get()<e.data.length-1&&!e.typing},fD=function(e,n,a){return sD(e,n),e.beforeChange(),e.ignore(a),e.add()},vD=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},dD=function(e,n){var a=e.dom,i=Sn(n)?n:e.getBody();Rt(e.hasVisual)&&(e.hasVisual=$w(e)),Ce(a.select("table,a",i),function(c){switch(c.nodeName){case"TABLE":var f=hE(e),g=a.getAttrib(c,"border");(!g||g==="0")&&e.hasVisual?a.addClass(c,f):a.removeClass(c,f);break;case"A":if(!a.getAttrib(c,"href")){var b=a.getAttrib(c,"name")||c.id,C=Hy(e);b&&e.hasVisual?a.addClass(c,C):a.removeClass(c,C)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},$x=function(e){return{undoManager:{beforeChange:function(n,a){return YM(e,n,a)},add:function(n,a,i,c,f,g){return cD(e,n,a,i,c,f,g)},undo:function(n,a,i){return QM(e,n,a,i)},redo:function(n,a){return JM(e,n,a)},clear:function(n,a){return ZM(e,n,a)},reset:function(n){return e8(n)},hasUndo:function(n,a){return t8(e,n,a)},hasRedo:function(n,a){return lD(n,a)},transact:function(n,a,i){return fD(n,a,i)},ignore:function(n,a){return vD(n,a)},extra:function(n,a,i,c){return sC(e,n,a,i,c)}},formatter:{match:function(n,a,i,c){return Ex(e,n,a,i,c)},matchAll:function(n,a){return qk(e,n,a)},matchNode:function(n,a,i,c){return Kv(e,n,a,i,c)},canApply:function(n){return AO(e,n)},closest:function(n){return Kk(e,n)},apply:function(n,a,i){return iC(e,n,a,i)},remove:function(n,a,i,c){return KO(e,n,a,i,c)},toggle:function(n,a,i){return SM(e,n,a,i)},formatChanged:function(n,a,i,c,f){return JO(e,n,a,i,c,f)}},editor:{getContent:function(n,a){return q2(e,n,a)},setContent:function(n,a){return QB(e,n,a)},insertContent:function(n,a){return $k(e,n,a)},addVisual:function(n){return dD(e,n)}},selection:{getContent:function(n,a){return zM(e,n,a)}},raw:{getModel:function(){return Z.none()}}}},mD=function(e){var n=function(b){return vt(b)?b:{}},a=e.undoManager,i=e.formatter,c=e.editor,f=e.selection,g=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(b,C,k){return a.transact(k)},ignore:function(b,C){return a.ignore(C)},extra:function(b,C,k,N){return a.extra(k,N)}},formatter:{match:function(b,C,k,N){return i.match(b,n(C),N)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(b){return i.canApply(b)},closest:function(b){return i.closest(b)},apply:function(b,C,k){return i.apply(b,n(C))},remove:function(b,C,k,N){return i.remove(b,n(C))},toggle:function(b,C,k){return i.toggle(b,n(C))},formatChanged:function(b,C,k,N,F){return i.formatChanged(C,k,N,F)}},editor:{getContent:function(b,C){return c.getContent(b)},setContent:function(b,C){return c.setContent(b,C)},insertContent:function(b,C){return c.insertContent(b)},addVisual:c.addVisual},selection:{getContent:function(b,C){return f.getContent(C)}},raw:{getModel:function(){return Z.some(g.getRawModel())}}}},n8=function(){var e=L(null),n=L("");return{undoManager:{beforeChange:Qe,add:e,undo:e,redo:e,clear:Qe,reset:Qe,hasUndo:at,hasRedo:at,transact:e,ignore:Qe,extra:Qe},formatter:{match:at,matchAll:L([]),matchNode:L(void 0),canApply:at,closest:n,apply:Qe,remove:Qe,toggle:Qe,formatChanged:L({unbind:Qe})},editor:{getContent:n,setContent:n,insertContent:Qe,addVisual:Qe},selection:{getContent:n},raw:{getModel:L(Z.none())}}},em=function(e){return qn(e.plugins,"rtc")},r8=function(e){return Mr(e.plugins,"rtc").bind(function(n){return Z.from(n.setup)})},a8=function(e){var n=e;return r8(e).fold(function(){return n.rtcInstance=$x(e),Z.none()},function(a){return n.rtcInstance=n8(),Z.some(function(){return a().then(function(i){return n.rtcInstance=mD(i),i.rtc.isRemote})})})},b4=function(e){return e.rtcInstance?e.rtcInstance:$x(e)},Zo=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},y4=function(e,n,a){Zo(e).undoManager.beforeChange(n,a)},gD=function(e,n,a,i,c,f,g){return Zo(e).undoManager.add(n,a,i,c,f,g)},Lx=function(e,n,a,i){return Zo(e).undoManager.undo(n,a,i)},Fc=function(e,n,a){return Zo(e).undoManager.redo(n,a)},cC=function(e,n,a){Zo(e).undoManager.clear(n,a)},xp=function(e,n){Zo(e).undoManager.reset(n)},o8=function(e,n,a){return Zo(e).undoManager.hasUndo(n,a)},hD=function(e,n,a){return Zo(e).undoManager.hasRedo(n,a)},pD=function(e,n,a,i){return Zo(e).undoManager.transact(n,a,i)},i8=function(e,n,a){Zo(e).undoManager.ignore(n,a)},u8=function(e,n,a,i,c){Zo(e).undoManager.extra(n,a,i,c)},s8=function(e,n,a,i,c){return Zo(e).formatter.match(n,a,i,c)},bD=function(e,n,a){return Zo(e).formatter.matchAll(n,a)},Hx=function(e,n,a,i,c){return Zo(e).formatter.matchNode(n,a,i,c)},yD=function(e,n){return Zo(e).formatter.canApply(n)},CD=function(e,n){return Zo(e).formatter.closest(n)},Vx=function(e,n,a,i){Zo(e).formatter.apply(n,a,i)},c8=function(e,n,a,i,c){Zo(e).formatter.remove(n,a,i,c)},l8=function(e,n,a,i){Zo(e).formatter.toggle(n,a,i)},f8=function(e,n,a,i,c,f){return Zo(e).formatter.formatChanged(n,a,i,c,f)},v8=function(e,n,a){return b4(e).editor.getContent(n,a)},d8=function(e,n,a){return b4(e).editor.setContent(n,a)},m8=function(e,n,a){return b4(e).editor.insertContent(n,a)},g8=function(e,n,a){return Zo(e).selection.getContent(n,a)},h8=function(e,n){return Zo(e).editor.addVisual(n)},p8=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return g8(e,a,n)},wD=function(e){return e.dom.length===0?(Qa(e),Z.none()):Z.some(e)},b8=function(e,n){return e.filter(function(a){return $v.isBookmarkNode(a.dom)}).bind(n?Os:hf)},y8=function(e,n,a,i){var c=e.dom,f=n.dom,g=i?c.length:f.length;i?(U0(c,f,!1,!i),a.setStart(f,g)):(U0(f,c,!1,!i),a.setEnd(f,g))},C4=function(e,n){Ja(e).each(function(a){var i=e.dom;n&&nf(a,Be(i,0))?Dg(i,0):!n&&vp(a,Be(i,i.length))&&dr(i,i.length)})},SD=function(e,n,a,i){e.bind(function(c){var f=i?dr:Dg;return f(c.dom,i?c.dom.length:0),n.filter(Ua).map(function(g){return y8(c,g,a,i)})}).orThunk(function(){var c=b8(n,i).or(n).filter(Ua);return c.map(function(f){return C4(f,i)})})},rb=function(e,n){var a=Z.from(n.firstChild).map(B.fromDom),i=Z.from(n.lastChild).map(B.fromDom);e.deleteContents(),e.insertNode(n);var c=a.bind(hf).filter(Ua).bind(wD),f=i.bind(Os).filter(Ua).bind(wD);SD(c,a,e,!0),SD(f,i,e,!1),e.collapse(!1)},xD=function(e,n){return gn(gn({format:"html"},e),{set:!0,selection:!0,content:n})},Jo=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,gn(gn({isRootContent:!0,forced_root_block:!1},c),n));return qd({validate:e.validate},e.schema).serialize(f)}else return n.content},C8=function(e,n,a){a===void 0&&(a={});var i=xD(a,n),c=i;if(!i.no_events){var f=e.fire("BeforeSetContent",i);if(f.isDefaultPrevented()){e.fire("SetContent",f);return}else c=f}c.content=Jo(e,c);var g=e.selection.getRng();rb(g,g.createContextualFragment(c.content)),e.selection.setRng(g),Zh(e,g),c.no_events||e.fire("SetContent",c)},TD=function(e,n,a){if(e&&qn(e,n)){var i=xt(e[n],function(c){return c!==a});i.length===0?delete e[n]:e[n]=i}};function w8(e,n){var a,i,c=function(g,b){return jr(b,function(C){return e.is(C,g)})},f=function(g){return e.getParents(g,null,e.getRoot())};return{selectorChangedWithUnbind:function(g,b){return a||(a={},i={},n.on("NodeChange",function(C){var k=C.element,N=f(k),F={};ze.each(a,function(I,W){c(W,N).each(function(G){i[W]||(Ce(I,function(q){q(!0,{node:G,selector:W,parents:N})}),i[W]=I),F[W]=I})}),ze.each(i,function(I,W){F[W]||(delete i[W],ze.each(I,function(G){G(!1,{node:k,selector:W,parents:N})}))})})),a[g]||(a[g]=[]),a[g].push(b),c(g,f(n.selection.getStart())).each(function(){i[g]=a[g]}),{unbind:function(){TD(a,g,b),TD(i,g,b)}}}}}var ED=function(e){return!!e.select},bl=function(e){return!!(e&&e.ownerDocument)&&ni(B.fromDom(e.ownerDocument),B.fromDom(e))},Ux=function(e){return e?ED(e)?!0:bl(e.startContainer)&&bl(e.endContainer):!1},ab=function(e,n,a,i){var c,f,g=w8(e,i).selectorChangedWithUnbind,b=function(tt,$t){var ir=e.createRng();Sn(tt)&&Sn($t)?(ir.setStart(tt,$t),ir.setEnd(tt,$t),ye(ir),K(!1)):(Iv(e,ir,i.getBody(),!0),ye(ir))},C=function(tt){return p8(i,tt)},k=function(tt,$t){return C8(i,tt,$t)},N=function(tt){return jd(i.getBody(),re(),tt)},F=function(tt){return Tg(i.getBody(),re(),tt)},I=function(tt,$t){return Et.getBookmark(tt,$t)},W=function(tt){return Et.moveToBookmark(tt)},G=function(tt,$t){return ck(e,tt,$t).each(ye),tt},q=function(){var tt=re(),$t=ae();return!tt||tt.item?!1:tt.compareEndPoints?tt.compareEndPoints("StartToEnd",tt)===0:!$t||tt.collapsed},K=function(tt){var $t=re();$t.collapse(!!tt),ye($t)},ae=function(){return n.getSelection?n.getSelection():n.document.selection},re=function(){var tt,$t,ir,Vr=function(ro,Ku,mc){try{return Ku.compareBoundaryPoints(ro,mc)}catch{return-1}},$r=n.document;if(i.bookmark!==void 0&&uc(i)===!1){var Mi=wg(i);if(Mi.isSome())return Mi.map(function(ro){return _0(i,[ro])[0]}).getOr($r.createRange())}try{(tt=ae())&&!_l(tt.anchorNode)&&(tt.rangeCount>0?$t=tt.getRangeAt(0):$t=tt.createRange?tt.createRange():$r.createRange(),$t=_0(i,[$t])[0])}catch{}return $t||($t=$r.createRange?$r.createRange():$r.body.createTextRange()),$t.setStart&&$t.startContainer.nodeType===9&&$t.collapsed&&(ir=e.getRoot(),$t.setStart(ir,0),$t.setEnd(ir,0)),c&&f&&(Vr($t.START_TO_START,$t,c)===0&&Vr($t.END_TO_END,$t,c)===0?$t=f:(c=null,f=null)),$t},ye=function(tt,$t){var ir;if(Ux(tt)){var Vr=ED(tt)?tt:null;if(Vr){f=null;try{Vr.select()}catch{}return}var $r=ae(),Mi=i.fire("SetSelectionRange",{range:tt,forward:$t});if(tt=Mi.range,$r){f=tt;try{$r.removeAllRanges(),$r.addRange(tt)}catch{}$t===!1&&$r.extend&&($r.collapse(tt.endContainer,tt.endOffset),$r.extend(tt.startContainer,tt.startOffset)),c=$r.rangeCount>0?$r.getRangeAt(0):null}!tt.collapsed&&tt.startContainer===tt.endContainer&&$r.setBaseAndExtent&&!hn.ie&&tt.endOffset-tt.startOffset<2&&tt.startContainer.hasChildNodes()&&(ir=tt.startContainer.childNodes[tt.startOffset],ir&&ir.tagName==="IMG"&&($r.setBaseAndExtent(tt.startContainer,tt.startOffset,tt.endContainer,tt.endOffset),($r.anchorNode!==tt.startContainer||$r.focusNode!==tt.endContainer)&&$r.setBaseAndExtent(ir,0,ir,1))),i.fire("AfterSetSelectionRange",{range:tt,forward:$t})}},he=function(tt){return k(e.getOuterHTML(tt)),tt},ie=function(){return jS(i.getBody(),re())},Se=function(tt,$t){return R0(e,re(),tt,$t)},He=function(){var tt=ae(),$t=tt==null?void 0:tt.anchorNode,ir=tt==null?void 0:tt.focusNode;if(!tt||!$t||!ir||_l($t)||_l(ir))return!0;var Vr=e.createRng();Vr.setStart($t,tt.anchorOffset),Vr.collapse(!0);var $r=e.createRng();return $r.setStart(ir,tt.focusOffset),$r.collapse(!0),Vr.compareBoundaryPoints(Vr.START_TO_START,$r)<=0},ot=function(){var tt=re(),$t=ae();if(!d2($t)&&zv(i)){var ir=C0(e,tt);return ir.each(function(Vr){ye(Vr,He())}),ir.getOr(tt)}return tt},Cn=function(tt,$t){return g(tt,$t),dt},Ft=function(){for(var tt,$t=e.getRoot();$t&&$t.nodeName!=="BODY";){if($t.scrollHeight>$t.clientHeight){tt=$t;break}$t=$t.parentNode}return tt},je=function(tt,$t){Sn(tt)?nk(i,tt,$t):Zh(i,re(),$t)},on=function(tt,$t){return ye(T2(tt,$t,i.getDoc()))},ft=function(){var tt=re();return tt.collapsed?Be.fromRangeStart(tt).getClientRects()[0]:tt.getBoundingClientRect()},_t=function(){n=c=f=null,Gt.destroy()},dt={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:K,setCursorLocation:b,getContent:C,setContent:k,getBookmark:I,moveToBookmark:W,select:G,isCollapsed:q,isForward:He,setNode:he,getNode:ie,getSel:ae,setRng:ye,getRng:re,getStart:N,getEnd:F,getSelectedBlocks:Se,normalize:ot,selectorChanged:Cn,selectorChangedWithUnbind:g,getScrollContainer:Ft,scrollIntoView:je,placeCaretAt:on,getBoundingClientRect:ft,destroy:_t},Et=$v(dt),Gt=S2(dt,i);return dt.bookmarkManager=Et,dt.controlSelection=Gt,dt},lC=function(e,n){Ce(n,function(a){e.attr(a,null)})},w4=function(e,n,a){e.addNodeFilter("font",function(i){Ce(i,function(c){var f=n.parse(c.attr("style")),g=c.attr("color"),b=c.attr("face"),C=c.attr("size");g&&(f.color=g),b&&(f["font-family"]=b),C&&(f["font-size"]=a[parseInt(c.attr("size"),10)-1]),c.name="span",c.attr("style",n.serialize(f)),lC(c,["color","face","size"])})})},S8=function(e,n){e.addNodeFilter("strike",function(a){Ce(a,function(i){var c=n.parse(i.attr("style"));c["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(c))})})},x8=function(e,n){var a=Oc();n.convert_fonts_to_spans&&w4(e,a,ze.explode(n.font_size_legacy_values)),S8(e,a)},ob=function(e,n){n.inline_styles&&x8(e,n)},ib=function(e){return new ai(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="blob",c.onload=function(){c.status===200?n(c.response):i()},c.onerror=i,c.send()}catch{i()}})},Mg=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},Wx=function(e,n){var a;try{a=atob(n)}catch{return Z.none()}for(var i=new Uint8Array(a.length),c=0;c<i.length;c++)i[c]=a.charCodeAt(c);return Z.some(new Blob([i],{type:e}))},T8=function(e){return new ai(function(n){var a=Mg(e),i=a.type,c=a.data;Wx(i,c).fold(function(){return n(new Blob([]))},n)})},jx=function(e){return e.indexOf("blob:")===0?ib(e):e.indexOf("data:")===0?T8(e):null},kD=function(e){return new ai(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},AD=0,S4=function(e){return(e||"blobid")+AD++},E8=function(e,n,a,i){var c,f;if(n.src.indexOf("blob:")===0){f=e.getByUri(n.src),f?a({image:n,blobInfo:f}):jx(n.src).then(function(k){kD(k).then(function(N){c=Mg(N).data,f=e.create(S4(),k,c),e.add(f),a({image:n,blobInfo:f})})},function(k){i(k)});return}var g=Mg(n.src),b=g.data,C=g.type;c=b,f=e.getByData(c,C),f?a({image:n,blobInfo:f}):jx(n.src).then(function(k){f=e.create(S4(),k,c),e.add(f),a({image:n,blobInfo:f})},function(k){i(k)})},OD=function(e){return e?Br(e.getElementsByTagName("img")):[]},k8=function(e,n){var a={},i=function(c,f){f||(f=Nt);var g=xt(OD(c),function(C){var k=C.src;return!hn.fileApi||C.hasAttribute("data-mce-bogus")||C.hasAttribute("data-mce-placeholder")||!k||k===hn.transparentSrc?!1:k.indexOf("blob:")===0?!e.isUploaded(k)&&f(C):k.indexOf("data:")===0?f(C):!1}),b=Ee(g,function(C){if(a[C.src]!==void 0)return new ai(function(N){a[C.src].then(function(F){if(typeof F=="string")return F;N({image:C,blobInfo:F.blobInfo})})});var k=new ai(function(N,F){E8(n,C,N,F)}).then(function(N){return delete a[N.image.src],N}).catch(function(N){return delete a[C.src],N});return a[C.src]=k,k});return ai.all(b)};return{findAll:i}},A8=function(e){for(var n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},c=Cw("img"),f,g=0,b=0;f=n.exec(e);){var C=f[0],k=c+"_"+b++;i[k]=C,g<f.index&&a.push(e.substr(g,f.index-g)),a.push(k),g=f.index+C.length}var N=new RegExp(c+"_[0-9]+","g");return g===0?{prefix:c,uris:i,html:e,re:N}:(g<e.length&&a.push(e.substr(g)),{prefix:c,uris:i,html:a.join(""),re:N})},x4=function(e,n){return e.replace(n.re,function(a){return Mr(n.uris,a).getOr(a)})},O8=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?Z.some({type:n[1],data:decodeURIComponent(n[2])}):Z.none()},T4=function(e,n,a,i){var c=e.padd_empty_with_br||n.insert;c&&a[i.name]?i.empty().append(new sc("br",1)).shortEnded=!0:i.empty().append(new sc("#text",3)).value=is},DD=function(e){return RD(e,"#text")&&e.firstChild.value===is},RD=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},fC=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},ub=function(e,n,a,i){return i.isEmpty(n,a,function(c){return fC(e,c)})},D8=function(e,n){return e&&(qn(n,e.name)||e.name==="br")},_D=function(e){return Sn(e.attr("data-mce-bogus"))},R8=function(e){return e.attr("src")===hn.transparentSrc||Sn(e.attr("data-mce-placeholder"))},BD=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),zt(e.attributes.map,function(i,c){a.setAttribute(c,i)}),n.images_dataimg_filter(a)}else return!0},_8=function(e,n){var a=n.blob_cache,i=function(c){var f=c.attr("src");R8(c)||_D(c)||O8(f).filter(function(){return BD(c,n)}).bind(function(g){var b=g.type,C=g.data;return Z.from(a.getByData(C,b)).orThunk(function(){return Wx(b,C).map(function(k){var N=a.create(S4(),k,C);return a.add(N),N})})}).each(function(g){c.attr("src",g.blobUri())})};a&&e.addAttributeFilter("src",function(c){return Ce(c,i)})},B8=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,c,f){var g,b=i.length,C,k=ze.extend({},a.getBlockElements()),N=a.getNonEmptyElements(),F,I,W,G,q=a.getWhiteSpaceElements(),K,ae;for(k.body=1,g=0;g<b;g++)if(C=i[g],F=C.parent,k[C.parent.name]&&C===F.lastChild){for(W=C.prev;W;){if(G=W.name,G!=="span"||W.attr("data-mce-type")!=="bookmark"){G==="br"&&(C=null);break}W=W.prev}C&&(C.remove(),ub(a,N,q,F)&&(K=a.getElementRule(F.name),K&&(K.removeEmpty?F.remove():K.paddEmpty&&T4(n,f,k,F))))}else{for(I=C;F&&F.firstChild===I&&F.lastChild===I&&(I=F,!k[F.name]);)F=F.parent;I===F&&n.padd_empty_with_br!==!0&&(ae=new sc("#text",3),ae.value=is,C.replace(ae))}}),e.addAttributeFilter("href",function(i){var c=i.length,f=function(C){var k=C.split(" ").filter(function(N){return N.length>0});return k.concat(["noopener"]).sort().join(" ")},g=function(C){var k=C?ze.trim(C):"";return/\b(noopener)\b/g.test(k)?k:f(k)};if(!n.allow_unsafe_link_target)for(;c--;){var b=i[c];b.name==="a"&&b.attr("target")==="_blank"&&b.attr("rel",g(b.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var c=i.length,f,g,b,C;c--;)if(C=i[c],C.name==="a"&&C.firstChild&&!C.attr("href")){b=C.parent,f=C.lastChild;do g=f.prev,b.insert(f,C),f=g;while(f)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var c=i.length,f,g;c--;)if(f=i[c],g=f.parent,g.name==="ul"||g.name==="ol")if(f.prev&&f.prev.name==="li")f.prev.append(f);else{var b=new sc("li",1);b.attr("style","list-style-type: none"),f.wrap(b)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var c=a.getValidClasses(),f=i.length;f--;){for(var g=i[f],b=g.attr("class").split(" "),C="",k=0;k<b.length;k++){var N=b[k],F=!1,I=c["*"];I&&I[N]&&(F=!0),I=c[g.name],!F&&I&&I[N]&&(F=!0),F&&(C&&(C+=" "),C+=N)}C.length||(C=null),g.attr("class",C)}}),_8(e,n)},E4=ze.each,MD=ze.trim,ND="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),PD={ftp:21,http:80,https:443,mailto:25},FD=["img","video"],M8=function(e,n){return Sn(e)?!e:Sn(n)?!We(FD,n):!0},N8=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?M8(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},Ng=function(){function e(n,a){n=MD(n),this.settings=a||{};var i=this.settings.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}var f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var g=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+c.toAbsPath(g,n);else{var b=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(g,b[1])+b[2]}}n=n.replace(/@@/g,"(mce_at)");var C=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);E4(ND,function(k,N){var F=C[N];F&&(F=F.replace(/\(mce_at\)/g,"@@")),c[k]=F}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),f&&(c.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(a=c[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var c=Ps.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{c=decodeURIComponent(c)}catch{c=unescape(c)}return/((java|vb)script|mhtml):/i.test(c)?!1:!N8(i,c,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var c=this.getURI(),f=i.getURI();return c===f||c.charAt(c.length-1)==="/"&&c.substr(0,c.length-1)===f?c:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=PD[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,c="",f,g,b=n.substring(0,n.lastIndexOf("/")).split("/"),C=a.split("/");if(b.length>=C.length){for(f=0,g=b.length;f<g;f++)if(f>=C.length||b[f]!==C[f]){i=f+1;break}}if(b.length<C.length){for(f=0,g=C.length;f<g;f++)if(f>=b.length||b[f]!==C[f]){i=f+1;break}}if(i===1)return a;for(f=0,g=b.length-(i-1);f<g;f++)c+="../";for(f=i-1,g=C.length;f<g;f++)f!==i-1?c+="/"+C[f]:c+=C[f];return c},e.prototype.toAbsPath=function(n,a){var i,c=0,f=[],g,b=/\/$/.test(a)?"/":"",C=n.split("/"),k=a.split("/");for(E4(C,function(N){N&&f.push(N)}),C=f,i=k.length-1,f=[];i>=0;i--)if(!(k[i].length===0||k[i]===".")){if(k[i]===".."){c++;continue}if(c>0){c--;continue}f.push(k[i])}return i=C.length-c,i<=0?g=ta(f).join("/"):g=C.slice(0,i).join("/")+"/"+ta(f).join("/"),g.indexOf("/")!==0&&(g="/"+g),b&&g.lastIndexOf("/")!==g.length-1&&(g+=b),g},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),P8=ze.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),k4=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},vC=fu(function(){return document.implementation.createHTMLDocument("parser")}),Gx=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,c=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getShortEndedElements(),g=1,b=a;g!==0;)for(i.lastIndex=b;;){var C=i.exec(n);if(C===null)return b;if(C[1]==="!"){hr(C[2],"--")?b=sb(n,!1,C.index+3):b=sb(n,!0,C.index+1);break}else{c.lastIndex=i.lastIndex;var k=c.exec(n);if(ve(k)||k.index!==i.lastIndex)continue;C[1]==="/"?g-=1:qn(f,C[2])||(g+=1),b=i.lastIndex+k[0].length;break}}return b},ID=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},sb=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&ID(i,a)){var c=i.indexOf("[endif]",a);return i.indexOf(">",c)}else if(n){var f=i.indexOf(">",a);return f!==-1?f:i.length}else{var g=/--!?>/g;g.lastIndex=a;var b=g.exec(e);return b?b.index+b[0].length:i.length}},F8=function(e,n){var a=e.exec(n);if(a){var i=a[1],c=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?c:null}else return null},A4=function(e,n){n===void 0&&(n=Fs()),e=e||{};var a=vC(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var c=e.comment?e.comment:Qe,f=e.cdata?e.cdata:Qe,g=e.text?e.text:Qe,b=e.start?e.start:Qe,C=e.end?e.end:Qe,k=e.pi?e.pi:Qe,N=e.doctype?e.doctype:Qe,F=function(W,G){G===void 0&&(G="html");for(var q=W.html,K,ae=0,re,ye,he=[],ie,Se,He,ot,Cn,Ft,je,on,ft,_t,dt,Et,Gt,tt,$t,ir,Vr,$r=0,Mi=Ps.decode,ro=ze.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Ku=G==="html"?0:1,mc=function(Ur){var Na,fi;for(Na=he.length;Na--&&he[Na].name!==Ur;);if(Na>=0){for(fi=he.length-1;fi>=Na;fi--)Ur=he[fi],Ur.valid&&C(Ur.name);he.length=Na}},nt=function(Ur,Na){return g(x4(Ur,W),Na)},yt=function(Ur){Ur!==""&&(Ur.charAt(0)===">"&&(Ur=" "+Ur),!e.allow_conditional_comments&&Ur.substr(0,3).toLowerCase()==="[if"&&(Ur=" "+Ur),c(x4(Ur,W)))},un=function(Ur){return x4(Ur,W)},xe=function(Ur,Na){var fi=Ur||"",ev=!hr(fi,"--"),tv=sb(q,ev,Na);return Ur=q.substr(Na,tv-Na),yt(ev?fi+Ur:Ur),tv+1},ct=function(Ur,Na,fi,ev,tv){if(Na=Na.toLowerCase(),fi=un(Na in li?Na:Mi(fi||ev||tv||"")),Qo&&!Cn&&k4(Na)===!1){var nv=dt[Na];if(!nv&&Et){for(var Yg=Et.length;Yg--&&(nv=Et[Yg],!nv.pattern.test(Na)););Yg===-1&&(nv=null)}if(!nv||nv.validValues&&!(fi in nv.validValues))return}var dO=Na==="name"||Na==="id";dO&&Ur in P8&&(fi in a||fi in i)||ro[Na]&&!Ng.isDomSafe(fi,Ur,e)||Cn&&(Na in ro||Na.indexOf("on")===0)||(ie.map[Na]=fi,ie.push({name:Na,value:fi}))},rt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),ln=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,yn=n.getShortEndedElements(),Ca=e.self_closing_elements||n.getSelfClosingElements(),li=n.getBoolAttrs(),Qo=e.validate,Du=e.remove_internals,Ru=e.fix_self_closing,gs=n.getSpecialElements(),ei=q+">";K=rt.exec(ei);){var Lc=K[0];if(ae<K.index&&nt(Mi(q.substr(ae,K.index-ae))),re=K[7])re=re.toLowerCase(),re.charAt(0)===":"&&(re=re.substr(1)),mc(re);else if(re=K[8]){if(K.index+Lc.length>q.length){nt(Mi(q.substr(K.index))),ae=K.index+Lc.length;continue}re=re.toLowerCase(),re.charAt(0)===":"&&(re=re.substr(1)),Ft=re in yn,Ru&&Ca[re]&&he.length>0&&he[he.length-1].name===re&&mc(re);var hs=F8(ln,K[9]);if(hs!==null){if(hs==="all"){ae=Gx(n,q,rt.lastIndex),rt.lastIndex=ae;continue}on=!1}if(!Qo||(je=n.getElementRule(re))){if(on=!0,Qo&&(dt=je.attributes,Et=je.attributePatterns),(_t=K[9])?(Cn=_t.indexOf("data-mce-type")!==-1,Cn&&Du&&(on=!1),ie=[],ie.map={},_t.replace(ln,function(Ur,Na,fi,ev,tv){return ct(re,Na,fi,ev,tv),""})):(ie=[],ie.map={}),Qo&&!Cn){if(Gt=je.attributesRequired,tt=je.attributesDefault,$t=je.attributesForced,ir=je.removeEmptyAttrs,ir&&!ie.length&&(on=!1),$t)for(Se=$t.length;Se--;)ft=$t[Se],ot=ft.name,Vr=ft.value,Vr==="{$uid}"&&(Vr="mce_"+$r++),ie.map[ot]=Vr,ie.push({name:ot,value:Vr});if(tt)for(Se=tt.length;Se--;)ft=tt[Se],ot=ft.name,ot in ie.map||(Vr=ft.value,Vr==="{$uid}"&&(Vr="mce_"+$r++),ie.map[ot]=Vr,ie.push({name:ot,value:Vr}));if(Gt){for(Se=Gt.length;Se--&&!(Gt[Se]in ie.map););Se===-1&&(on=!1)}if(ft=ie.map["data-mce-bogus"]){if(ft==="all"){ae=Gx(n,q,rt.lastIndex),rt.lastIndex=ae;continue}on=!1}}on&&b(re,ie,Ft)}else on=!1;if(ye=gs[re]){ye.lastIndex=ae=K.index+Lc.length,(K=ye.exec(q))?(on&&(He=q.substr(ae,K.index-ae)),ae=K.index+K[0].length):(He=q.substr(ae),ae=q.length),on&&(He.length>0&&nt(He,!0),C(re)),rt.lastIndex=ae;continue}Ft||(!_t||_t.indexOf("/")!==_t.length-1?he.push({name:re,valid:on}):on&&C(re))}else if(re=K[1])yt(re);else if(re=K[2]){var Jv=Ku===1||e.preserve_cdata||he.length>0&&n.isValidChild(he[he.length-1].name,"#cdata");if(Jv)f(re);else{ae=xe("",K.index+2),rt.lastIndex=ae;continue}}else if(re=K[3])N(re);else if((re=K[4])||Lc==="<!"){ae=xe(re,K.index+Lc.length),rt.lastIndex=ae;continue}else if(re=K[5])if(Ku===1)k(re,K[6]);else{ae=xe("?",K.index+2),rt.lastIndex=ae;continue}ae=K.index+Lc.length}for(ae<q.length&&nt(Mi(q.substr(ae))),Se=he.length-1;Se>=0;Se--)re=he[Se],re.valid&&C(re.name)},I=function(W,G){G===void 0&&(G="html"),F(A8(W),G)};return{parse:I}};A4.findEndTag=Gx;var tm=ze.makeMap,qx=ze.each,O4=ze.explode,dC=ze.extend,Kx=function(e,n){n===void 0&&(n=Fs());var a={},i=[],c={},f={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var g=function(G){for(var q=tm("tr,td,th,tbody,thead,tfoot,table"),K=n.getNonEmptyElements(),ae=n.getWhiteSpaceElements(),re=n.getTextBlockElements(),ye=n.getSpecialElements(),he=function(Et,Gt){if(Gt===void 0&&(Gt=Et.parent),ye[Et.name])Et.empty().remove();else{for(var tt=Et.children(),$t=0,ir=tt;$t<ir.length;$t++){var Vr=ir[$t];n.isValidChild(Gt.name,Vr.name)||he(Vr,Gt)}Et.unwrap()}},ie=0;ie<G.length;ie++){var Se=G[ie],He=void 0,ot=void 0,Cn=void 0;if(!(!Se.parent||Se.fixed)){if(re[Se.name]&&Se.parent.name==="li"){for(var Ft=Se.next;Ft&&re[Ft.name];){Ft.name="li",Ft.fixed=!0,Se.parent.insert(Ft,Se.parent);Ft=Ft.next}Se.unwrap();continue}var je=[Se];for(He=Se.parent;He&&!n.isValidChild(He.name,Se.name)&&!q[He.name];He=He.parent)je.push(He);if(He&&je.length>1)if(n.isValidChild(He.name,Se.name)){je.reverse(),ot=b(je[0].clone());for(var on=ot,ft=0;ft<je.length-1;ft++){n.isValidChild(on.name,je[ft].name)?(Cn=b(je[ft].clone()),on.append(Cn)):Cn=on;for(var _t=je[ft].firstChild;_t&&_t!==je[ft+1];){var dt=_t.next;Cn.append(_t),_t=dt}on=Cn}ub(n,K,ae,ot)?He.insert(Se,je[0],!0):(He.insert(ot,je[0],!0),He.insert(Se,ot)),He=je[0],(ub(n,K,ae,He)||RD(He,"br"))&&He.empty().remove()}else he(Se);else if(Se.parent){if(Se.name==="li"){var Ft=Se.prev;if(Ft&&(Ft.name==="ul"||Ft.name==="ol")){Ft.append(Se);continue}if(Ft=Se.next,Ft&&(Ft.name==="ul"||Ft.name==="ol")){Ft.insert(Se,Ft.firstChild,!0);continue}Se.wrap(b(new sc("ul",1)));continue}n.isValidChild(Se.parent.name,"div")&&n.isValidChild("div",Se.name)?Se.wrap(b(new sc("div",1))):he(Se)}}}},b=function(G){var q=G.name;if(q in a){var K=c[q];K?K.push(G):c[q]=[G]}for(var ae=i.length;ae--;){var re=i[ae].name;if(re in G.attributes.map){var K=f[re];K?K.push(G):f[re]=[G]}}return G},C=function(G,q){qx(O4(G),function(K){var ae=a[K];ae||(a[K]=ae=[]),ae.push(q)})},k=function(){var G=[];for(var q in a)qn(a,q)&&G.push({name:q,callbacks:a[q]});return G},N=function(G,q){qx(O4(G),function(K){var ae;for(ae=0;ae<i.length;ae++)if(i[ae].name===K){i[ae].callbacks.push(q);return}i.push({name:K,callbacks:[q]})})},F=function(){return[].concat(i)},I=function(G,q){var K,ae,re,ye,he,ie,Se,He=[],ot,Cn=function(xe){return xe===!1?"":xe===!0?"p":xe};q=q||{},c={},f={};var Ft=dC(tm("script,style,head,html,body,title,meta,param"),n.getBlockElements()),je=r1(n),on=n.getNonEmptyElements(),ft=n.children,_t=e.validate,dt="forced_root_block"in q?q.forced_root_block:e.forced_root_block,Et=Cn(dt),Gt=n.getWhiteSpaceElements(),tt=/^[ \t\r\n]+/,$t=/[ \t\r\n]+$/,ir=/[ \t\r\n]+/g,Vr=/^[ \t\r\n]+$/,$r=qn(Gt,q.context)||qn(Gt,e.root_name),Mi=function(){var xe=un.firstChild,ct=null,rt=function(yn){yn&&(xe=yn.firstChild,xe&&xe.type===3&&(xe.value=xe.value.replace(tt,"")),xe=yn.lastChild,xe&&xe.type===3&&(xe.value=xe.value.replace($t,"")))};if(n.isValidChild(un.name,Et.toLowerCase())){for(;xe;){var ln=xe.next;xe.type===3||xe.type===1&&xe.name!=="p"&&!Ft[xe.name]&&!xe.attr("data-mce-type")?(ct||(ct=ro(Et,1),ct.attr(e.forced_root_block_attrs),un.insert(ct,xe)),ct.append(xe)):(rt(ct),ct=null),xe=ln}rt(ct)}},ro=function(xe,ct){var rt=new sc(xe,ct),ln;return xe in a&&(ln=c[xe],ln?ln.push(rt):c[xe]=[rt]),rt},Ku=function(xe){for(var ct=n.getBlockElements(),rt=xe.prev;rt&&rt.type===3;){var ln=rt.value.replace($t,"");if(ln.length>0){rt.value=ln;return}var yn=rt.next;if(yn){if(yn.type===3&&yn.value.length){rt=rt.prev;continue}if(!ct[yn.name]&&yn.name!=="script"&&yn.name!=="style"){rt=rt.prev;continue}}var Ca=rt.prev;rt.remove(),rt=Ca}},mc=function(xe){var ct={};for(var rt in xe)rt!=="li"&&rt!=="p"&&(ct[rt]=xe[rt]);return ct},nt=function(xe){for(var ct=xe;Sn(ct);){if(ct.name in je)return ub(n,on,Gt,ct);ct=ct.parent}return!1},yt=A4({validate:_t,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:mc(n.getSelfClosingElements()),cdata:function(xe){ot.append(ro("#cdata",4)).value=xe},text:function(xe,ct){var rt;$r||(xe=xe.replace(ir," "),D8(ot.lastChild,Ft)&&(xe=xe.replace(tt,""))),xe.length!==0&&(rt=ro("#text",3),rt.raw=!!ct,ot.append(rt).value=xe)},comment:function(xe){ot.append(ro("#comment",8)).value=xe},pi:function(xe,ct){ot.append(ro(xe,7)).value=ct,Ku(ot)},doctype:function(xe){var ct=ot.append(ro("#doctype",10));ct.value=xe,Ku(ot)},start:function(xe,ct,rt){var ln=_t?n.getElementRule(xe):{};if(ln){var yn=ro(ln.outputName||xe,1);yn.attributes=ct,yn.shortEnded=rt,ot.append(yn);var Ca=ft[ot.name];Ca&&ft[yn.name]&&!Ca[yn.name]&&He.push(yn);for(var li=i.length;li--;){var Qo=i[li].name;Qo in ct.map&&(ie=f[Qo],ie?ie.push(yn):f[Qo]=[yn])}Ft[xe]&&Ku(yn),rt||(ot=yn),!$r&&Gt[xe]&&($r=!0)}},end:function(xe){var ct,rt,ln,yn=_t?n.getElementRule(xe):{};if(yn){if(Ft[xe]&&!$r){if(ct=ot.firstChild,ct&&ct.type===3)if(rt=ct.value.replace(tt,""),rt.length>0)ct.value=rt,ct=ct.next;else for(ln=ct.next,ct.remove(),ct=ln;ct&&ct.type===3;)rt=ct.value,ln=ct.next,(rt.length===0||Vr.test(rt))&&(ct.remove(),ct=ln),ct=ln;if(ct=ot.lastChild,ct&&ct.type===3)if(rt=ct.value.replace($t,""),rt.length>0)ct.value=rt,ct=ct.prev;else for(ln=ct.prev,ct.remove(),ct=ln;ct&&ct.type===3;)rt=ct.value,ln=ct.prev,(rt.length===0||Vr.test(rt))&&(ct.remove(),ct=ln),ct=ln}$r&&Gt[xe]&&($r=!1);var Ca=ub(n,on,Gt,ot),li=ot.parent;yn.paddInEmptyBlock&&Ca&&nt(ot)?T4(e,q,Ft,ot):yn.removeEmpty&&Ca?Ft[ot.name]?ot.empty().remove():ot.unwrap():yn.paddEmpty&&(DD(ot)||Ca)&&T4(e,q,Ft,ot),ot=li}}},n),un=ot=new sc(q.context||e.root_name,11);if(yt.parse(G,q.format),_t&&He.length&&(q.context?q.invalid=!0:g(He)),Et&&(un.name==="body"||q.isRootContent)&&Mi(),!q.invalid){for(Se in c)if(qn(c,Se)){for(ie=a[Se],K=c[Se],ye=K.length;ye--;)K[ye].parent||K.splice(ye,1);for(ae=0,re=ie.length;ae<re;ae++)ie[ae](K,Se,q)}for(ae=0,re=i.length;ae<re;ae++)if(ie=i[ae],ie.name in f){for(K=f[ie.name],ye=K.length;ye--;)K[ye].parent||K.splice(ye,1);for(ye=0,he=ie.callbacks.length;ye<he;ye++)ie.callbacks[ye](K,ie.name,q)}}return un},W={schema:n,addAttributeFilter:N,getAttributeFilters:F,addNodeFilter:C,getNodeFilters:k,filterNode:b,parse:I};return B8(W,e),ob(W,e),W},zD=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,c){for(var f=i.length;f--;){var g=i[f];g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(c,null)}}),e.addAttributeFilter("src,href,style",function(i,c){for(var f="data-mce-"+c,g=n.url_converter,b=n.url_converter_scope,C=i.length;C--;){var k=i[C],N=k.attr(f);N!==void 0?(k.attr(c,N.length>0?N:null),k.attr(f,null)):(N=k.attr(c),c==="style"?N=a.serializeStyle(a.parseStyle(N),k.name):g&&(N=g.call(b,N,c,k.name)),k.attr(c,N.length>0?N:null))}}),e.addAttributeFilter("class",function(i){for(var c=i.length;c--;){var f=i[c],g=f.attr("class");g&&(g=f.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",g.length>0?g:null))}}),e.addAttributeFilter("data-mce-type",function(i,c,f){for(var g=i.length;g--;){var b=i[g];if(b.attr("data-mce-type")==="bookmark"&&!f.cleanup){var C=Z.from(b.firstChild).exists(function(k){return!pu(k.value)});C?b.unwrap():b.remove()}}}),e.addNodeFilter("noscript",function(i){for(var c=i.length;c--;){var f=i[c].firstChild;f&&(f.value=Ps.decode(f.value))}}),e.addNodeFilter("script,style",function(i,c){for(var f=function(N){return N.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},g=i.length;g--;){var b=i[g],C=b.firstChild?b.firstChild.value:"";if(c==="script"){var k=b.attr("type");k&&b.attr("type",k==="mce-no/type"?null:k.replace(/^mce\-/,"")),n.element_format==="xhtml"&&C.length>0&&(b.firstChild.value=`// <![CDATA[
`+f(C)+`
// ]]>`)}else n.element_format==="xhtml"&&C.length>0&&(b.firstChild.value=`<!--
`+f(C)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var c=i.length;c--;){var f=i[c];n.preserve_cdata&&f.value.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=a.decode(f.value.replace(/^\[CDATA\[|\]\]$/g,""))):f.value.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(f.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,c){for(var f=i.length;f--;){var g=i[f];g.type===7?g.remove():g.type===1&&c==="input"&&!g.attr("type")&&g.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){Ce(i,function(c){c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,c){for(var f=i.length;f--;)i[f].attr(c,null)})},$D=function(e){var n=function(c){return c&&c.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},LD=function(e,n,a){var i,c=e.dom,f=n.cloneNode(!0),g=document.implementation;if(g.createHTMLDocument){var b=g.createHTMLDocument("");ze.each(f.nodeName==="BODY"?f.childNodes:[f],function(C){b.body.appendChild(b.importNode(C,!0))}),f.nodeName!=="BODY"?f=b.body.firstChild:f=b.body,i=c.doc,c.doc=b}return HE(e,gn(gn({},a),{node:f})),i&&(c.doc=i),f},I8=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},z8=function(e,n,a){return I8(e,a)?LD(e,n,a):n},$8=function(e,n,a){ze.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,c){for(var f=i.length;f--;)i[f].attr(c,null)}),n.push(a))},D4=function(e,n,a){if(!n.no_events&&e){var i=b2(e,gn(gn({},n),{content:a}));return i.content}else return a},L8=function(e,n,a){var i=$u(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||id(B.fromDom(n))?i:ze.trim(i)},H8=function(e,n,a){var i=a.selection?gn({forced_root_block:!1},a):a,c=e.parse(n,i);return $D(c),c},mC=function(e,n,a){var i=qd(e,n);return i.serialize(a)},R4=function(e,n,a,i,c){var f=mC(n,a,i);return D4(e,c,f)},V8=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:Oa.DOM,c=n&&n.schema?n.schema:Fs(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var f=Kx(e,c);zD(f,e,i);var g=function(b,C){C===void 0&&(C={});var k=gn({format:"html"},C),N=z8(n,b,k),F=L8(i,N,k),I=H8(f,F,k);return k.format==="tree"?I:R4(n,e,c,I,k)};return{schema:c,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:Ze($8,f,a),getTempAttrs:L(a),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters}},_4=function(e,n){var a=V8(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},U8="html",Xx=function(e,n){n===void 0&&(n={});var a=n.format?n.format:U8;return v8(e,n,a)},Yx=function(e,n,a){return a===void 0&&(a={}),d8(e,n,a)},Zx=Oa.DOM,ci=function(e){Zx.setStyle(e.id,"display",e.orgDisplay)},Jx=function(e){return Z.from(e).each(function(n){return n.destroy()})},HD=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},W8=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),Zx.unbind(n,"submit reset",e.formEventDelegate))},j8=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&c&&Zx.remove(c.nextSibling),sS(e),e.editorManager.remove(e),!e.inline&&i&&ci(e),cS(e),Zx.remove(e.getContainer()),Jx(n),Jx(a),e.destroy()}},VD=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Jx(a),Jx(i)),W8(e),HD(e),e.destroyed=!0}},G8=function(e,n){var a=vt(e)&&vt(n);return a?UD(e,n):n},B4=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},c=0;c<n.length;c++){var f=n[c];for(var g in f)qn(f,g)&&(i[g]=e(i[g],f[g]))}return i}},UD=B4(G8),WD="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),M4="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),q8="imagetools,toc".split(","),K8=function(e){var n=xt(WD,function(i){return qn(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),na(n)},X8=function(e){var n=ze.makeMap(e.plugins," "),a=function(c){return qn(n,c)},i=hi(hi([],xt(M4,a),!0),Pi(q8,function(c){return a(c)?[c+" (moving to premium)"]:[]}),!0);return na(i)},Y8=function(e,n){var a=K8(e),i=X8(n),c=i.length>0,f=a.length>0,g=n.theme==="mobile";if(c||f||g){var b=`
- `,C=g?`

Themes:`+b+"mobile":"",k=c?`

Plugins:`+b+i.join(b):"",N=f?`

Settings:`+b+a.join(b):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+C+k+N)}},Z8=function(e,n){return{sections:L(e),settings:L(n)}},Qx=tn().deviceType,jD=Qx.isTouch(),eT=Qx.isPhone(),GD=Qx.isTablet(),qD=["lists","autolink","autosave"],N4={table_grid:!1,object_resizing:!1,resize:!1},cb=function(e){var n=dn(e)?e.join(" "):e,a=Ee(Nn(n)?n.split(" "):[],Pa);return xt(a,function(i){return i.length>0})},KD=function(e){return xt(e,Ze(We,qD))},XD=function(e,n){var a=wr(n,function(i,c){return We(e,c)});return Z8(a.t,a.f)},J8=function(e,n,a){a===void 0&&(a={});var i=e.sections(),c=Mr(i,n).getOr({});return ze.extend({},a,c)},lb=function(e,n){return qn(e.sections(),n)},Q8=function(e,n,a){var i=e.sections();return lb(e,n)&&i[n].theme===a},tT=function(e,n){return lb(e,n)?e.sections()[n]:{}},YD=function(e,n){return Mr(e,"toolbar_mode").orThunk(function(){return Mr(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},e6=function(e,n,a,i,c){var f={id:n,theme:"silver",toolbar_mode:YD(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c};return gn(gn({},f),i?N4:{})},t6=function(e,n){var a={resize:!1,toolbar_mode:YD(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return gn(gn(gn({},N4),a),n?i:{})},ZD=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?ze.extend({},e.external_plugins,a):a},JD=function(e,n){return[].concat(cb(e)).concat(cb(n))},n6=function(e,n,a,i){return e&&Q8(n,"mobile","mobile")?KD(i):e&&lb(n,"mobile")?i:a},r6=function(e,n,a,i){var c=cb(a.forced_plugins),f=cb(i.plugins),g=tT(n,"mobile"),b=g.plugins?cb(g.plugins):f,C=n6(e,n,f,b),k=JD(c,C);if(hn.browser.isIE()&&We(k,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return ze.extend(i,{plugins:k.join(" ")})},a6=function(e,n){return e&&lb(n,"mobile")},o6=function(e,n,a,i,c){var f=e?{mobile:t6(c.mobile||{},n)}:{},g=XD(["mobile"],UD(f,c)),b=ze.extend(a,i,g.settings(),a6(e,g)?J8(g,"mobile"):{},{validate:!0,external_plugins:ZD(i,g.settings())});return r6(e,g,i,b)},QD=function(e,n,a,i,c){var f=e6(c,n,a,jD,e),g=o6(eT||GD,eT,f,i,c);return g.deprecation_warnings!==!1&&Y8(c,g),g},Tp=function(e,n,a){return Z.from(n.settings[a]).filter(e)},i6=function(e){var n={};return typeof e=="string"?Ce(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[ze.trim(i[0])]=ze.trim(i[1]):n[ze.trim(i[0])]=ze.trim(i[0])}):n=e,n},u6=function(e){return function(n){return dn(n)&&mi(n,e)}},s6=function(e,n,a,i){var c=n in e.settings?e.settings[n]:a;return i==="hash"?i6(c):i==="string"?Tp(Nn,e,n).getOr(a):i==="number"?Tp(Bt,e,n).getOr(a):i==="boolean"?Tp(Lt,e,n).getOr(a):i==="object"?Tp(vt,e,n).getOr(a):i==="array"?Tp(dn,e,n).getOr(a):i==="string[]"?Tp(u6(Nn),e,n).getOr(a):i==="function"?Tp(Ie,e,n).getOr(a):c},c6=function(){var e={},n=function(c,f){e[c]=f},a=function(c){return e[c]?e[c]:{icons:{}}},i=function(c){return qn(e,c)};return{add:n,get:a,has:i}},nT=c6(),eR=function(e,n){var a=n.dom;return a[e]},tR=function(e,n){return parseInt(Yn(n,e),10)},nR=Ze(eR,"clientWidth"),l6=Ze(eR,"clientHeight"),f6=Ze(tR,"margin-top"),v6=Ze(tR,"margin-left"),d6=function(e){return e.dom.getBoundingClientRect()},m6=function(e,n,a){var i=nR(e),c=l6(e);return n>=0&&a>=0&&n<=i&&a<=c},gC=function(e,n,a,i){var c=d6(n),f=e?c.left+n.dom.clientLeft+v6(n):0,g=e?c.top+n.dom.clientTop+f6(n):0,b=a-f,C=i-g;return{x:b,y:C}},rR=function(e,n,a){var i=B.fromDom(e.getBody()),c=e.inline?i:ns(i),f=gC(e.inline,c,n,a);return m6(c,f.x,f.y)},g6=function(e){return Z.from(e).map(B.fromDom)},aR=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return g6(n).map(wf).getOr(!1)},oR=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},iR=function(e){var n=[],a=function(){var I=e.theme;return I&&I.getNotificationManagerImpl?I.getNotificationManagerImpl():oR()},i=function(){return Z.from(n[0])},c=function(I,W){return I.type===W.type&&I.text===W.text&&!I.progressBar&&!I.timeout&&!W.progressBar&&!W.timeout},f=function(){n.length>0&&a().reposition(n)},g=function(I){n.push(I)},b=function(I){ko(n,function(W){return W===I}).each(function(W){n.splice(W,1)})},C=function(I,W){if(W===void 0&&(W=!0),!(e.removed||!aR(e)))return W&&e.fire("BeforeOpenNotification",{notification:I}),jr(n,function(G){return c(a().getArgs(G),I)}).getOrThunk(function(){e.editorManager.setActive(e);var G=a().open(I,function(){b(G),f(),i().fold(function(){return e.focus()},function(q){return S0(B.fromDom(q.getEl()))})});return g(G),f(),e.fire("OpenNotification",{notification:gn({},G)}),G})},k=function(){i().each(function(I){a().close(I),b(I),f()})},N=L(n),F=function(I){I.on("SkinLoaded",function(){var W=Pw(I);W&&C({text:W,type:"warning",timeout:0},!1),f()}),I.on("show ResizeEditor ResizeWindow NodeChange",function(){Ui.requestAnimationFrame(f)}),I.on("remove",function(){Ce(n.slice(),function(W){a().close(W)})})};return F(e),{open:C,close:k,getNotifications:N}},Kf=Hu.PluginManager,Pg=Hu.ThemeManager;function hC(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var P4=function(e){var n=[],a=function(){var q=e.theme;return q&&q.getWindowManagerImpl?q.getWindowManagerImpl():hC()},i=function(q,K){return function(){for(var ae=[],re=0;re<arguments.length;re++)ae[re]=arguments[re];return K?K.apply(q,ae):void 0}},c=function(q){e.fire("OpenWindow",{dialog:q})},f=function(q){e.fire("CloseWindow",{dialog:q})},g=function(q){n.push(q),c(q)},b=function(q){f(q),n=xt(n,function(K){return K!==q}),n.length===0&&e.focus()},C=function(){return Z.from(n[n.length-1])},k=function(q){e.editorManager.setActive(e),T0(e);var K=q();return g(K),K},N=function(q,K){return k(function(){return a().open(q,K,b)})},F=function(q){return k(function(){return a().openUrl(q,b)})},I=function(q,K,ae){var re=a();re.alert(q,i(ae||re,K))},W=function(q,K,ae){var re=a();re.confirm(q,i(ae||re,K))},G=function(){C().each(function(q){a().close(q),b(q)})};return e.on("remove",function(){Ce(n,function(q){a().close(q)})}),{open:N,openUrl:F,alert:I,confirm:W,close:G}},F4=function(e,n){e.notificationManager.open({type:"error",text:n})},rT=function(e,n){e._skinLoaded?F4(e,n):e.on("SkinLoaded",function(){F4(e,n)})},uR=function(e,n){rT(e,wu.translate(["Failed to upload image: {0}",n]))},I4=function(e,n,a){p0(e,n,{message:a}),console.error(a)},z4=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},$4=function(e,n,a){I4(e,"PluginLoadError",z4("plugin",n,a))},sR=function(e,n,a){I4(e,"IconsLoadError",z4("icons",n,a))},h6=function(e,n,a){I4(e,"LanguageLoadError",z4("language",n,a))},p6=function(e,n,a){var i=wu.translate(["Failed to initialize plugin: {0}",n]);p0(e,"PluginLoadError",{message:i}),aT(i,a),rT(e,i)},aT=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,hi([e],n,!1)):i.log.apply(i,hi([e],n,!1)))},cR=function(e){return/^[a-z0-9\-]+$/i.test(e)},b6=function(e){return fb(e,_w(e))},y6=function(e){return fb(e,Bw(e))},fb=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,c="content"+i+".css",f=e.inline===!0;return Ee(n,function(g){return cR(g)&&!f?a+"/"+g+"/"+c:e.documentBaseURI.toAbsolute(g)})},lR=function(e){e.contentCSS=e.contentCSS.concat(b6(e),y6(e))},L4=function(){var e=1,n=2,a={},i=function(I,W){return{status:I,resultUri:W}},c=function(I){return I in a},f=function(I){var W=a[I];return W?W.resultUri:null},g=function(I){return c(I)?a[I].status===e:!1},b=function(I){return c(I)?a[I].status===n:!1},C=function(I){a[I]=i(e,null)},k=function(I,W){a[I]=i(n,W)},N=function(I){delete a[I]},F=function(){a={}};return{hasBlobUri:c,getResultUri:f,isPending:g,isUploaded:b,markPending:C,markUploaded:k,removeFailed:N,destroy:F}},C6=0,w6=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},fR=function(e){return e+C6+++w6()},vR=function(){var e=[],n=function(F){var I={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return I[F.toLowerCase()]||"dat"},a=function(F,I,W,G,q){if(Nn(F)){var K=F;return i({id:K,name:G,filename:q,blob:I,base64:W})}else{if(vt(F))return i(F);throw new Error("Unknown input type")}},i=function(F){if(!F.blob||!F.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var I=F.id||fR("blobid"),W=F.name||I,G=F.blob;return{id:L(I),name:L(W),filename:L(F.filename||W+"."+n(G.type)),blob:L(G),base64:L(F.base64),blobUri:L(F.blobUri||URL.createObjectURL(G)),uri:L(F.uri)}},c=function(F){g(F.id())||e.push(F)},f=function(F){return jr(e,F).getOrUndefined()},g=function(F){return f(function(I){return I.id()===F})},b=function(F){return f(function(I){return I.blobUri()===F})},C=function(F,I){return f(function(W){return W.base64()===F&&W.blob().type===I})},k=function(F){e=xt(e,function(I){return I.blobUri()===F?(URL.revokeObjectURL(I.blobUri()),!1):!0})},N=function(){Ce(e,function(F){URL.revokeObjectURL(F.blobUri())}),e=[]};return{create:a,add:c,get:g,getByUri:b,getByData:C,findFirst:f,removeByUri:k,destroy:N}},S6=function(e,n){var a={},i=function(G,q){return G?G.replace(/\/$/,"")+"/"+q.replace(/^\//,""):q},c=function(G,q,K,ae){var re=new XMLHttpRequest;re.open("POST",n.url),re.withCredentials=n.credentials,re.upload.onprogress=function(he){ae(he.loaded/he.total*100)},re.onerror=function(){K("Image upload failed due to a XHR Transport error. Code: "+re.status)},re.onload=function(){if(re.status<200||re.status>=300){K("HTTP Error: "+re.status);return}var he=JSON.parse(re.responseText);if(!he||typeof he.location!="string"){K("Invalid JSON: "+re.responseText);return}q(i(n.basePath,he.location))};var ye=new FormData;ye.append("file",G.blob(),G.filename()),re.send(ye)},f=function(){return new ai(function(G){G([])})},g=function(G,q){return{url:q,blobInfo:G,status:!0}},b=function(G,q,K){return{url:"",blobInfo:G,status:!1,error:{message:q,options:K}}},C=function(G,q){ze.each(a[G],function(K){K(q)}),delete a[G]},k=function(G,q,K){return e.markPending(G.blobUri()),new ai(function(ae){var re,ye;try{var he=function(){re&&(re.close(),ye=Qe)},ie=function(He){he(),e.markUploaded(G.blobUri(),He),C(G.blobUri(),g(G,He)),ae(g(G,He))},Se=function(He,ot){var Cn=ot||{};he(),e.removeFailed(G.blobUri()),C(G.blobUri(),b(G,He,Cn)),ae(b(G,He,Cn))};ye=function(He){He<0||He>100||Z.from(re).orThunk(function(){return Z.from(K).map(A)}).each(function(ot){re=ot,ot.progressBar.value(He)})},q(G,ie,Se,ye)}catch(He){ae(b(G,He.message,{}))}})},N=function(G){return G===c},F=function(G){var q=G.blobUri();return new ai(function(K){a[q]=a[q]||[],a[q].push(K)})},I=function(G,q){return G=ze.grep(G,function(K){return!e.isUploaded(K.blobUri())}),ai.all(ze.map(G,function(K){return e.isPending(K.blobUri())?F(K):k(K,n.handler,q)}))},W=function(G,q){return!n.url&&N(n.handler)?f():I(G,q)};return Ie(n.handler)===!1&&(n.handler=c),{upload:W}},dR=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},mR=function(e,n){return S6(n,{url:oE(e),basePath:Rv(e),credentials:_v(e),handler:iE(e)})},x6=function(e){var n=L4(),a=mR(e,n);return{upload:function(i,c){return c===void 0&&(c=!0),a.upload(i,c?dR(e):void 0)}}},T6=function(e){var n=Cu(null);e.on("change AddUndo",function(i){n.set(gn({},i.level))});var a=function(){var i=e.undoManager.data;aa(i).filter(function(c){return!Ix(n.get(),c)}).each(function(c){e.setDirty(!0),e.fire("change",{level:c,lastLevel:la(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},Au=function(e){var n=vR(),a,i,c=L4(),f=[],g=T6(e),b=function(he){return function(ie){return e.selection?he(ie):[]}},C=function(he){return he+(he.indexOf("?")===-1?"?":"&")+new Date().getTime()},k=function(he,ie,Se){var He=0;do He=he.indexOf(ie,He),He!==-1&&(he=he.substring(0,He)+Se+he.substr(He+ie.length),He+=Se.length-ie.length+1);while(He!==-1);return he},N=function(he,ie,Se){var He='src="'+Se+'"'+(Se===hn.transparentSrc?' data-mce-placeholder="1"':"");return he=k(he,'src="'+ie+'"',He),he=k(he,'data-mce-src="'+ie+'"','data-mce-src="'+Se+'"'),he},F=function(he,ie){Ce(e.undoManager.data,function(Se){Se.type==="fragmented"?Se.fragments=Ee(Se.fragments,function(He){return N(He,he,ie)}):Se.content=N(Se.content,he,ie)})},I=function(he,ie){var Se=e.convertURL(ie,"src");F(he.src,ie),e.$(he).attr({src:Fy(e)?C(ie):ie,"data-mce-src":Se})},W=function(he){return a||(a=mR(e,c)),ae().then(b(function(ie){var Se=Ee(ie,function(He){return He.blobInfo});return a.upload(Se,dR(e)).then(b(function(He){var ot=[],Cn=Ee(He,function(Ft,je){var on=ie[je].blobInfo,ft=ie[je].image;return Ft.status&&aE(e)?(n.removeByUri(ft.src),em(e)||I(ft,Ft.url)):Ft.error&&(Ft.error.options.remove&&(F(ft.getAttribute("src"),hn.transparentSrc),ot.push(ft)),uR(e,Ft.error.message)),{element:ft,status:Ft.status,uploadUri:Ft.url,blobInfo:on}});return Cn.length>0&&g.fireIfChanged(),ot.length>0&&(em(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){Ce(ot,function(Ft){e.dom.remove(Ft),n.removeByUri(Ft.src)})})),he&&he(Cn),Cn}))}))},G=function(he){if(Ih(e))return W(he)},q=function(he){if(mi(f,function(Se){return Se(he)})===!1)return!1;if(he.getAttribute("src").indexOf("data:")===0){var ie=U1(e);return ie(he)}return!0},K=function(he){f.push(he)},ae=function(){return i||(i=k8(c,n)),i.findAll(e.getBody(),q).then(b(function(he){return he=xt(he,function(ie){return typeof ie=="string"?(rT(e,ie),!1):!0}),em(e)||Ce(he,function(ie){F(ie.image.src,ie.blobInfo.blobUri()),ie.image.src=ie.blobInfo.blobUri(),ie.image.removeAttribute("data-mce-src")}),he}))},re=function(){n.destroy(),c.destroy(),i=a=null},ye=function(he){return he.replace(/src="(blob:[^"]+)"/g,function(ie,Se){var He=c.getResultUri(Se);if(He)return'src="'+He+'"';var ot=n.getByUri(Se);if(ot||(ot=rr(e.editorManager.get(),function(Ft,je){return Ft||je.editorUpload&&je.editorUpload.blobCache.getByUri(Se)},null)),ot){var Cn=ot.blob();return'src="data:'+Cn.type+";base64,"+ot.base64()+'"'}return ie})};return e.on("SetContent",function(){Ih(e)?G():ae()}),e.on("RawSaveContent",function(he){he.content=ye(he.content)}),e.on("GetContent",function(he){he.source_view||he.format==="raw"||he.format==="tree"||(he.content=ye(he.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(he){Ce(he,function(ie){var Se=ie.attr("src");if(!n.getByUri(Se)){var He=c.getResultUri(Se);He&&ie.attr("src",He)}})})}),{blobCache:n,addFilter:K,uploadImages:W,uploadImagesAuto:G,scanForImages:ae,destroy:re}},gR=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,c){return En(a)&&a.hasAttribute("href")},onformat:function(a,i,c){ze.each(c,function(f,g){e.setAttrib(a,g,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ze.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},E6=function(e){var n={},a=function(g){return Sn(g)?n[g]:n},i=function(g){return qn(n,g)},c=function(g,b){g&&(Nn(g)?(dn(b)||(b=[b]),Ce(b,function(C){Rt(C.deep)&&(C.deep=!fs(C)),Rt(C.split)&&(C.split=!fs(C)||Di(C)),Rt(C.remove)&&fs(C)&&!Di(C)&&(C.remove="none"),fs(C)&&Di(C)&&(C.mixed=!0,C.block_expand=!0),Nn(C.classes)&&(C.classes=C.classes.split(/\s+/))}),n[g]=b):zt(g,function(C,k){c(k,C)}))},f=function(g){return g&&n[g]&&delete n[g],n};return c(gR(e.dom)),c(sE(e)),{get:a,has:i,register:c,unregister:f}},oT=ze.each,ms=Oa.DOM,hR=function(e,n){var a,i,c,f=n&&n.schema||Fs({}),g=function(N,F){F.classes.length&&ms.addClass(N,F.classes.join(" ")),ms.setAttribs(N,F.attrs)},b=function(N){i=typeof N=="string"?{name:N,classes:[],attrs:{}}:N;var F=ms.create(i.name);return g(F,i),F},C=function(N,F){var I=typeof N!="string"?N.nodeName.toLowerCase():N,W=f.getElementRule(I),G=W&&W.parentsRequired;return G&&G.length?F&&ze.inArray(G,F)!==-1?F:G[0]:!1},k=function(N,F,I){var W,G,q=F.length>0&&F[0],K=q&&q.name,ae=C(N,K);if(ae)K===ae?(G=F[0],F=F.slice(1)):G=ae;else if(q)G=F[0],F=F.slice(1);else if(!I)return N;return G&&(W=b(G),W.appendChild(N)),I&&(W||(W=ms.create("div"),W.appendChild(N)),ze.each(I,function(re){var ye=b(re);W.insertBefore(ye,N)})),k(W,F,G&&G.siblings)};return e&&e.length?(i=e[0],a=b(i),c=ms.create("div"),c.appendChild(k(a,e.slice(1),i.siblings)),c):""},zr=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=ze.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,c,f,g,b){switch(c){case"#":a.attrs.id=f;break;case".":a.classes.push(f);break;case":":ze.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(a.attrs[f]=f);break}if(g==="["){var C=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);C&&(a.attrs[C[1]]=C[2])}return""})),a.name=n||"div",a},k6=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ze.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=ze.map(n.split(/(?:~\+|~|\+)/),zr),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},A6=function(e,n){var a,i,c="",f,g=Ym(e);if(g==="")return"";var b=function(F){return F.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var C=Mr(n,"preview");if(ad(C,!1))return"";g=C.getOr(g)}a=n.block||n.inline||"span";var k=k6(n.selector);k.length?(k[0].name||(k[0].name=a),a=n.selector,i=hR(k,e)):i=hR([a],e);var N=ms.select(a,i)[0]||i.firstChild;return oT(n.styles,function(F,I){var W=b(F);W&&ms.setStyle(N,I,W)}),oT(n.attributes,function(F,I){var W=b(F);W&&ms.setAttrib(N,I,W)}),oT(n.classes,function(F){var I=b(F);ms.hasClass(N,I)||ms.addClass(N,I)}),e.fire("PreviewFormats"),ms.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),f=ms.getStyle(e.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,oT(g.split(" "),function(F){var I=ms.getStyle(N,F,!0);if(!(F==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(I)&&(I=ms.getStyle(e.getBody(),F,!0),ms.toHex(I).toLowerCase()==="#ffffff"))&&!(F==="color"&&ms.toHex(I).toLowerCase()==="#000000")){if(F==="font-size"&&/em|%$/.test(I)){if(f===0)return;var W=parseFloat(I)/(/%$/.test(I)?100:1);I=W*f+"px"}F==="border"&&I&&(c+="padding:0 2px;"),c+=F+":"+I+";"}}),e.fire("AfterPreviewFormats"),ms.remove(i),c},O6=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},po=function(e){var n=E6(e),a=Cu(null);return O6(e),Ax(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,c,f){Vx(e,i,c,f)},remove:function(i,c,f,g){c8(e,i,c,f,g)},toggle:function(i,c,f){l8(e,i,c,f)},match:function(i,c,f,g){return s8(e,i,c,f,g)},closest:function(i){return CD(e,i)},matchAll:function(i,c){return bD(e,i,c)},matchNode:function(i,c,f,g){return Hx(e,i,c,f,g)},canApply:function(i){return yD(e,i)},formatChanged:function(i,c,f,g){return f8(e,a,i,c,f,g)},getCssText:Ze(A6,e)}},pR=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},pC=function(e,n,a){var i=Cu(!1),c=function(C){zx(n,!1,a),n.add({},C)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(C){var k=C.command;pR(k)||(sD(n,a),n.beforeChange())}),e.on("ExecCommand",function(C){var k=C.command;pR(k)||c(C)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",function(C){var k=C.keyCode;C.isDefaultPrevented()||((k>=33&&k<=36||k>=37&&k<=40||k===45||C.ctrlKey)&&(c(),e.nodeChanged()),(k===46||k===8)&&e.nodeChanged(),i.get()&&n.typing&&Ix(tb(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(C){var k=C.keyCode;if(!C.isDefaultPrevented()){if(k>=33&&k<=36||k>=37&&k<=40||k===45){n.typing&&c(C);return}var N=C.ctrlKey&&!C.altKey||C.metaKey;(k<16||k>20)&&k!==224&&k!==91&&!n.typing&&!N&&(n.beforeChange(),zx(n,!0,a),n.add({},C),i.set(!0))}}),e.on("mousedown",function(C){n.typing&&c(C)});var f=function(C){return C.inputType==="insertReplacementText"},g=function(C){return C.inputType==="insertText"&&C.data===null},b=function(C){return C.inputType==="insertFromPaste"||C.inputType==="insertFromDrop"};e.on("input",function(C){C.inputType&&(f(C)||g(C)||b(C))&&c(C)}),e.on("AddUndo Undo Redo ClearUndos",function(C){C.isDefaultPrevented()||e.nodeChanged()})},D6=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},bR=function(e){var n=Av(),a=Cu(0),i=Cu(0),c={data:[],typing:!1,beforeChange:function(){y4(e,a,n)},add:function(f,g){return gD(e,c,i,a,n,f,g)},undo:function(){return Lx(e,c,a,i)},redo:function(){return Fc(e,i,c.data)},clear:function(){cC(e,c,i)},reset:function(){xp(e,c)},hasUndo:function(){return o8(e,c,i)},hasRedo:function(){return hD(e,c,i)},transact:function(f){return pD(e,c,a,f)},ignore:function(f){i8(e,a,f)},extra:function(f,g){u8(e,c,i,f,g)}};return em(e)||pC(e,c,a),D6(e),c},R6=[9,27,wn.HOME,wn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,wn.DOWN,wn.UP,wn.LEFT,wn.RIGHT].concat(hn.browser.isFirefox()?[224]:[]),H4="data-mce-placeholder",nm=function(e){return e.type==="keydown"||e.type==="keyup"},vc=function(e){var n=e.keyCode;return n===wn.BACKSPACE||n===wn.DELETE},bC=function(e){if(nm(e)){var n=e.keyCode;return!vc(e)&&(wn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||We(R6,n))}else return!1},Ep=function(e){return nm(e)&&!(vc(e)||e.type==="keyup"&&e.keyCode===229)},Xv=function(e,n,a){if(Si(B.fromDom(n),!1)){var i=a==="",c=n.firstElementChild;return c?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(c):a===c.nodeName.toLowerCase():!0}else return!1},yC=function(e){var n=e.dom,a=Ai(e),i=zy(e),c=function(f,g){if(!bC(f)){var b=e.getBody(),C=Ep(f)?!1:Xv(n,b,a),k=n.getAttrib(b,H4)!=="";(k!==C||g)&&(n.setAttrib(b,H4,C?i:null),n.setAttrib(b,"aria-placeholder",C?i:null),vS(e,C),e.on(C?"keydown":"keyup",c),e.off(C?"keyup":"keydown",c))}};i&&e.on("init",function(f){c(f,!0),e.on("change SetContent ExecCommand",c),e.on("paste",function(g){return Ui.setEditorTimeout(e,function(){return c(g)})})})},V4=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,U4=function(e){return V4.test(e)},Fg=function(e,n){return Fo(B.fromDom(n),zf(e))},yR=function(e){return Oa.DOM.getStyle(e,"direction",!0)==="rtl"||U4(e.textContent)},_6=function(e,n,a){return xt(Oa.DOM.getParents(a.container(),"*",n),e)},rm=function(e,n,a){var i=_6(e,n,a);return Z.from(i[i.length-1])},CR=function(e,n,a){var i=fl(n,e),c=fl(a,e);return i&&i===c},B6=function(e){return pn(e)||Zp(e)},Ic=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?xa(a)?Vt(a.nextSibling)?Be(a.nextSibling,0):Be.after(a):pn(n)?Be(a,i+1):n:xa(a)?Vt(a.previousSibling)?Be(a.previousSibling,a.previousSibling.data.length):Be.before(a):Zp(n)?Be(a,i-1):n},wR=Ze(Ic,!0),vb=Ze(Ic,!1),SR=function(e){return function(n){return pa(e,B.fromDom(n.dom.parentNode))}},xR=function(e){return Nl(e)||Wi(e)},uf=function(e,n){return ni(e,n)?Cm(n,xR,SR(e)):Z.none()},W4=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},TR=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),W4(e))},M6=function(e,n,a){return tu(iu(a),ac(a),function(i,c){var f=Ic(!0,i),g=Ic(!1,c),b=Ic(!1,n);return e?_c(a,b).exists(function(C){return C.isEqual(g)&&n.isEqual(f)}):ml(a,b).exists(function(C){return C.isEqual(f)&&n.isEqual(g)})}).getOr(!0)},N6=function(e,n){return{block:e,position:n}},db=function(e,n){return{from:e,to:n}},j4=function(e,n){var a=B.fromDom(e),i=B.fromDom(n.container());return uf(a,i).map(function(c){return N6(c,n)})},P6=function(e){return pa(e.from.block,e.to.block)===!1},su=function(e){return Ja(e.from.block).bind(function(n){return Ja(e.to.block).filter(function(a){return pa(n,a)})}).isSome()},F6=function(e){return Ba(e.from.block.dom)===!1&&Ba(e.to.block.dom)===!1},ER=function(e,n,a){return va(a.position.getNode())&&Si(a.block)===!1?$f(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?Wu(n,e,i).bind(function(c){return j4(e,c)}):Z.some(a)}).getOr(a):a},kR=function(e,n,a){var i=j4(e,Be.fromRangeStart(a)),c=i.bind(function(f){return Wu(n,e,f.position).bind(function(g){return j4(e,g).map(function(b){return ER(e,n,b)})})});return tu(i,c,db).filter(function(f){return P6(f)&&su(f)&&F6(f)})},AR=function(e,n,a){return a.collapsed?kR(e,n,a):Z.none()},OR=function(e){var n=eu(e);return ko(n,_s).fold(L(n),function(a){return n.slice(0,a)})},iT=function(e){var n=OR(e);return Ce(n,Qa),n},DR=function(e,n){var a=nn(n,e);return jr(a.reverse(),function(i){return Si(i)}).each(Qa)},I6=function(e){return xt(Pr(e),function(n){return!Si(n)}).length===0},z6=function(e,n,a,i){if(Si(a))return Kd(a),iu(a.dom);I6(i)&&Si(n)&&yi(i,B.fromTag("br"));var c=ml(a.dom,Be.before(i.dom));return Ce(iT(n),function(f){yi(i,f)}),DR(e,n),c},$6=function(e,n,a){if(Si(a))return Qa(a),Si(n)&&Kd(n),iu(n.dom);var i=ac(a.dom);return Ce(iT(n),function(c){zo(a,c)}),DR(e,n),i},L6=function(e,n){var a=nn(n,e);return Z.from(a[a.length-1])},Yv=function(e,n){return ni(n,e)?L6(n,e):Z.none()},RR=function(e,n){$f(e,n.dom).map(function(a){return a.getNode()}).map(B.fromDom).filter(xm).each(Qa)},_R=function(e,n,a){return RR(!0,n),RR(!1,a),Yv(n,a).fold(Ze($6,e,n,a),Ze(z6,e,n,a))},BR=function(e,n,a,i){return n?_R(e,i,a):_R(e,a,i)},uT=function(e,n){var a=B.fromDom(e.getBody()),i=AR(a.dom,n,e.selection.getRng()).bind(function(c){return BR(a,n,c.from.block,c.to.block)});return i.each(function(c){e.selection.setRng(c.toRange())}),i.isSome()},H6=function(e,n){var a=n.getRng();return tu(uf(e,B.fromDom(a.startContainer)),uf(e,B.fromDom(a.endContainer)),function(i,c){return pa(i,c)===!1?(a.deleteContents(),BR(e,!0,i,c).each(function(f){n.setRng(f.toRange())}),!0):!1}).getOr(!1)},To=function(e,n){var a=B.fromDom(n),i=Ze(pa,e);return cv(a,rl,i).isSome()},MR=function(e,n){return To(e,n.startContainer)||To(e,n.endContainer)},NR=function(e,n){var a=ml(e.dom,Be.fromRangeStart(n)).isNone(),i=_c(e.dom,Be.fromRangeEnd(n)).isNone();return!MR(e,n)&&a&&i},Xf=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},PR=function(e){var n=B.fromDom(e.getBody()),a=e.selection.getRng();return NR(n,a)?Xf(e):H6(n,e.selection)},sT=function(e,n){return e.selection.isCollapsed()?!1:PR(e)},V6=wc,G4=Ba,am=function(e,n,a,i,c){return Z.from(n._selectionOverrides.showCaret(e,a,i,c))},mb=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},gb=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?Z.none():Z.some(mb(n))},q4=function(e,n,a){var i=Ki(1,e.getBody(),n),c=Be.fromRangeStart(i),f=c.getNode();if(tg(f))return am(1,e,f,!c.isAtEnd(),!1);var g=c.getNode(!0);if(tg(g))return am(1,e,g,!1,!1);var b=e.dom.getParent(c.getNode(),function(C){return G4(C)||V6(C)});return tg(b)?am(1,e,b,!1,a):Z.none()},cT=function(e,n,a){return n.collapsed?q4(e,n,a).getOr(n):n},K4=function(e){return Wv(e)||Ag(e)},FR=function(e){return jv(e)||Og(e)},X4=function(e,n){Vt(n)&&n.data.length===0&&e.remove(n)},IR=function(e,n,a,i,c,f){return am(i,e,f.getNode(!c),c,!0).each(function(g){if(n.collapsed){var b=n.cloneRange();c?b.setEnd(g.startContainer,g.startOffset):b.setStart(g.endContainer,g.endOffset),b.deleteContents()}else n.deleteContents();e.selection.setRng(g)}),X4(e.dom,a),!0},U6=function(e,n){var a=e.selection.getRng();if(!Vt(a.commonAncestorContainer))return!1;var i=n?Oi.Forwards:Oi.Backwards,c=lo(e.getBody()),f=Ze(Yy,n?c.next:c.prev),g=n?K4:FR,b=ug(i,e.getBody(),a),C=Ic(n,f(b));if(!C||!t0(b,C))return!1;if(g(C))return IR(e,a,b.getNode(),i,n,C);var k=f(C);return k&&g(k)&&t0(C,k)?IR(e,a,b.getNode(),i,n,k):!1},lT=function(e,n){return U6(e,n)},sf=function(e){return rl(B.fromDom(e))||Wi(B.fromDom(e))},zc=sn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),W6=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return En(a)&&a.getAttribute("data-mce-caret")===i},j6=function(e,n,a,i){var c=function(f){return nu(B.fromDom(f))&&!vl(a,i,e)};return ig(!n,a).fold(function(){return ig(n,i).fold(at,c)},c)},hb=function(e,n,a,i){var c=i.getNode(n===!1);return uf(B.fromDom(e),B.fromDom(a.getNode())).map(function(f){return Si(f)?zc.remove(f.dom):zc.moveToElement(c)}).orThunk(function(){return Z.some(zc.moveToElement(c))})},zR=function(e,n,a){return Wu(n,e,a).bind(function(i){return sf(i.getNode())||j6(e,n,a,i)?Z.none():n&&Ba(i.getNode())||n===!1&&Ba(i.getNode(!0))?hb(e,n,a,i):n&&jv(a)||n===!1&&Wv(a)?Z.some(zc.moveToPosition(i)):Z.none()})},$R=function(e,n){return e&&Ba(n.nextSibling)?Z.some(zc.moveToElement(n.nextSibling)):e===!1&&Ba(n.previousSibling)?Z.some(zc.moveToElement(n.previousSibling)):Z.none()},LR=function(e,n,a){return a.fold(function(i){return Z.some(zc.remove(i))},function(i){return Z.some(zc.moveToElement(i))},function(i){return vl(n,i,e)?Z.none():Z.some(zc.moveToPosition(i))})},HR=function(e,n,a){return W6(n,a)?$R(n,a.getNode(n===!1)).fold(function(){return zR(e,n,a)},Z.some):zR(e,n,a).bind(function(i){return LR(e,a,i)})},G6=function(e,n,a){var i=Ki(n?1:-1,e,a),c=Be.fromRangeStart(i),f=B.fromDom(e);return n===!1&&jv(c)?Z.some(zc.remove(c.getNode(!0))):n&&Wv(c)?Z.some(zc.remove(c.getNode())):n===!1&&Wv(c)&&$n(f,c)?cx(f,c).map(function(g){return zc.remove(g.getNode())}):n&&jv(c)&&z0(f,c)?lx(f,c).map(function(g){return zc.remove(g.getNode())}):HR(e,n,c)},q6=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),et(e,n,B.fromDom(a)),!0}},Ig=function(e,n){return function(a){var i=n?Be.before(a):Be.after(a);return e.selection.setRng(i.toRange()),!0}},K6=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},VR=function(e,n){return Z.from(zd(e.getBody(),n))},X6=function(e,n){var a=e.selection.getNode();return VR(e,a).filter(Ba).fold(function(){return G6(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(q6(e,n),Ig(e,n),K6(e))})},Nt)},Y6=function(e){Ce(ki(e,".mce-offscreen-selection"),Qa)},Z6=function(e,n){var a=e.selection.getNode();if(Ba(a)&&!hm(a)){var i=VR(e,a.parentNode).filter(Ba);return i.fold(function(){return Y6(B.fromDom(e.getBody())),et(e,n,B.fromDom(e.selection.getNode())),TR(e),!0},Nt)}return!1},UR=function(e){var n=e.dom,a=e.selection,i=zd(e.getBody(),a.getNode());if(wc(i)&&n.isBlock(i)&&n.isEmpty(i)){var c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(c),a.setRng(Be.before(c).toRange())}return!0},fT=function(e,n){return e.selection.isCollapsed()?X6(e,n):Z6(e,n)},J6=function(e,n){var a=Be.fromRangeStart(e.selection.getRng());return Wu(n,e.getBody(),a).filter(function(i){return n?yk(i):nx(i)}).bind(function(i){return Z.from(J1(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},vT=function(e,n){return e.selection.isCollapsed()?J6(e,n):!1},pb=Vt,WR=function(e){return pb(e)&&e.data[0]===me},jR=function(e){return pb(e)&&e.data[e.data.length-1]===me},bb=function(e){return e.ownerDocument.createTextNode(me)},Q6=function(e){if(pb(e.previousSibling))return jR(e.previousSibling)||e.previousSibling.appendData(me),e.previousSibling;if(pb(e))return WR(e)||e.insertData(0,me),e;var n=bb(e);return e.parentNode.insertBefore(n,e),n},Y4=function(e){if(pb(e.nextSibling))return WR(e.nextSibling)||e.nextSibling.insertData(0,me),e.nextSibling;if(pb(e))return jR(e)||e.appendData(me),e;var n=bb(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},dT=function(e,n){return e?Q6(n):Y4(n)},eN=Ze(dT,!0),tN=Ze(dT,!1),GR=function(e,n){return Vt(e.container())?dT(n,e.container()):dT(n,e.getNode())},zg=function(e,n){var a=n.get();return a&&e.container()===a&&xa(a)},om=function(e,n){return n.fold(function(a){Bv(e.get());var i=eN(a);return e.set(i),Z.some(Be(i,i.length-1))},function(a){return iu(a).map(function(i){if(zg(i,e))return Be(e.get(),1);Bv(e.get());var c=GR(i,!0);return e.set(c),Be(c,1)})},function(a){return ac(a).map(function(i){if(zg(i,e))return Be(e.get(),e.get().length-1);Bv(e.get());var c=GR(i,!1);return e.set(c),Be(c,c.length-1)})},function(a){Bv(e.get());var i=tN(a);return e.set(i),Z.some(Be(i,1))})},CC=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return Z.none()},cu=sn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),$g=function(e,n){var a=fl(n,e);return a||e},kp=function(e,n,a){var i=wR(a),c=$g(n,i.container());return rm(e,c,i).fold(function(){return _c(c,i).bind(Ze(rm,e,c)).map(function(f){return cu.before(f)})},Z.none)},mT=function(e,n){return Md(e,n)===null},wC=function(e,n,a){return rm(e,n,a).filter(Ze(mT,n))},qR=function(e,n,a){var i=vb(a);return wC(e,n,i).bind(function(c){var f=ml(c,i);return f.isNone()?Z.some(cu.start(c)):Z.none()})},Z4=function(e,n,a){var i=wR(a);return wC(e,n,i).bind(function(c){var f=_c(c,i);return f.isNone()?Z.some(cu.end(c)):Z.none()})},J4=function(e,n,a){var i=vb(a),c=$g(n,i.container());return rm(e,c,i).fold(function(){return ml(c,i).bind(Ze(rm,e,c)).map(function(f){return cu.after(f)})},Z.none)},Q4=function(e){return yR(Lg(e))===!1},Yf=function(e,n,a){var i=CC([kp,qR,Z4,J4],[e,n,a]);return i.filter(Q4)},Lg=function(e){return e.fold(mt,mt,mt,mt)},eA=function(e){return e.fold(L("before"),L("start"),L("end"),L("after"))},SC=function(e){return e.fold(cu.before,cu.before,cu.after,cu.after)},gT=function(e){return e.fold(cu.start,cu.start,cu.end,cu.end)},hT=function(e,n){return eA(e)===eA(n)&&Lg(e)===Lg(n)},KR=function(e,n,a,i,c,f){return tu(rm(n,a,i),rm(n,a,c),function(g,b){return g!==b&&CR(a,g,b)?cu.after(e?g:b):f}).getOr(f)},XR=function(e,n){return e.fold(Nt,function(a){return!hT(a,n)})},YR=function(e,n,a,i,c){var f=Ic(e,c),g=Wu(e,a,f).map(Ze(Ic,e)),b=g.fold(function(){return i.map(SC)},function(C){return Yf(n,a,C).map(Ze(KR,e,n,a,f,C)).filter(Ze(XR,i))});return b.filter(Q4)},ZR=function(e,n){return e?n.fold(Jn(Z.some,cu.start),Z.none,Jn(Z.some,cu.after),Z.none):n.fold(Z.none,Jn(Z.some,cu.before),Z.none,Jn(Z.some,cu.end))},Zf=function(e,n,a,i){var c=Ic(e,i),f=Yf(n,a,c);return Yf(n,a,c).bind(Ze(ZR,e)).orThunk(function(){return YR(e,n,a,f,i)})};Ze(Zf,!1),Ze(Zf,!0);var JR=function(e){return Ie(e.selection.getSel().modify)},tA=function(e,n,a){var i=e?1:-1;return n.setRng(Be(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},Hg=function(e,n){var a=n.selection.getRng(),i=e?Be.fromRangeEnd(a):Be.fromRangeStart(a);return JR(n)?e&&pn(i)?tA(!0,n.selection,i):!e&&Zp(i)?tA(!1,n.selection,i):!1:!1},Xi;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Xi||(Xi={}));var pT=function(e,n){return e===Oi.Backwards?ta(n):n},nN=function(e,n,a){return e===Oi.Forwards?n.next(a):n.prev(a)},rN=function(e,n,a,i){return va(i.getNode(n===Oi.Forwards))?Xi.Br:vl(a,i)===!1?Xi.Block:Xi.Wrap},QR=function(e,n,a,i){for(var c=lo(a),f=i,g=[];f;){var b=nN(n,c,f);if(!b)break;if(va(b.getNode(!1)))return n===Oi.Forwards?{positions:pT(n,g).concat([b]),breakType:Xi.Br,breakAt:Z.some(b)}:{positions:pT(n,g),breakType:Xi.Br,breakAt:Z.some(b)};if(!b.isVisible()){f=b;continue}if(e(f,b)){var C=rN(a,n,f,b);return{positions:pT(n,g),breakType:C,breakAt:Z.some(b)}}g.push(b),f=b}return{positions:pT(n,g),breakType:Xi.Eol,breakAt:Z.none()}},e_=function(e,n,a,i){return n(a,i).breakAt.map(function(c){var f=n(a,c).positions;return e===Oi.Backwards?f.concat(c):[c].concat(f)}).getOr([])},nA=function(e,n){return rr(e,function(a,i){return a.fold(function(){return Z.some(i)},function(c){return tu(Xa(c.getClientRects()),Xa(i.getClientRects()),function(f,g){var b=Math.abs(n-f.left),C=Math.abs(n-g.left);return C<=b?i:c}).or(a)})},Z.none())},t_=function(e,n){return Xa(n.getClientRects()).bind(function(a){return nA(e,a.left)})},xC=Ze(QR,Be.isAbove,-1),TC=Ze(QR,Be.isBelow,1),aN=Ze(e_,-1,xC),oN=Ze(e_,1,TC),iN=function(e,n){return xC(e,n).breakAt.isNone()},rA=function(e,n){return TC(e,n).breakAt.isNone()},aA=function(e){return iu(e).map(function(n){return[n].concat(TC(e,n).positions)}).getOr([])},n_=function(e){return ac(e).map(function(n){return xC(e,n).positions.concat(n)}).getOr([])},uN=function(e){var n=function(i){return Ee(i,function(c){var f=Ov(c);return f.node=e,f})};if(En(e))return n(e.getClientRects());if(Vt(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},oA=function(e){return Pi(e,uN)},Vg;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Vg||(Vg={}));var r_=function(e,n,a,i){for(;i=Nv(i,e,Do,n);)if(a(i))return},bT=function(e,n,a,i,c,f){var g=0,b=[],C=function(F){var I=oA([F]);e===-1&&(I=I.reverse());for(var W=0;W<I.length;W++){var G=I[W];if(!a(G,k)){if(b.length>0&&n(G,lu(b))&&g++,G.line=g,c(G))return!0;b.push(G)}}},k=lu(f.getClientRects());if(!k)return b;var N=f.getNode();return C(N),r_(e,i,C,N),b},a_=function(e,n){return n.line>e},o_=function(e,n){return n.line===e},iA=Ze(bT,Vg.Up,Hm,Vm),sN=Ze(bT,Vg.Down,Vm,Hm),cN=function(e,n,a,i){var c=lo(n),f,g,b,C,k=[],N=0,F=function(q){return lu(q.getClientRects())};e===1?(f=c.next,g=Vm,b=Hm,C=Be.after(i)):(f=c.prev,g=Hm,b=Vm,C=Be.before(i));var I=F(C);do if(C.isVisible()){var W=F(C);if(!b(W,I)){k.length>0&&g(W,lu(k))&&N++;var G=Ov(W);if(G.position=C,G.line=N,a(G))return k;k.push(G)}}while(C=f(C));return k},Jf=function(e){return function(n){return a_(e,n)}},$c=function(e){return function(n){return o_(e,n)}},yT=Ba,uA=Nv,yb=function(e,n){return Math.abs(e.left-n)},CT=function(e,n){return Math.abs(e.right-n)},sA=function(e,n){return e>=n.left&&e<=n.right},i_=function(e,n){return e>=n.top&&e<=n.bottom},u_=function(e){return Zi(e,"node")},EC=function(e,n,a){return a===void 0&&(a=Nt),ws(e,function(i,c){if(sA(n,c))return a(c)?c:i;if(sA(n,i))return a(i)?i:c;var f=Math.min(yb(i,n),CT(i,n)),g=Math.min(yb(c,n),CT(c,n));return g===f&&u_(c)&&yT(c.node)||g<f?c:i})},cA=function(e,n,a,i,c){var f=uA(i,e,Do,n,!c);do if(!f||a(f))return;while(f=uA(f,e,Do,n))},wT=function(e,n,a){a===void 0&&(a=!0);var i=[],c=function(f,g){var b=xt(oA([g]),function(C){return!f(C,n)});return i=i.concat(b),b.length===0};return i.push(n),cA(Vg.Up,e,Ze(c,Hm),n.node,a),cA(Vg.Down,e,Ze(c,Vm),n.node,a),i},ST=function(e){return xt(Br(e.getElementsByTagName("*")),Rd)},lA=function(e,n){return{node:e.node,before:yb(e,n)<CT(e,n)}},lN=function(e,n,a){var i=oA(ST(e)),c=xt(i,Ze(i_,a)),f=function(C){return!So(C.node)&&!Fu(C.node)},g=EC(c,n,f);if(g){var b=f(g);if(g=EC(wT(e,g,b),n,f),g&&Rd(g.node))return lA(g,n)}return null},im=function(e,n){e.selection.setRng(n),Zh(e,e.selection.getRng())},fA=function(e,n,a){return Z.some(cT(e,n,a))},s_=function(e,n,a,i,c,f){var g=n===Oi.Forwards,b=lo(e.getBody()),C=Ze(Yy,g?b.next:b.prev),k=g?i:c;if(!a.collapsed){var N=Td(a);if(f(N))return am(n,e,N,n===Oi.Backwards,!1)}var F=ug(n,e.getBody(),a);if(k(F))return gb(e,F.getNode(!g));var I=Ic(g,C(F)),W=Pl(a);if(!I)return W?Z.some(a):Z.none();if(k(I))return am(n,e,I.getNode(!g),g,!1);var G=C(I);return G&&k(G)&&t0(I,G)?am(n,e,G.getNode(!g),g,!1):W?fA(e,I.toRange(),!1):Z.none()},vA=function(e,n,a,i,c,f){var g=ug(n,e.getBody(),a),b=lu(g.getClientRects()),C=n===Vg.Down;if(!b)return Z.none();var k=C?sN:iA,N=k(e.getBody(),Jf(1),g),F=xt(N,$c(1)),I=b.left,W=EC(F,I);if(W&&f(W.node)){var G=Math.abs(I-W.left),q=Math.abs(I-W.right);return am(n,e,W.node,G<q,!1)}var K;if(i(g)?K=g.getNode():c(g)?K=g.getNode(!0):K=Td(a),K){var ae=cN(n,e.getBody(),Jf(1),K),re=EC(xt(ae,$c(1)),I);if(re||(re=lu(xt(ae,$c(0))),re))return fA(e,re.position.toRange(),!1)}return F.length===0?dA(e,C).filter(C?c:i).map(function(ye){return cT(e,ye.toRange(),!1)}):Z.none()},dA=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var c=Be.fromRangeEnd(a),f=TC(i,c);return aa(f.positions)}else{var c=Be.fromRangeStart(a),f=xC(i,c);return Xa(f.positions)}},c_=function(e,n,a){return dA(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},Cb=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},l_=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},f_=function(e,n,a){return om(n,a).map(function(i){return Cb(e,i),a})},fN=function(e,n,a){var i=e.getBody(),c=Be.fromRangeStart(e.selection.getRng()),f=Ze(Fg,e),g=Zf(a,f,i,c);return g.bind(function(b){return f_(e,n,b)})},vN=function(e,n,a){var i=Ee(ki(B.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(g){return g.dom}),c=xt(i,e),f=xt(a,e);Ce(Ka(c,f),Ze(l_,!1)),Ce(Ka(f,c),Ze(l_,!0))},dN=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=Be.fromRangeStart(e.selection.getRng());Be.isTextPosition(a)&&B6(a)===!1&&(Cb(e,Uw(n.get(),a)),n.set(null))}},mN=function(e,n,a,i){if(n.selection.isCollapsed()){var c=xt(i,e);Ce(c,function(f){var g=Be.fromRangeStart(n.selection.getRng());Yf(e,n.getBody(),g).bind(function(b){return f_(n,a,b)})})}},v_=function(e,n,a){return zh(e)?fN(e,n,a).isSome():!1},kC=function(e,n,a){return zh(n)?Hg(e,n):!1},xT=function(e){var n=Cu(null),a=Ze(Fg,e);return e.on("NodeChange",function(i){zh(e)&&!(hn.browser.isIE()&&i.initial)&&(vN(a,e.dom,i.parents),dN(e,n),mN(a,e,n,i.parents))}),n},mA=Ze(kC,!0),gN=Ze(kC,!1),TT=function(e,n,a){if(zh(e)){var i=dA(e,n).getOrThunk(function(){var c=e.selection.getRng();return n?Be.fromRangeEnd(c):Be.fromRangeStart(c)});return Yf(Ze(Fg,e),e.getBody(),i).exists(function(c){var f=SC(c);return om(a,f).exists(function(g){return Cb(e,g),!0})})}else return!1},hN=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},pN=function(e){return tu(iu(e),ac(e),function(n,a){var i=Ic(!0,n),c=Ic(!1,a);return _c(e,i).forall(function(f){return f.isEqual(c)})}).getOr(!0)},gA=function(e,n){return function(a){return om(n,a).exists(function(i){return Cb(e,i),!0})}},d_=function(e,n,a,i){var c=e.getBody(),f=Ze(Fg,e);e.undoManager.ignore(function(){e.selection.setRng(hN(a,i)),e.execCommand("Delete"),Yf(f,c,Be.fromRangeStart(e.selection.getRng())).map(gT).map(gA(e,n))}),e.nodeChanged()},bN=function(e,n){var a=fl(n,e);return a||e},hA=function(e,n,a,i){var c=bN(e.getBody(),i.container()),f=Ze(Fg,e),g=Yf(f,c,i);return g.bind(function(b){return a?b.fold(L(Z.some(gT(b))),Z.none,L(Z.some(SC(b))),Z.none):b.fold(Z.none,L(Z.some(SC(b))),Z.none,L(Z.some(gT(b))))}).map(gA(e,n)).getOrThunk(function(){var b=dl(a,c,i),C=b.bind(function(k){return Yf(f,c,k)});return tu(g,C,function(){return rm(f,c,i).exists(function(k){return pN(k)?(et(e,a,B.fromDom(k)),!0):!1})}).orThunk(function(){return C.bind(function(k){return b.map(function(N){return a?d_(e,n,i,N):d_(e,n,N,i),!0})})}).getOr(!1)})},ET=function(e,n,a){if(e.selection.isCollapsed()&&zh(e)){var i=Be.fromRangeStart(e.selection.getRng());return hA(e,n,a,i)}return!1},yN=function(e,n){var a=nn(n,e);return ko(a,_s).fold(L(a),function(i){return a.slice(0,i)})},CN=function(e){return jp(e)===1},wN=function(e,n,a,i){var c=Ze(NO,n),f=Ee(xt(i,c),function(b){return b.dom});if(f.length===0)et(n,e,a);else{var g=uM(a.dom,f);n.selection.setRng(g.toRange())}},SN=function(e,n){var a=B.fromDom(e.getBody()),i=B.fromDom(e.selection.getStart()),c=xt(yN(a,i),CN);return aa(c).exists(function(f){var g=Be.fromRangeStart(e.selection.getRng());return M6(n,g,f.dom)&&!PO(f)?(wN(n,e,f,c),!0):!1})},kT=function(e,n){return e.selection.isCollapsed()?SN(e,n):!1},pA=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),et(e,n,B.fromDom(a)),!0},AT=function(e,n){var a=n?Ag:Og,i=n?Oi.Forwards:Oi.Backwards,c=ug(i,e.getBody(),e.selection.getRng());return a(c)?pA(e,n,c.getNode(!n)):Z.from(Ic(n,c)).filter(function(f){return a(f)&&t0(c,f)}).exists(function(f){return pA(e,n,f.getNode(!n))})},OT=function(e,n){var a=e.selection.getNode();return Fu(a)?pA(e,n,a):!1},DT=function(e,n){return e.selection.isCollapsed()?AT(e,n):OT(e,n)},xN=function(e){return Cm(e,function(n){return wc(n.dom)||Ba(n.dom)}).exists(function(n){return wc(n.dom)})},wb=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},m_=function(e,n){var a=e||w3(n)?"margin":"padding",i=Yn(n,"direction")==="rtl"?"-right":"-left";return a+i},TN=function(e,n,a,i,c,f){var g=m_(a,B.fromDom(f));if(n==="outdent"){var b=Math.max(0,wb(f.style[g])-i);e.setStyle(f,g,b?b+c:"")}else{var b=wb(f.style[g])+i+c;e.setStyle(f,g,b)}},EN=function(e,n){return mi(n,function(a){var i=m_(Rw(e),a),c=wi(a,i).map(wb).getOr(0),f=e.dom.getContentEditable(a.dom);return f!=="false"&&c>0})},g_=function(e){var n=p_(e);return!e.mode.isReadOnly()&&(n.length>1||EN(e,n))},h_=function(e){return Tc(e)||Wi(e)},kN=function(e){return Ja(e).exists(h_)},p_=function(e){return xt(Yo(e.selection.getSelectedBlocks()),function(n){return!h_(n)&&!kN(n)&&xN(n)})},b_=function(e,n){var a=e.dom,i=e.selection,c=e.formatter,f=Iy(e),g=/[a-z%]+$/i.exec(f)[0],b=parseInt(f,10),C=Rw(e),k=Ai(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&k===""&&!a.getParent(i.getNode(),a.isBlock)&&c.apply("div"),Ce(p_(e),function(N){TN(a,n,C,b,g,N.dom)})},y_=function(e,n){if(e.selection.isCollapsed()&&g_(e)){var a=e.dom,i=e.selection.getRng(),c=Be.fromRangeStart(i),f=a.getParent(i.startContainer,a.isBlock);if(f!==null&&I0(B.fromDom(f),c))return b_(e,"outdent"),!0}return!1},C_=function(e,n){e.getDoc().execCommand(n,!1,null)},AN=function(e,n){if(!y_(e)){if(fT(e,!1))return;if(lT(e,!1))return;if(ET(e,n,!1))return;if(uT(e,!1))return;if(pp(e))return;if(vT(e,!1))return;if(DT(e,!1))return;if(sT(e))return;if(kT(e,!1))return;C_(e,"Delete"),TR(e)}},ON=function(e,n){if(!fT(e,!0)){if(lT(e,!0))return;if(ET(e,n,!0))return;if(uT(e,!0))return;if(pp(e))return;if(vT(e,!0))return;if(DT(e,!0))return;if(sT(e))return;if(kT(e,!0))return;C_(e,"ForwardDelete")}},cf=function(e,n){e.addCommand("delete",function(){AN(e,n)}),e.addCommand("forwardDelete",function(){ON(e,n)})},RT=5,w_=400,bA=function(e){return e.touches===void 0||e.touches.length!==1?Z.none():Z.some(e.touches[0])},DN=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>RT||i>RT},S_=function(e){var n=Av(),a=Cu(!1),i=Xo(function(c){e.fire("longpress",gn(gn({},c),{type:"longpress"})),a.set(!0)},w_);e.on("touchstart",function(c){bA(c).each(function(f){i.cancel();var g={x:f.clientX,y:f.clientY,target:c.target};i.throttle(c),a.set(!1),n.set(g)})},!0),e.on("touchmove",function(c){i.cancel(),bA(c).each(function(f){n.on(function(g){DN(f,g)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(c){i.cancel(),c.type!=="touchcancel"&&n.get().filter(function(f){return f.target.isEqualNode(c.target)}).each(function(){a.get()?c.preventDefault():e.fire("tap",gn(gn({},c),{type:"tap"}))})},!0)},yA=function(e,n){return qn(e,n.nodeName)},x_=function(e,n){return Vt(n)?!0:En(n)?!yA(e,n)&&!ju(n):!1},RN=function(e,n,a){return be(ix(B.fromDom(a),B.fromDom(n)),function(i){return yA(e,i.dom)})},_N=function(e,n){if(Vt(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||yA(e,n.nextSibling)))return!0}return!1},BN=function(e){var n=e.dom,a=e.selection,i=e.schema,c=i.getBlockElements(),f=a.getStart(),g=e.getBody(),b,C,k,N=Ai(e);if(!(!f||!En(f)||!N)){var F=g.nodeName.toLowerCase();if(!(!i.isValidChild(F,N.toLowerCase())||RN(c,g,f))){var I=a.getRng(),W=I.startContainer,G=I.startOffset,q=I.endContainer,K=I.endOffset,ae=uc(e);for(f=g.firstChild;f;)if(x_(c,f)){if(_N(c,f)){C=f,f=f.nextSibling,n.remove(C);continue}b||(b=n.create(N,qm(e)),f.parentNode.insertBefore(b,f),k=!0),C=f,f=f.nextSibling,b.appendChild(C)}else b=null,f=f.nextSibling;k&&ae&&(I.setStart(W,G),I.setEnd(q,K),a.setRng(I),e.nodeChanged())}}},Sb=function(e){Ai(e)&&e.on("NodeChange",Ze(BN,e))},T_=function(e){return wm(B.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},E_=function(e){e.selection.setRng(e.selection.getRng())},CA=function(e,n){n.hasAttribute("data-mce-caret")&&(Vb(n),E_(e),e.selection.scrollIntoView(n))},wA=function(e,n){var a=T_(e);if(a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),CA(e,a);return}Of(a)&&(CA(e,a),e.undoManager.add())}},MN=function(e){e.on("keyup compositionstart",Ze(wA,e))},k_=Ba,NN=function(e,n,a){return s_(n,e,a,Wv,jv,k_)},PN=function(e,n,a){var i=function(f){return Wv(f)||rx(f)},c=function(f){return jv(f)||ax(f)};return vA(n,e,a,i,c,k_)},FN=function(e){var n=e.dom.create(Ai(e));return(!hn.ie||hn.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},A_=function(e,n,a){var i=lo(e.getBody()),c=Ze(Yy,n===1?i.next:i.prev);if(a.collapsed&&fE(e)){var f=e.dom.getParent(a.startContainer,"PRE");if(!f)return;var g=c(Be.fromRangeStart(a));if(!g){var b=FN(e);n===1?e.$(f).after(b):e.$(f).before(b),e.selection.select(b,!0),e.selection.collapse()}}},Qf=function(e,n){var a=n?Oi.Forwards:Oi.Backwards,i=e.selection.getRng();return NN(a,e,i).orThunk(function(){return A_(e,a,i),Z.none()})},IN=function(e,n){var a=n?1:-1,i=e.selection.getRng();return PN(a,e,i).orThunk(function(){return A_(e,a,i),Z.none()})},O_=function(e,n){return Qf(e,n).exists(function(a){return im(e,a),!0})},D_=function(e,n){return IN(e,n).exists(function(a){return im(e,a),!0})},R_=function(e,n){var a=n?jv:Wv;return c_(e,n,a)},zN=function(e){return We(["figcaption"],uo(e))},__=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},B_=function(e,n,a){a?zo(e,n):Js(e,n)},Ug=function(e,n){var a=B.fromTag("br");return B_(e,a,n),__(a)},$N=function(e,n,a,i){var c=B.fromTag(a),f=B.fromTag("br");return P(c,i),zo(c,f),B_(e,c,n),__(f)},LN=function(e,n,a,i){return n===""?Ug(e,i):$N(e,i,n,a)},M_=function(e,n){var a=Ze(pa,n);return Cm(B.fromDom(e.container()),_s,a).filter(zN)},SA=function(e,n,a){return n?rA(e.dom,a):iN(e.dom,a)},HN=function(e,n){var a=B.fromDom(e.getBody()),i=Be.fromRangeStart(e.selection.getRng()),c=Ai(e),f=qm(e);return M_(i,a).exists(function(){if(SA(a,n,i)){var g=LN(a,c,f,n);return e.selection.setRng(g),!0}else return!1})},N_=function(e,n){return e.selection.isCollapsed()?HN(e,n):!1},VN=function(e){return Ee(e,function(n){return gn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Qe},n)})},Ap=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},UN=function(e,n){return Pi(VN(e),function(a){return Ap(a,n)?[a]:[]})},xr=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},xb=function(e,n){return jr(UN(e,n),function(a){return a.action()})},P_=function(e,n){var a=n?Oi.Forwards:Oi.Backwards,i=e.selection.getRng();return s_(e,a,i,Ag,Og,Fu).exists(function(c){return im(e,c),!0})},_T=function(e,n){var a=n?1:-1,i=e.selection.getRng();return vA(e,a,i,Ag,Og,Fu).exists(function(c){return im(e,c),!0})},BT=function(e,n){var a=n?Og:Ag;return c_(e,n,a)},F_=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},I_=function(e,n){return Pi(n,function(a){var i=F_(Ov(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},z_=function(e,n,a){return rr(e,function(i,c){return i.fold(function(){return Z.some(c)},function(f){var g=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-a)),b=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-a));return Z.some(b<g?c:f)})},Z.none())},$_=function(e,n,a,i,c){var f=ki(B.fromDom(a),"td,th,caption").map(function(b){return b.dom}),g=xt(I_(e,f),function(b){return n(b,c)});return z_(g,i,c).map(function(b){return b.cell})},AC=function(e){return e.bottom},WN=function(e){return e.top},jN=function(e,n){return e.y<n},GN=function(e,n){return e.y>n},Tb=Ze($_,AC,jN),qN=Ze($_,WN,GN),um=function(e,n){return Xa(n.getClientRects()).bind(function(a){return Tb(e,a.left,a.top)}).bind(function(a){return t_(n_(a),n)})},KN=function(e,n){return aa(n.getClientRects()).bind(function(a){return qN(e,a.left,a.top)}).bind(function(a){return t_(aA(a),n)})},xA=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},TA=function(e){return e.breakType===Xi.Wrap&&e.positions.length===0},XN=function(e){return e.breakType===Xi.Br&&e.positions.length===1},L_=function(e,n,a){var i=e(n,a);return TA(i)||!va(a.getNode())&&XN(i)?!xA(e,n,i):i.breakAt.isNone()},YN=Ze(L_,xC),H_=Ze(L_,TC),ZN=function(e,n,a){var i=Be.fromRangeStart(n);return $f(!e,a).exists(function(c){return c.isEqual(i)})},JN=function(e,n,a,i){var c=e.selection.getRng(),f=n?1:-1;return qy()&&ZN(n,c,a)?(am(f,e,a,!n,!1).each(function(g){im(e,g)}),!0):!1},QN=function(e,n,a){return um(n,a).orThunk(function(){return Xa(a.getClientRects()).bind(function(i){return nA(aN(e,Be.before(n)),i.left)})}).getOr(Be.before(n))},eP=function(e,n,a){return KN(n,a).orThunk(function(){return Xa(a.getClientRects()).bind(function(i){return nA(oN(e,Be.after(n)),i.left)})}).getOr(Be.after(n))},EA=function(e,n){var a=n.getNode(e);return En(a)&&a.nodeName==="TABLE"?Z.some(a):Z.none()},tP=function(e,n,a,i){var c=Ai(n);c?n.undoManager.transact(function(){var f=B.fromTag(c);P(f,qm(n)),zo(f,B.fromTag("br")),e?sv(B.fromDom(a),f):yi(B.fromDom(a),f);var g=n.dom.createRng();g.setStart(f.dom,0),g.setEnd(f.dom,0),im(n,g)}):im(n,i.toRange())},Wg=function(e,n,a){var i=EA(!!n,a),c=n===!1;i.fold(function(){return im(e,a.toRange())},function(f){return $f(c,e.getBody()).filter(function(g){return g.isEqual(a)}).fold(function(){return im(e,a.toRange())},function(g){return tP(n,e,f,a)})})},nP=function(e,n,a,i){var c=e.selection.getRng(),f=Be.fromRangeStart(c),g=e.getBody();if(!n&&YN(i,f)){var b=QN(g,a,f);return Wg(e,n,b),!0}else if(n&&H_(i,f)){var b=eP(g,a,f);return Wg(e,n,b),!0}else return!1},Eb=function(e,n,a){return Z.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return Z.from(e.dom.getParent(i,"table")).map(function(c){return a(e,n,c,i)})}).getOr(!1)},kA=function(e,n){return Eb(e,n,JN)},MT=function(e,n){return Eb(e,n,nP)},AA=function(e,n,a){var i=tn().os;xb([{keyCode:wn.RIGHT,action:xr(O_,e,!0)},{keyCode:wn.LEFT,action:xr(O_,e,!1)},{keyCode:wn.UP,action:xr(D_,e,!1)},{keyCode:wn.DOWN,action:xr(D_,e,!0)},{keyCode:wn.RIGHT,action:xr(kA,e,!0)},{keyCode:wn.LEFT,action:xr(kA,e,!1)},{keyCode:wn.UP,action:xr(MT,e,!1)},{keyCode:wn.DOWN,action:xr(MT,e,!0)},{keyCode:wn.RIGHT,action:xr(P_,e,!0)},{keyCode:wn.LEFT,action:xr(P_,e,!1)},{keyCode:wn.UP,action:xr(_T,e,!1)},{keyCode:wn.DOWN,action:xr(_T,e,!0)},{keyCode:wn.RIGHT,action:xr(v_,e,n,!0)},{keyCode:wn.LEFT,action:xr(v_,e,n,!1)},{keyCode:wn.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:xr(mA,e,n)},{keyCode:wn.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:xr(gN,e,n)},{keyCode:wn.UP,action:xr(N_,e,!1)},{keyCode:wn.DOWN,action:xr(N_,e,!0)}],a).each(function(c){a.preventDefault()})},rP=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&AA(e,n,a)})},aP=function(e,n,a){xb([{keyCode:wn.BACKSPACE,action:xr(y_,e,!1)},{keyCode:wn.BACKSPACE,action:xr(fT,e,!1)},{keyCode:wn.DELETE,action:xr(fT,e,!0)},{keyCode:wn.BACKSPACE,action:xr(lT,e,!1)},{keyCode:wn.DELETE,action:xr(lT,e,!0)},{keyCode:wn.BACKSPACE,action:xr(ET,e,n,!1)},{keyCode:wn.DELETE,action:xr(ET,e,n,!0)},{keyCode:wn.BACKSPACE,action:xr(pp,e,!1)},{keyCode:wn.DELETE,action:xr(pp,e,!0)},{keyCode:wn.BACKSPACE,action:xr(vT,e,!1)},{keyCode:wn.DELETE,action:xr(vT,e,!0)},{keyCode:wn.BACKSPACE,action:xr(DT,e,!1)},{keyCode:wn.DELETE,action:xr(DT,e,!0)},{keyCode:wn.BACKSPACE,action:xr(sT,e,!1)},{keyCode:wn.DELETE,action:xr(sT,e,!0)},{keyCode:wn.BACKSPACE,action:xr(uT,e,!1)},{keyCode:wn.DELETE,action:xr(uT,e,!0)},{keyCode:wn.BACKSPACE,action:xr(kT,e,!1)},{keyCode:wn.DELETE,action:xr(kT,e,!0)}],a).each(function(i){a.preventDefault()})},oP=function(e,n){xb([{keyCode:wn.BACKSPACE,action:xr(UR,e)},{keyCode:wn.DELETE,action:xr(UR,e)}],n)},OA=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&aP(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&oP(e,a)})},iP=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},OC=function(e,n){var a,i=n,c=e.dom,f=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var g=iP(n.firstChild);g&&/^(UL|OL|DL)$/.test(g.nodeName)&&n.insertBefore(c.doc.createTextNode(is),n.firstChild)}var b=c.createRng();if(n.normalize(),n.hasChildNodes()){for(var C=new Xr(n,n);a=C.current();){if(Vt(a)){b.setStart(a,0),b.setEnd(a,0);break}if(f[a.nodeName.toLowerCase()]){b.setStartBefore(a),b.setEndBefore(a);break}i=a,a=C.next()}a||(b.setStart(i,0),b.setEnd(i,0))}else va(n)?n.nextSibling&&c.isBlock(n.nextSibling)?(b.setStartBefore(n),b.setEndBefore(n)):(b.setStartAfter(n),b.setEndAfter(n)):(b.setStart(n,0),b.setEnd(n,0));e.selection.setRng(b),Zh(e,b)}},uP=function(e,n){var a=e.getRoot(),i,c;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(c=i),i=i.parentNode;return i!==a?c:a},DA=function(e){return Z.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},V_=function(e){return DA(e).fold(L(""),function(n){return n.nodeName.toUpperCase()})},sP=function(e){return DA(e).filter(function(n){return Wi(B.fromDom(n))}).isSome()},cP=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},lP=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},U_=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},W_=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},fP=function(e){return W_(e)&&W_(e.parentNode)},NT=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},PT=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!En(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},j_=function(e,n,a,i,c){var f=e.dom,g=e.selection.getRng();if(a!==e.getBody()){fP(a)&&(c="LI");var b=c?n(c):f.create("BR");if(PT(a,i,!0)&&PT(a,i,!1))if(U_(a,"LI")){var C=NT(a);f.insertAfter(b,C),lP(a)?f.remove(C):f.remove(a)}else f.replace(b,a);else if(PT(a,i,!0))U_(a,"LI")?(f.insertAfter(b,NT(a)),b.appendChild(f.doc.createTextNode(" ")),b.appendChild(a)):a.parentNode.insertBefore(b,a),f.remove(i);else if(PT(a,i,!1))f.insertAfter(b,NT(a)),f.remove(i);else{a=NT(a);var k=g.cloneRange();k.setStartAfter(i),k.setEndAfter(a);var N=k.extractContents();c==="LI"&&cP(N,"LI")?(b=N.firstChild,f.insertAfter(N,a)):(f.insertAfter(N,a),f.insertAfter(b,a)),f.remove(i)}OC(e,b)}},vP=function(e){Ce(Lm(B.fromDom(e),Ua),function(n){var a=n.dom;a.nodeValue=$u(a.nodeValue)})},G_=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},dP=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},RA=function(e){e.innerHTML='<br data-mce-bogus="1">'},_A=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},q_=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},mP=function(e,n,a){var i=a,c=[],f;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;En(i)&&!n[i.nodeName.toLowerCase()]&&c.push(i)}for(f=c.length;f--;)i=c[f],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||G_(e,i))&&e.remove(i)}},BA=function(e,n,a){return Vt(n)===!1?a:e?a===1&&n.data.charAt(a-1)===me?0:a:a===n.data.length-1&&n.data.charAt(a)===me?n.data.length:a},gP=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,BA(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,BA(!1,e.endContainer,e.endOffset)),n},hP=function(e){do Vt(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},K_=function(e,n){var a=e.getRoot(),i,c;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(c=i),i=i.parentNode;return i!==a?c:a},pP=function(e,n,a){var i=e.dom;Z.from(a.style).map(i.parseStyle).each(function(C){var k=eo(B.fromDom(n)),N=gn(gn({},k),C);i.setStyles(n,N)});var c=Z.from(a.class).map(function(C){return C.split(/\s+/)}),f=Z.from(n.className).map(function(C){return xt(C.split(/\s+/),function(k){return k!==""})});tu(c,f,function(C,k){var N=xt(k,function(I){return!We(C,I)}),F=hi(hi([],C,!0),N,!0);i.setAttrib(n,"class",F.join(" "))});var g=["style","class"],b=Ea(a,function(C,k){return!We(g,k)});i.setAttribs(n,b)},DC=function(e,n){var a=Ai(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=qm(e);pP(e,n,i)}},bP=function(e,n,a,i,c){var f,g,b,C,k,N,F=n||"P",I=e.dom,W=K_(I,i);if(g=I.getParent(i,I.isBlock),!g||!q_(I,g)){if(g=g||W,g===e.getBody()||dP(g)?N=g.nodeName.toLowerCase():N=g.parentNode.nodeName.toLowerCase(),!g.hasChildNodes())return f=I.create(F),DC(e,f),g.appendChild(f),a.setStart(f,0),a.setEnd(f,0),f;for(C=i;C.parentNode!==g;)C=C.parentNode;for(;C&&!I.isBlock(C);)b=C,C=C.previousSibling;if(b&&e.schema.isValidChild(N,F.toLowerCase())){for(f=I.create(F),DC(e,f),b.parentNode.insertBefore(f,b),C=b;C&&!I.isBlock(C);)k=C.nextSibling,f.appendChild(C),C=k;a.setStart(i,c),a.setEnd(i,c)}}return i},yP=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},X_=function(e,n){var a,i,c,f,g,b,C,k,N,F,I=e.dom,W=e.schema,G=W.getNonEmptyElements(),q=e.selection.getRng(),K=function(He){var ot=i,Cn,Ft,je,on=W.getTextInlineElements();if(He||k==="TABLE"||k==="HR"?Cn=I.create(He||N):Cn=f.cloneNode(!1),je=Cn,rE(e)===!1)I.setAttrib(Cn,"style",null),I.setAttrib(Cn,"class",null);else do if(on[ot.nodeName]){if(Kl(ot)||ju(ot))continue;Ft=ot.cloneNode(!1),I.setAttrib(Ft,"id",""),Cn.hasChildNodes()?(Ft.appendChild(Cn.firstChild),Cn.appendChild(Ft)):(je=Ft,Cn.appendChild(Ft))}while((ot=ot.parentNode)&&ot!==ie);return DC(e,Cn),RA(je),Cn},ae=function(He){var ot,Cn,Ft=BA(He,i,c);if(Vt(i)&&(He?Ft>0:Ft<i.nodeValue.length))return!1;if(i.parentNode===f&&F&&!He||He&&En(i)&&i===f.firstChild)return!0;if(_A(i,"TABLE")||_A(i,"HR"))return F&&!He||!F&&He;var je=new Xr(i,f);for(Vt(i)&&(He&&Ft===0?je.prev():!He&&Ft===i.nodeValue.length&&je.next());ot=je.current();){if(En(ot)){if(!ot.getAttribute("data-mce-bogus")&&(Cn=ot.nodeName.toLowerCase(),G[Cn]&&Cn!=="br"))return!1}else if(Vt(ot)&&!Ec(ot.nodeValue))return!1;He?je.prev():je.next()}return!0},re=function(){/^(H[1-6]|PRE|FIGURE)$/.test(k)&&Se!=="HGROUP"?g=K(N):g=K(),Ph(e)&&q_(I,C)&&I.isEmpty(f)?g=I.split(C,f):I.insertAfter(g,f),OC(e,g)};C0(I,q).each(function(He){q.setStart(He.startContainer,He.startOffset),q.setEnd(He.endContainer,He.endOffset)}),i=q.startContainer,c=q.startOffset,N=Ai(e);var ye=!!(n&&n.shiftKey),he=!!(n&&n.ctrlKey);En(i)&&i.hasChildNodes()&&(F=c>i.childNodes.length-1,i=i.childNodes[Math.min(c,i.childNodes.length-1)]||i,F&&Vt(i)?c=i.nodeValue.length:c=0);var ie=K_(I,i);if(ie){(N&&!ye||!N&&ye)&&(i=bP(e,N,q,i,c)),f=I.getParent(i,I.isBlock),C=f?I.getParent(f.parentNode,I.isBlock):null,k=f?f.nodeName.toUpperCase():"";var Se=C?C.nodeName.toUpperCase():"";if(Se==="LI"&&!he&&(f=C,C=C.parentNode,k=Se),/^(LI|DT|DD)$/.test(k)&&I.isEmpty(f)){j_(e,K,C,f,N);return}N&&f===e.getBody()||(N=N||"P",da(f)?(g=Vb(f),I.isEmpty(f)&&RA(f),DC(e,g),OC(e,g)):ae()?re():ae(!0)?(g=f.parentNode.insertBefore(K(),f),OC(e,_A(f,"HR")?g:f)):(a=gP(q).cloneRange(),a.setEndAfter(f),b=a.extractContents(),vP(b),hP(b),g=b.firstChild,I.insertAfter(b,f),mP(I,G,g),yP(I,f),I.isEmpty(f)&&RA(f),g.normalize(),I.isEmpty(g)?(I.remove(g),re()):(DC(e,g),OC(e,g))),I.setAttrib(g,"id",""),e.fire("NewBlock",{newBlock:g}))}},CP=function(e,n,a){for(var i=new Xr(n,a),c,f=e.getNonEmptyElements();c=i.next();)if(f[c.nodeName.toLowerCase()]||c.length>0)return!0},Y_=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),Zh(e,i)},Z_=function(e,n){var a=e.selection,i=e.dom,c=a.getRng(),f,g;C0(i,c).each(function(G){c.setStart(G.startContainer,G.startOffset),c.setEnd(G.endContainer,G.endOffset)});var b=c.startOffset,C=c.startContainer;if(C.nodeType===1&&C.hasChildNodes()){var k=b>C.childNodes.length-1;C=C.childNodes[Math.min(b,C.childNodes.length-1)]||C,k&&C.nodeType===3?b=C.nodeValue.length:b=0}var N=i.getParent(C,i.isBlock),F=N?i.getParent(N.parentNode,i.isBlock):null,I=F?F.nodeName.toUpperCase():"",W=!!(n&&n.ctrlKey);I==="LI"&&!W&&(N=F),C&&C.nodeType===3&&b>=C.nodeValue.length&&(CP(e.schema,C,N)||(f=i.create("br"),c.insertNode(f),c.setStartAfter(f),c.setEndAfter(f),g=!0)),f=i.create("br"),F1(i,c,f),Y_(e,f,g),e.undoManager.add()},J_=function(e,n){var a=B.fromTag("br");yi(B.fromDom(n),a),e.undoManager.add()},FT=function(e,n){MA(e.getBody(),n)||sv(B.fromDom(n),B.fromTag("br"));var a=B.fromTag("br");sv(B.fromDom(n),a),Y_(e,a.dom,!1),e.undoManager.add()},Q_=function(e){return va(e.getNode())},MA=function(e,n){return Q_(Be.after(n))?!0:_c(e,Be.after(n)).map(function(a){return va(a.getNode())}).getOr(!1)},IT=function(e){return e&&e.nodeName==="A"&&"href"in e},e5=function(e){return e.fold(at,IT,IT,at)},wP=function(e){var n=Ze(Fg,e),a=Be.fromRangeStart(e.selection.getRng());return Yf(n,e.getBody(),a).filter(e5)},t5=function(e,n){n.fold(Qe,Ze(J_,e),Ze(FT,e),Qe)},Op=function(e,n){var a=wP(e);a.isSome()?a.each(Ze(t5,e)):Z_(e,n)},NA=function(e,n){return DA(e).filter(function(a){return n.length>0&&Fo(B.fromDom(a),n)}).isSome()},PA=function(e){return NA(e,Km(e))},SP=function(e){return NA(e,Dw(e))},Ws=sn.generate([{br:[]},{block:[]},{none:[]}]),xP=function(e,n){return SP(e)},FA=function(e){return function(n,a){var i=Ai(n)==="";return i===e}},n5=function(e){return function(n,a){return sP(n)===e}},r5=function(e,n){return function(a,i){var c=V_(a)===e.toUpperCase();return c===n}},zT=function(e){return r5("pre",e)},TP=function(){return r5("summary",!0)},RC=function(e){return function(n,a){return Py(n)===e}},kb=function(e,n){return PA(e)},_C=function(e,n){return n},$T=function(e){var n=Ai(e),a=uP(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},yl=function(e,n){return function(a,i){var c=rr(e,function(f,g){return f&&g(a,i)},!0);return c?Z.some(n):Z.none()}},a5=function(e,n){return CC([yl([xP],Ws.none()),yl([TP()],Ws.br()),yl([zT(!0),RC(!1),_C],Ws.br()),yl([zT(!0),RC(!1)],Ws.block()),yl([zT(!0),RC(!0),_C],Ws.block()),yl([zT(!0),RC(!0)],Ws.br()),yl([n5(!0),_C],Ws.br()),yl([n5(!0)],Ws.block()),yl([FA(!0),_C,$T],Ws.block()),yl([FA(!0)],Ws.br()),yl([kb],Ws.br()),yl([FA(!1),_C],Ws.br()),yl([$T],Ws.block())],[e,!!(n&&n.shiftKey)]).getOr(Ws.none())},IA=function(e,n){a5(e,n).fold(function(){Op(e,n)},function(){X_(e,n)},Qe)},o5=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),XM(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),IA(e,n)}))},i5=function(e){e.on("keydown",function(n){n.keyCode===wn.ENTER&&o5(e,n)})},zA=function(e,n,a){xb([{keyCode:wn.END,action:xr(R_,e,!0)},{keyCode:wn.HOME,action:xr(R_,e,!1)},{keyCode:wn.END,action:xr(BT,e,!0)},{keyCode:wn.HOME,action:xr(BT,e,!1)},{keyCode:wn.END,action:xr(TT,e,!0,n)},{keyCode:wn.HOME,action:xr(TT,e,!1,n)}],a).each(function(i){a.preventDefault()})},u5=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&zA(e,n,a)})},EP=tn().browser,kP=function(e){var n=T1(function(){e.composing||gx(e)},0);EP.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},LT=function(e){kP(e),e.on("input",function(n){n.isComposing===!1&&gx(e)})},AP=tn(),OP=function(e,n,a){xb([{keyCode:wn.PAGE_UP,action:xr(TT,e,!1,n)},{keyCode:wn.PAGE_DOWN,action:xr(TT,e,!0,n)}],a)},s5=function(e){return e.stopImmediatePropagation()},$A=function(e){return e.keyCode===wn.PAGE_UP||e.keyCode===wn.PAGE_DOWN},c5=function(e,n,a){a&&!e.get()?n.on("NodeChange",s5,!0):!a&&e.get()&&n.off("NodeChange",s5),e.set(a)},DP=function(e,n){if(!AP.os.isOSX()){var a=Cu(!1);e.on("keydown",function(i){$A(i)&&c5(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&OP(e,n,i),$A(i)&&a.get()&&(c5(a,e,!1),e.nodeChanged())})}},dc=function(e,n){var a=n.container(),i=n.offset();return Vt(a)?(a.insertData(i,e),Z.some(Be(a,i+e.length))):e0(n).map(function(c){var f=B.fromText(e);return n.isAtEnd()?sv(c,f):yi(c,f),Be(f.dom,e.length)})},RP=Ze(dc,is),LA=Ze(dc," "),l5=function(e){return function(n){return n.fold(function(a){return ml(e.dom,Be.before(a))},function(a){return iu(a)},function(a){return ac(a)},function(a){return _c(e.dom,Be.after(a))})}},HA=function(e,n){return function(a){return H0(e,a)?RP(n):LA(n)}},_P=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},BP=function(e){var n=Be.fromRangeStart(e.selection.getRng()),a=B.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=Ze(Fg,e),c=Be.fromRangeStart(e.selection.getRng());return Yf(i,e.getBody(),c).bind(l5(a)).bind(HA(a,n)).exists(_P(e))}else return!1},f5=function(e,n){xb([{keyCode:wn.SPACEBAR,action:xr(BP,e)}],n).each(function(a){n.preventDefault()})},MP=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&f5(e,n)})},NP=function(e){var n=xT(e);return MN(e),rP(e,n),OA(e,n),i5(e),MP(e),LT(e),u5(e,n),DP(e,n),n},PP=function(e){return em(e)?Cu(null):NP(e)},FP=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(c){var f=n.selection.getRng(),g={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(c.type==="nodechange"||!E2(g,a))&&n.fire("SelectionChange"),a=g}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var c=n.selection.getStart(!0);!c||!hn.range&&n.selection.isCollapsed()||zv(n)&&!i.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(c){!c.isDefaultPrevented()&&zv(n)&&(n.selection.getNode().nodeName==="IMG"?Ui.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,c,f;this.editor.initialized&&a&&!vE(this.editor)&&!this.editor.mode.isReadOnly()&&(f=this.editor.getBody(),i=a.getStart(!0)||f,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,f))&&(i=f),c=[],this.editor.dom.getParent(i,function(g){if(g===f)return!0;c.push(g)}),n=n||{},n.element=i,n.parents=c,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),IP=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},zP=function(e){e.parser.addNodeFilter("details",function(n){Ce(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){Ce(n,function(a){var i=a.attr("data-mce-open");a.attr("open",Nn(i)?i:null),a.attr("data-mce-open",null)})})},$P=function(e){IP(e),zP(e)},v5=function(e){return En(e)&&Nl(B.fromDom(e))},LP=function(e){var n=e.selection.getRng(),a=Be.fromRangeStart(n),i=Be.fromRangeEnd(n);if(Be.isElementPosition(a)){var c=a.container();v5(c)&&iu(c).each(function(f){return n.setStart(f.container(),f.offset())})}if(Be.isElementPosition(i)){var c=a.container();v5(c)&&ac(c).each(function(g){return n.setEnd(g.container(),g.offset())})}e.selection.setRng(Mk(n))},Ou=function(e){e.on("click",function(n){n.detail>=3&&LP(e)})},d5=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,c=a.defaultView;return{top:n.top+c.pageYOffset-i.clientTop,left:n.left+c.pageXOffset-i.clientLeft}},HP=function(e){return e.inline?d5(e.getBody()):{left:0,top:0}},VP=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},js=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:c},UP=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=d5(e.getContentAreaContainer()),i=js(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},m5=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},WP=function(e,n){return m5(HP(e),VP(e),UP(e,n))},sm=Ba,jP=wc,GP=function(e,n){return sm(n)&&n!==e},VA=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!sm(n)},qP=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},KP=function(e,n,a,i){var c=e.dom,f=n.cloneNode(!0);c.setStyles(f,{width:a,height:i}),c.setAttrib(f,"data-mce-selected",null);var g=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),c.setStyles(f,{margin:0,boxSizing:"border-box"}),g.appendChild(f),g},XP=function(e,n){e.parentNode!==n&&n.appendChild(e)},YP=function(e,n,a,i,c,f){var g=0,b=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>c&&(g=n.pageX+a-c),n.pageY+i>f&&(b=n.pageY+i-f),e.style.width=a-g+"px",e.style.height=i-b+"px"},g5=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},ZP=function(e){return e.button===0},HT=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},h5=function(e,n){return function(a){if(ZP(a)){var i=jr(n.dom.getParents(a.target),q3(sm,jP)).getOr(null);if(GP(n.getBody(),i)){var c=n.dom.getPos(i),f=n.getBody(),g=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?f.scrollWidth:g.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:g.offsetHeight)-2,relX:a.pageX-c.x,relY:a.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:KP(n,i,i.offsetWidth,i.offsetHeight)})}}}},JP=function(e,n){var a=Ui.throttle(function(i,c){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,c)},0);return n.on("remove",a.stop),function(i){return e.on(function(c){var f=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&f>10){var g=n.fire("dragstart",{target:c.element});if(g.isDefaultPrevented())return;c.dragging=!0,n.focus()}if(c.dragging){var b=HT(c,WP(n,i));XP(c.ghost,n.getBody()),YP(c.ghost,b,c.width,c.height,c.maxX,c.maxY),a(i.clientX,i.clientY)}})}},QP=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},e7=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(VA(n,QP(n.selection),i.element)){var c=qP(i.element),f=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});f.isDefaultPrevented()||n.undoManager.transact(function(){g5(i.element),n.insertContent(n.dom.getOuterHTML(c)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),p5(e)}},t7=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),p5(e)}},p5=function(e){e.on(function(n){g5(n.ghost)}),e.clear()},UA=function(e){var n=Av(),a=Oa.DOM,i=document,c=h5(n,e),f=JP(n,e),g=e7(n,e),b=t7(n,e);e.on("mousedown",c),e.on("mousemove",f),e.on("mouseup",g),a.bind(i,"mousemove",f),a.bind(i,"mouseup",b),e.on("remove",function(){a.unbind(i,"mousemove",f),a.unbind(i,"mouseup",b)}),e.on("keydown",function(C){C.keyCode===wn.ESC&&b()})},b5=function(e){e.on("drop",function(n){var a=typeof n.clientX<"u"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(sm(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},y5=function(e){var n=function(c){if(!c.isDefaultPrevented()){var f=c.dataTransfer;f&&(We(f.types,"Files")||f.files.length>0)&&(c.preventDefault(),c.type==="drop"&&rT(e,"Dropped file type is not supported"))}},a=function(c){A0(e,c.target)&&n(c)},i=function(){var c=Oa.DOM,f=e.dom,g=document,b=e.inline?e.getBody():e.getDoc(),C=["drop","dragover"];Ce(C,function(k){c.bind(g,k,a),f.bind(b,k,n)}),e.on("remove",function(){Ce(C,function(k){c.unbind(g,k,a),f.unbind(b,k,n)})})};e.on("init",function(){Ui.setEditorTimeout(e,i,0)})},C5=function(e){UA(e),b5(e),Zm(e)&&y5(e)},n7=function(e){var n=T1(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=cT(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},r7=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Fu(a)){var i=zd(e.getBody(),a),c=Ba(i)?i:a;e.selection.getNode()!==c&&gb(e,c).each(function(f){return e.selection.setRng(f)})}})})},w5=wc,Dp=Ba,VT=function(e,n){return zd(e.getBody(),n)},a7=function(e){var n=e.selection,a=e.dom,i=a.isBlock,c=e.getBody(),f=ou(e,c,i,function(){return uc(e)}),g="sel-"+a.uniqueId(),b="data-mce-selected",C,k=function(je){return a.hasClass(je,"mce-offscreen-selection")},N=function(je){return je!==c&&(Dp(je)||Fu(je))&&a.isChildOf(je,c)},F=function(je){return Wv(je)||jv(je)||Ag(je)||Og(je)},I=function(){var je=a.get(g);return je&&je.getElementsByTagName("*")[0]},W=function(je){je&&n.setRng(je)},G=n.getRng,q=function(je,on,ft,_t){_t===void 0&&(_t=!0);var dt=e.fire("ShowCaret",{target:on,direction:je,before:ft});return dt.isDefaultPrevented()?null:(_t&&n.scrollIntoView(on,je===-1),f.show(ft,on))},K=function(je){je.hasAttribute("data-mce-caret")&&(Vb(je),W(G()),n.scrollIntoView(je))},ae=function(){e.on("mouseup",function(dt){var Et=G();Et.collapsed&&rR(e,dt.clientX,dt.clientY)&&q4(e,Et,!1).each(W)}),e.on("click",function(dt){var Et=VT(e,dt.target);Et&&(Dp(Et)&&(dt.preventDefault(),e.focus()),w5(Et)&&a.isChildOf(Et,n.getNode())&&ot())}),e.on("blur NewBlock",ot),e.on("ResizeWindow FullscreenStateChanged",f.reposition);var je=function(dt){var Et=dt.firstChild;if(Tr(Et))return!1;var Gt=Be.before(Et);if(va(Gt.getNode())&&dt.childNodes.length===1)return!F(Gt);var tt=lo(dt),$t=tt.next(Gt);return $t&&!F($t)},on=function(dt,Et){var Gt=a.getParent(dt,i),tt=a.getParent(Et,i);return Gt===tt},ft=function(dt,Et){var Gt=a.getParent(dt,i),tt=a.getParent(Et,i);return Tr(Gt)?!1:dt!==tt&&a.isChildOf(Gt,tt)&&Dp(VT(e,Gt))===!1?!0:!a.isChildOf(tt,Gt)&&!on(Gt,tt)&&je(Gt)};e.on("tap",function(dt){var Et=dt.target,Gt=VT(e,Et);Dp(Gt)?(dt.preventDefault(),gb(e,Gt).each(He)):N(Et)&&gb(e,Et).each(He)},!0),e.on("mousedown",function(dt){var Et=dt.target;if(!(Et!==c&&Et.nodeName!=="HTML"&&!a.isChildOf(Et,c))&&rR(e,dt.clientX,dt.clientY)!==!1){var Gt=VT(e,Et);if(Gt)Dp(Gt)?(dt.preventDefault(),gb(e,Gt).each(He)):(ot(),!(w5(Gt)&&dt.shiftKey)&&!$d(dt.clientX,dt.clientY,n.getRng())&&(Ft(),n.placeCaretAt(dt.clientX,dt.clientY)));else if(N(Et))gb(e,Et).each(He);else if(Rd(Et)===!1){ot(),Ft();var tt=lN(c,dt.clientX,dt.clientY);if(tt&&!ft(Et,tt.node)){dt.preventDefault();var $t=q(1,tt.node,tt.before,!1);W($t),e.getBody().focus()}}}}),e.on("keypress",function(dt){wn.modifierPressed(dt)||Dp(n.getNode())&&dt.preventDefault()}),e.on("GetSelectionRange",function(dt){var Et=dt.range;if(C){if(!C.parentNode){C=null;return}Et=Et.cloneRange(),Et.selectNode(C),dt.range=Et}}),e.on("SetSelectionRange",function(dt){dt.range=he(dt.range);var Et=He(dt.range,dt.forward);Et&&(dt.range=Et)});var _t=function(dt){return dt.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(dt){var Et=dt.range,Gt=Et.startContainer.parentNode;!ye(Et)&&!_t(Gt)&&Ft(),k(Gt)||ot()}),e.on("copy",function(dt){var Et=dt.clipboardData;if(!dt.isDefaultPrevented()&&dt.clipboardData&&!hn.ie){var Gt=I();Gt&&(dt.preventDefault(),Et.clearData(),Et.setData("text/html",Gt.outerHTML),Et.setData("text/plain",Gt.outerText||Gt.innerText))}}),C5(e),n7(e),r7(e)},re=function(je){return Lu(je)||dh(je)||mh(je)},ye=function(je){return re(je.startContainer)||re(je.endContainer)},he=function(je){var on=e.schema.getShortEndedElements(),ft=a.createRng(),_t=je.startContainer,dt=je.startOffset,Et=je.endContainer,Gt=je.endOffset;return qn(on,_t.nodeName.toLowerCase())?dt===0?ft.setStartBefore(_t):ft.setStartAfter(_t):ft.setStart(_t,dt),qn(on,Et.nodeName.toLowerCase())?Gt===0?ft.setEndBefore(Et):ft.setEndAfter(Et):ft.setEnd(Et,Gt),ft},ie=function(je,on,ft){var _t=e.$,dt=wm(B.fromDom(e.getBody()),"#"+g).fold(function(){return _t([])},function(tt){return _t([tt.dom])});dt.length===0&&(dt=_t('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",g),dt.appendTo(e.getBody()));var Et=a.createRng();on===ft&&hn.ie?(dt.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(on),Et.setStartAfter(dt[0].firstChild.firstChild),Et.setEndAfter(on)):(dt.empty().append(is).append(on).append(is),Et.setStart(dt[0].firstChild,1),Et.setEnd(dt[0].lastChild,0)),dt.css({top:a.getPos(je,e.getBody()).y}),dt[0].focus();var Gt=n.getSel();return Gt.removeAllRanges(),Gt.addRange(Et),Et},Se=function(je){var on=je.cloneNode(!0),ft=e.fire("ObjectSelected",{target:je,targetClone:on});if(ft.isDefaultPrevented())return null;var _t=ie(je,ft.targetClone,on),dt=B.fromDom(je);return Ce(ki(B.fromDom(e.getBody()),"*[data-mce-selected]"),function(Et){pa(dt,Et)||Fe(Et,b)}),a.getAttrib(je,b)||je.setAttribute(b,"1"),C=je,Ft(),_t},He=function(je,on){if(!je)return null;if(je.collapsed){if(!ye(je)){var ft=on?1:-1,_t=ug(ft,c,je),dt=_t.getNode(!on);if(Rd(dt))return q(ft,dt,on?!_t.isAtEnd():!1,!1);var Et=_t.getNode(on);if(Rd(Et))return q(ft,Et,on?!1:!_t.isAtEnd(),!1)}return null}var Gt=je.startContainer,tt=je.startOffset,$t=je.endOffset;if(Gt.nodeType===3&&tt===0&&Dp(Gt.parentNode)&&(Gt=Gt.parentNode,tt=a.nodeIndex(Gt),Gt=Gt.parentNode),Gt.nodeType!==1)return null;if($t===tt+1&&Gt===je.endContainer){var ir=Gt.childNodes[tt];if(N(ir))return Se(ir)}return null},ot=function(){C&&C.removeAttribute(b),wm(B.fromDom(e.getBody()),"#"+g).each(Qa),C=null},Cn=function(){f.destroy(),C=null},Ft=function(){f.hide()};return hn.ceFalse&&!em(e)&&ae(),{showCaret:q,showBlockCaretContainer:K,hideFakeCaret:Ft,destroy:Cn}},S5=function(e){var n=ze.each,a=wn.BACKSPACE,i=wn.DELETE,c=e.dom,f=e.selection,g=e.parser,b=hn.gecko,C=hn.ie,k=hn.webkit,N="data:text/mce-internal,",F=C?"Text":"URL",I=function(nt,yt){try{e.getDoc().execCommand(nt,!1,yt)}catch{}},W=function(nt){return nt.isDefaultPrevented()},G=function(nt){var yt,un;nt.dataTransfer&&(e.selection.isCollapsed()&&nt.target.tagName==="IMG"&&f.select(nt.target),yt=e.selection.getContent(),yt.length>0&&(un=N+escape(e.id)+","+escape(yt),nt.dataTransfer.setData(F,un)))},q=function(nt){var yt;return nt.dataTransfer&&(yt=nt.dataTransfer.getData(F),yt&&yt.indexOf(N)>=0)?(yt=yt.substr(N.length).split(","),{id:unescape(yt[0]),html:unescape(yt[1])}):null},K=function(nt,yt){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:nt,internal:yt}):e.execCommand("mceInsertContent",!1,nt)},ae=function(){var nt=function(un){var xe=c.create("body"),ct=un.cloneContents();return xe.appendChild(ct),f.serializer.serialize(xe,{format:"html"})},yt=function(un){var xe=nt(un),ct=c.createRng();ct.selectNode(e.getBody());var rt=nt(ct);return xe===rt};e.on("keydown",function(un){var xe=un.keyCode,ct,rt;if(!W(un)&&(xe===i||xe===a)){if(ct=e.selection.isCollapsed(),rt=e.getBody(),ct&&!c.isEmpty(rt)||!ct&&!yt(e.selection.getRng()))return;un.preventDefault(),e.setContent(""),rt.firstChild&&c.isBlock(rt.firstChild)?e.selection.setCursorLocation(rt.firstChild,0):e.selection.setCursorLocation(rt,0),e.nodeChanged()}})},re=function(){e.shortcuts.add("meta+a",null,"SelectAll")},ye=function(){e.inline||c.bind(e.getDoc(),"mousedown mouseup",function(nt){var yt;if(nt.target===e.getDoc().documentElement)if(yt=f.getRng(),e.getBody().focus(),nt.type==="mousedown"){if(Lu(yt.startContainer))return;f.placeCaretAt(nt.clientX,nt.clientY)}else f.setRng(yt)})},he=function(){e.on("keydown",function(nt){if(!W(nt)&&nt.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){var yt=f.getNode(),un=yt.previousSibling;if(yt.nodeName==="HR"){c.remove(yt),nt.preventDefault();return}un&&un.nodeName&&un.nodeName.toLowerCase()==="hr"&&(c.remove(un),nt.preventDefault())}}})},ie=function(){Range.prototype.getClientRects||e.on("mousedown",function(nt){if(!W(nt)&&nt.target.nodeName==="HTML"){var yt=e.getBody();yt.blur(),Ui.setEditorTimeout(e,function(){yt.focus()})}})},Se=function(){e.on("click",function(nt){var yt=nt.target;/^(IMG|HR)$/.test(yt.nodeName)&&c.getContentEditableParent(yt)!=="false"&&(nt.preventDefault(),e.selection.select(yt),e.nodeChanged()),yt.nodeName==="A"&&c.hasClass(yt,"mce-item-anchor")&&(nt.preventDefault(),f.select(yt))})},He=function(){var nt=function(){var un=c.getAttribs(f.getStart().cloneNode(!1));return function(){var xe=f.getStart();xe!==e.getBody()&&(c.setAttrib(xe,"style",null),n(un,function(ct){xe.setAttributeNode(ct.cloneNode(!0))}))}},yt=function(){return!f.isCollapsed()&&c.getParent(f.getStart(),c.isBlock)!==c.getParent(f.getEnd(),c.isBlock)};e.on("keypress",function(un){var xe;if(!W(un)&&(un.keyCode===8||un.keyCode===46)&&yt())return xe=nt(),e.getDoc().execCommand("delete",!1,null),xe(),un.preventDefault(),!1}),c.bind(e.getDoc(),"cut",function(un){var xe;!W(un)&&yt()&&(xe=nt(),Ui.setEditorTimeout(e,function(){xe()}))})},ot=function(){e.on("keydown",function(nt){if(!W(nt)&&nt.keyCode===a&&f.isCollapsed()&&f.getRng().startOffset===0){var yt=f.getNode().previousSibling;if(yt&&yt.nodeName&&yt.nodeName.toLowerCase()==="table")return nt.preventDefault(),!1}})},Cn=function(){e.on("keydown",function(nt){var yt,un;if(!(W(nt)||nt.keyCode!==wn.BACKSPACE)){yt=f.getRng();var xe=yt.startContainer,ct=yt.startOffset,rt=c.getRoot();if(un=xe,!(!yt.collapsed||ct!==0)){for(;un&&un.parentNode&&un.parentNode.firstChild===un&&un.parentNode!==rt;)un=un.parentNode;un.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,un),yt=c.createRng(),yt.setStart(xe,0),yt.setEnd(xe,0),f.setRng(yt))}}})},Ft=function(){var nt=function(){I("StyleWithCSS",!1),I("enableInlineTableEditing",!1),Mw(e)||I("enableObjectResizing",!1)};dE(e)||e.on("BeforeExecCommand mousedown",nt)},je=function(){var nt=function(){n(c.select("a"),function(yt){var un=yt.parentNode,xe=c.getRoot();if(un.lastChild===yt){for(;un&&!c.isBlock(un);){if(un.parentNode.lastChild!==un||un===xe)return;un=un.parentNode}c.add(un,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(yt){(yt.type==="setcontent"||yt.command==="mceInsertLink")&&nt()})},on=function(){Ai(e)&&e.on("init",function(){I("DefaultParagraphSeparator",Ai(e))})},ft=function(){e.on("keyup focusin mouseup",function(nt){wn.modifierPressed(nt)||f.normalize()},!0)},_t=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},dt=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},Et=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(nt){var yt;if(nt.target.nodeName==="HTML"){if(hn.ie>11){e.getBody().focus();return}yt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(yt),e.selection.normalize(),e.nodeChanged()}}))},Gt=function(){hn.mac&&e.on("keydown",function(nt){if(wn.metaKeyPressed(nt)&&!nt.shiftKey&&(nt.keyCode===37||nt.keyCode===39)){nt.preventDefault();var yt=e.selection.getSel();yt.modify("move",nt.keyCode===37?"backward":"forward","lineboundary")}})},tt=function(){I("AutoUrlDetect",!1)},$t=function(){e.on("click",function(nt){var yt=nt.target;do if(yt.tagName==="A"){nt.preventDefault();return}while(yt=yt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ir=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(nt){nt.preventDefault()})})},Vr=function(){g.addNodeFilter("br",function(nt){for(var yt=nt.length;yt--;)nt[yt].attr("class")==="Apple-interchange-newline"&&nt[yt].remove()})},$r=function(){e.on("dragstart",function(nt){G(nt)}),e.on("drop",function(nt){if(!W(nt)){var yt=q(nt);if(yt&&yt.id!==e.id){nt.preventDefault();var un=T2(nt.x,nt.y,e.getDoc());f.setRng(un),K(yt.html,!0)}}})},Mi=Qe,ro=function(){if(!b||e.removed)return!1;var nt=e.selection.getSel();return!nt||!nt.rangeCount||nt.rangeCount===0},Ku=function(){k&&(ye(),Se(),ir(),re(),hn.iOS&&(dt(),Et(),$t())),b&&(ie(),Ft(),_t(),Gt())},mc=function(){Cn(),ae(),hn.windowsPhone||ft(),k&&(ye(),Se(),on(),ir(),ot(),Vr(),hn.iOS?(dt(),Et(),$t()):re()),hn.ie>=11&&(Et(),ot()),hn.ie&&(re(),tt(),$r()),b&&(he(),ie(),He(),Ft(),je(),_t(),Gt(),ot())};return em(e)?Ku():mc(),{refreshContentEditable:Mi,isHidden:ro}},WA=Oa.DOM,o7=function(e,n){var a=B.fromDom(e.getBody()),i=so(du(a)),c=B.fromTag("style");E(c,"type","text/css"),zo(c,B.fromText(n)),zo(i,c),e.on("remove",function(){Qa(c)})},i7=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},jA=function(e){return Ea(e,function(n){return Rt(n)===!1})},GA=function(e){var n=e.settings;return jA({block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements,padd_empty_block_inline_children:n.format_empty_lines})},x5=function(e){var n=e.settings,a=e.editorUpload.blobCache;return jA({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:i7(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},u7=function(e){var n=e.settings;return gn(gn(gn({},x5(e)),GA(e)),jA({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before}))},s7=function(e){var n=Kx(x5(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var c=a.length,f,g,b=e.dom,C="data-mce-"+i;c--;)if(f=a[c],g=f.attr(i),g&&!f.attr(C)){if(g.indexOf("data:")===0||g.indexOf("blob:")===0)continue;i==="style"?(g=b.serializeStyle(b.parseStyle(g),f.name),g.length||(g=null),f.attr(C,g),f.attr(i,g)):i==="tabindex"?(f.attr(C,g),f.attr(i,null)):f.attr(C,e.convertURL(g,i,f.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var c=a[i],f=c.attr("type")||"no/type";f.indexOf("mce-")!==0&&c.attr("type","mce-"+f)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var c=a[i];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode(c.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,c=e.schema.getNonEmptyElements();i--;){var f=a[i];f.isEmpty(c)&&f.getAll("br").length===0&&(f.append(new sc("br",1)).shortEnded=!0)}}),n},c7=function(e){e.settings.auto_focus&&Ui.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},T5=function(e){var n=e.dom.getRoot();!e.inline&&(!zv(e)||e.selection.getStart(!0)===n)&&iu(n).each(function(a){var i=a.getNode(),c=So(i)?iu(i).getOr(a):a;hn.browser.isIE()?ik(e,c.toRange()):e.selection.setRng(c.toRange())})},UT=function(e){e.bindPendingEventDelegates(),e.initialized=!0,fS(e),e.focus(!0),T5(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),c7(e)},qA=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},E5=function(e,n,a){var i=[new ai(function(c,f){return qA(e).loadAll(n,c,f)})];return e.inline?i:i.concat([new ai(function(c,f){return e.ui.styleSheetLoader.loadAll(a,c,f)})])},k5=function(e){var n=qA(e),a=Bw(e),i=e.contentCSS,c=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},f=function(){e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){var g="";ze.each(e.contentStyles,function(C){g+=C+`\r
`}),e.dom.addStyle(g)}var b=ai.all(E5(e,i,a)).then(f).catch(f);return e.settings.content_style&&o7(e,e.settings.content_style),b},l7=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();ef(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,WA.setAttrib(i,"spellcheck","false")),e.quirks=S5(e),lS(e);var c=ll(e);c!==void 0&&(i.dir=c),n.protect&&e.on("BeforeSetContent",function(f){ze.each(n.protect,function(g){f.content=f.content.replace(g,function(b){return"<!--mce:protected "+escape(b)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(f){e.composing=f.type==="compositionstart"})},KA=function(e){em(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},XA=function(e){e.removed!==!0&&(KA(e),UT(e))},YA=function(e,n){var a=e.settings,i=e.getElement(),c=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(c.open(),c.write(e.iframeHTML),c.close()),e.inline&&(WA.addClass(i,"mce-content-body"),e.contentDocument=c=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var f=e.getBody();f.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&WA.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable=e.getParam("content_editable_state",!0)),f.disabled=!1,e.editorUpload=Au(e),e.schema=Fs(GA(e)),e.dom=Oa(c,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:j1(e),referrerPolicy:G1(e),onSetAttrib:function(C){e.fire("SetAttrib",C)}}),e.parser=s7(e),e.serializer=_4(u7(e),e),e.selection=ab(e.dom,e.getWin(),e.serializer,e),e.annotator=h0(e),e.formatter=po(e),e.undoManager=bR(e),e._nodeChangeDispatcher=new FP(e),e._selectionOverrides=a7(e),S_(e),$P(e),em(e)||Ou(e);var g=PP(e);cf(e,g),Sb(e),yC(e);var b=a8(e);l7(e),b.fold(function(){k5(e).then(function(){return XA(e)})},function(C){e.setProgressState(!0),k5(e).then(function(){C().then(function(k){e.setProgressState(!1),XA(e)},function(k){e.notificationManager.open({type:"error",text:String(k)}),XA(e)})})})},BC=Oa.DOM,f7=function(e,n){if(document.domain!==window.location.hostname&&hn.browser.isIE()){var a=fR("mce");e[a]=function(){YA(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return BC.setAttrib(n,"src",i),!0}return!1},lf=function(e,n,a,i){var c=B.fromTag("iframe");return P(c,i),P(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),Sd(c,"tox-edit-area__iframe"),c},A5=function(e){var n=Ow(e)+"<html><head>";Ny(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=tE(e),i=nE(e),c=e.translate(Lw(e));return V1(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+V1(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+c+'">')+"<br></body></html>",n},O5=function(e,n){var a=e.translate("Rich Text Area"),i=lf(e.id,a,n.height,eE(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var c=f7(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=A5(e),BC.add(n.iframeContainer,i),c},v7=function(e,n){var a=O5(e,n);n.editorContainer&&(BC.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=BC.isHidden(n.editorContainer)),e.getElement().style.display="none",BC.setAttrib(e.id,"aria-hidden","true"),a||YA(e)},D5=Oa.DOM,R5=function(e,n,a){var i=Kf.get(a),c=Kf.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=ze.trim(a),i&&ze.inArray(n,a)===-1){if(ze.each(Kf.dependencies(a),function(g){R5(e,n,g)}),e.plugins[a])return;try{var f=new i(e,c,e.$);e.plugins[a]=f,f.init&&(f.init(e,c),n.push(a))}catch(g){p6(e,a,g)}}},_5=function(e){return e.replace(/^\-/,"")},d7=function(e){var n=[];ze.each(Y1(e).split(/[ ,]/),function(a){R5(e,n,_5(a))})},m7=function(e){var n=ze.trim(Gl(e)),a=e.ui.registry.getAll().icons,i=gn(gn({},nT.get("default").icons),nT.get(n).icons);zt(i,function(c,f){qn(a,f)||e.ui.registry.addIcon(f,c)})},g7=function(e){var n=Xm(e);if(Nn(n)){e.settings.theme=_5(n);var a=Pg.get(n);e.theme=new a(e,Pg.urls[n]),e.theme.init&&e.theme.init(e,Pg.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},ZA=function(e){return e.theme.renderUI()},h7=function(e){var n=e.getElement(),a=Xm(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},B5=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},M5=function(e){var n=D5.create("div");return D5.insertAfter(n,e),B5(n)},p7=function(e){var n=e.getElement();return e.inline?B5(null):M5(n)},b7=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,Nn(Xm(e))?ZA(e):Ie(Xm(e))?h7(e):p7(e)},y7=function(e,n){var a={show:Z.from(n.show).getOr(Qe),hide:Z.from(n.hide).getOr(Qe),disable:Z.from(n.disable).getOr(Qe),isDisabled:Z.from(n.isDisabled).getOr(at),enable:function(){e.mode.isReadOnly()||Z.from(n.enable).map(Cr)}};e.ui=gn(gn({},e.ui),a)},N5=function(e){e.fire("ScriptsLoaded"),m7(e),g7(e),d7(e);var n=b7(e);y7(e,Z.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,lR(e),e.inline?YA(e):v7(e,a)},Rp=Oa.DOM,P5=function(e){return e.charAt(0)==="-"},JA=function(e,n){var a=q1(n),i=ii(n);if(wu.hasCode(a)===!1&&a!=="en"){var c=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(c,Qe,void 0,function(){h6(n,c,a)})}},C7=function(e,n,a,i){var c=Xm(n);if(Nn(c)){if(!P5(c)&&!qn(Pg.urls,c)){var f=Fw(n);f?Pg.load(c,n.documentBaseURI.toAbsolute(f)):Pg.load(c,"themes/"+c+"/theme"+a+".js")}e.loadQueue(function(){Pg.waitFor(c,i)})}else i()},F5=function(e){return Z.from(W1(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:Z.none()}})},I5=function(e,n,a){return Z.from(n).filter(function(i){return i.length>0&&!nT.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:Z.some(i)}})},w7=function(e,n,a){var i=I5(n,"default",a),c=F5(n).orThunk(function(){return I5(n,Gl(n),"")});Ce(Xn([i,c]),function(f){e.add(f.url,Qe,void 0,function(){sR(n,f.url,f.name.getOrUndefined())})})},S7=function(e,n){ze.each(gE(e),function(a,i){Kf.load(i,a,Qe,void 0,function(){$4(e,a,i)}),e.settings.plugins+=" "+i}),ze.each(Y1(e).split(/[ ,]/),function(a){if(a=ze.trim(a),a&&!Kf.urls[a])if(P5(a)){a=a.substr(1,a.length);var i=Kf.dependencies(a);ze.each(i,function(f){var g={prefix:"plugins/",resource:f,suffix:"/plugin"+n+".js"},b=Kf.createUrl(g,f);Kf.load(b.resource,b,Qe,void 0,function(){$4(e,b.prefix+b.resource+b.suffix,b.resource)})})}else{var c={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};Kf.load(a,c,Qe,void 0,function(){$4(e,c.prefix+c.resource+c.suffix,a)})}})},x7=function(e,n){var a=Nf.ScriptLoader;C7(a,e,n,function(){JA(a,e),w7(a,e,n),S7(e,n),a.loadQueue(function(){e.removed||N5(e)},e,function(){e.removed||N5(e)})})},Bi=function(e,n){return xc.forElement(e,{contentCssCors:mE(n),referrerPolicy:G1(n)})},T7=function(e){var n=e.id;wu.setCode(q1(e));var a=function(){Rp.unbind(window,"ready",a),e.render()};if(!_m.Event.domLoaded){Rp.bind(window,"ready",a);return}if(e.getElement()&&hn.contentEditable){var i=B.fromDom(e.getElement()),c=Jt(i);e.on("remove",function(){Ct(i.dom.attributes,function(g){return Fe(i,g.name)}),P(i,c)}),e.ui.styleSheetLoader=Bi(i,e),cE(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var f=e.getElement().form||Rp.getParent(n,"form");f&&(e.formElement=f,Iw(e)&&!Ci(e.getElement())&&(Rp.insertAfter(Rp.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(g){e.fire(g.type,g)},Rp.bind(f,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),zw(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)})),e.windowManager=P4(e),e.notificationManager=iR(e),Ly(e)&&e.on("GetContent",function(g){g.save&&(g.content=Rp.encode(g.content))}),lE(e)&&e.on("submit",function(){e.initialized&&e.save()}),X1(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),x7(e,e.suffix)}},E7=function(e,n){return h8(e,n)},k7={"font-size":"size","font-family":"face"},z5=function(e,n,a){var i=function(f){return wi(f,e).orThunk(function(){return uo(f)==="font"?Mr(k7,e).bind(function(g){return Q(f,g)}):Z.none()})},c=function(f){return pa(B.fromDom(n),f)};return Uk(B.fromDom(a),function(f){return i(f)},c)},QA=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},A7=function(e,n){return Z.from(Oa.DOM.getStyle(n,e,!0))},eO=function(e){return function(n,a){return Z.from(a).map(B.fromDom).filter(_a).bind(function(i){return z5(e,n,i.dom).or(A7(e,i.dom))}).getOr("")}},O7=eO("font-size"),D7=Jn(QA,eO("font-family")),R7=function(e){return iu(e.getBody()).map(function(n){var a=n.container();return Vt(a)?a.parentNode:a})},_7=function(e){return Z.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?Z.none():Z.from(e.selection.getStart(!0))})},B7=function(e,n){return _7(e).orThunk(Ze(R7,e)).map(B.fromDom).filter(_a).bind(n)},tO=function(e,n){return B7(e,oe(Z.some,n))},$5=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=Fh(e),c=Od(e);return c?c[a-1]||n:i[a-1]||n}else return n}else return n},M7=function(e){var n=e.split(/\s*,\s*/);return Ee(n,function(a){return a.indexOf(" ")!==-1&&!(hr(a,'"')||hr(a,"'"))?"'"+a+"'":a}).join(",")},N7=function(e,n){var a=$5(e,n);e.formatter.toggle("fontname",{value:M7(a)}),e.nodeChanged()},P7=function(e){return tO(e,function(n){return D7(e.getBody(),n.dom)}).getOr("")},F7=function(e,n){e.formatter.toggle("fontsize",{value:$5(e,n)}),e.nodeChanged()},I7=function(e){return tO(e,function(n){return O7(e.getBody(),n.dom)}).getOr("")},z7=function(e){return tO(e,function(n){var a=B.fromDom(e.getBody()),i=Uk(n,function(f){return wi(f,"line-height")},Ze(pa,a)),c=function(){var f=parseFloat(Yn(n,"line-height")),g=parseFloat(Yn(n,"font-size"));return String(f/g)};return i.getOrThunk(c)}).getOr("")},L5=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},$7=function(e){if(typeof e!="string"){var n=ze.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},L7=function(e,n){var a=$7(n);m8(e,a.content,a.details)},WT=ze.each,H7=ze.map,H5=ze.inArray,V5=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,c){var f,g=!1,b=this;if(!b.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!c||!c.skip_focus)?b.editor.focus():F2(b.editor)),c=b.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),c.isDefaultPrevented())return!1;var C=n.toLowerCase();if(f=b.commands.exec[C])return f(C,a,i),b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(WT(this.editor.plugins,function(k){if(k.execCommand&&k.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),g=!0,!1}),g)return g;if(b.editor.theme&&b.editor.theme.execCommand&&b.editor.theme.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{g=b.editor.getDoc().execCommand(n,a,i)}catch{}return g?(b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch{}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch{}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;WT(n,function(c,f){WT(f.toLowerCase().split(","),function(g){i.commands[a][g]=c})})},e.prototype.addCommand=function(n,a,i){var c=this;n=n.toLowerCase(),this.commands.exec[n]=function(f,g,b,C){return a.call(i||c.editor,g,b,C)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch{}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var c=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||c.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var c=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||c.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Qe,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(c,f,g){D0(n,g)},"Cut,Copy,Paste":function(c){var f=n.getDoc(),g;try{a.execNativeCommand(c)}catch{g=!0}if(c==="paste"&&!f.queryCommandEnabled(c)&&(g=!0),g||!f.queryCommandSupported(c)){var b=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");hn.mac&&(b=b.replace(/Ctrl\+/g,"⌘+")),n.notificationManager.open({text:b,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var c=n.dom.getParent(n.selection.getStart(),"a");c&&n.dom.remove(c,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(c){var f=c.substring(7);f==="full"&&(f="justify"),WT("left,center,right,justify".split(","),function(g){f!==g&&n.formatter.remove("align"+g)}),f!=="none"&&a.toggleFormat("align"+f)},"InsertUnorderedList,InsertOrderedList":function(c){var f;a.execNativeCommand(c);var g=n.dom.getParent(n.selection.getNode(),"ol,ul");g&&(f=g.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)&&(a.storeSelection(),n.dom.split(f,g),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){a.toggleFormat(c)},"ForeColor,HiliteColor":function(c,f,g){a.toggleFormat(c,{value:g})},FontName:function(c,f,g){N7(n,g)},FontSize:function(c,f,g){F7(n,g)},LineHeight:function(c,f,g){L5(n,g)},Lang:function(c,f,g){a.toggleFormat(c,{value:g.code,customValue:g.customCode})},RemoveFormat:function(c){n.formatter.remove(c)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(c,f,g){return a.toggleFormat(g||"p")},mceCleanup:function(){var c=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(c)},mceRemoveNode:function(c,f,g){var b=g||n.selection.getNode();b!==n.getBody()&&(a.storeSelection(),n.dom.remove(b,!0),a.restoreSelection())},mceSelectNodeDepth:function(c,f,g){var b=0;n.dom.getParent(n.selection.getNode(),function(C){if(C.nodeType===1&&b++===g)return n.selection.select(C),!1},n.getBody())},mceSelectNode:function(c,f,g){n.selection.select(g)},mceInsertContent:function(c,f,g){L7(n,g)},mceInsertRawHTML:function(c,f,g){n.selection.setContent("tiny_mce_marker");var b=n.getContent();n.setContent(b.replace(/tiny_mce_marker/g,function(){return g}))},mceInsertNewLine:function(c,f,g){IA(n,g)},mceToggleFormat:function(c,f,g){a.toggleFormat(g)},mceSetContent:function(c,f,g){n.setContent(g)},"Indent,Outdent":function(c){b_(n,c)},mceRepaint:Qe,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(c,f,g){n.execCommand("mceInsertContent",!1,g.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(c,f,g){typeof g=="string"&&(g={href:g});var b=n.dom.getParent(n.selection.getNode(),"a");g.href=g.href.replace(/ /g,"%20"),(!b||!g.href)&&n.formatter.remove("link"),g.href&&n.formatter.apply("link",g,b)},selectAll:function(){var c=n.dom.getParent(n.selection.getStart(),wc);if(c){var f=n.dom.createRng();f.selectNodeContents(c),n.selection.setRng(f)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(c,f,g){return Op(n,g),!0}});var i=function(c){return function(){var f=n.selection,g=f.isCollapsed()?[n.dom.getParent(f.getNode(),n.dom.isBlock)]:f.getSelectedBlocks(),b=H7(g,function(C){return!!n.formatter.matchNode(C,c)});return H5(b,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){return a.isFormatMatch(c)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return g_(n)},"InsertUnorderedList,InsertOrderedList":function(c){var f=n.dom.getParent(n.selection.getNode(),"ul,ol");return f&&(c==="insertunorderedlist"&&f.tagName==="UL"||c==="insertorderedlist"&&f.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return P7(n)},this),a.addQueryValueHandler("FontSize",function(){return I7(n)},this),a.addQueryValueHandler("LineHeight",function(){return z7(n)},this)},e}(),jg="data-mce-contenteditable",U5=function(e,n,a){by(e,n)&&a===!1?py(e,n):a&&Sd(e,n)},jT=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch{}},GT=function(e,n){e.dom.contentEditable=n?"true":"false"},V7=function(e){Ce(ki(e,'*[contenteditable="true"]'),function(n){E(n,jg,"true"),GT(n,!1)})},U7=function(e){Ce(ki(e,"*["+jg+'="true"]'),function(n){Fe(n,jg),GT(n,!0)})},W5=function(e){Z.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},W7=function(e){e.selection.setRng(e.selection.getRng())},j7=function(e,n){var a=B.fromDom(e.getBody());U5(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),W5(e),e.readonly=!0,GT(a,!1),V7(a)):(e.readonly=!1,GT(a,!0),U7(a),jT(e,"StyleWithCSS",!1),jT(e,"enableInlineTableEditing",!1),jT(e,"enableObjectResizing",!1),VS(e)&&e.focus(),W7(e),e.nodeChanged())},Gg=function(e){return e.readonly},j5=function(e){e.parser.addAttributeFilter("contenteditable",function(n){Gg(e)&&Ce(n,function(a){a.attr(jg,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(jg,function(n){Gg(e)&&Ce(n,function(a){a.attr("contenteditable",a.attr(jg))})}),e.serializer.addTempAttr(jg)},G7=function(e){e.serializer?j5(e):e.on("PreInit",function(){j5(e)})},G5=function(e){return e.type==="click"},q7=function(e,n){var a=function(i){return pa(i,B.fromDom(e.getBody()))};return go(n,"a",a).bind(function(i){return Q(i,"href")})},K7=function(e,n){if(G5(n)&&!wn.metaKeyPressed(n)){var a=B.fromDom(n.target);q7(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var c=e.dom.select(i+',[name="'+Or(i,"#")+'"]');c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},X7=function(e){e.on("ShowCaret",function(n){Gg(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){Gg(e)&&n.preventDefault()})},q5=ze.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),qT=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||at}return e.isNative=function(n){return!!q5[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),c=Xe(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);var f=this.bindings[i];if(f)for(var g=0,b=f.length;g<b;g++){var C=f[g];if(!C.removed){if(C.once&&this.off(i,C.func),c.isImmediatePropagationStopped())return c;if(C.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c},e.prototype.on=function(n,a,i,c){if(a===!1&&(a=at),a){var f={func:a,removed:!1};c&&ze.extend(f,c);for(var g=n.toLowerCase().split(" "),b=g.length;b--;){var C=g[b],k=this.bindings[C];k||(k=[],this.toggleEvent(C,!0)),i?k=hi([f],k,!0):k=hi(hi([],k,!0),[f],!1),this.bindings[C]=k}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var c=n.toLowerCase().split(" "),f=c.length;f--;){var g=c[f],b=this.bindings[g];if(!g)return zt(this.bindings,function(k,N){i.toggleEvent(N,!1),delete i.bindings[N]}),this;if(b){if(!a)b.length=0;else{var C=Xt(b,function(k){return k.func===a});b=C.fail,this.bindings[g]=b,Ce(C.pass,function(k){k.removed=!0})}b.length||(this.toggleEvent(n,!1),delete this.bindings[g])}}else zt(this.bindings,function(k,N){i.toggleEvent(N,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),MC=function(e){return e._eventDispatcher||(e._eventDispatcher=new qT({scope:e,toggleEvent:function(n,a){qT.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},KT={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var c=MC(i).fire(e,n);if(a!==!1&&i.parent)for(var f=i.parent();f&&!c.isPropagationStopped();)f.fire(e,c,!1),f=f.parent();return c},on:function(e,n,a){return MC(this).on(e,n,a)},off:function(e,n){return MC(this).off(e,n)},once:function(e,n){return MC(this).once(e,n)},hasEventListeners:function(e){return MC(this).has(e)}},XT=Oa.DOM,_p,YT=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=K1(e);return a?(e.eventRoot||(e.eventRoot=XT.select(a)[0]),e.eventRoot):e.getBody()},Y7=function(e){return!e.hidden&&!Gg(e)},K5=function(e,n,a){Y7(e)?e.fire(n,a):Gg(e)&&K7(e,a)},X5=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=YT(e,n);if(K1(e)){if(_p||(_p={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||_p&&(zt(_p,function(c,f){e.dom.unbind(YT(e,f))}),_p=null)})),_p[n])return;a=function(c){for(var f=c.target,g=e.editorManager.get(),b=g.length;b--;){var C=g[b].getBody();(C===f||XT.isChildOf(f,C))&&K5(g[b],n,c)}},_p[n]=a,XT.bind(i,n,a)}else a=function(c){K5(e,n,c)},XT.bind(i,n,a),e.delegates[n]=a}},Y5=gn(gn({},KT),{bindPendingEventDelegates:function(){var e=this;ze.each(e._pendingNativeEvents,function(n){X5(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?X5(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(YT(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(zt(e.delegates,function(i,c){e.dom.unbind(YT(e,c),c,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),Z7=["design","readonly"],NC=function(e,n,a,i){var c=a[n.get()],f=a[i];try{f.activate()}catch(g){console.error("problem while activating editor mode "+i+":",g);return}c.deactivate(),c.editorReadOnly!==f.editorReadOnly&&j7(e,f.editorReadOnly),n.set(i),y2(e,i)},Z5=function(e,n,a,i){if(i!==a.get()){if(!qn(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?NC(e,a,n,i):e.on("init",function(){return NC(e,a,n,i)})}},J5=function(e,n,a){var i;if(We(Z7,n))throw new Error("Cannot override default mode "+n);return gn(gn({},e),(i={},i[n]=gn(gn({},a),{deactivate:function(){try{a.deactivate()}catch(c){console.error("problem while deactivating editor mode "+n+":",c)}}}),i))},J7=function(e){var n=Cu("design"),a=Cu({design:{activate:Qe,deactivate:Qe,editorReadOnly:!1},readonly:{activate:Qe,deactivate:Qe,editorReadOnly:!0}});return G7(e),X7(e),{isReadOnly:function(){return Gg(e)},set:function(i){return Z5(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,c){a.set(J5(a.get(),i,c))}}},ZT=ze.each,JT=ze.explode,Q7={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Q5=ze.makeMap("alt,ctrl,shift,meta,access"),eF=function(e){var n,a={};ZT(JT(e.toLowerCase(),"+"),function(c){c in Q5?a[c]=!0:/^[0-9]{2,}$/.test(c)?a.keyCode=parseInt(c,10):(a.charCode=c.charCodeAt(0),a.keyCode=Q7[c]||c.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in Q5)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,hn.mac?a.ctrl=!0:a.shift=!0),a.meta&&(hn.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},QT=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(ZT(a.shortcuts,function(c){if(a.matchShortcut(i,c))return a.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(c),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,c){var f=this,g=f.normalizeCommandFunc(i);return ZT(JT(ze.trim(n)),function(b){var C=f.createShortcut(b,a,g,c);f.shortcuts[C.id]=C}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:ze.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,c){var f=ze.map(JT(n,">"),eF);return f[f.length-1]=ze.extend(f[f.length-1],{func:i,scope:c||this.editor}),ze.extend(f[0],{desc:this.editor.translate(a),subpatterns:f.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),tF=function(){var e={},n={},a={},i={},c={},f={},g={},b=function(k,N){return function(F,I){return k[F.toLowerCase()]=gn(gn({},I),{type:N})}},C=function(k,N){return i[k.toLowerCase()]=N};return{addButton:b(e,"button"),addGroupToolbarButton:b(e,"grouptoolbarbutton"),addToggleButton:b(e,"togglebutton"),addMenuButton:b(e,"menubutton"),addSplitButton:b(e,"splitbutton"),addMenuItem:b(n,"menuitem"),addNestedMenuItem:b(n,"nestedmenuitem"),addToggleMenuItem:b(n,"togglemenuitem"),addAutocompleter:b(a,"autocompleter"),addContextMenu:b(c,"contextmenu"),addContextToolbar:b(f,"contexttoolbar"),addContextForm:b(f,"contextform"),addSidebar:b(g,"sidebar"),addIcon:C,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:c,contextToolbars:f,sidebars:g}}}},nO=function(){var e=tF();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Bp=Oa.DOM,eB=ze.extend,nF=ze.each,rO=ze.resolve,rF=hn.ie,e3=function(){function e(n,a,i){var c=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,eB(this,Y5),this.settings=QD(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(Nf.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Oa.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Hu.languageLoad=this.settings.language_load,Hu.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new Ng(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new QT(this),this.editorCommands=new V5(this),this.settings.cache_suffix&&(hn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:nO(),styleSheetLoader:void 0,show:Qe,hide:Qe,enable:Qe,disable:Qe,isDisabled:at};var f=this,g=J7(f);this.mode=g,this.setMode=g.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Wn.overrideDefaults(function(){return{context:c.inline?c.getBody():c.getDoc(),element:c.getBody()}})}return e.prototype.render=function(){T7(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return uc(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var c=this,f=c.settings[n],g;if(f)return c.callbackLookup&&(g=c.callbackLookup[n])&&(f=g.func,g=g.scope),typeof f=="string"&&(g=f.replace(/\.\w+$/,""),g=g?rO(g):0,f=rO(f),c.callbackLookup=c.callbackLookup||{},c.callbackLookup[n]={func:f,scope:g}),f.apply(g||c,a)},e.prototype.translate=function(n){return wu.translate(n)},e.prototype.getParam=function(n,a,i){return s6(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=We(Y1(this).split(/[ ,]/),n);return i?a?Kf.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,c){this.shortcuts.add(n,a,i,c)},e.prototype.execCommand=function(n,a,i,c){return this.editorCommands.execCommand(n,a,i,c)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Bp.show(n.getContainer()),Bp.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(rF&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Bp.hide(n.getContainer()),Bp.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),c;if(a.removed)return"";if(i){n=n||{},n.load=!0;var f=Ci(i)?i.value:i.innerHTML;return c=a.setContent(f,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,c}},e.prototype.save=function(n){var a=this,i=a.getElement(),c,f;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,c=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),c=n.content,Ci(i)?i.value=c:((n.is_removing||!a.inline)&&(i.innerHTML=c),(f=Bp.getParent(a.id,"form"))&&nF(f.elements,function(g){if(g.name===a.id)return g.value=c,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),c},e.prototype.setContent=function(n,a){return Yx(this,n,a)},e.prototype.getContent=function(n){return Xx(this,n)},e.prototype.insertContent=function(n,a){a&&(n=eB({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?Yx(this,this.startContent,{format:"raw"}):Yx(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=Bp.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Bp.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var c=this,f=c.settings;return f.urlconverter_callback?c.execCallback("urlconverter_callback",n,i,!0,a):!f.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f.relative_urls?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,f.remove_script_host),n)},e.prototype.addVisual=function(n){E7(this,n)},e.prototype.remove=function(){j8(this)},e.prototype.destroy=function(n){VD(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),ff=Oa.DOM,aF=ze.explode,Zv=ze.each,Gs=ze.extend,Mp=0,tB=!1,t3,qg=[],qs=[],oF=function(e){return e!=="length"},nB=function(e){var n=e.type;Zv(Kg.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},aO=function(e){e!==tB&&(e?Wn(window).on("resize scroll",nB):Wn(window).off("resize scroll",nB),tB=e)},Np=function(e){var n=qs;delete qg[e.id];for(var a=0;a<qg.length;a++)if(qg[a]===e){qg.splice(a,1);break}return qs=xt(qs,function(i){return e!==i}),Kg.activeEditor===e&&(Kg.activeEditor=qs.length>0?qs[0]:null),Kg.focusedEditor===e&&(Kg.focusedEditor=null),n.length!==qs.length},iF=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(Np(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},uF=document.compatMode!=="CSS1Compat",Kg=gn(gn({},KT),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Wn,majorVersion:"5",minorVersion:"10.9",releaseDate:"2023-11-15",editors:qg,i18n:wu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=Ng.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,i=c.suffix;else{for(var f=document.getElementsByTagName("script"),g=0;g<f.length;g++){var b=f[g].src||"";if(b!==""){var C=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){C.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var b=document.currentScript.src;b.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"))}}e.baseURL=new Ng(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new Ng(e.baseURL),e.suffix=i,FS(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&zt(i,function(c,f){Hu.PluginManager.urls[f]=c})},init:function(e){var n=this,a,i=ze.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=function(F,I){return F.inline&&I.tagName.toLowerCase()in i},f=function(F){var I=F.id;return I||(I=Mr(F,"name").filter(function(W){return!ff.get(W)}).getOrThunk(ff.uniqueId),F.setAttribute("id",I)),I},g=function(F){var I=e[F];if(I)return I.apply(n,[])},b=function(F,I){return I.constructor===RegExp?I.test(F.className):ff.hasClass(F,I)},C=function(F){var I=[];if(hn.browser.isIE()&&hn.browser.version.major<11)return aT("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(uF)return aT("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(F.types)return Zv(F.types,function(G){I=I.concat(ff.select(G.selector))}),I;if(F.selector)return ff.select(F.selector);if(F.target)return[F.target];switch(F.mode){case"exact":var W=F.elements||"";W.length>0&&Zv(aF(W),function(G){var q=ff.get(G);q?I.push(q):Zv(document.forms,function(K){Zv(K.elements,function(ae){ae.name===G&&(G="mce_editor_"+Mp++,ff.setAttrib(ae,"id",G),I.push(ae))})})});break;case"textareas":case"specific_textareas":Zv(ff.select("textarea"),function(G){F.editor_deselector&&b(G,F.editor_deselector)||(!F.editor_selector||b(G,F.editor_selector))&&I.push(G)});break}return I},k=function(F){a=F},N=function(){var F=0,I=[],W,G=function(q,K,ae){var re=new e3(q,K,n);I.push(re),re.on("init",function(){++F===W.length&&k(I)}),re.targetElm=re.targetElm||ae,re.render()};if(ff.unbind(window,"ready",N),g("onpageload"),W=Wn.unique(C(e)),e.types){Zv(e.types,function(q){ze.each(W,function(K){return ff.is(K,q.selector)?(G(f(K),Gs({},e,q),K),!1):!0})});return}ze.each(W,function(q){iF(n.get(q.id))}),W=ze.grep(W,function(q){return!n.get(q.id)}),W.length===0?k([]):Zv(W,function(q){c(e,q)?aT("Could not initialize inline editor on invalid inline target element",q):G(f(q),e,q)})};return n.settings=e,ff.bind(window,"ready",N),new ai(function(F){a?F(a):k=function(I){F(I)}})},get:function(e){return arguments.length===0?qs.slice(0):Nn(e)?jr(qs,function(n){return n.id===e}).getOr(null):Bt(e)&&qs[e]?qs[e]:null},add:function(e){var n=this,a=qg[e.id];return a===e||(n.get(e.id)===null&&(oF(e.id)&&(qg[e.id]=e),qg.push(e),qs.push(e)),aO(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),t3||(t3=function(i){var c=n.fire("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",t3))),e},createEditor:function(e,n){return this.add(new e3(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=qs.length-1;a>=0;a--)n.remove(qs[a]);return}if(Nn(e)){Zv(ff.select(e),function(c){i=n.get(c.id),i&&n.remove(i)});return}return i=e,ve(n.get(i.id))?null:(Np(i)&&n.fire("RemoveEditor",{editor:i}),qs.length===0&&window.removeEventListener("beforeunload",t3),i.remove(),aO(qs.length>0),i)},execCommand:function(e,n,a){var i=this,c=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new e3(a,i.settings,i).render(),!0;case"mceRemoveEditor":return c&&c.remove(),!0;case"mceToggleEditor":return c?(c.isHidden()?c.show():c.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){Zv(qs,function(e){e.save()})},addI18n:function(e,n){wu.add(e,n)},translate:function(e){return wu.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Ng(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ng(this.baseURL)}});Kg.setup();var vf=Math.min,Ab=Math.max,n3=Math.round,oO=function(e,n,a){var i=n.x,c=n.y,f=e.w,g=e.h,b=n.w,C=n.h,k=(a||"").split("");return k[0]==="b"&&(c+=C),k[1]==="r"&&(i+=b),k[0]==="c"&&(c+=n3(C/2)),k[1]==="c"&&(i+=n3(b/2)),k[3]==="b"&&(c-=g),k[4]==="r"&&(i-=f),k[3]==="c"&&(c-=n3(g/2)),k[4]==="c"&&(i-=n3(f/2)),Ob(i,c,f,g)},sF=function(e,n,a,i){var c,f;for(f=0;f<i.length;f++)if(c=oO(e,n,i[f]),c.x>=a.x&&c.x+c.w<=a.w+a.x&&c.y>=a.y&&c.y+c.h<=a.h+a.y)return i[f];return null},rB=function(e,n,a){return Ob(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},aB=function(e,n){var a=Ab(e.x,n.x),i=Ab(e.y,n.y),c=vf(e.x+e.w,n.x+n.w),f=vf(e.y+e.h,n.y+n.h);return c-a<0||f-i<0?null:Ob(a,i,c-a,f-i)},iO=function(e,n,a){var i=e.x,c=e.y,f=e.x+e.w,g=e.y+e.h,b=n.x+n.w,C=n.y+n.h,k=Ab(0,n.x-i),N=Ab(0,n.y-c),F=Ab(0,f-b),I=Ab(0,g-C);return i+=k,c+=N,a&&(f+=k,g+=N,i-=F,c-=I),f-=F,g-=I,Ob(i,c,f-i,g-c)},Ob=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},cF=function(e){return Ob(e.left,e.top,e.width,e.height)},lF={inflate:rB,relativePosition:oO,findBestRelativePosition:sF,intersect:aB,clamp:iO,create:Ob,fromClientRect:cF},fF=function(e,n,a){a===void 0&&(a=1e3);var i=!1,c=null,f=function(k){return function(){for(var N=[],F=0;F<arguments.length;F++)N[F]=arguments[F];i||(i=!0,c!==null&&(clearTimeout(c),c=null),k.apply(null,N))}},g=f(e),b=f(n),C=function(){for(var k=[],N=0;N<arguments.length;N++)k[N]=arguments[N];!i&&c===null&&(c=setTimeout(function(){return b.apply(null,k)},a))};return{start:C,resolve:g,reject:b}},vF=function(){var e={},n={},a=function(c,f){var g='Script at URL "'+f+'" failed to load',b='Script at URL "'+f+"\" did not call `tinymce.Resource.add('"+c+"', data)` within 1 second";if(e[c]!==void 0)return e[c];var C=new ai(function(k,N){var F=fF(k,N);n[c]=F.resolve,Nf.ScriptLoader.loadScript(f,function(){return F.start(b)},function(){return F.reject(g)})});return e[c]=C,C},i=function(c,f){n[c]!==void 0&&(n[c](f),delete n[c]),e[c]=ai.resolve(f)};return{load:a,add:i}},oB=vF(),PC=ze.each,dF=ze.extend,uO,sO,iB=function(){};iB.extend=uO=function(e){var n=this,a=n.prototype,i=function(){var b,C,k,N=this;if(!sO&&(N.init&&N.init.apply(N,arguments),C=N.Mixins,C))for(b=C.length;b--;)k=C[b],k.init&&k.init.apply(N,arguments)},c=function(){return this},f=function(b,C){return function(){var k=this,N=k._super;k._super=a[b];var F=C.apply(k,arguments);return k._super=N,F}};sO=!0;var g=new n;return sO=!1,e.Mixins&&(PC(e.Mixins,function(b){for(var C in b)C!=="init"&&(e[C]=b[C])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&PC(e.Methods.split(","),function(b){e[b]=c}),e.Properties&&PC(e.Properties.split(","),function(b){var C="_"+b;e[b]=function(k){var N=this;return k!==void 0?(N[C]=k,N):N[C]}}),e.Statics&&PC(e.Statics,function(b,C){i[C]=b}),e.Defaults&&a.Defaults&&(e.Defaults=dF({},a.Defaults,e.Defaults)),zt(e,function(b,C){typeof b=="function"&&a[C]?g[C]=f(C,b):g[C]=b}),i.prototype=g,i.constructor=i,i.extend=uO,i};var r3=Math.min,a3=Math.max,Xg=Math.round,cO=function(e){var n={},a=0,i=0,c=0,f=function(F,I,W){var G,q,K;G=0,q=0,K=0,F=F/255,I=I/255,W=W/255;var ae=r3(F,r3(I,W)),re=a3(F,a3(I,W));if(ae===re)return K=ae,{h:0,s:0,v:K*100};var ye=F===ae?I-W:W===ae?F-I:W-F;return G=F===ae?3:W===ae?1:5,G=60*(G-ye/(re-ae)),q=(re-ae)/re,K=re,{h:Xg(G),s:Xg(q*100),v:Xg(K*100)}},g=function(F,I,W){if(F=(parseInt(F,10)||0)%360,I=parseInt(I,10)/100,W=parseInt(W,10)/100,I=a3(0,r3(I,1)),W=a3(0,r3(W,1)),I===0){a=i=c=Xg(255*W);return}var G=F/60,q=W*I,K=q*(1-Math.abs(G%2-1)),ae=W-q;switch(Math.floor(G)){case 0:a=q,i=K,c=0;break;case 1:a=K,i=q,c=0;break;case 2:a=0,i=q,c=K;break;case 3:a=0,i=K,c=q;break;case 4:a=K,i=0,c=q;break;case 5:a=q,i=0,c=K;break;default:a=i=c=0}a=Xg(255*(a+ae)),i=Xg(255*(i+ae)),c=Xg(255*(c+ae))},b=function(){var F=function(I){return I=parseInt(I,10).toString(16),I.length>1?I:"0"+I};return"#"+F(a)+F(i)+F(c)},C=function(){return{r:a,g:i,b:c}},k=function(){return f(a,i,c)},N=function(F){var I;return typeof F=="object"?"r"in F?(a=F.r,i=F.g,c=F.b):"v"in F&&g(F.h,F.s,F.v):(I=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(F))?(a=parseInt(I[1],10),i=parseInt(I[2],10),c=parseInt(I[3],10)):(I=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(F))?(a=parseInt(I[1],16),i=parseInt(I[2],16),c=parseInt(I[3],16)):(I=/#([0-F])([0-F])([0-F])/gi.exec(F))&&(a=parseInt(I[1]+I[1],16),i=parseInt(I[2]+I[2],16),c=parseInt(I[3]+I[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,c=c<0?0:c>255?255:c,n};return e&&N(e),n.toRgb=C,n.toHsv=k,n.toHex=b,n.parse=N,n},uB=function(e){var n=JSON.stringify(e);return Nn(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},lO={serialize:uB,parse:function(e){try{return JSON.parse(e)}catch{}}},mF={callbacks:{},count:0,send:function(e){var n=this,a=Oa.DOM,i=e.count!==void 0?e.count:n.count,c="tinymce_jsonp_"+i;n.callbacks[i]=function(f){a.remove(c),delete n.callbacks[i],e.callback(f)},a.add(a.doc.body,"script",{id:c,src:e.url,type:"text/javascript"}),n.count++}},Db=gn(gn({},KT),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Ui.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",Db.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&ze.each(e.requestheaders,function(c){n.setRequestHeader(c.key,c.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=Db.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();Ui.setTimeout(i,10)}}),fO=ze.extend,gF=function(){function e(n){this.settings=fO({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,c=fO(this.settings,n);c.success=function(f,g){f=lO.parse(f),typeof f>"u"&&(f={error:"JSON Parse error."}),f.error?a.call(c.error_scope||c.scope,f.error,g):i.call(c.success_scope||c.scope,f.result)},c.error=function(f,g){a&&a.call(c.error_scope||c.scope,f,g)},c.data=lO.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),c.content_type="application/json",Db.send(c)},e}(),hF=function(){return function(){var e={},n=[],a={getItem:function(i){var c=e[i];return c||null},setItem:function(i,c){n.push(i),e[i]=String(c)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(c){return c===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},FC;try{var vO="__storage_test__";FC=window.localStorage,FC.setItem(vO,vO),FC.removeItem(vO)}catch{FC=hF()}var pF=FC,bF={geom:{Rect:lF},util:{Promise:ai,Delay:Ui,Tools:ze,VK:wn,URI:Ng,Class:iB,EventDispatcher:qT,Observable:KT,I18n:wu,XHR:Db,JSON:lO,JSONRequest:gF,JSONP:mF,LocalStorage:pF,Color:cO,ImageUploader:x6},dom:{EventUtils:_m,Sizzle:ia,DomQuery:Wn,TreeWalker:Xr,TextSeeker:Sy,DOMUtils:Oa,ScriptLoader:Nf,RangeUtils:Kh,Serializer:_4,StyleSheetLoader:YC,ControlSelection:S2,BookmarkManager:$v,Selection:ab,Event:_m.Event},html:{Styles:Oc,Entities:Ps,Node:sc,Schema:Fs,SaxParser:A4,DomParser:Kx,Writer:X2,Serializer:qd},Env:hn,AddOnManager:Hu,Annotator:h0,Formatter:po,UndoManager:bR,EditorCommands:V5,WindowManager:P4,NotificationManager:iR,EditorObservable:Y5,Shortcuts:QT,Editor:e3,FocusManager:RS,EditorManager:Kg,DOM:Oa.DOM,ScriptLoader:Nf.ScriptLoader,PluginManager:Kf,ThemeManager:Pg,IconManager:nT,Resource:oB,trim:ze.trim,isArray:ze.isArray,is:ze.is,toArray:ze.toArray,makeMap:ze.makeMap,each:ze.each,map:ze.map,grep:ze.grep,inArray:ze.inArray,extend:ze.extend,create:ze.create,walk:ze.walk,createNS:ze.createNS,resolve:ze.resolve,explode:ze.explode,_addCacheSuffix:ze._addCacheSuffix,isOpera:hn.opera,isWebKit:hn.webkit,isIE:hn.ie,isGecko:hn.gecko,isMac:hn.mac},sB=ze.extend(Kg,bF),yF=function(e){try{bo.exports=e}catch{}},CF=function(e){window.tinymce=e,window.tinyMCE=e};CF(sB),yF(sB)})()})(E$);var ij=E$.exports;const cj=oj(ij);(function(){var bo=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},Gn=function(t){return function(r){return bo(r)===t}},Ta=function(t){return function(r){return typeof r===t}},ra=function(t){return function(r){return t===r}},Fn=Gn("string"),Wr=Gn("object"),tr=Gn("array"),kr=ra(null),en=Ta("boolean"),wa=ra(void 0),sa=function(t){return t==null},it=function(t){return!sa(t)},Zt=Ta("function"),er=Ta("number"),Mt=function(t,r){if(tr(t)){for(var o=0,s=t.length;o<s;++o)if(!r(t[o]))return!1;return!0}return!1},Ye=function(){},Nn=function(t){return function(){return t()}},vt=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(r.apply(null,o))}},dn=function(t,r){return function(o){return t(r(o))}},ve=function(t){return function(){return t}},Lt=function(t){return t},Rt=function(t,r){return t===r};function Tr(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];var m=r.concat(s);return t.apply(null,m)}}var Sn=function(t){return function(r){return!t(r)}},Ie=function(t){return function(){throw new Error(t)}},Bt=ve(!1),Qe=ve(!0),Jn=tinymce.util.Tools.resolve("tinymce.ThemeManager"),oe=function(){return oe=Object.assign||function(r){for(var o,s=1,v=arguments.length;s<v;s++){o=arguments[s];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(r[m]=o[m])}return r},oe.apply(this,arguments)};function L(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,s=Object.getOwnPropertySymbols(t);v<s.length;v++)r.indexOf(s[v])<0&&Object.prototype.propertyIsEnumerable.call(t,s[v])&&(o[s[v]]=t[s[v]]);return o}function mt(t,r,o){if(o||arguments.length===2)for(var s=0,v=r.length,m;s<v;s++)(m||!(s in r))&&(m||(m=Array.prototype.slice.call(r,0,s)),m[s]=r[s]);return t.concat(m||Array.prototype.slice.call(r))}var Hn=function(){return Ze},Ze=function(){var t=function(s){return s()},r=Lt,o={fold:function(s,v){return s()},isSome:Bt,isNone:Qe,getOr:r,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:r,orThunk:t,map:Hn,each:Ye,bind:Hn,exists:Bt,forall:Qe,filter:function(){return Hn()},toArray:function(){return[]},toString:ve("none()")};return o}(),nr=function(t){var r=ve(t),o=function(){return v},s=function(m){return m(t)},v={fold:function(m,p){return p(t)},isSome:Qe,isNone:Bt,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(m){return nr(m(t))},each:function(m){m(t)},bind:s,exists:s,forall:s,filter:function(m){return m(t)?v:Ze},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return v},Rn=function(t){return t==null?Ze:nr(t)},A={some:nr,none:Hn,from:Rn},Cr=Array.prototype.slice,at=Array.prototype.indexOf,Nt=Array.prototype.push,ca=function(t,r){return at.call(t,r)},yo=function(t,r){var o=ca(t,r);return o===-1?A.none():A.some(o)},In=function(t,r){return ca(t,r)>-1},Jr=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];if(r(v,o))return!0}return!1},Z=function(t,r){for(var o=[],s=0;s<t;s++)o.push(r(s));return o},Co=function(t,r){for(var o=[],s=0;s<t.length;s+=r){var v=Cr.call(t,s,s+r);o.push(v)}return o},ut=function(t,r){for(var o=t.length,s=new Array(o),v=0;v<o;v++){var m=t[v];s[v]=r(m,v)}return s},Ut=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];r(v,o)}},Eo=function(t,r){for(var o=t.length-1;o>=0;o--){var s=t[o];r(s,o)}},st=function(t,r){for(var o=[],s=[],v=0,m=t.length;v<m;v++){var p=t[v],w=r(p,v)?o:s;w.push(p)}return{pass:o,fail:s}},We=function(t,r){for(var o=[],s=0,v=t.length;s<v;s++){var m=t[s];r(m,s)&&o.push(m)}return o},be=function(t,r,o){return Eo(t,function(s,v){o=r(o,s,v)}),o},Ee=function(t,r,o){return Ut(t,function(s,v){o=r(o,s,v)}),o},Ce=function(t,r,o){for(var s=0,v=t.length;s<v;s++){var m=t[s];if(r(m,s))return A.some(m);if(o(m,s))break}return A.none()},Ct=function(t,r){return Ce(t,r,Bt)},Xt=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];if(r(v,o))return A.some(o)}return A.none()},xt=function(t){for(var r=[],o=0,s=t.length;o<s;++o){if(!tr(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);Nt.apply(r,t[o])}return r},Qn=function(t,r){return xt(ut(t,r))},rr=function(t,r){for(var o=0,s=t.length;o<s;++o){var v=t[o];if(r(v,o)!==!0)return!1}return!0},fn=function(t){var r=Cr.call(t,0);return r.reverse(),r},jr=function(t,r){return We(t,function(o){return!In(r,o)})},ko=function(t,r){for(var o={},s=0,v=t.length;s<v;s++){var m=t[s];o[String(m)]=r(m,s)}return o},Yi=function(t){return[t]},Pi=function(t,r){var o=Cr.call(t,0);return o.sort(r),o},mi=function(t,r){return r>=0&&r<t.length?A.some(t[r]):A.none()},ta=function(t){return mi(t,0)},Ka=function(t){return mi(t,t.length-1)},fo=Zt(Array.from)?Array.from:function(t){return Cr.call(t)},na=function(t,r){for(var o=0;o<t.length;o++){var s=r(t[o],o);if(s.isSome())return s}return A.none()},la=Object.keys,Xa=Object.hasOwnProperty,aa=function(t,r){for(var o=la(t),s=0,v=o.length;s<v;s++){var m=o[s],p=t[m];r(p,m)}},Br=function(t,r){return Me(t,function(o,s){return{k:s,v:r(o,s)}})},Me=function(t,r){var o={};return aa(t,function(s,v){var m=r(s,v);o[m.k]=m.v}),o},Pt=function(t){return function(r,o){t[o]=r}},vn=function(t,r,o,s){var v={};return aa(t,function(m,p){(r(m,p)?o:s)(m,p)}),v},zt=function(t,r){var o={};return vn(t,r,Pt(o),Ye),o},gr=function(t,r){var o=[];return aa(t,function(s,v){o.push(r(s,v))}),o},Ar=function(t,r){for(var o=la(t),s=0,v=o.length;s<v;s++){var m=o[s],p=t[m];if(r(p,m,t))return A.some(p)}return A.none()},Ha=function(t){return gr(t,Lt)},rn=function(t,r){return wr(t,r)?A.from(t[r]):A.none()},wr=function(t,r){return Xa.call(t,r)},Ea=function(t,r){return wr(t,r)&&t[r]!==void 0&&t[r]!==null},gi=function(t,r,o){return o===void 0&&(o=Rt),t.exists(function(s){return o(s,r)})},ys=function(t,r,o){return o===void 0&&(o=Rt),Zi(t,r,o).getOr(t.isNone()&&r.isNone())},Mr=function(t){for(var r=[],o=function(v){r.push(v)},s=0;s<t.length;s++)t[s].each(o);return r},qn=function(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())r.push(s.getOrDie());else return A.none()}return A.some(r)},Zi=function(t,r,o){return t.isSome()&&r.isSome()?A.some(o(t.getOrDie(),r.getOrDie())):A.none()},Vc=function(t,r,o,s){return t.isSome()&&r.isSome()&&o.isSome()?A.some(s(t.getOrDie(),r.getOrDie(),o.getOrDie())):A.none()},Fi=function(t,r){return t!=null?A.some(r(t)):A.none()},Ii=function(t,r){return t?A.some(r):A.none()},Zu=function(t,r){return t+r},Cs=function(t,r){return t.substring(r)},Bu=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},zi=function(t,r){return lu(t,r)?Cs(t,r.length):t},ws=function(t,r){return gn(t,r)?t:Zu(t,r)},Lr=function(t,r){return t.indexOf(r)!==-1},lu=function(t,r){return Bu(t,r,0)},gn=function(t,r){return Bu(t,r,t.length-r.length)},Uc=function(t){return function(r){return r.replace(t,"")}},hi=Uc(/^\s+|\s+$/g),fu=function(t){return t.length>0},pi=function(t){return!fu(t)},Mu=function(t){return t.style!==void 0&&Zt(t.style.getPropertyValue)},xl=function(t,r){var o=r||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return J(s.childNodes[0])},vu=function(t,r){var o=r||document,s=o.createElement(t);return J(s)},Wc=function(t,r){var o=r||document,s=o.createTextNode(t);return J(s)},J=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},ge=function(t,r,o){return A.from(t.dom.elementFromPoint(r,o)).map(J)},ne={fromHtml:xl,fromTag:vu,fromText:Wc,fromDom:J,fromPoint:ge};typeof window<"u"||Function("return this;")();var ke=9,Tt=11,jt=1,Tn=3,_n=function(t){var r=t.dom.nodeName;return r.toLowerCase()},Or=function(t){return t.dom.nodeType},Er=function(t){return function(r){return Or(r)===t}},hr=Er(jt),Ya=Er(Tn),Pa=Er(ke),Ju=Er(Tt),Po=function(t){var r=!1,o;return function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return r||(r=!0,o=t.apply(null,s)),o}},Ss=function(t,r,o,s){var v=t.isiOS()&&/ipad/i.test(o)===!0,m=t.isiOS()&&!v,p=t.isiOS()||t.isAndroid(),w=p||s("(pointer:coarse)"),S=v||!m&&p&&s("(min-device-width:768px)"),T=m||p&&!S,D=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,_=!T&&!S&&!D;return{isiPad:ve(v),isiPhone:ve(m),isTablet:ve(S),isPhone:ve(T),isTouch:ve(w),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ve(D),isDesktop:ve(_)}},Ks=function(t,r){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(r))return s}},Fa=function(t,r){var o=Ks(t,r);if(!o)return{major:0,minor:0};var s=function(v){return Number(r.replace(o,"$"+v))};return Ao(s(1),s(2))},Ia=function(t,r){var o=String(r).toLowerCase();return t.length===0?lt():Fa(t,o)},lt=function(){return Ao(0,0)},Ao=function(t,r){return{major:t,minor:r}},xs={nu:Ao,detect:Ia,unknown:lt},mf=function(t,r){return na(r.brands,function(o){var s=o.brand.toLowerCase();return Ct(t,function(v){var m;return s===((m=v.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(function(v){return{current:v.name,version:xs.nu(parseInt(o.version,10),0)}})})},jc=function(t,r){var o=String(r).toLowerCase();return Ct(t,function(s){return s.search(o)})},fr=function(t,r){return jc(t,r).map(function(o){var s=xs.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Tl=function(t,r){return jc(t,r).map(function(o){var s=xs.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Ts=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Va=function(t){return function(r){return Lr(r,t)}},Gc=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Lr(t,"edge/")&&Lr(t,"chrome")&&Lr(t,"safari")&&Lr(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ts],search:function(t){return Lr(t,"chrome")&&!Lr(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Lr(t,"msie")||Lr(t,"trident")}},{name:"Opera",versionRegexes:[Ts,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Va("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Va("firefox")},{name:"Safari",versionRegexes:[Ts,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Lr(t,"safari")||Lr(t,"mobile/"))&&Lr(t,"applewebkit")}}],$i=[{name:"Windows",search:Va("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Lr(t,"iphone")||Lr(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Va("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Va("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Va("linux"),versionRegexes:[]},{name:"Solaris",search:Va("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Va("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Va("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ji={browsers:ve(Gc),oses:ve($i)},ha="Edge",qc="Chrome",Kc="IE",bc="Opera",El="Firefox",Es="Safari",Qu=function(){return kl({current:void 0,version:xs.unknown()})},kl=function(t){var r=t.current,o=t.version,s=function(v){return function(){return r===v}};return{current:r,version:o,isEdge:s(ha),isChrome:s(qc),isIE:s(Kc),isOpera:s(bc),isFirefox:s(El),isSafari:s(Es)}},Nu={unknown:Qu,nu:kl,edge:ve(ha),chrome:ve(qc),ie:ve(Kc),opera:ve(bc),firefox:ve(El),safari:ve(Es)},Qi="Windows",V="iOS",se="Android",we="Linux",Ve="OSX",ht="Solaris",tn="FreeBSD",Nr="ChromeOS",Qr=function(){return Kn({current:void 0,version:xs.unknown()})},Kn=function(t){var r=t.current,o=t.version,s=function(v){return function(){return r===v}};return{current:r,version:o,isWindows:s(Qi),isiOS:s(V),isAndroid:s(se),isOSX:s(Ve),isLinux:s(we),isSolaris:s(ht),isFreeBSD:s(tn),isChromeOS:s(Nr)}},ka={unknown:Qr,nu:Kn,windows:ve(Qi),ios:ve(V),android:ve(se),linux:ve(we),osx:ve(Ve),solaris:ve(ht),freebsd:ve(tn),chromeos:ve(Nr)},Ra=function(t,r,o){var s=Ji.browsers(),v=Ji.oses(),m=r.bind(function(S){return mf(s,S)}).orThunk(function(){return fr(s,t)}).fold(Nu.unknown,Nu.nu),p=Tl(v,t).fold(ka.unknown,ka.nu),w=Ss(p,m,t,o);return{browser:m,os:p,deviceType:w}},yc={detect:Ra},ti=function(t){return window.matchMedia(t).matches},Xs=Po(function(){return yc.detect(navigator.userAgent,A.from(navigator.userAgentData),ti)}),hn=function(){return Xs()},iv=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},td=function(t,r){return iv(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},Dr=function(t,r){var o=t.dom;if(o.nodeType!==jt)return!1;var s=o;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},nd=function(t){return t.nodeType!==jt&&t.nodeType!==ke&&t.nodeType!==Tt||t.childElementCount===0},uv=function(t,r){var o=r===void 0?document:r.dom;return nd(o)?[]:ut(o.querySelectorAll(t),ne.fromDom)},th=function(t,r){var o=r===void 0?document:r.dom;return nd(o)?A.none():A.from(o.querySelector(t)).map(ne.fromDom)},oa=function(t,r){return t.dom===r.dom},es=function(t,r){var o=t.dom,s=r.dom;return o===s?!1:o.contains(s)},nh=function(t,r){return td(t.dom,r.dom)},ks=function(t,r){return hn().browser.isIE()?nh(t,r):es(t,r)},vo=function(t){return ne.fromDom(t.dom.ownerDocument)},Xc=function(t){return Pa(t)?t:vo(t)},ze=function(t){return ne.fromDom(Xc(t).dom.documentElement)},gf=function(t){return ne.fromDom(Xc(t).dom.defaultView)},oo=function(t){return A.from(t.dom.parentNode).map(ne.fromDom)},lm=function(t){return oo(t)},Yc=function(t){return A.from(t.dom.offsetParent).map(ne.fromDom)},R=function(t){return A.from(t.dom.nextSibling).map(ne.fromDom)},B=function(t){return ut(t.dom.childNodes,ne.fromDom)},te=function(t,r){var o=t.dom.childNodes;return A.from(o[r]).map(ne.fromDom)},Ae=function(t){return te(t,0)},Ht=function(t,r){return{element:t,offset:r}},Pn=function(t,r){var o=B(t);return o.length>0&&r<o.length?Ht(o[r],0):Ht(t,r)},Rr=function(t){return Ju(t)&&it(t.dom.host)},bi=Zt(Element.prototype.attachShadow)&&Zt(Node.prototype.getRootNode),As=ve(bi),qo=bi?function(t){return ne.fromDom(t.dom.getRootNode())}:Xc,Fo=function(t){return Rr(t)?t:ne.fromDom(Xc(t).dom.body)},Al=function(t){return fm(t).isSome()},fm=function(t){var r=qo(t);return Rr(r)?A.some(r):A.none()},Ys=function(t){return ne.fromDom(t.dom.host)},pa=function(t){if(As()&&it(t.target)){var r=ne.fromDom(t.target);if(hr(r)&&vm(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return ta(o)}}return A.from(t.target)},vm=function(t){return it(t.dom.shadowRoot)},io=function(t){var r=Ya(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return fm(ne.fromDom(r)).fold(function(){return o.body.contains(r)},dn(io,Ys))},ni=function(){return uo(ne.fromDom(document))},uo=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return ne.fromDom(r)},Ol=function(t,r,o){if(Fn(o)||en(o)||er(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},Vn=function(t,r,o){Ol(t.dom,r,o)},ts=function(t,r){var o=t.dom;aa(r,function(s,v){Ol(o,v,s)})},_a=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Ua=function(t,r){return A.from(_a(t,r))},Wp=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},ri=function(t,r){t.dom.removeAttribute(r)},rh=function(t,r,o){if(!Fn(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Mu(t)&&t.style.setProperty(r,o)},Cc=function(t,r){Mu(t)&&t.style.removeProperty(r)},xn=function(t,r,o){var s=t.dom;rh(s,r,o)},ns=function(t,r){var o=t.dom;aa(r,function(s,v){rh(o,v,s)})},Za=function(t,r){var o=t.dom;aa(r,function(s,v){s.fold(function(){Cc(o,v)},function(m){rh(o,v,m)})})},Ja=function(t,r){var o=t.dom,s=window.getComputedStyle(o),v=s.getPropertyValue(r);return v===""&&!io(t)?Io(o,r):v},Io=function(t,r){return Mu(t)?t.style.getPropertyValue(r):""},wo=function(t,r){var o=t.dom,s=Io(o,r);return A.from(s).filter(function(v){return v.length>0})},hf=function(t){var r={},o=t.dom;if(Mu(o))for(var s=0;s<o.style.length;s++){var v=o.style.item(s);r[v]=o.style[v]}return r},Os=function(t,r,o){var s=ne.fromTag(t);xn(s,r,o);var v=wo(s,r);return v.isSome()},Pr=function(t,r){var o=t.dom;Cc(o,r),gi(Ua(t,"style").map(hi),"")&&ri(t,"style")},Aa=function(t){return t.dom.offsetWidth},eu=function(t,r){var o=function(w,S){if(!er(S)&&!S.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+S);var T=w.dom;Mu(T)&&(T.style[t]=S+"px")},s=function(w){var S=r(w);if(S<=0||S===null){var T=Ja(w,t);return parseFloat(T)||0}return S},v=s,m=function(w,S){return Ee(S,function(T,D){var _=Ja(w,D),z=_===void 0?0:parseInt(_,10);return isNaN(z)?T:T+z},0)},p=function(w,S,T){var D=m(w,T),_=S>D?S-D:0;return _};return{set:o,get:s,getOuter:v,aggregate:m,max:p}},Zc=eu("height",function(t){var r=t.dom;return io(t)?r.getBoundingClientRect().height:r.offsetHeight}),Oo=function(t){return Zc.get(t)},rs=function(t){return Zc.getOuter(t)},jp=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=Zc.max(t,r,o);xn(t,"max-height",s+"px")},pf=function(t,r){var o=function(s,v){return pf(t+s,r+v)};return{left:t,top:r,translate:o}},fa=pf,Zs=function(t){var r=t.getBoundingClientRect();return fa(r.left,r.top)},Dl=function(t,r){return t!==void 0?t:r!==void 0?r:0},du=function(t){var r=t.dom.ownerDocument,o=r.body,s=r.defaultView,v=r.documentElement;if(o===t.dom)return fa(o.offsetLeft,o.offsetTop);var m=Dl(s==null?void 0:s.pageYOffset,v.scrollTop),p=Dl(s==null?void 0:s.pageXOffset,v.scrollLeft),w=Dl(v.clientTop,o.clientTop),S=Dl(v.clientLeft,o.clientLeft);return so(t).translate(p-S,m-w)},so=function(t){var r=t.dom,o=r.ownerDocument,s=o.body;return s===r?fa(s.offsetLeft,s.offsetTop):io(t)?Zs(r):fa(0,0)},Rl=eu("width",function(t){return t.dom.offsetWidth}),Jc=function(t,r){return Rl.set(t,r)},Li=function(t){return Rl.get(t)},mu=function(t){return Rl.getOuter(t)},yi=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Rl.max(t,r,o);xn(t,"max-width",s+"px")},sv=function(t,r,o,s,v,m,p){return{target:t,x:r,y:o,stop:s,prevent:v,kill:m,raw:p}},Js=function(t){var r=ne.fromDom(pa(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},v=vt(s,o);return sv(r,t.clientX,t.clientY,o,s,v,t)},zo=function(t,r){return function(o){t(o)&&r(Js(o))}},rd=function(t,r,o,s,v){var m=zo(o,s);return t.dom.addEventListener(r,m,v),{unbind:Tr(yf,t,r,m,v)}},Gp=function(t,r,o,s){return rd(t,r,o,s,!1)},bf=function(t,r,o,s){return rd(t,r,o,s,!0)},yf=function(t,r,o,s){t.dom.removeEventListener(r,o,s)},Qa=function(t,r){var o=oo(t);o.each(function(s){s.dom.insertBefore(r.dom,t.dom)})},Cf=function(t,r){var o=R(t);o.fold(function(){var s=oo(t);s.each(function(v){Hi(v,r)})},function(s){Qa(s,r)})},wf=function(t,r){var o=Ae(t);o.fold(function(){Hi(t,r)},function(s){t.dom.insertBefore(r.dom,s.dom)})},Hi=function(t,r){t.dom.appendChild(r.dom)},Qc=function(t,r,o){te(t,o).fold(function(){Hi(t,r)},function(s){Qa(s,r)})},Sf=function(t,r){Ut(r,function(o){Qa(t,o)})},el=function(t,r){Ut(r,function(o){Hi(t,o)})},za=function(t){t.dom.textContent="",Ut(B(t),function(r){Pu(r)})},Pu=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},dm=function(t){var r=B(t);r.length>0&&Sf(t,r),Pu(t)},as=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return fa(o,s)},mm=function(t,r,o){var s=o!==void 0?o.dom:document,v=s.defaultView;v&&v.scrollTo(t,r)},qp=function(t){var r=t===void 0?window:t;return hn().browser.isFirefox()?A.none():A.from(r.visualViewport)},ah=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},xf=function(t){var r=t===void 0?window:t,o=r.document,s=as(ne.fromDom(o));return qp(r).fold(function(){var v=r.document.documentElement,m=v.clientWidth,p=v.clientHeight;return ah(s.left,s.top,m,p)},function(v){return ah(Math.max(v.pageLeft,s.left),Math.max(v.pageTop,s.top),v.width,v.height)})},Tf=function(t,r){var o=t.view(r);return o.fold(ve([]),function(s){var v=t.owner(s),m=Tf(t,v);return[s].concat(m)})},_l=function(t,r){var o=r.owner(t),s=Tf(r,o);return A.some(s)},En=function(t){var r,o=t.dom===document?A.none():A.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(ne.fromDom)},Ds=function(t){return vo(t)},gu=Object.freeze({__proto__:null,view:En,owner:Ds}),Vi=function(t){var r=ne.fromDom(document),o=as(r),s=_l(t,gu);return s.fold(Tr(du,t),function(v){var m=so(t),p=be(v,function(w,S){var T=so(S);return{left:w.left+T.left,top:w.top+T.top}},{left:0,top:0});return fa(p.left+m.left+o.left,p.top+m.top+o.top)})},Rs=function(t,r,o){return{point:t,width:r,height:o}},mo=function(t,r,o,s){return{x:t,y:r,width:o,height:s}},$o=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},So=function(t){var r=du(t),o=mu(t),s=rs(t);return $o(r.left,r.top,o,s)},Bl=function(t){var r=Vi(t),o=mu(t),s=rs(t);return $o(r.left,r.top,o,s)},Ci=function(){return xf(window)},Vt=function(t){var r=function(_){return Vt(t)},o=function(_){return Vt(t)},s=function(_){return Vt(_(t))},v=function(_){return Vt(t)},m=function(_){_(t)},p=function(_){return _(t)},w=function(_,z){return z(t)},S=function(_){return _(t)},T=function(_){return _(t)},D=function(){return A.some(t)};return{isValue:Qe,isError:Bt,getOr:ve(t),getOrThunk:ve(t),getOrDie:ve(t),or:r,orThunk:o,fold:w,map:s,mapError:v,each:m,bind:p,exists:S,forall:T,toOptional:D}},Ef=function(t){var r=function(T){return T()},o=function(){return Ie(String(t))()},s=Lt,v=function(T){return T()},m=function(T){return Ef(t)},p=function(T){return Ef(T(t))},w=function(T){return Ef(t)},S=function(T,D){return T(t)};return{isValue:Bt,isError:Qe,getOr:Lt,getOrThunk:r,getOrDie:o,or:s,orThunk:v,fold:S,map:m,mapError:p,each:Ye,bind:w,exists:Bt,forall:Qe,toOptional:A.none}},oh=function(t,r){return t.fold(function(){return Ef(r)},Vt)},Un={value:Vt,error:Ef,fromOption:oh},va;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(va||(va={}));var gm=function(t,r,o){return t.stype===va.Error?r(t.serror):o(t.svalue)},wc=function(t){var r=[],o=[];return Ut(t,function(s){gm(s,function(v){return o.push(v)},function(v){return r.push(v)})}),{values:r,errors:o}},Ba=function(t,r){return t.stype===va.Error?{stype:va.Error,serror:r(t.serror)}:t},hm=function(t,r){return t.stype===va.Value?{stype:va.Value,svalue:r(t.svalue)}:t},Fu=function(t,r){return t.stype===va.Value?r(t.svalue):t},ad=function(t,r){return t.stype===va.Error?r(t.serror):t},Xn=function(t){return{stype:va.Value,svalue:t}},tu=function(t){return{stype:va.Error,serror:t}},Pb=function(t){return gm(t,Un.error,Un.value)},Fb=function(t){return t.fold(tu,Xn)},$a={fromResult:Fb,toResult:Pb,svalue:Xn,partition:wc,serror:tu,bind:Fu,bindError:ad,map:hm,mapError:Ba,fold:gm},pm=function(t,r,o,s){return{tag:"field",key:t,newKey:r,presence:o,prop:s}},E=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},P=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},$=function(t,r){return r},Q=function(t,r){var o=Wr(t)&&Wr(r);return o?Fe(t,r):r},pe=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},v=0;v<r.length;v++){var m=r[v];for(var p in m)wr(m,p)&&(s[p]=t(s[p],m[p]))}return s}},Fe=pe(Q),Jt=pe($),Bn=function(){return{tag:"required",process:{}}},vr=function(t){return{tag:"defaultedThunk",process:t}},Yn=function(t){return vr(ve(t))},ba=function(){return{tag:"option",process:{}}},wi=function(t){return{tag:"mergeWithThunk",process:t}},eo=function(t){return wi(ve(t))},d3=function(t,r){return t.length>0?$a.svalue(Fe(r,Jt.apply(void 0,t))):$a.svalue(r)},jC=function(t){return vt($a.serror,xt)(t)},GC=function(t,r){var o=$a.partition(t);return o.errors.length>0?jC(o.errors):d3(o.values,r)},m3=function(t){var r=$a.partition(t);return r.errors.length>0?jC(r.errors):$a.svalue(r.values)},tl={consolidateObj:GC,consolidateArr:m3},ih=function(t){return Wr(t)&&la(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Iu=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ve("... (only showing first ten failures)")}]):t;return ut(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},bm=function(t,r){return $a.serror([{path:t,getErrorInfo:r}])},Ib=function(t,r,o){return bm(t,function(){return'Could not find valid *required* value for "'+r+'" in '+ih(o)})},uh=function(t,r){return bm(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},Kp=function(t,r,o){return bm(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+ih(r)})},qC=function(t,r){return bm(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},g3=function(t,r){return bm(t,ve(r))},nl=function(t){var r=function(s,v){return $a.bindError(t(v),function(m){return g3(s,m)})},o=ve("val");return{extract:r,toString:o}},sh=nl($a.svalue),h3=function(t,r,o,s){return rn(r,o).fold(function(){return Ib(t,o,r)},s)},zb=function(t,r,o,s){var v=rn(t,r).getOrThunk(function(){return o(t)});return s(v)},p3=function(t,r,o){return o(rn(t,r))},b3=function(t,r,o,s){var v=rn(t,r).map(function(m){return m===!0?o(t):m});return s(v)},ym=function(t,r,o,s,v){var m=function(w){return v.extract(r.concat([s]),w)},p=function(w){return w.fold(function(){return $a.svalue(A.none())},function(S){var T=v.extract(r.concat([s]),S);return $a.map(T,A.some)})};switch(t.tag){case"required":return h3(r,o,s,m);case"defaultedThunk":return zb(o,s,t.process,m);case"option":return p3(o,s,p);case"defaultedOptionThunk":return b3(o,s,t.process,p);case"mergeWithThunk":return zb(o,s,ve({}),function(w){var S=Fe(t.process(o),w);return m(S)})}},ch=function(t,r,o){for(var s={},v=[],m=0,p=o;m<p.length;m++){var w=p[m];P(w,function(S,T,D,_){var z=ym(D,t,r,S,_);$a.fold(z,function(H){v.push.apply(v,H)},function(H){s[T]=H})},function(S,T){s[S]=T(r)})}return v.length>0?$a.serror(v):$a.svalue(s)},KC=function(t){var r=function(s,v){return t().extract(s,v)},o=function(){return t().toString()};return{extract:r,toString:o}},XC=function(t){return la(zt(t,it))},os=function(t){var r=sn(t),o=be(t,function(v,m){return P(m,function(p){var w;return Fe(v,(w={},w[p]=!0,w))},ve(v))},{}),s=function(v,m){var p=en(m)?[]:XC(m),w=We(p,function(S){return!Ea(o,S)});return w.length===0?r.extract(v,m):qC(v,w)};return{extract:s,toString:r.toString}},sn=function(t){var r=function(s,v){return ch(s,v,t)},o=function(){var s=ut(t,function(v){return P(v,function(m,p,w,S){return m+" -> "+S.toString()},function(m,p){return"state("+m+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:o}},kf=function(t){var r=function(s,v){var m=ut(v,function(p,w){return t.extract(s.concat(["["+w+"]"]),p)});return tl.consolidateArr(m)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},lh=function(t){var r=function(s,v){for(var m=[],p=0,w=t;p<w.length;p++){var S=w[p],T=S.extract(s,v);if(T.stype===va.Value)return T;m.push(T)}return tl.consolidateArr(m)},o=function(){return"oneOf("+ut(t,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:o}},cv=function(t,r){var o=function(m,p){return kf(nl(t)).extract(m,p)},s=function(m,p){var w=la(p),S=o(m,w);return $a.bind(S,function(T){var D=ut(T,function(_){return pm(_,_,Bn(),r)});return sn(D).extract(m,p)})},v=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:v}},Cm=function(t,r){var o=Po(r),s=function(m,p){return o().extract(m,p)},v=function(){return o().toString()};return{extract:s,toString:v}},$b=vt(kf,sn),Sc=ve(sh),od=function(t,r){return nl(function(o){var s=typeof o;return t(o)?$a.svalue(o):$a.serror("Expected type: "+r+" but got: "+s)})},wm=od(er,"number"),go=od(Fn,"string"),ai=od(en,"boolean"),fh=od(Zt,"function"),Ml=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return Ml(t[r])});default:return!1}},vh=nl(function(t){return Ml(t)?$a.svalue(t):$a.serror("Expected value to be acceptable for sending via postMessage")}),Xp=function(t,r,o,s){var v=rn(o,s);return v.fold(function(){return Kp(t,o,s)},function(m){return m.extract(t.concat(["branch: "+s]),r)})},Yp=function(t,r){var o=function(v,m){var p=rn(m,t);return p.fold(function(){return uh(v,t)},function(w){return Xp(v,m,r,w)})},s=function(){return"chooseOn("+t+"). Possible values: "+la(r)};return{extract:o,toString:s}},y3=function(){return kf(sh)},Sm=function(t){return nl(function(r){return t(r).fold($a.serror,$a.svalue)})},Ui=function(t,r){return cv(function(o){return $a.fromResult(t(o))},r)},YC=function(t,r,o){var s=r.extract([t],o);return $a.mapError(s,function(v){return{input:o,errors:v}})},Wa=function(t,r,o){return $a.toResult(YC(t,r,o))},xc=function(t){return t.fold(function(r){throw new Error(lv(r))},Lt)},Xr=function(t,r,o){return xc(Wa(t,r,o))},lv=function(t){return`Errors: 
`+Iu(t.errors).join(`
`)+`

Input object: `+ih(t.input)},Qs=function(t,r){return Yp(t,Br(r,sn))},C3=function(t,r){return Cm(t,r)},Lo=pm,hu=E,ZC=function(t){return Sm(function(r){return In(t,r)?Un.value(r):Un.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},Ue=function(t){return Lo(t,t,Bn(),Sc())},zu=function(t,r){return Lo(t,t,Bn(),r)},Af=function(t){return zu(t,wm)},kn=function(t){return zu(t,go)},_s=function(t,r){return Lo(t,t,Bn(),ZC(r))},w3=function(t){return zu(t,ai)},nu=function(t){return zu(t,fh)},xm=function(t,r){return Lo(t,t,ba(),nl(function(o){return $a.serror("The field: "+t+" is forbidden. "+r)}))},Nl=function(t,r){return Lo(t,t,Bn(),sn(r))},Tc=function(t,r){return Lo(t,t,Bn(),$b(r))},Wi=function(t,r){return Lo(t,t,Bn(),kf(r))},Fr=function(t){return Lo(t,t,ba(),Sc())},rl=function(t,r){return Lo(t,t,ba(),r)},id=function(t){return rl(t,wm)},Sa=function(t){return rl(t,go)},fv=function(t){return rl(t,fh)},is=function(t,r){return rl(t,kf(r))},us=function(t,r){return rl(t,sn(r))},S3=function(t,r){return rl(t,os(r))},me=function(t,r){return Lo(t,t,Yn(r),Sc())},pu=function(t,r,o){return Lo(t,t,Yn(r),o)},$u=function(t,r){return pu(t,r,wm)},Tm=function(t,r){return pu(t,r,go)},Bs=function(t,r,o){return pu(t,r,ZC(o))},da=function(t,r){return pu(t,r,ai)},xa=function(t,r){return pu(t,r,fh)},Lu=function(t,r){return pu(t,r,vh)},Of=function(t,r,o){return pu(t,r,kf(o))},Lb=function(t,r,o){return pu(t,r,sn(o))},pn=function(t){var r=t,o=function(){return r},s=function(v){r=v};return{get:o,set:s}},Zp=function(t){if(!tr(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return Ut(t,function(s,v){var m=la(s);if(m.length!==1)throw new Error("one and only one name per case");var p=m[0],w=s[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!tr(w))throw new Error("case arguments must be an array");r.push(p),o[p]=function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];var D=S.length;if(D!==w.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+w.length+" ("+w+"), got "+D);var _=function(z){var H=la(z);if(r.length!==H.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+H.join(","));var j=rr(r,function(ee){return In(H,ee)});if(!j)throw new Error("Not all branches were specified when using match. Specified: "+H.join(", ")+`
Required: `+r.join(", "));return z[p].apply(null,S)};return{fold:function(){for(var z=[],H=0;H<arguments.length;H++)z[H]=arguments[H];if(z.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+z.length);var j=z[v];return j.apply(null,S)},match:_,log:function(z){console.log(z,{constructors:r,constructor:p,params:S})}}}}),o},Ms={generate:Zp};Ms.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var JC=function(t){var r=[],o=[];return Ut(t,function(s){s.fold(function(v){r.push(v)},function(v){o.push(v)})}),{errors:r,values:o}},dh=function(t,r){var o={};return aa(t,function(s,v){In(r,v)||(o[v]=s)}),o},mh=function(t,r){var o;return o={},o[t]=r,o},Hb=function(t){var r={};return Ut(t,function(o){r[o.key]=o.value}),r},Vb=function(t,r){return dh(t,r)},Pl=function(t,r){return mh(t,r)},Df=function(t){return Hb(t)},x3=function(t,r){return t.length===0?Un.value(r):Un.value(Fe(r,Jt.apply(void 0,t)))},Ub=function(t){return Un.error(xt(t))},T3=function(t,r){var o=JC(t);return o.errors.length>0?Ub(o.errors):x3(o.values,r)},QC=function(t){return Zt(t)?t:Bt},gh=function(t,r,o){for(var s=t.dom,v=QC(o);s.parentNode;){s=s.parentNode;var m=ne.fromDom(s),p=r(m);if(p.isSome())return p;if(v(m))break}return A.none()},Em=function(t,r,o){var s=r(t),v=QC(o);return s.orThunk(function(){return v(t)?A.none():gh(t,r,v)})},ew=function(t,r){return oa(t.element,r.event.target)},Fl={can:Qe,abort:Bt,run:Ye},km=function(t){if(!Ea(t,"can")&&!Ea(t,"abort")&&!Ea(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return oe(oe({},Fl),t)},Wb=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Ee(t,function(v,m){return v&&r(m).apply(void 0,o)},!0)}},tw=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Ee(t,function(v,m){return v||r(m).apply(void 0,o)},!1)}},E3=function(t){return Zt(t)?{can:Qe,abort:Bt,run:t}:t},k3=function(t){var r=Wb(t,function(v){return v.can}),o=tw(t,function(v){return v.abort}),s=function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];Ut(t,function(p){p.run.apply(void 0,v)})};return{can:r,abort:o,run:s}},Do=ve,Il=Do("touchstart"),Ec=Do("touchmove"),vv=Do("touchend"),nw=Do("touchcancel"),kc=Do("mousedown"),ud=Do("mousemove"),jb=Do("mouseout"),Gb=Do("mouseup"),Rf=Do("mouseover"),ec=Do("focusin"),Si=Do("focusout"),Jp=Do("keydown"),qb=Do("keyup"),sd=Do("input"),Am=Do("change"),Om=Do("click"),A3=Do("transitioncancel"),Dm=Do("transitionend"),Kb=Do("transitionstart"),O3=Do("selectstart"),to=function(t){return ve("alloy."+t)},Qp={tap:to("tap")},dv=to("focus"),Xb=to("blur.post"),Yb=to("paste.post"),tc=to("receive"),Ns=to("execute"),cd=to("focus.item"),mv=Qp.tap,e1=to("longpress"),hh=to("sandbox.close"),Zb=to("typeahead.cancel"),ld=to("system.init"),t1=to("system.touchmove"),D3=to("system.touchend"),Jb=to("system.scroll"),Ps=to("system.resize"),ss=to("system.attached"),Rm=to("system.detached"),Ac=to("system.dismissRequested"),ji=to("system.repositionRequested"),n1=to("focusmanager.shifted"),_f=to("slotcontainer.visibility"),rw=to("change.tab"),xi=to("dismiss.tab"),Qb=to("highlight"),r1=to("dehighlight"),_r=function(t,r){Oc(t,t.element,r,{})},bn=function(t,r,o){Oc(t,t.element,r,o)},Fs=function(t){_r(t,Ns())},a1=function(t,r,o){Oc(t,r,o,{})},Oc=function(t,r,o,s){var v=oe({target:r},s);t.getSystem().triggerEvent(o,r,v)},aw=function(t,r,o,s){t.getSystem().triggerEvent(o,r,s.event)},ma=function(t){return Df(t)},ey=function(t,r){return{key:t,value:km({abort:r})}},o1=function(t,r){return{key:t,value:km({can:r})}},i1=function(t){return{key:t,value:km({run:function(r,o){o.event.prevent()}})}},Xe=function(t,r){return{key:t,value:km({run:r})}},ty=function(t,r,o){return{key:t,value:km({run:function(s,v){r.apply(void 0,[s,v].concat(o))}})}},ny=function(t){return function(r){return Xe(t,r)}},gv=function(t){return function(r){return{key:t,value:km({run:function(o,s){ew(o,s)&&r(o,s)}})}}},ph=function(t,r){return Xe(t,function(o,s){o.getSystem().getByUid(r).each(function(v){aw(v,v.element,t,s)})})},fd=function(t,r,o){var s=r.partUids[o];return ph(t,s)},hv=function(t,r){return Xe(t,function(o,s){var v=s.event,m=o.getSystem().getByDom(v.target).getOrThunk(function(){var p=Em(v.target,function(w){return o.getSystem().getByDom(w).toOptional()},Bt);return p.getOr(o)});r(o,m,s)})},vd=function(t){return Xe(t,function(r,o){o.cut()})},_m=function(t){return Xe(t,function(r,o){o.stop()})},xo=function(t,r){return gv(t)(r)},zn=gv(ss()),Is=gv(Rm()),ow=gv(ld()),cs=ny(Ns()),ry=function(t,r){var o=r||document,s=o.createElement("div");return s.innerHTML=t,B(ne.fromDom(s))},zl=function(t){return t.dom.innerHTML},Bf=function(t,r){var o=vo(t),s=o.dom,v=ne.fromDom(s.createDocumentFragment()),m=ry(r,s);el(v,m),za(t),Hi(t,v)},Mf=function(t){var r=ne.fromTag("div"),o=ne.fromDom(t.dom.cloneNode(!0));return Hi(r,o),zl(r)},zs=function(t,r){return ne.fromDom(t.dom.cloneNode(r))},pv=function(t){return zs(t,!1)},Ko=function(t){if(Rr(t))return"#shadow-root";var r=pv(t);return Mf(r)},bu=function(t){return Ko(t)},$l=function(t,r,o){return oa(r,t.element)&&!oa(r,o)},bv=ma([o1(dv(),function(t,r){var o=r.event,s=o.originator,v=o.target;return $l(t,s,v)?(console.warn(dv()+` did not get interpreted by the desired target. 
Originator: `+bu(s)+`
Target: `+bu(v)+`
Check the `+dv()+" event handlers"),!1):!0})]),Bm=Object.freeze({__proto__:null,events:bv}),dd=0,qt=function(t){var r=new Date,o=r.getTime(),s=Math.floor(Math.random()*1e9);return dd++,t+"_"+s+dd+String(o)},oi=ve("alloy-id-"),al=ve("data-alloy-id"),Ll=oi(),bh=al(),iw=function(t,r){var o=qt(Ll+t);return u1(r,o),o},u1=function(t,r){Object.defineProperty(t.dom,bh,{value:r,writable:!0})},yv=function(t){var r=hr(t)?t.dom[bh]:null;return A.from(r)},Cv=function(t){return qt(t)},Mm=Lt,yh=function(t){var r=function(v){return"The component must be in a context to execute: "+v+(t?`
`+bu(t().element)+" is not in context.":"")},o=function(v){return function(){throw new Error(r(v))}},s=function(v){return function(){console.warn(r(v))}};return{debugInfo:ve("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:Bt}},R3=yh(),$s=function(t,r,o){var s=o.toString(),v=s.indexOf(")")+1,m=s.indexOf("("),p=s.substring(m+1,v-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:ay(p.slice(0,1).concat(p.slice(3)))}},t},ay=function(t){return ut(t,function(r){return gn(r,"/*")?r.substring(0,r.length-2):r})},md=function(t,r){var o=t.toString(),s=o.indexOf(")")+1,v=o.indexOf("("),m=o.substring(v+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:ay(m)}},t},wv=function(t,r){var o=r.toString(),s=o.indexOf(")")+1,v=o.indexOf("("),m=o.substring(v+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ay(m.slice(1))}},t},oy=qt("alloy-premade"),Sv=function(t){return Pl(oy,t)},uw=function(t){return rn(t,oy)},ja=function(t){return wv(function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,mt([r.getApis(),r],o,!1))},t)},Ti={init:function(){return Gi({readState:ve("No State required")})}},Gi=function(t){return t},sw=function(t,r){var o=ut(r,function(v){return us(v.name(),[Ue("config"),me("state",Ti)])}),s=Wa("component.behaviours",sn(o),t.behaviours).fold(function(v){throw new Error(lv(v)+`
Complete spec:
`+JSON.stringify(t,null,2))},Lt);return{list:r,data:Br(s,function(v){var m=v.map(function(p){return{config:p.config,state:p.state.init(p.config)}});return ve(m)})}},s1=function(t){return t.list},_3=function(t){return t.data},cw=function(t,r){var o={};return aa(t,function(s,v){aa(s,function(m,p){var w=rn(o,p).getOr([]);o[p]=w.concat([r(v,m)])})}),o},Dc=function(t){return{classes:wa(t.classes)?[]:t.classes,attributes:wa(t.attributes)?{}:t.attributes,styles:wa(t.styles)?{}:t.styles}},B3=function(t,r){return oe(oe({},t),{attributes:oe(oe({},t.attributes),r.attributes),styles:oe(oe({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},Nm=function(t,r,o,s){var v=oe({},r);Ut(o,function(D){v[D.name()]=D.exhibit(t,s)});var m=cw(v,function(D,_){return{name:D,modification:_}}),p=function(D){return be(D,function(_,z){return oe(oe({},z.modification),_)},{})},w=be(m.classes,function(D,_){return _.modification.concat(D)},[]),S=p(m.attributes),T=p(m.styles);return Dc({classes:w,attributes:S,styles:T})},c1=function(t,r,o,s){try{var v=Pi(o,function(m,p){var w=m[r],S=p[r],T=s.indexOf(w),D=s.indexOf(S);if(T===-1)throw new Error("The ordering for "+t+" does not have an entry for "+w+`.
Order specified: `+JSON.stringify(s,null,2));if(D===-1)throw new Error("The ordering for "+t+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(s,null,2));return T<D?-1:D<T?1:0});return Un.value(v)}catch(m){return Un.error([m])}},M3=function(t,r){return{handler:t,purpose:r}},lw=function(t,r){return{cHandler:t,purpose:r}},iy=function(t,r){return lw(Tr.apply(void 0,[t.handler].concat(r)),t.purpose)},uy=function(t){return t.cHandler},sy=function(t,r){return{name:t,handler:r}},N3=function(t,r){var o={};return Ut(t,function(s){o[s.name()]=s.handlers(r)}),o},xv=function(t,r,o){var s=oe(oe({},o),N3(r,t));return cw(s,sy)},Tv=function(t,r,o,s){var v=xv(t,o,s);return fw(v,r)},ia=function(t){var r=E3(t);return function(o,s){for(var v=[],m=2;m<arguments.length;m++)v[m-2]=arguments[m];var p=[o,s].concat(v);r.abort.apply(void 0,p)?s.stop():r.can.apply(void 0,p)&&r.run.apply(void 0,p)}},l1=function(t,r){return Un.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(ut(r,function(o){return o.name}),null,2)])},ol=function(t,r,o){var s=r[o];return s?c1("Event: "+o,"name",t,s).map(function(v){var m=ut(v,function(p){return p.handler});return k3(m)}):l1(o,t)},fw=function(t,r){var o=gr(t,function(s,v){var m=s.length===1?Un.value(s[0].handler):ol(s,r,v);return m.map(function(p){var w=ia(p),S=s.length>1?We(r[v],function(T){return Jr(s,function(D){return D.name===T})}).join(" > "):s[0].name;return Pl(v,M3(w,S))})});return T3(o,{})},il,Hl="alloy.base.behaviour",Ev=sn([Lo("dom","dom",Bn(),sn([Ue("tag"),me("styles",{}),me("classes",[]),me("attributes",{}),Fr("value"),Fr("innerHtml")])),Ue("components"),Ue("uid"),me("events",{}),me("apis",{}),Lo("eventOrder","eventOrder",eo((il={},il[Ns()]=["disabling",Hl,"toggling","typeaheadevents"],il[dv()]=[Hl,"focusing","keying"],il[ld()]=[Hl,"disabling","toggling","representing"],il[sd()]=[Hl,"representing","streaming","invalidating"],il[Rm()]=[Hl,"representing","item-events","tooltipping"],il[kc()]=["focusing",Hl,"item-type-events"],il[Il()]=["focusing",Hl,"item-type-events"],il[Rf()]=["item-type-events","tooltipping"],il[tc()]=["receiving","reflecting","tooltipping"],il)),Sc()),Fr("domModification")]),f1=function(t){return Wa("custom.definition",Ev,t)},Ch=function(t){return oe(oe({},t.dom),{uid:t.uid,domChildren:ut(t.components,function(r){return r.element})})},v1=function(t){return t.domModification.fold(function(){return Dc({})},Dc)},d1=function(t){return t.events},gd=function(t,r){var o=_a(t,r);return o===void 0||o===""?[]:o.split(" ")},P3=function(t,r,o){var s=gd(t,r),v=s.concat([o]);return Vn(t,r,v.join(" ")),!0},m1=function(t,r,o){var s=We(gd(t,r),function(v){return v!==o});return s.length>0?Vn(t,r,s.join(" ")):ri(t,r),!1},Pm=function(t){return t.dom.classList!==void 0},wh=function(t){return gd(t,"class")},Sh=function(t,r){return P3(t,"class",r)},cy=function(t,r){return m1(t,"class",r)},Ho=function(t,r){Pm(t)?t.dom.classList.add(r):Sh(t,r)},hd=function(t){var r=Pm(t)?t.dom.classList:wh(t);r.length===0&&ri(t,"class")},Ro=function(t,r){if(Pm(t)){var o=t.dom.classList;o.remove(r)}else cy(t,r);hd(t)},yu=function(t,r){return Pm(t)&&t.dom.classList.contains(r)},pd=function(t,r){Ut(r,function(o){Ho(t,o)})},Ls=function(t,r){Ut(r,function(o){Ro(t,o)})},g1=function(t,r){return rr(r,function(o){return yu(t,o)})},Vl=function(t){return t.dom.value},Fm=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},Im=function(t){var r=ne.fromTag(t.tag);ts(r,t.attributes),pd(r,t.classes),ns(r,t.styles),t.innerHtml.each(function(s){return Bf(r,s)});var o=t.domChildren;if(el(r,o),t.value.each(function(s){Fm(r,s)}),!t.uid)debugger;return u1(r,t.uid),r},vw=function(t){var r=rn(t,"behaviours").getOr({});return Qn(la(r),function(o){var s=r[o];return it(s)?[s.me]:[]})},dw=function(t,r){return sw(t,r)},F3=function(t){var r=vw(t);return dw(t,r)},I3=function(t,r,o){var s=Ch(t),v=v1(t),m={"alloy.base.modification":v},p=r.length>0?Nm(o,m,r,s):v;return B3(s,p)},z3=function(t,r,o){var s={"alloy.base.behaviour":d1(t)};return Tv(o,t.eventOrder,r,s).getOrDie()},mw=function(t){var r=function(){return de},o=pn(R3),s=xc(f1(t)),v=F3(t),m=s1(v),p=_3(v),w=I3(s,m,p),S=Im(w),T=z3(s,m,p),D=pn(s.components),_=function(Re){o.set(Re)},z=function(){o.set(yh(r))},H=function(){var Re=B(S),De=Qn(Re,function(fe){return o.get().getByDom(fe).fold(function(){return[]},Yi)});D.set(De)},j=function(Re){var De=p,fe=Zt(De[Re.name()])?De[Re.name()]:function(){throw new Error("Could not find "+Re.name()+" in "+JSON.stringify(t,null,2))};return fe()},ee=function(Re){return Zt(p[Re.name()])},ce=function(){return s.apis},Y=function(Re){return p[Re]().map(function(De){return De.state.readState()}).getOr("not enabled")},de={uid:t.uid,getSystem:o.get,config:j,hasConfigured:ee,spec:t,readState:Y,getApis:ce,connect:_,disconnect:z,element:S,syncComponents:H,components:D.get,events:T};return de},h1=function(t){var r=rn(t,"components").getOr([]);return ut(r,Ma)},p1=function(t){var r=Mm(t),o=r.events,s=L(r,["events"]),v=h1(s),m=oe(oe({},s),{events:oe(oe({},Bm),o),components:v});return Un.value(mw(m))},Ei=function(t){var r=ne.fromText(t);return b1({element:r})},b1=function(t){var r=Xr("external.component",os([Ue("element"),Fr("uid")]),t),o=pn(yh()),s=function(w){o.set(w)},v=function(){o.set(yh(function(){return p}))},m=r.uid.getOrThunk(function(){return Cv("external")});u1(r.element,m);var p={uid:m,getSystem:o.get,config:A.none,hasConfigured:Bt,connect:s,disconnect:v,getApis:function(){return{}},element:r.element,spec:t,readState:ve("No state"),syncComponents:Ye,components:ve([]),events:{}};return Sv(p)},ly=Cv,nc=function(t){return wr(t,"uid")},Ma=function(t){return uw(t).getOrThunk(function(){var r=nc(t)?t:oe({uid:ly("")},t);return p1(r).getOrDie()})},Hs=Sv;function kv(t,r,o,s,v){return t(o,s)?A.some(o):Zt(v)&&v(o)?A.none():r(o,s,v)}var fy=function(t,r,o){for(var s=t.dom,v=Zt(o)?o:Bt;s.parentNode;){s=s.parentNode;var m=ne.fromDom(s);if(r(m))return A.some(m);if(v(m))break}return A.none()},y1=function(t,r,o){var s=function(v,m){return m(v)};return kv(s,fy,t,r,o)},gw=function(t,r){var o=function(v){return r(ne.fromDom(v))},s=Ct(t.dom.childNodes,o);return s.map(ne.fromDom)},Wn=function(t,r){var o=function(s){for(var v=0;v<s.childNodes.length;v++){var m=ne.fromDom(s.childNodes[v]);if(r(m))return A.some(m);var p=o(s.childNodes[v]);if(p.isSome())return p}return A.none()};return o(t.dom)},zm=function(t,r,o){return y1(t,r,o).isSome()},C1=function(t,r,o){return fy(t,function(s){return Dr(s,r)},o)},vy=function(t,r){return gw(t,function(o){return Dr(o,r)})},Vo=function(t,r){return th(r,t)},rc=function(t,r,o){var s=function(v,m){return Dr(v,m)};return kv(s,C1,t,r,o)},hw=function(t){var r=y1(t,function(o){if(!hr(o))return!1;var s=_a(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(o){var s=_a(o,"id"),v=qo(o);return Vo(v,'[aria-owns="'+s+'"]')})},bd=function(){var t=qt("aria-owns"),r=function(s){Vn(s,"aria-owns",t)},o=function(s){ri(s,"aria-owns")};return{id:t,link:r,unlink:o}},Oa=function(t,r){return hw(r).exists(function(o){return yd(t,o)})},yd=function(t,r){return zm(r,function(o){return oa(o,t.element)},Bt)||Oa(t,r)},w1="unknown",$m;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})($m||($m={}));var dy=pn({}),pw=function(t,r){var o=[],s=new Date().getTime();return{logEventCut:function(v,m,p){o.push({outcome:"cut",target:m,purpose:p})},logEventStopped:function(v,m,p){o.push({outcome:"stopped",target:m,purpose:p})},logNoParent:function(v,m,p){o.push({outcome:"no-parent",target:m,purpose:p})},logEventNoHandlers:function(v,m){o.push({outcome:"no-handlers-left",target:m})},logEventResponse:function(v,m,p){o.push({outcome:"response",purpose:p,target:m})},write:function(){var v=new Date().getTime();In(["mousemove","mouseover","mouseout",ld()],t)||console.log(t,{event:t,time:v-s,target:r.dom,sequence:ut(o,function(m){return In(["cut","stopped","response"],m.outcome)?"{"+m.purpose+"} "+m.outcome+" at ("+bu(m.target)+")":m.outcome})})}}},xh=function(t,r,o){var s=rn(dy.get(),t).orThunk(function(){var p=la(dy.get());return na(p,function(w){return t.indexOf(w)>-1?A.some(dy.get()[w]):A.none()})}).getOr($m.NORMAL);switch(s){case $m.NORMAL:return o($3());case $m.LOGGING:{var v=pw(t,r),m=o(v);return v.write(),m}case $m.STOP:return!0}},bw=["alloy/data/Fields","alloy/debugging/Debugging"],Nf=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return Ct(r,function(o){return o.indexOf("alloy")>0&&!Jr(bw,function(s){return o.indexOf(s)>-1})}).getOr(w1)}else return w1},Cu={logEventCut:Ye,logEventStopped:Ye,logNoParent:Ye,logEventNoHandlers:Ye,logEventResponse:Ye,write:Ye},my=function(t,r,o){return xh(t,r,o)},$3=ve(Cu),ul=ve([Ue("menu"),Ue("selectedMenu")]),Pf=ve([Ue("item"),Ue("selectedItem")]);ve(sn(Pf().concat(ul())));var S1=ve(sn(Pf())),L3=Nl("initSize",[Ue("numColumns"),Ue("numRows")]),H3=function(){return zu("markers",S1())},Cd=function(){return Nl("markers",[Ue("backgroundMenu")].concat(ul()).concat(Pf()))},wd=function(t){return Nl("markers",ut(t,Ue))},x1=function(t,r,o){return Nf(),Lo(r,r,o,Sm(function(s){return Un.value(function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];return s.apply(void 0,v)})}))},Ir=function(t){return x1("onHandler",t,Yn(Ye))},Uo=function(t){return x1("onKeyboardHandler",t,Yn(A.none))},wu=function(t){return x1("onHandler",t,Bn())},Hu=function(t){return x1("onKeyboardHandler",t,Bn())},ya=function(t,r){return hu(t,ve(r))},Av=function(t){return hu(t,Lt)},T1=ve(L3),Xo=function(t,r,o,s,v,m,p,w){return w===void 0&&(w=!1),{x:t,y:r,bubble:o,direction:s,placement:v,restriction:m,label:p+"-"+v,alwaysFit:w}},Ul=Ms.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),V3=function(t,r,o,s,v,m,p,w,S){return t.fold(r,o,s,v,m,p,w,S)},U3=function(t,r,o,s){return t.fold(r,r,s,s,r,s,o,o)},E1=function(t,r,o,s){return t.fold(r,s,r,s,o,o,r,s)},k1=Ul.southeast,gy=Ul.southwest,hy=Ul.northeast,Sd=Ul.northwest,Th=Ul.south,py=Ul.north,by=Ul.east,Lm=Ul.west,ki=function(t,r,o,s){var v=t+r;return v>s?o:v<o?s:v},ls=function(t,r,o){return Math.min(Math.max(t,r),o)},Eh=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Wo=function(t,r){return ko(["left","right","top","bottom"],function(o){return rn(r,o).map(function(s){return Eh(t,s)})})},A1=function(t,r,o){var s=function(S,T){return r[S].map(function(D){var _=S==="top"||S==="bottom",z=_?o.top:o.left,H=S==="left"||S==="top"?Math.max:Math.min,j=H(D,T)+z;return _?ls(j,t.y,t.bottom):ls(j,t.x,t.right)}).getOr(T)},v=s("left",t.x),m=s("top",t.y),p=s("right",t.right),w=s("bottom",t.bottom);return $o(v,m,p-v,w-m)},Ff="layout",yy=function(t){return t.x},Cy=function(t,r){return t.x+t.width/2-r.width/2},yw=function(t,r){return t.x+t.width-r.width},wy=function(t,r){return t.y-r.height},kh=function(t){return t.y+t.height},O1=function(t,r){return t.y+t.height/2-r.height/2},Cw=function(t){return t.x+t.width},W3=function(t,r){return t.x-r.width},qi=function(t,r,o){return Xo(yy(t),kh(t),o.southeast(),k1(),"southeast",Wo(t,{left:1,top:3}),Ff)},Yo=function(t,r,o){return Xo(yw(t,r),kh(t),o.southwest(),gy(),"southwest",Wo(t,{right:0,top:3}),Ff)},Su=function(t,r,o){return Xo(yy(t),wy(t,r),o.northeast(),hy(),"northeast",Wo(t,{left:1,bottom:2}),Ff)},xu=function(t,r,o){return Xo(yw(t,r),wy(t,r),o.northwest(),Sd(),"northwest",Wo(t,{right:0,bottom:2}),Ff)},Vu=function(t,r,o){return Xo(Cy(t,r),wy(t,r),o.north(),py(),"north",Wo(t,{bottom:2}),Ff)},_o=function(t,r,o){return Xo(Cy(t,r),kh(t),o.south(),Th(),"south",Wo(t,{top:3}),Ff)},D1=function(t,r,o){return Xo(Cw(t),O1(t,r),o.east(),by(),"east",Wo(t,{left:0}),Ff)},R1=function(t,r,o){return Xo(W3(t,r),O1(t,r),o.west(),Lm(),"west",Wo(t,{right:1}),Ff)},Sy=function(){return[qi,Yo,Su,xu,_o,Vu,D1,R1]},xd=function(){return[Yo,qi,xu,Su,_o,Vu,D1,R1]},Ov=function(){return[Su,xu,qi,Yo,Vu,_o]},_1=function(){return[xu,Su,Yo,qi,Vu,_o]},B1=function(){return[qi,Yo,Su,xu,_o,Vu]},M1=function(){return[Yo,qi,xu,Su,_o,Vu]},Hm=function(t,r){return r.universal?t:We(t,function(o){return In(r.channels,o)})},Vm=function(t){return ma([Xe(tc(),function(r,o){var s=t.channels,v=la(s),m=o,p=Hm(v,m);Ut(p,function(w){var S=s[w],T=S.schema,D=Xr("channel["+w+`] data
Receiver: `+bu(r.element),T,m.data);S.onReceive(r,D)})})])},ww=Object.freeze({__proto__:null,events:Vm}),Wl=[zu("channels",Ui(Un.value,os([wu("onReceive"),me("schema",Sc())])))],Td=function(t,r,o){return cs(function(s){o(s,t,r)})},La=function(t,r,o){return ow(function(s,v){o(s,t,r)})},j3=function(t,r,o,s,v,m){var p=os(t),w=us(r,[S3("config",t)]);return Sw(p,w,r,o,s,v,m)},G3=function(t,r,o,s,v,m){var p=t,w=us(r,[rl("config",t)]);return Sw(p,w,r,o,s,v,m)},N1=function(t,r,o){var s=function(v){for(var m=[],p=1;p<arguments.length;p++)m[p-1]=arguments[p];var w=[v].concat(m);return v.config({name:ve(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(S){var T=Array.prototype.slice.call(w,1);return r.apply(void 0,[v,S.config,S.state].concat(T))})};return $s(s,o,r)},q3=function(t){return{key:t,value:void 0}},Sw=function(t,r,o,s,v,m,p){var w=function(_){return Ea(_,o)?_[o]():A.none()},S=Br(v,function(_,z){return N1(o,_,z)}),T=Br(m,function(_,z){return md(_,z)}),D=oe(oe(oe({},T),S),{revoke:Tr(q3,o),config:function(_){var z=Xr(o+"-config",t,_);return{key:o,value:{config:z,me:D,configAsRaw:Po(function(){return Xr(o+"-config",t,_)}),initialConfig:_,state:p}}},schema:ve(r),exhibit:function(_,z){return Zi(w(_),rn(s,"exhibit"),function(H,j){return j(z,H.config,H.state)}).getOrThunk(function(){return Dc({})})},name:ve(o),handlers:function(_){return w(_).map(function(z){var H=rn(s,"events").getOr(function(){return{}});return H(z.config,z.state)}).getOr({})}});return D},wt=function(t){return Df(t)},K3=os([Ue("fields"),Ue("name"),me("active",{}),me("apis",{}),me("state",Ti),me("extra",{})]),jo=function(t){var r=Xr("Creating behaviour: "+t.name,K3,t);return j3(r.fields,r.name,r.active,r.apis,r.extra,r.state)},xy=os([Ue("branchKey"),Ue("branches"),Ue("name"),me("active",{}),me("apis",{}),me("state",Ti),me("extra",{})]),Ed=function(t){var r=Xr("Creating behaviour: "+t.name,xy,t);return G3(Qs(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},xw=ve(void 0),ru=jo({fields:Wl,name:"receiving",active:ww}),Ah=function(t,r){return Dc({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},P1=Object.freeze({__proto__:null,exhibit:Ah}),Oh=function(){return ne.fromDom(document)},sl=function(t){return t.dom.focus()},Dh=function(t){return t.dom.blur()},Rh=function(t){var r=qo(t).dom;return t.dom===r.activeElement},Tu=function(t){return t===void 0&&(t=Oh()),A.from(t.dom.activeElement).map(ne.fromDom)},cl=function(t){return Tu(qo(t)).filter(function(r){return t.dom.contains(r.dom)})},Tw=function(t,r){var o=qo(r),s=Tu(o).bind(function(m){var p=function(w){return oa(m,w)};return p(r)?A.some(r):Wn(r,p)}),v=t(r);return s.each(function(m){Tu(o).filter(function(p){return oa(p,m)}).fold(function(){sl(m)},Ye)}),v},au=function(t,r,o,s,v){var m=function(p){return p+"px"};return{position:t,left:r.map(m),top:o.map(m),right:s.map(m),bottom:v.map(m)}},jl=function(t){return oe(oe({},t),{position:A.some(t.position)})},Dv=function(t,r){Za(t,jl(r))},_h=Ms.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Be=function(t,r,o,s,v,m){var p=r.rect,w=p.x-o,S=p.y-s,T=p.width,D=p.height,_=v-(w+T),z=m-(S+D),H=A.some(w),j=A.some(S),ee=A.some(_),ce=A.some(z),Y=A.none();return V3(r.direction,function(){return au(t,H,j,Y,Y)},function(){return au(t,Y,j,ee,Y)},function(){return au(t,H,Y,Y,ce)},function(){return au(t,Y,Y,ee,ce)},function(){return au(t,H,j,Y,Y)},function(){return au(t,H,Y,Y,ce)},function(){return au(t,H,j,Y,Y)},function(){return au(t,Y,j,ee,Y)})},If=function(t,r){return t.fold(function(){var o=r.rect;return au("absolute",A.some(o.x),A.some(o.y),A.none(),A.none())},function(o,s,v,m){return Be("absolute",r,o,s,v,m)},function(o,s,v,m){return Be("fixed",r,o,s,v,m)})},Um=function(t,r){var o=Tr(Vi,r),s=t.fold(o,o,function(){var p=as();return Vi(r).translate(-p.left,-p.top)}),v=mu(r),m=rs(r);return $o(s.left,s.top,v,m)},X3=function(t,r){return r.fold(function(){return t.fold(Ci,Ci,$o)},function(o){return t.fold(o,o,function(){var s=o(),v=F1(t,s.x,s.y);return $o(v.left,v.top,s.width,s.height)})})},F1=function(t,r,o){var s=fa(r,o),v=function(){var m=as();return s.translate(-m.left,-m.top)};return t.fold(ve(s),ve(s),v)},Rc=function(t,r,o,s){return t.fold(r,o,s)};_h.none;var I1=_h.relative,Ty=_h.fixed,Ey=function(t,r){return{anchorBox:t,origin:r}},z1=function(t,r){return Ey(t,r)},ky="data-alloy-placement",Ay=function(t,r){Vn(t,ky,r)},Oy=function(t){return Ua(t,ky)},Dy=function(t){return ri(t,ky)},kd=Ms.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ew=function(t,r){var o=r.x,s=r.y,v=r.right,m=r.bottom,p=t.x,w=t.y,S=t.right,T=t.bottom,D=t.width,_=t.height,z=p>=o&&p<=v,H=w>=s&&w<=m,j=z&&H,ee=S<=v&&S>=o,ce=T<=m&&T>=s,Y=ee&&ce,de=Math.min(D,p>=o?v-p:S-o),Re=Math.min(_,w>=s?m-w:T-s);return{originInBounds:j,sizeInBounds:Y,visibleW:de,visibleH:Re}},Y3=function(t,r){var o=r.x,s=r.y,v=r.right,m=r.bottom,p=t.x,w=t.y,S=t.width,T=t.height,D=Math.max(o,v-S),_=Math.max(s,m-T),z=ls(p,o,D),H=ls(w,s,_),j=Math.min(z+S,v)-z,ee=Math.min(H+T,m)-H;return $o(z,H,j,ee)},Z3=function(t,r,o){var s=ve(r.bottom-o.y),v=ve(o.bottom-r.y),m=U3(t,v,v,s),p=ve(r.right-o.x),w=ve(o.right-r.x),S=E1(t,w,w,p);return{maxWidth:S,maxHeight:m}},Wm=function(t,r,o,s){var v=t.bubble,m=v.offset,p=A1(s,t.restriction,m),w=t.x+m.left,S=t.y+m.top,T=$o(w,S,r,o),D=Ew(T,p),_=D.originInBounds,z=D.sizeInBounds,H=D.visibleW,j=D.visibleH,ee=_&&z,ce=ee?T:Y3(T,p),Y=ce.width>0&&ce.height>0,de=Z3(t.direction,ce,s),Re=de.maxWidth,De=de.maxHeight,fe={rect:ce,maxHeight:De,maxWidth:Re,direction:t.direction,placement:t.placement,classes:{on:v.classesOn,off:v.classesOff},layout:t.label,testY:S};return ee||t.alwaysFit?kd.fit(fe):kd.nofit(fe,H,j,Y)},jm=function(t,r,o,s,v,m){var p=s.width,w=s.height,S=function(D,_,z,H,j){var ee=D(o,s,v,t,m),ce=Wm(ee,p,w,m);return ce.fold(ve(ce),function(Y,de,Re,De){var fe=j===De?Re>H||de>z:!j&&De;return fe?ce:kd.nofit(_,z,H,j)})},T=Ee(r,function(D,_){var z=Tr(S,_);return D.fold(ve(D),z)},kd.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:k1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return T.fold(Lt,Lt)},$1=function(t){var r=pn(A.none()),o=function(){return r.get().each(t)},s=function(){o(),r.set(A.none())},v=function(){return r.get().isSome()},m=function(){return r.get()},p=function(w){o(),r.set(A.some(w))};return{clear:s,isSet:v,get:m,set:p}},Ry=function(){return $1(function(t){return t.destroy()})},Gm=function(){return $1(function(t){return t.unbind()})},_y=function(){var t=Ry(),r=function(o){return t.get().each(o)};return oe(oe({},t),{run:r})},co=function(){var t=$1(Ye),r=function(o){return t.get().each(o)};return oe(oe({},t),{on:r})},Bh=Qe,ho=function(t,r,o){return Gp(t,r,Bh,o)},L1=function(t,r,o){return bf(t,r,Bh,o)},Ad=Js,By=["top","bottom","right","left"],Mh="data-alloy-transition-timer",My=function(t,r){return g1(t,r.classes)},kw=function(t,r,o){return o.exists(function(s){var v=t.mode;return v==="all"?!0:s[v]!==r[v]})},J3=function(t,r){var o=function(s){return parseFloat(s).toFixed(3)};return Ar(r,function(s,v){var m=t[v].map(o),p=s.map(o);return!ys(m,p)}).isSome()},Aw=function(t){var r=function(m){var p=Ja(t,m),w=Fn(p)?p.split(/\s*,\s*/):[];return We(w,fu)},o=function(m){if(Fn(m)&&/^[\d.]+/.test(m)){var p=parseFloat(m);return gn(m,"ms")?p:p*1e3}else return 0},s=r("transition-delay"),v=r("transition-duration");return Ee(v,function(m,p,w){var S=o(s[w])+o(p);return Math.max(m,S)},0)},Q3=function(t,r){var o=Gm(),s=Gm(),v,m=function(D){var _,z=(_=D.raw.pseudoElement)!==null&&_!==void 0?_:"";return oa(D.target,t)&&pi(z)&&In(By,D.raw.propertyName)},p=function(D){if(sa(D)||m(D)){o.clear(),s.clear();var _=D==null?void 0:D.raw.type;(sa(_)||_===Dm())&&(clearTimeout(v),ri(t,Mh),Ls(t,r.classes))}},w=function(){o.set(ho(t,Dm(),p)),s.set(ho(t,A3(),p))};if("ontransitionstart"in t.dom)var S=ho(t,Kb(),function(D){m(D)&&(S.unbind(),w())});else w();var T=Aw(t);requestAnimationFrame(function(){v=setTimeout(p,T+17),Vn(t,Mh,v)})},H1=function(t,r){pd(t,r.classes),Ua(t,Mh).each(function(o){clearTimeout(parseInt(o,10)),ri(t,Mh)}),Q3(t,r)},Nh=function(t,r,o,s,v,m){var p=kw(s,v,m);if(p||My(t,s)){xn(t,"position",o.position);var w=Um(r,t),S=If(r,oe(oe({},v),{rect:w})),T=ko(By,function(D){return S[D]});J3(o,T)&&(Za(t,T),p&&H1(t,s),Aa(t))}else Ls(t,s.classes)},eE=function(t){return{width:mu(t),height:rs(t)}},Ow=function(t,r,o,s){Pr(r,"max-height"),Pr(r,"max-width");var v=eE(r);return jm(r,s.preference,t,v,o,s.bounds)},Ny=function(t,r){var o=r.classes;Ls(t,o.off),pd(t,o.on)},tE=function(t,r,o){var s=o.maxHeightFunction;s(t,r.maxHeight)},nE=function(t,r,o){var s=o.maxWidthFunction;s(t,r.maxWidth)},V1=function(t,r,o){var s=If(o.origin,r);o.transition.each(function(v){Nh(t,o.origin,s,v,r,o.lastPlacement)}),Dv(t,s)},Py=function(t,r){Ay(t,r.placement)},Ai=function(t,r){jp(t,Math.floor(r))},qm=ve(function(t,r){Ai(t,r),ns(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Km=ve(function(t,r){Ai(t,r)}),Dw=function(t,r,o){return t[r]===void 0?o:t[r]},rE=function(t,r,o,s,v,m,p,w){var S=Dw(p,"maxHeightFunction",qm()),T=Dw(p,"maxWidthFunction",Ye),D=t.anchorBox,_=t.origin,z={bounds:X3(_,m),origin:_,preference:s,maxHeightFunction:S,maxWidthFunction:T,lastPlacement:v,transition:w};return Ph(D,r,o,z)},Ph=function(t,r,o,s){var v=Ow(t,r,o,s);return V1(r,v,s),Py(r,v),Ny(r,v),tE(r,v,s),nE(r,v,s),{layout:v.layout,placement:v.placement}},Fh=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Od=function(t,r,o,s){s===void 0&&(s=1);var v=t*s,m=r*s,p=function(S){return rn(o,S).getOr([])},w=function(S,T,D){var _=jr(Fh,D);return{offset:fa(S,T),classesOn:Qn(D,p),classesOff:Qn(_,p)}};return{southeast:function(){return w(-t,r,["top","alignLeft"])},southwest:function(){return w(t,r,["top","alignRight"])},south:function(){return w(-t/2,r,["top","alignCentre"])},northeast:function(){return w(-t,-r,["bottom","alignLeft"])},northwest:function(){return w(t,-r,["bottom","alignRight"])},north:function(){return w(-t/2,-r,["bottom","alignCentre"])},east:function(){return w(t,-r/2,["valignCentre","left"])},west:function(){return w(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return w(v,m,["top","alignLeft","inset"])},insetNorthwest:function(){return w(-v,m,["top","alignRight","inset"])},insetNorth:function(){return w(-v/2,m,["top","alignCentre","inset"])},insetSoutheast:function(){return w(v,-m,["bottom","alignLeft","inset"])},insetSouthwest:function(){return w(-v,-m,["bottom","alignRight","inset"])},insetSouth:function(){return w(-v/2,-m,["bottom","alignCentre","inset"])},insetEast:function(){return w(-v,-m/2,["valignCentre","right","inset"])},insetWest:function(){return w(v,-m/2,["valignCentre","left","inset"])}}},U1=function(){return Od(0,0,{})},Ih=Lt,Fy=function(t,r){return function(o){return aE(o)==="rtl"?r:t}},aE=function(t){return Ja(t,"direction")==="rtl"?"rtl":"ltr"},Gl;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Gl||(Gl={}));var W1="data-alloy-vertical-dir",oE=function(t){return zm(t,function(r){return hr(r)&&_a(r,"data-alloy-vertical-dir")===Gl.BottomToTop})},Rv=function(){return us("layouts",[Ue("onLtr"),Ue("onRtl"),Fr("onBottomLtr"),Fr("onBottomRtl")])},_v=function(t,r,o,s,v,m,p){var w=p.map(oE).getOr(!1),S=r.layouts.map(function(H){return H.onLtr(t)}),T=r.layouts.map(function(H){return H.onRtl(t)}),D=w?r.layouts.bind(function(H){return H.onBottomLtr.map(function(j){return j(t)})}).or(S).getOr(v):S.getOr(o),_=w?r.layouts.bind(function(H){return H.onBottomRtl.map(function(j){return j(t)})}).or(T).getOr(m):T.getOr(s),z=Fy(D,_);return z(t)},iE=function(t,r,o){var s=r.hotspot,v=Um(o,s.element),m=_v(t.element,r,B1(),M1(),Ov(),_1(),A.some(r.hotspot.element));return A.some(Ih({anchorBox:v,bubble:r.bubble.getOr(U1()),overrides:r.overrides,layouts:m,placer:A.none()}))},j1=[Ue("hotspot"),Fr("bubble"),me("overrides",{}),Rv(),ya("placement",iE)],G1=function(t,r,o){var s=F1(o,r.x,r.y),v=$o(s.left,s.top,r.width,r.height),m=_v(t.element,r,Sy(),xd(),Sy(),xd(),A.none());return A.some(Ih({anchorBox:v,bubble:r.bubble,overrides:r.overrides,layouts:m,placer:A.none()}))},q1=[Ue("x"),Ue("y"),me("height",0),me("width",0),me("bubble",U1()),me("overrides",{}),Rv(),ya("placement",G1)],ii=Ms.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Rw=function(t){return t.fold(Lt,function(r,o,s){return r.translate(-o,-s)})},Iy=function(t){return t.fold(Lt,Lt)},_w=function(t){return Ee(t,function(r,o){return r.translate(o.left,o.top)},fa(0,0))},Bw=function(t){var r=ut(t,Rw);return _w(r)},ll=function(t){var r=ut(t,Iy);return _w(r)},zf=ii.screen,Mw=ii.absolute,Nw=function(t,r,o){var s=gf(o.root).dom,v=function(m){var p=vo(m),w=vo(t.element);return oa(p,w)};return A.from(s.frameElement).map(ne.fromDom).filter(v).map(du)},zy=function(t,r,o){var s=vo(t.element),v=as(s),m=Nw(t,r,o).getOr(v);return Mw(m,v.left,v.top)},K1=function(t,r,o,s){var v=zf(fa(t,r));return A.some(Rs(v,o,s))},Pw=function(t,r,o,s,v){return t.map(function(m){var p=[r,m.point],w=Rc(s,function(){return ll(p)},function(){return ll(p)},function(){return Bw(p)}),S=mo(w.left,w.top,m.width,m.height),T=o.showAbove?Ov():B1(),D=o.showAbove?_1():M1(),_=_v(v,o,T,D,T,D,A.none());return Ih({anchorBox:S,bubble:o.bubble.getOr(U1()),overrides:o.overrides,layouts:_,placer:A.none()})})},Xm=function(t,r,o){var s=zy(t,o,r);return r.node.filter(io).bind(function(v){var m=v.dom.getBoundingClientRect(),p=K1(m.left,m.top,m.width,m.height),w=r.node.getOr(t.element);return Pw(p,s,r,o,w)})},uE=[Ue("node"),Ue("root"),Fr("bubble"),Rv(),me("overrides",{}),me("showAbove",!1),ya("placement",Xm)],zh="\uFEFF",sE=" ",Ym=function(t,r,o,s){return{start:t,soffset:r,finish:o,foffset:s}},Dd={create:Ym},$y=Ms.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Fw=function(t,r,o,s){return t.fold(r,o,s)},cE=function(t){return t.fold(Lt,Lt,Lt)},Iw=$y.before,zw=$y.on,Ly=$y.after,lE={before:Iw,on:zw,after:Ly,cata:Fw,getStart:cE},X1=Ms.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),fE=function(t){return X1.exact(t.start,t.soffset,t.finish,t.foffset)},$h=function(t){return t.match({domRange:function(r){return ne.fromDom(r.startContainer)},relative:function(r,o){return lE.getStart(r)},exact:function(r,o,s,v){return r}})},vE=X1.domRange,dE=X1.relative,mE=X1.exact,Y1=function(t){var r=$h(t);return gf(r)},gE=Dd.create,Zm={domRange:vE,relative:dE,exact:mE,exactFromRange:fE,getWin:Y1,range:gE},$w=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},hE=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},Hy=function(t,r,o){var s=t.document.createRange();return $w(s,r),hE(s,o),s},Lw=function(t,r,o,s,v){var m=t.document.createRange();return m.setStart(r.dom,o),m.setEnd(s.dom,v),m},Vy=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},Hw=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?A.some(o).map(Vy):A.none()},Vw=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?A.some(r).map(Vy):A.none()},Jm=Ms.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Uy=function(t,r,o){return r(ne.fromDom(o.startContainer),o.startOffset,ne.fromDom(o.endContainer),o.endOffset)},Wy=function(t,r){return r.match({domRange:function(o){return{ltr:ve(o),rtl:A.none}},relative:function(o,s){return{ltr:Po(function(){return Hy(t,o,s)}),rtl:Po(function(){return A.some(Hy(t,s,o))})}},exact:function(o,s,v,m){return{ltr:Po(function(){return Lw(t,o,s,v,m)}),rtl:Po(function(){return A.some(Lw(t,v,m,o,s))})}}})},pE=function(t,r){var o=r.ltr();if(o.collapsed){var s=r.rtl().filter(function(v){return v.collapsed===!1});return s.map(function(v){return Jm.rtl(ne.fromDom(v.endContainer),v.endOffset,ne.fromDom(v.startContainer),v.startOffset)}).getOrThunk(function(){return Uy(t,Jm.ltr,o)})}else return Uy(t,Jm.ltr,o)},bE=function(t,r){var o=Wy(t,r);return pE(t,o)},jy=function(t,r){var o=bE(t,r);return o.match({ltr:function(s,v,m,p){var w=t.document.createRange();return w.setStart(s.dom,v),w.setEnd(m.dom,p),w},rtl:function(s,v,m,p){var w=t.document.createRange();return w.setStart(m.dom,p),w.setEnd(s.dom,v),w}})};Jm.ltr,Jm.rtl;var yE=function(t,r){var o=function(m){if(!t(m))throw new Error("Can only get "+r+" value of a "+r+" node");return s(m).getOr("")},s=function(m){return t(m)?A.from(m.dom.nodeValue):A.none()},v=function(m,p){if(!t(m))throw new Error("Can only set raw "+r+" value of a "+r+" node");m.dom.nodeValue=p};return{get:o,getOption:s,set:v}},Uw=yE(Ya,"text"),Bv=function(t){return Uw.get(t)},Qm=function(t){return Uw.getOption(t)},Ww=function(t){return _n(t)==="img"?1:Qm(t).fold(function(){return B(t).length},function(r){return r.length})},CE=function(t){return Qm(t).filter(function(r){return r.trim().length!==0||r.indexOf(sE)>-1}).isSome()},jw=["img","br"],wE=function(t){var r=CE(t);return r||In(jw,_n(t))},Gy=function(t){return eg(t,wE)},eg=function(t,r){var o=function(s){for(var v=B(s),m=v.length-1;m>=0;m--){var p=v[m];if(r(p))return A.some(p);var w=o(p);if(w.isSome())return w}return A.none()};return o(t)},ou=function(t,r){return uv(r,t)},qy=function(t,r,o,s){var v=vo(t),m=v.dom.createRange();return m.setStart(t.dom,r),m.setEnd(o.dom,s),m},tg=function(t,r,o,s){var v=qy(t,r,o,s),m=oa(t,o)&&r===s;return v.collapsed&&!m},Rd=function(t){return A.from(t.getSelection())},Z1=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return A.some(Dd.create(ne.fromDom(r.startContainer),r.startOffset,ne.fromDom(o.endContainer),o.endOffset))}else return A.none()},SE=function(t){if(t.anchorNode===null||t.focusNode===null)return Z1(t);var r=ne.fromDom(t.anchorNode),o=ne.fromDom(t.focusNode);return tg(r,t.anchorOffset,o,t.focusOffset)?A.some(Dd.create(r,t.anchorOffset,o,t.focusOffset)):Z1(t)},Gw=function(t){return Rd(t).filter(function(r){return r.rangeCount>0}).bind(SE)},Ky=function(t,r){var o=jy(t,r);return Hw(o)},Uu=function(t,r){var o=jy(t,r);return Vw(o)},Lh=function(t,r){return{element:t,offset:r}},xE=function(t,r){var o=B(t);if(o.length===0)return Lh(t,r);if(r<o.length)return Lh(o[r],0);var s=o[o.length-1],v=Ya(s)?Bv(s).length:B(s).length;return Lh(s,v)},_d=function(t,r){return Ya(t)?Lh(t,r):xE(t,r)},Mv=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return Gw(t)}});return o().map(function(s){var v=_d(s.start,s.soffset),m=_d(s.finish,s.foffset);return Zm.range(v.element,v.offset,m.element,m.offset)})},ng=function(t,r,o){var s=gf(r.root).dom,v=zy(t,o,r),m=Mv(s,r).bind(function(S){var T=Uu(s,Zm.exactFromRange(S)).orThunk(function(){var D=ne.fromText(zh);Qa(S.start,D);var _=Ky(s,Zm.exact(D,0,D,1));return Pu(D),_});return T.bind(function(D){return K1(D.left,D.top,D.width,D.height)})}),p=Mv(s,r).bind(function(S){return hr(S.start)?A.some(S.start):lm(S.start)}),w=p.getOr(t.element);return Pw(m,v,r,o,w)},Nv=[Fr("getSelection"),Ue("root"),Fr("bubble"),Rv(),me("overrides",{}),me("showAbove",!1),ya("placement",ng)],fl="link-layout",vl=function(t){return t.x+t.width},J1=function(t,r){return t.x-r.width},Q1=function(t,r){return t.y-r.height+t.height},Xy=function(t){return t.y},rg=function(t,r,o){return Xo(vl(t),Xy(t),o.southeast(),k1(),"southeast",Wo(t,{left:0,top:2}),fl)},ag=function(t,r,o){return Xo(J1(t,r),Xy(t),o.southwest(),gy(),"southwest",Wo(t,{right:1,top:2}),fl)},og=function(t,r,o){return Xo(vl(t),Q1(t,r),o.northeast(),hy(),"northeast",Wo(t,{left:0,bottom:3}),fl)},Ki=function(t,r,o){return Xo(J1(t,r),Q1(t,r),o.northwest(),Sd(),"northwest",Wo(t,{right:1,bottom:3}),fl)},ig=function(){return[rg,ag,og,Ki]},ug=function(){return[ag,rg,Ki,og]},e0=function(t,r,o){var s=Um(o,r.item.element),v=_v(t.element,r,ig(),ug(),ig(),ug(),A.none());return A.some(Ih({anchorBox:s,bubble:U1(),overrides:r.overrides,layouts:v,placer:A.none()}))},TE=[Ue("item"),Rv(),me("overrides",{}),ya("placement",e0)],Yy=Qs("type",{selection:Nv,node:uE,hotspot:j1,submenu:TE,makeshift:q1}),t0=[Wi("classes",go),Bs("mode","all",["all","layout","placement"])],Oi=[me("useFixed",Bt),Fr("getBounds")],EE=[zu("anchor",Yy),us("transition",t0)],ql=function(){var t=document.documentElement;return Ty(0,0,t.clientWidth,t.clientHeight)},n0=function(t){var r=du(t.element),o=t.element.dom.getBoundingClientRect();return I1(r.left,r.top,o.width,o.height)},Zy=function(t,r,o,s,v,m,p){var w=z1(o.anchorBox,r);return rE(w,v.element,o.bubble,o.layouts,m,s,o.overrides,p)},sg=function(t,r,o,s,v){Jy(t,r,o,s,v,A.none())},Jy=function(t,r,o,s,v,m){var p=m.map(So);return Hh(t,r,o,s,v,p)},Hh=function(t,r,o,s,v,m){var p=Xr("placement.info",sn(EE),v),w=p.anchor,S=s.element,T=o.get(s.uid);Tw(function(){xn(S,"position","fixed");var D=wo(S,"visibility");xn(S,"visibility","hidden");var _=r.useFixed()?ql():n0(t),z=w.placement,H=m.map(ve).or(r.getBounds);z(t,w,_).each(function(j){var ee=j.placer.getOr(Zy),ce=ee(t,_,j,H,s,T,p.transition);o.set(s.uid,ce)}),D.fold(function(){Pr(S,"visibility")},function(j){xn(S,"visibility",j)}),wo(S,"left").isNone()&&wo(S,"top").isNone()&&wo(S,"right").isNone()&&wo(S,"bottom").isNone()&&gi(wo(S,"position"),"fixed")&&Pr(S,"position")},S)},kE=function(t,r,o){return r.useFixed()?"fixed":"absolute"},qw=function(t,r,o,s){var v=s.element;Ut(["position","left","right","top","bottom"],function(m){return Pr(v,m)}),Dy(v),o.clear(s.uid)},Kw=Object.freeze({__proto__:null,position:sg,positionWithin:Jy,positionWithinBounds:Hh,getMode:kE,reset:qw}),AE=function(){var t={},r=function(v,m){t[v]=m},o=function(v){return rn(t,v)},s=function(v){it(v)?delete t[v]:t={}};return Gi({readState:function(){return t},clear:s,set:r,get:o})},cg=Object.freeze({__proto__:null,init:AE}),lo=jo({fields:Oi,name:"positioning",active:P1,apis:Kw,state:cg}),r0=function(t){_r(t,Rm());var r=t.components();Ut(r,r0)},a0=function(t){var r=t.components();Ut(r,a0),_r(t,ss())},Qy=function(t,r){Hi(t.element,r.element)},Xw=function(t){Ut(t.components(),function(r){return Pu(r.element)}),za(t.element),t.syncComponents()},e2=function(t,r){var o=t.components();Xw(t);var s=jr(o,r);Ut(s,function(v){r0(v),t.getSystem().removeFromWorld(v)}),Ut(r,function(v){v.getSystem().isConnected()?Qy(t,v):(t.getSystem().addToWorld(v),Qy(t,v),io(t.element)&&a0(v)),t.syncComponents()})},Bd=function(t,r){o0(t,r,Hi)},o0=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),io(t.element)&&a0(r),t.syncComponents()},Wu=function(t){r0(t),Pu(t.element),t.getSystem().removeFromWorld(t)},dl=function(t){var r=oo(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});Wu(t),r.each(function(o){o.syncComponents()})},i0=function(t){var r=t.components();Ut(r,Wu),za(t.element),t.syncComponents()},$f=function(t,r){ml(t,r,Hi)},_c=function(t,r){ml(t,r,Cf)},ml=function(t,r,o){o(t,r.element);var s=B(r.element);Ut(s,function(v){r.getByDom(v).each(a0)})},iu=function(t){var r=B(t.element);Ut(r,function(o){t.getByDom(o).each(r0)}),Pu(t.element)},ac=function(t,r,o,s){o.get().each(function(p){i0(t)});var v=r.getAttachPoint(t);Bd(v,t);var m=t.getSystem().build(s);return Bd(t,m),o.set(m),m},lg=function(t,r,o,s){var v=ac(t,r,o,s);return r.onOpen(t,v),v},Kl=function(t,r,o,s){return o.get().map(function(){return ac(t,r,o,s)})},Md=function(t,r,o,s,v){eS(t,r),lg(t,r,o,s),v(),tS(t,r)},Yw=function(t,r,o){o.get().each(function(s){i0(t),dl(t),r.onClose(t,s),o.clear()})},Zw=function(t,r,o){return o.isOpen()},OE=function(t,r,o,s){return Zw(t,r,o)&&o.get().exists(function(v){return r.isPartOf(t,v,s)})},DE=function(t,r,o){return o.get()},Jw=function(t,r,o,s){wo(t.element,r).fold(function(){ri(t.element,o)},function(v){Vn(t.element,o,v)}),xn(t.element,r,s)},Qw=function(t,r,o){Ua(t.element,o).fold(function(){return Pr(t.element,r)},function(s){return xn(t.element,r,s)})},eS=function(t,r,o){var s=r.getAttachPoint(t);xn(t.element,"position",lo.getMode(s)),Jw(t,"visibility",r.cloakVisibilityAttr,"hidden")},RE=function(t){return Jr(["top","left","right","bottom"],function(r){return wo(t,r).isSome()})},tS=function(t,r,o){RE(t.element)||Pr(t.element,"position"),Qw(t,"visibility",r.cloakVisibilityAttr)},_E=Object.freeze({__proto__:null,cloak:eS,decloak:tS,open:lg,openWhileCloaked:Md,close:Yw,isOpen:Zw,isPartOf:OE,getState:DE,setContent:Kl}),nS=function(t,r){return ma([Xe(hh(),function(o,s){Yw(o,t,r)})])},rS=Object.freeze({__proto__:null,events:nS}),t2=[Ir("onOpen"),Ir("onClose"),Ue("isPartOf"),Ue("getAttachPoint"),me("cloakVisibilityAttr","data-precloak-visibility")],aS=function(){var t=co(),r=ve("not-implemented");return Gi({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},BE=Object.freeze({__proto__:null,init:aS}),pr=jo({fields:t2,name:"sandboxing",active:rS,apis:_E,state:BE}),Nd=ve("dismiss.popups"),fg=ve("reposition.popups"),n2=ve("mouse.released"),ME=os([me("isExtraPart",Bt),us("fireEventInstead",[me("event",Ac())])]),ju=function(t){var r,o=Xr("Dismissal",ME,t);return r={},r[Nd()]={schema:os([Ue("target")]),onReceive:function(s,v){if(pr.isOpen(s)){var m=pr.isPartOf(s,v.target)||o.isExtraPart(s,v.target);m||o.fireEventInstead.fold(function(){return pr.close(s)},function(p){return _r(s,p.event)})}}},r},NE=os([us("fireEventInstead",[me("event",ji())]),nu("doReposition")]),Pd=function(t){var r,o=Xr("Reposition",NE,t);return r={},r[fg()]={onReceive:function(s){pr.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(v){return _r(s,v.event)})}},r},Pv=function(t,r,o){r.store.manager.onLoad(t,r,o)},u0=function(t,r,o){r.store.manager.onUnload(t,r,o)},s0=function(t,r,o,s){r.store.manager.setValue(t,r,o,s)},PE=function(t,r,o){return r.store.manager.getValue(t,r,o)},oS=function(t,r,o){return o},c0=Object.freeze({__proto__:null,onLoad:Pv,onUnload:u0,setValue:s0,getValue:PE,getState:oS}),r2=function(t,r){var o=t.resetOnDom?[zn(function(s,v){Pv(s,t,r)}),Is(function(s,v){u0(s,t,r)})]:[La(t,r,Pv)];return ma(o)},vg=Object.freeze({__proto__:null,events:r2}),l0=function(){var t=pn(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return Gi({set:t.set,get:t.get,isNotSet:o,clear:s,readState:r})},FE=function(){var t=Ye;return Gi({readState:t})},Xl=function(){var t=pn({}),r=pn({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},s=function(){t.set({}),r.set({})},v=function(p){return rn(t.get(),p).orThunk(function(){return rn(r.get(),p)})},m=function(p){var w=t.get(),S=r.get(),T={},D={};Ut(p,function(_){T[_.value]=_,rn(_,"meta").each(function(z){rn(z,"text").each(function(H){D[H]=_})})}),t.set(oe(oe({},w),T)),r.set(oe(oe({},S),D))};return Gi({readState:o,lookup:v,update:m,clear:s})},a2=function(t){return t.store.manager.state(t)},o2=Object.freeze({__proto__:null,memory:l0,dataset:Xl,manual:FE,init:a2}),dg=function(t,r,o,s){var v=r.store;o.update([s]),v.setValue(t,s),r.onSetValue(t,s)},i2=function(t,r,o){var s=r.store,v=s.getDataKey(t);return o.lookup(v).getOrThunk(function(){return s.getFallbackEntry(v)})},Vh=function(t,r,o){var s=r.store;s.initialValue.each(function(v){dg(t,r,o,v)})},iS=function(t,r,o){o.clear()},IE=[Fr("initialValue"),Ue("getFallbackEntry"),Ue("getDataKey"),Ue("setValue"),ya("manager",{setValue:dg,getValue:i2,onLoad:Vh,onUnload:iS,state:Xl})],Yl=function(t,r,o){return r.store.getValue(t)},fs=function(t,r,o,s){r.store.setValue(t,s),r.onSetValue(t,s)},Di=function(t,r,o){r.store.initialValue.each(function(s){r.store.setValue(t,s)})},zE=[Ue("getValue"),me("setValue",Ye),Fr("initialValue"),ya("manager",{setValue:fs,getValue:Yl,onLoad:Di,onUnload:Ye,state:Ti.init})],u2=function(t,r,o,s){o.set(s),r.onSetValue(t,s)},mg=function(t,r,o){return o.get()},s2=function(t,r,o){r.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},Uh=function(t,r,o){o.clear()},c2=[Fr("initialValue"),ya("manager",{setValue:u2,getValue:mg,onLoad:s2,onUnload:Uh,state:l0})],$E=[pu("store",{mode:"memory"},Qs("mode",{memory:c2,manual:zE,dataset:IE})),Ir("onSetValue"),me("resetOnDom",!1)],At=jo({fields:$E,name:"representing",active:vg,apis:c0,extra:{setValueFrom:function(t,r){var o=At.getValue(r);At.setValue(t,o)}},state:o2}),Go=function(t,r){return Lb(t,{},ut(r,function(o){return xm(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([hu("dump",Lt)]))},gg=function(t){return t.dump},ui=function(t,r){return oe(oe({},wt(r)),t.dump)},oc={field:Go,augment:ui,get:gg},l2="placeholder",Wh=Ms.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),f0=function(t){return wr(t,"uiType")},v0=function(t,r,o,s){return t.exists(function(v){return v!==o.owner})?Wh.single(!0,ve(o)):rn(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+la(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(v){return v.replace()})},d0=function(t,r,o,s){return f0(o)&&o.uiType===l2?v0(t,r,o,s):Wh.single(!1,ve(o))},Fv=function(t,r,o,s){var v=d0(t,r,o,s);return v.fold(function(m,p){var w=f0(o)?p(r,o.config,o.validated):p(r),S=rn(w,"components").getOr([]),T=Qn(S,function(D){return Fv(t,r,D,s)});return[oe(oe({},w),{components:T})]},function(m,p){if(f0(o)){var w=p(r,o.config,o.validated),S=o.validated.preprocess.getOr(Lt);return S(w)}else return p(r)})},jh=function(t,r,o,s){return Qn(o,function(v){return Fv(t,r,v,s)})},f2=function(t,r){var o=!1,s=function(){return o},v=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},m=function(){return r.fold(function(p,w){return p},function(p,w){return p})};return{name:ve(t),required:m,used:s,replace:v}},v2=function(t,r,o,s){var v=Br(s,function(p,w){return f2(w,p)}),m=jh(t,r,o,v);return aa(v,function(p){if(p.used()===!1&&p.required())throw new Error("Placeholder: "+p.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),m},d2=Wh.single,LE=Wh.multiple,uS=ve(l2),Lf=Ms.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Zl=me("factory",{sketch:Lt}),Fd=me("schema",[]),hg=Ue("name"),m2=Lo("pname","pname",vr(function(t){return"<alloy."+qt(t.name)+">"}),Sc()),m0=hu("schema",function(){return[Fr("preprocess")]}),Jl=me("defaults",ve({})),Bc=me("overrides",ve({})),Iv=sn([Zl,Fd,hg,m2,Jl,Bc]),zv=sn([Zl,Fd,hg,Jl,Bc]),Id=sn([Zl,Fd,hg,m2,Jl,Bc]),pg=sn([Zl,m0,hg,Ue("unit"),m2,Jl,Bc]),g2=function(t){return t.fold(A.some,A.none,A.some,A.some)},h2=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},p2=function(t){return t.fold(Lt,Lt,Lt,Lt)},g0=function(t,r){return function(o){var s=Xr("Converting part type",r,o);return t(s)}},Ri=g0(Lf.required,Iv),Vs=g0(Lf.external,zv),ic=g0(Lf.optional,Id),Ql=g0(Lf.group,pg),bg=ve("entirety"),h0=Object.freeze({__proto__:null,required:Ri,external:Vs,optional:ic,group:Ql,asNamedPart:g2,name:h2,asCommon:p2,original:bg}),$v=function(t,r,o,s){return Fe(r.defaults(t,o,s),o,{uid:t.partUids[r.name]},r.overrides(t,o,s))},zd=function(t,r,o){var s={},v={};return Ut(o,function(m){m.fold(function(p){s[p.pname]=d2(!0,function(w,S,T){return p.factory.sketch($v(w,p,S,T))})},function(p){var w=r.parts[p.name];v[p.name]=ve(p.factory.sketch($v(r,p,w[bg()]),w))},function(p){s[p.pname]=d2(!1,function(w,S,T){return p.factory.sketch($v(w,p,S,T))})},function(p){s[p.pname]=LE(!0,function(w,S,T){var D=w[p.name];return ut(D,function(_){return p.factory.sketch(Fe(p.defaults(w,_,T),_,p.overrides(w,_)))})})})}),{internals:ve(s),externals:ve(v)}},$d=function(t,r){var o={};return Ut(r,function(s){g2(s).each(function(v){var m=HE(t,v.pname);o[v.name]=function(p){var w=Xr("Part: "+v.name+" in "+t,sn(v.schema),p);return oe(oe({},m),{config:p,validated:w})}})}),o},HE=function(t,r){return{uiType:uS(),owner:t,name:r}},b2=function(t,r,o){return{uiType:uS(),owner:t,name:r,config:o,validated:{}}},sS=function(t){return Qn(t,function(r){return r.fold(A.none,A.some,A.none,A.none).map(function(o){return Nl(o.name,o.schema.concat([Av(bg())]))}).toArray()})},cS=function(t){return ut(t,h2)},y2=function(t,r,o){return zd(t,r,o)},C2=function(t,r,o){return v2(A.some(t),r,r.components,o)},ua=function(t,r,o){var s=r.partUids[o];return t.getSystem().getByUid(s).toOptional()},ef=function(t,r,o){return ua(t,r,o).getOrDie("Could not find part: "+o)},lS=function(t,r,o){var s={},v=r.partUids,m=t.getSystem();return Ut(o,function(p){s[p]=ve(m.getByUid(v[p]))}),s},fS=function(t,r){var o=t.getSystem();return Br(r.partUids,function(s,v){return ve(o.getByUid(s))})},vS=function(t){return la(t.partUids)},p0=function(t,r,o){var s={},v=r.partUids,m=t.getSystem();return Ut(o,function(p){s[p]=ve(m.getByUid(v[p]).getOrDie())}),s},w2=function(t,r){var o=cS(r);return Df(ut(o,function(s){return{key:s,value:t+"-"+s}}))},Gh=function(t){return Lo("partUids","partUids",wi(function(r){return w2(r.uid,t)}),Sc())},wn=Object.freeze({__proto__:null,generate:$d,generateOne:b2,schemas:sS,names:cS,substitutes:y2,components:C2,defaultUids:w2,defaultUidsSchema:Gh,getAllParts:fS,getAllPartNames:vS,getPart:ua,getPartOrDie:ef,getParts:lS,getPartsOrDie:p0}),VE=function(t,r){var o=t.length>0?[Nl("parts",t)]:[];return o.concat([Ue("uid"),me("dom",{}),me("components",[]),Av("originalSpec"),me("debug.sketcher",{})]).concat(r)},S2=function(t,r,o,s,v){var m=VE(s,v);return Xr(t+" [SpecSchema]",os(m.concat(r)),o)},dS=function(t,r,o,s){var v=mS(s),m=S2(t,r,v,[],[]);return o(m,v)},x2=function(t,r,o,s,v){var m=mS(v),p=sS(o),w=Gh(o),S=S2(t,r,m,p,[w]),T=y2(t,S,o),D=C2(t,S,T.internals());return s(S,D,m,T.externals())},UE=function(t){return wr(t,"uid")},mS=function(t){return UE(t)?t:oe(oe({},t),{uid:Cv("uid")})},T2=function(t){return t.uid!==void 0},E2=os([Ue("name"),Ue("factory"),Ue("configFields"),me("apis",{}),me("extraApis",{})]),WE=os([Ue("name"),Ue("factory"),Ue("configFields"),Ue("partFields"),me("apis",{}),me("extraApis",{})]),Us=function(t){var r=Xr("Sketcher for "+t.name,E2,t),o=function(m){return dS(r.name,r.configFields,r.factory,m)},s=Br(r.apis,ja),v=Br(r.extraApis,function(m,p){return md(m,p)});return oe(oe({name:r.name,configFields:r.configFields,sketch:o},s),v)},Eu=function(t){var r=Xr("Sketcher for "+t.name,WE,t),o=function(p){return x2(r.name,r.configFields,r.partFields,r.factory,p)},s=$d(r.name,r.partFields),v=Br(r.apis,ja),m=Br(r.extraApis,function(p,w){return md(p,w)});return oe(oe({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:s},v),m)},tf=function(t){return _n(t)==="input"&&_a(t,"type")!=="radio"||_n(t)==="textarea"},jE=function(t,r,o){return r.find(t)},GE=Object.freeze({__proto__:null,getCurrent:jE}),k2=[Ue("find")],sr=jo({fields:k2,name:"composing",apis:GE}),qE=["input","button","textarea","select"],b0=function(t,r,o){var s=r.disabled()?A2:Lv;s(t,r)},y0=function(t,r){return r.useNative===!0&&In(qE,_n(t.element))},C0=function(t){return Wp(t.element,"disabled")},qh=function(t){Vn(t.element,"disabled","disabled")},Hf=function(t){ri(t.element,"disabled")},Kh=function(t){return _a(t.element,"aria-disabled")==="true"},KE=function(t){Vn(t.element,"aria-disabled","true")},gS=function(t){Vn(t.element,"aria-disabled","false")},A2=function(t,r,o){r.disableClass.each(function(v){Ho(t.element,v)});var s=y0(t,r)?qh:KE;s(t),r.onDisabled(t)},Lv=function(t,r,o){r.disableClass.each(function(v){Ro(t.element,v)});var s=y0(t,r)?Hf:gS;s(t),r.onEnabled(t)},w0=function(t,r){return y0(t,r)?C0(t):Kh(t)},hS=function(t,r,o,s){var v=s?A2:Lv;v(t,r)},XE=Object.freeze({__proto__:null,enable:Lv,disable:A2,isDisabled:w0,onLoad:b0,set:hS}),YE=function(t,r){return Dc({classes:r.disabled()?r.disableClass.toArray():[]})},ZE=function(t,r){return ma([ey(Ns(),function(o,s){return w0(o,t)}),La(t,r,b0)])},Ld=Object.freeze({__proto__:null,exhibit:YE,events:ZE}),O2=[xa("disabled",Bt),me("useNative",!0),Fr("disableClass"),Ir("onDisabled"),Ir("onEnabled")],mn=jo({fields:O2,name:"disabling",active:Ld,apis:XE}),pS=function(t,r,o,s){var v=ou(t.element,"."+r.highlightClass);Ut(v,function(m){Jr(s,function(p){return p.element===m})||(Ro(m,r.highlightClass),t.getSystem().getByDom(m).each(function(p){r.onDehighlight(t,p),_r(p,r1())}))})},bS=function(t,r,o){return pS(t,r,o,[])},JE=function(t,r,o,s){D2(t,r,o,s)&&(Ro(s.element,r.highlightClass),r.onDehighlight(t,s),_r(s,r1()))},Xh=function(t,r,o,s){pS(t,r,o,[s]),D2(t,r,o,s)||(Ho(s.element,r.highlightClass),r.onHighlight(t,s),_r(s,Qb()))},uu=function(t,r,o){_2(t,r).each(function(s){Xh(t,r,o,s)})},Yh=function(t,r,o){B2(t,r).each(function(s){Xh(t,r,o,s)})},QE=function(t,r,o,s){CS(t,r,o,s).fold(function(v){throw v},function(v){Xh(t,r,o,v)})},yS=function(t,r,o,s){var v=wS(t,r),m=Ct(v,s);m.each(function(p){Xh(t,r,o,p)})},D2=function(t,r,o,s){return yu(s.element,r.highlightClass)},R2=function(t,r,o){return Vo(t.element,"."+r.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},CS=function(t,r,o,s){var v=ou(t.element,"."+r.itemClass);return A.from(v[s]).fold(function(){return Un.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},_2=function(t,r,o){return Vo(t.element,"."+r.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},B2=function(t,r,o){var s=ou(t.element,"."+r.itemClass),v=s.length>0?A.some(s[s.length-1]):A.none();return v.bind(function(m){return t.getSystem().getByDom(m).toOptional()})},Vf=function(t,r,o,s){var v=ou(t.element,"."+r.itemClass),m=Xt(v,function(p){return yu(p,r.highlightClass)});return m.bind(function(p){var w=ki(p,s,0,v.length-1);return t.getSystem().getByDom(v[w]).toOptional()})},ek=function(t,r,o){return Vf(t,r,o,-1)},tk=function(t,r,o){return Vf(t,r,o,1)},wS=function(t,r,o){var s=ou(t.element,"."+r.itemClass);return Mr(ut(s,function(v){return t.getSystem().getByDom(v).toOptional()}))},nk=Object.freeze({__proto__:null,dehighlightAll:bS,dehighlight:JE,highlight:Xh,highlightFirst:uu,highlightLast:Yh,highlightAt:QE,highlightBy:yS,isHighlighted:D2,getHighlighted:R2,getFirst:_2,getLast:B2,getPrevious:ek,getNext:tk,getCandidates:wS}),Zh=[Ue("highlightClass"),Ue("itemClass"),Ir("onHighlight"),Ir("onDehighlight")],Hr=jo({fields:Zh,name:"highlighting",apis:nk}),S0=[8],Uf=[9],Mc=[13],Hv=[27],Gu=[32],x0=[37],Hd=[38],yg=[39],Vv=[40],rk=function(t,r,o){var s=fn(t.slice(0,r)),v=fn(t.slice(r+1));return Ct(s.concat(v),o)},SS=function(t,r,o){var s=fn(t.slice(0,r));return Ct(s,o)},ak=function(t,r,o){var s=t.slice(0,r),v=t.slice(r+1);return Ct(v.concat(s),o)},ok=function(t,r,o){var s=t.slice(r+1);return Ct(s,o)},ar=function(t){return function(r){var o=r.raw;return In(t,o.which)}},Nc=function(t){return function(r){return rr(t,function(o){return o(r)})}},Cg=function(t){var r=t.raw;return r.shiftKey===!0},xS=function(t){var r=t.raw;return r.ctrlKey===!0},Jh=Sn(Cg),br=function(t,r){return{matches:t,classification:r}},TS=function(t,r){var o=Ct(t,function(s){return s.matches(r)});return o.map(function(s){return s.classification})},ES=function(t,r,o){var s=r.exists(function(v){return o.exists(function(m){return oa(m,v)})});s||bn(t,n1(),{prevFocus:r,newFocus:o})},Qh=function(){var t=function(o){return cl(o.element)},r=function(o,s){var v=t(o);o.getSystem().triggerFocus(s,o.element);var m=t(o);ES(o,v,m)};return{get:t,set:r}},kS=function(){var t=function(o){return Hr.getHighlighted(o).map(function(s){return s.element})},r=function(o,s){var v=t(o);o.getSystem().getByDom(s).fold(Ye,function(p){Hr.highlight(o,p)});var m=t(o);ES(o,v,m)};return{get:t,set:r}},ep;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(ep||(ep={}));var Vd=function(t,r,o,s,v){var m=function(){return t.concat([me("focusManager",Qh()),pu("focusInside","onFocus",Sm(function(T){return In(["onFocus","onEnterOrSpace","onApi"],T)?Un.value(T):Un.error("Invalid value for focusInside")})),ya("handler",S),ya("state",r),ya("sendFocusIn",v)])},p=function(T,D,_,z,H){var j=_(T,D,z,H);return TS(j,D.event).bind(function(ee){return ee(T,D,z,H)})},w=function(T,D){var _=T.focusInside!==ep.OnFocusMode?A.none():v(T).map(function(j){return Xe(dv(),function(ee,ce){j(ee,T,D),ce.stop()})}),z=function(j,ee){var ce=ar(Gu.concat(Mc))(ee.event);T.focusInside===ep.OnEnterOrSpaceMode&&ce&&ew(j,ee)&&v(T).each(function(Y){Y(j,T,D),ee.stop()})},H=[Xe(Jp(),function(j,ee){p(j,ee,o,T,D).fold(function(){z(j,ee)},function(ce){ee.stop()})}),Xe(qb(),function(j,ee){p(j,ee,s,T,D).each(function(ce){ee.stop()})})];return ma(_.toArray().concat(H))},S={schema:m,processKey:p,toEvents:w};return S},M2=function(t){var r=[Fr("onEscape"),Fr("onEnter"),me("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),me("firstTabstop",0),me("useTabstopAt",Qe),Fr("visibilitySelector")].concat([t]),o=function(ee,ce){var Y=ee.visibilitySelector.bind(function(de){return rc(ce,de)}).getOr(ce);return Oo(Y)>0},s=function(ee,ce){var Y=ou(ee.element,ce.selector),de=We(Y,function(Re){return o(ce,Re)});return A.from(de[ce.firstTabstop])},v=function(ee,ce){return ce.focusManager.get(ee).bind(function(Y){return rc(Y,ce.selector)})},m=function(ee,ce){return o(ee,ce)&&ee.useTabstopAt(ce)},p=function(ee,ce,Y){s(ee,ce).each(function(de){ce.focusManager.set(ee,de)})},w=function(ee,ce,Y,de,Re){return Re(ce,Y,function(De){return m(de,De)}).fold(function(){return de.cyclic?A.some(!0):A.none()},function(De){return de.focusManager.set(ee,De),A.some(!0)})},S=function(ee,ce,Y,de){var Re=ou(ee.element,Y.selector);return v(ee,Y).bind(function(De){var fe=Xt(Re,Tr(oa,De));return fe.bind(function(Te){return w(ee,Re,Te,Y,de)})})},T=function(ee,ce,Y){var de=Y.cyclic?rk:SS;return S(ee,ce,Y,de)},D=function(ee,ce,Y){var de=Y.cyclic?ak:ok;return S(ee,ce,Y,de)},_=function(ee,ce,Y){return Y.onEnter.bind(function(de){return de(ee,ce)})},z=function(ee,ce,Y){return Y.onEscape.bind(function(de){return de(ee,ce)})},H=ve([br(Nc([Cg,ar(Uf)]),T),br(ar(Uf),D),br(ar(Hv),z),br(Nc([Jh,ar(Mc)]),_)]),j=ve([]);return Vd(r,Ti.init,H,j,function(){return A.some(p)})},N2=M2(hu("cyclic",Bt)),AS=M2(hu("cyclic",Qe)),OS=function(t,r,o){return a1(t,o,Ns()),A.some(!0)},Uv=function(t,r,o){var s=tf(o)&&ar(Gu)(r.event);return s?A.none():OS(t,r,o)},Ud=function(t,r){return A.some(!0)},P2=[me("execute",Uv),me("useSpace",!1),me("useEnter",!0),me("useControlEnter",!1),me("useDown",!1)],DS=function(t,r,o){return o.execute(t,r,t.element)},T0=function(t,r,o,s){var v=o.useSpace&&!tf(t.element)?Gu:[],m=o.useEnter?Mc:[],p=o.useDown?Vv:[],w=v.concat(m).concat(p);return[br(ar(w),DS)].concat(o.useControlEnter?[br(Nc([xS,ar(Mc)]),DS)]:[])},ik=function(t,r,o,s){return o.useSpace&&!tf(t.element)?[br(ar(Gu),Ud)]:[]},wg=Vd(P2,Ti.init,T0,ik,function(){return A.none()}),F2=function(){var t=co(),r=function(v,m){t.set({numRows:v,numColumns:m})},o=function(){return t.get().map(function(v){return v.numRows})},s=function(){return t.get().map(function(v){return v.numColumns})};return Gi({readState:function(){return t.get().map(function(v){return{numRows:String(v.numRows),numColumns:String(v.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:s})},I2=function(t){return t.state(t)},RS=Object.freeze({__proto__:null,flatgrid:F2,init:I2}),z2=function(t){return function(r,o,s,v){var m=t(r.element);return L2(m,r,o,s,v)}},E0=function(t,r){var o=Fy(t,r);return z2(o)},k0=function(t,r){var o=Fy(r,t);return z2(o)},$2=function(t){return function(r,o,s,v){return L2(t,r,o,s,v)}},L2=function(t,r,o,s,v){var m=s.focusManager.get(r).bind(function(p){return t(r.element,p,s,v)});return m.map(function(p){return s.focusManager.set(r,p),!0})},_S=$2,Wd=$2,Sg=$2,BS=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},MS=function(t){return!BS(t.dom)},A0=function(t,r){return Xt(t,r).map(function(o){return{index:o,candidates:t}})},NS=function(t,r,o){var s=function(p){return oa(p,r)},v=ou(t,o),m=We(v,MS);return A0(m,s)},PS=function(t,r){return Xt(t,function(o){return oa(r,o)})},H2=function(t,r,o,s){var v=Math.floor(r/o),m=r%o;return s(v,m).bind(function(p){var w=p.row*o+p.column;return w>=0&&w<t.length?A.some(t[w]):A.none()})},FS=function(t,r,o,s,v){return H2(t,r,s,function(m,p){var w=m===o-1,S=w?t.length-m*s:s,T=ki(p,v,0,S-1);return A.some({row:m,column:T})})},IS=function(t,r,o,s,v){return H2(t,r,s,function(m,p){var w=ki(m,v,0,o-1),S=w===o-1,T=S?t.length-w*s:s,D=ls(p,0,T-1);return A.some({row:w,column:D})})},zS=function(t,r,o,s){return FS(t,r,o,s,1)},uk=function(t,r,o,s){return FS(t,r,o,s,-1)},$S=function(t,r,o,s){return IS(t,r,o,s,-1)},V2=function(t,r,o,s){return IS(t,r,o,s,1)},xg=[Ue("selector"),me("execute",Uv),Uo("onEscape"),me("captureTab",!1),T1()],sk=function(t,r,o){Vo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},LS=function(t,r){return r.focusManager.get(t).bind(function(o){return rc(o,r.selector)})},HS=function(t,r,o,s){return LS(t,o).bind(function(v){return o.execute(t,r,v)})},uc=function(t){return function(r,o,s,v){return NS(r,o,s.selector).bind(function(m){return t(m.candidates,m.index,v.getNumRows().getOr(s.initSize.numRows),v.getNumColumns().getOr(s.initSize.numColumns))})}},VS=function(t,r,o){return o.captureTab?A.some(!0):A.none()},US=function(t,r,o){return o.onEscape(t,r)},O0=uc(uk),D0=uc(zS),U2=uc($S),jd=uc(V2),Tg=ve([br(ar(x0),E0(O0,D0)),br(ar(yg),k0(O0,D0)),br(ar(Hd),_S(U2)),br(ar(Vv),Wd(jd)),br(Nc([Cg,ar(Uf)]),VS),br(Nc([Jh,ar(Uf)]),VS),br(ar(Hv),US),br(ar(Gu.concat(Mc)),HS)]),WS=ve([br(ar(Gu),Ud)]),jS=Vd(xg,F2,Tg,WS,function(){return A.some(sk)}),R0=function(t,r,o,s){var v=function(p){return _n(p)==="button"&&_a(p,"disabled")==="disabled"},m=function(p,w,S){var T=ki(w,s,0,S.length-1);return T===p?A.none():v(S[T])?m(p,T,S):A.from(S[T])};return NS(t,o,r).bind(function(p){var w=p.index,S=p.candidates;return m(w,w,S)})},ck=[Ue("selector"),me("getInitial",A.none),me("execute",Uv),Uo("onEscape"),me("executeOnMove",!1),me("allowVertical",!0)],_0=function(t,r){return r.focusManager.get(t).bind(function(o){return rc(o,r.selector)})},tp=function(t,r,o){return _0(t,o).bind(function(s){return o.execute(t,r,s)})},B0=function(t,r,o){r.getInitial(t).orThunk(function(){return Vo(t.element,r.selector)}).each(function(s){r.focusManager.set(t,s)})},GS=function(t,r,o){return R0(t,o.selector,r,-1)},M0=function(t,r,o){return R0(t,o.selector,r,1)},sc=function(t){return function(r,o,s,v){return t(r,o,s,v).bind(function(){return s.executeOnMove?tp(r,o,s):A.some(!0)})}},lk=function(t,r,o){return o.onEscape(t,r)},W2=function(t,r,o,s){var v=x0.concat(o.allowVertical?Hd:[]),m=yg.concat(o.allowVertical?Vv:[]);return[br(ar(v),sc(E0(GS,M0))),br(ar(m),sc(k0(GS,M0))),br(ar(Mc),tp),br(ar(Gu),tp),br(ar(Hv),lk)]},j2=ve([br(ar(Gu),Ud)]),N0=Vd(ck,Ti.init,W2,j2,function(){return A.some(B0)}),Eg=function(t,r,o){return A.from(t[r]).bind(function(s){return A.from(s[o]).map(function(v){return{rowIndex:r,columnIndex:o,cell:v}})})},P0=function(t,r,o,s){var v=t[r],m=v.length,p=ki(o,s,0,m-1);return Eg(t,r,p)},G2=function(t,r,o,s){var v=ki(o,s,0,t.length-1),m=t[v].length,p=ls(r,0,m-1);return Eg(t,v,p)},qS=function(t,r,o,s){var v=t[r],m=v.length,p=ls(o+s,0,m-1);return Eg(t,r,p)},KS=function(t,r,o,s){var v=ls(o+s,0,t.length-1),m=t[v].length,p=ls(r,0,m-1);return Eg(t,v,p)},F0=function(t,r,o){return P0(t,r,o,1)},fk=function(t,r,o){return P0(t,r,o,-1)},XS=function(t,r,o){return G2(t,o,r,-1)},vk=function(t,r,o){return G2(t,o,r,1)},dk=function(t,r,o){return qS(t,r,o,-1)},Gd=function(t,r,o){return qS(t,r,o,1)},mk=function(t,r,o){return KS(t,o,r,-1)},gk=function(t,r,o){return KS(t,o,r,1)},hk=[Nl("selectors",[Ue("row"),Ue("cell")]),me("cycles",!0),me("previousSelector",A.none),me("execute",Uv)],q2=function(t,r,o){var s=r.previousSelector(t).orThunk(function(){var v=r.selectors;return Vo(t.element,v.cell)});s.each(function(v){r.focusManager.set(t,v)})},K2=function(t,r,o){return cl(t.element).bind(function(s){return o.execute(t,r,s)})},YS=function(t,r){return ut(t,function(o){return ou(o,r.selectors.cell)})},np=function(t,r){return function(o,s,v){var m=v.cycles?t:r;return rc(s,v.selectors.row).bind(function(p){var w=ou(p,v.selectors.cell);return PS(w,s).bind(function(S){var T=ou(o,v.selectors.row);return PS(T,p).bind(function(D){var _=YS(T,v);return m(_,D,S).map(function(z){return z.cell})})})})}},X2=np(fk,dk),qd=np(F0,Gd),ZS=np(XS,mk),rp=np(vk,gk),kg=ve([br(ar(x0),E0(X2,qd)),br(ar(yg),k0(X2,qd)),br(ar(Hd),_S(ZS)),br(ar(Vv),Wd(rp)),br(ar(Gu.concat(Mc)),K2)]),JS=ve([br(ar(Gu),Ud)]),pk=Vd(hk,Ti.init,kg,JS,function(){return A.some(q2)}),bk=[Ue("selector"),me("execute",Uv),me("moveOnTab",!1)],QS=function(t,r,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,r,s)})},ap=function(t,r,o){Vo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},op=function(t,r,o){return R0(t,o.selector,r,-1)},ip=function(t,r,o){return R0(t,o.selector,r,1)},ex=function(t,r,o,s){return o.moveOnTab?Sg(op)(t,r,o,s):A.none()},qu=function(t,r,o,s){return o.moveOnTab?Sg(ip)(t,r,o,s):A.none()},tx=ve([br(ar(Hd),Sg(op)),br(ar(Vv),Sg(ip)),br(Nc([Cg,ar(Uf)]),ex),br(Nc([Jh,ar(Uf)]),qu),br(ar(Mc),QS),br(ar(Gu),QS)]),gl=ve([br(ar(Gu),Ud)]),yk=Vd(bk,Ti.init,tx,gl,function(){return A.some(ap)}),nx=[Uo("onSpace"),Uo("onEnter"),Uo("onShiftEnter"),Uo("onLeft"),Uo("onRight"),Uo("onTab"),Uo("onShiftTab"),Uo("onUp"),Uo("onDown"),Uo("onEscape"),me("stopSpaceKeyup",!1),Fr("focusIn")],Ag=function(t,r,o){return[br(ar(Gu),o.onSpace),br(Nc([Jh,ar(Mc)]),o.onEnter),br(Nc([Cg,ar(Mc)]),o.onShiftEnter),br(Nc([Cg,ar(Uf)]),o.onShiftTab),br(Nc([Jh,ar(Uf)]),o.onTab),br(ar(Hd),o.onUp),br(ar(Vv),o.onDown),br(ar(x0),o.onLeft),br(ar(yg),o.onRight),br(ar(Gu),o.onSpace),br(ar(Hv),o.onEscape)]},Og=function(t,r,o){return o.stopSpaceKeyup?[br(ar(Gu),Ud)]:[]},rx=Vd(nx,Ti.init,Ag,Og,function(t){return t.focusIn}),ax=N2.schema(),Wv=AS.schema(),jv=N0.schema(),Y2=jS.schema(),Ck=pk.schema(),Kd=wg.schema(),wk=yk.schema(),ox=rx.schema(),up=Object.freeze({__proto__:null,acyclic:ax,cyclic:Wv,flow:jv,flatgrid:Y2,matrix:Ck,execution:Kd,menu:wk,special:ox}),ix=function(t){return Ea(t,"setGridSize")},nn=Ed({branchKey:"mode",branches:up,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,r,o)})},setGridSize:function(t,r,o,s,v){ix(o)?o.setGridSize(s,v):console.error("Layout does not support setGridSize")}},state:RS}),sp=function(t,r,o,s){Tw(function(){var v=ut(s,t.getSystem().build);e2(t,v)},t.element)},cp=function(t,r,o,s){var v=t.getSystem().build(s);o0(t,v,o)},Z2=function(t,r,o,s){cp(t,r,Hi,s)},ux=function(t,r,o,s){cp(t,r,wf,s)},I0=function(t,r,o,s){var v=lp(t),m=Ct(v,function(p){return oa(s.element,p.element)});m.each(dl)},lp=function(t,r){return t.components()},J2=function(t,r,o,s,v){var m=lp(t);return A.from(m[s]).map(function(p){return I0(t,r,o,p),v.each(function(w){cp(t,r,function(S,T){Qc(S,T,s)},w)}),p})},sx=function(t,r,o,s,v){var m=lp(t);return Xt(m,s).bind(function(p){return J2(t,r,o,p,v)})},Sk=Object.freeze({__proto__:null,append:Z2,prepend:ux,remove:I0,replaceAt:J2,replaceBy:sx,set:sp,contents:lp}),An=jo({fields:[],name:"replacing",apis:Sk}),z0=function(t,r){var o=ma(r);return jo({fields:[Ue("enabled")],name:t,active:{events:ve(o)}})},$n=function(t,r){var o=z0(t,r);return{key:t,value:{config:{},me:o,configAsRaw:ve({}),initialConfig:{},state:Ti}}},cx=function(t,r){r.ignore||(sl(t.element),r.onFocus(t))},lx=function(t,r){r.ignore||Dh(t.element)},Q2=function(t){return Rh(t.element)},Xd=Object.freeze({__proto__:null,focus:cx,blur:lx,isFocused:Q2}),$0=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return Dc(o)},fp=function(t){return ma([Xe(dv(),function(r,o){cx(r,t),o.stop()})].concat(t.stopMousedown?[Xe(kc(),function(r,o){o.event.prevent()})]:[]))},L0=Object.freeze({__proto__:null,exhibit:$0,events:fp}),eC=[Ir("onFocus"),me("stopMousedown",!1),me("ignore",!1)],On=jo({fields:eC,name:"focusing",active:L0,apis:Xd}),xk=function(t){var r=function(){var o=pn(t),s=function(){return o.get()},v=function(w){return o.set(w)},m=function(){return o.set(t)},p=function(){return o.get()};return{get:s,set:v,clear:m,readState:p}};return{init:r}},fx=function(t,r,o){var s=r.aria;s.update(t,s,o.get())},H0=function(t,r,o){r.toggleClass.each(function(s){o.get()?Ho(t.element,s):Ro(t.element,s)})},nf=function(t,r,o){V0(t,r,o,!o.get())},vx=function(t,r,o){o.set(!0),H0(t,r,o),fx(t,r,o)},vp=function(t,r,o){o.set(!1),H0(t,r,o),fx(t,r,o)},V0=function(t,r,o,s){var v=s?vx:vp;v(t,r,o)},dx=function(t,r,o){return o.get()},mx=function(t,r,o){V0(t,r,o,r.selected)},Tk=Object.freeze({__proto__:null,onLoad:mx,toggle:nf,isOn:dx,on:vx,off:vp,set:V0}),Ek=function(){return Dc({})},kk=function(t,r){var o=Td(t,r,nf),s=La(t,r,mx);return ma(xt([t.toggleOnExecute?[o]:[],[s]]))},Ak=Object.freeze({__proto__:null,exhibit:Ek,events:kk}),Ok=function(t,r,o){Vn(t.element,"aria-pressed",o),r.syncWithExpanded&&tC(t,r,o)},gx=function(t,r,o){Vn(t.element,"aria-selected",o)},Dk=function(t,r,o){Vn(t.element,"aria-checked",o)},tC=function(t,r,o){Vn(t.element,"aria-expanded",o)},Dg=[me("selected",!1),Fr("toggleClass"),me("toggleOnExecute",!0),pu("aria",{mode:"none"},Qs("mode",{pressed:[me("syncWithExpanded",!1),ya("update",Ok)],checked:[ya("update",Dk)],expanded:[ya("update",tC)],selected:[ya("update",gx)],none:[ya("update",Ye)]}))],dr=jo({fields:Dg,name:"toggling",active:Ak,apis:Tk,state:xk(!1)}),U0=function(){var t=function(r,o){o.stop(),Fs(r)};return[Xe(Om(),t),Xe(mv(),t),vd(Il()),vd(kc())]},W0=function(t){var r=function(o){return cs(function(s,v){o(s),v.stop()})};return ma(xt([t.map(r).toArray(),U0()]))},hx="alloy.item-hover",px="alloy.item-focus",bx=function(t){(cl(t.element).isNone()||On.isFocused(t))&&(On.isFocused(t)||On.focus(t),bn(t,hx,{item:t}))},nC=function(t){bn(t,px,{item:t})},rC=ve(hx),u=ve(px),l=function(t){return{dom:t.dom,domModification:oe(oe({},t.domModification),{attributes:oe(oe(oe({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:oc.augment(t.itemBehaviours,[t.toggling.fold(dr.revoke,function(r){return dr.config(oe({aria:{mode:"checked"}},r))}),On.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){nC(r)}}),nn.config({mode:"execution"}),At.config({store:{mode:"memory",initialValue:t.data}}),$n("item-type-events",mt(mt([],U0(),!0),[Xe(Rf(),bx),Xe(cd(),On.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},d=[Ue("data"),Ue("components"),Ue("dom"),me("hasSubmenu",!1),Fr("toggling"),oc.field("itemBehaviours",[dr,On,nn,At]),me("ignoreFocus",!1),me("domModification",{}),ya("builder",l),me("eventOrder",{})],h=function(t){return{dom:t.dom,components:t.components,events:ma([_m(cd())])}},y=[Ue("dom"),Ue("components"),ya("builder",h)],x=ve("item-widget"),O=ve([Ri({name:"widget",overrides:function(t){return{behaviours:wt([At.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:Ye}})])}}})]),M=function(t){var r=y2(x(),t,O()),o=C2(x(),t,r.internals()),s=function(m){return ua(m,t,"widget").map(function(p){return nn.focusIn(p),p})},v=function(m,p){return tf(p.event.target)?A.none():function(){return t.autofocus&&p.setSource(m.element),A.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:ma([cs(function(m,p){s(m).each(function(w){p.stop()})}),Xe(Rf(),bx),Xe(cd(),function(m,p){t.autofocus?s(m):On.focus(m)})]),behaviours:oc.augment(t.widgetBehaviours,[At.config({store:{mode:"memory",initialValue:t.data}}),On.config({ignore:t.ignoreFocus,onFocus:function(m){nC(m)}}),nn.config({mode:"special",focusIn:t.autofocus?function(m){s(m)}:xw(),onLeft:v,onRight:v,onEscape:function(m,p){return!On.isFocused(m)&&!t.autofocus?(On.focus(m),A.some(!0)):(t.autofocus&&p.setSource(m.element),A.none())}})])}},U=[Ue("uid"),Ue("data"),Ue("components"),Ue("dom"),me("autofocus",!1),me("ignoreFocus",!1),oc.field("widgetBehaviours",[At,On,nn]),me("domModification",{}),Gh(O()),ya("builder",M)],X=Qs("type",{widget:U,item:d,separator:y}),ue=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},Pe=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},et=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},qe=ve([Ql({factory:{sketch:function(t){var r=Xr("menu.spec item",X,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return wr(r,"uid")?r:oe(oe({},r),{uid:Cv("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),Ne=ve([Ue("value"),Ue("items"),Ue("dom"),Ue("components"),me("eventOrder",{}),Go("menuBehaviours",[Hr,At,sr,nn]),pu("movement",{mode:"menu",moveOnTab:!0},Qs("mode",{grid:[T1(),ya("config",ue)],matrix:[ya("config",Pe),Ue("rowSelector")],menu:[me("moveOnTab",!0),ya("config",et)]})),H3(),me("fakeFocus",!1),me("focusManager",Qh()),Ir("onHighlight")]),bt=ve("alloy.menu-focus"),St=function(t,r,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:ui(t.menuBehaviours,[Hr.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),At.config({store:{mode:"memory",initialValue:t.value}}),sr.config({find:A.some}),nn.config(t.movement.config(t,t.movement))]),events:ma([Xe(u(),function(v,m){var p=m.event;v.getSystem().getByDom(p.target).each(function(w){Hr.highlight(v,w),m.stop(),bn(v,bt(),{menu:v,item:w})})}),Xe(rC(),function(v,m){var p=m.event.item;Hr.highlight(v,p)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},an=Eu({name:"Menu",configFields:Ne(),partFields:qe(),factory:St}),yr=function(t){return Me(t,function(r,o){return{k:r,v:o}})},cn=function(t,r,o,s){return rn(o,s).bind(function(v){return rn(t,v).bind(function(m){var p=cn(t,r,o,m);return A.some([m].concat(p))})}).getOr([])},Dn=function(t,r){var o={};aa(t,function(p,w){Ut(p,function(S){o[S]=w})});var s=r,v=yr(r),m=Br(v,function(p,w){return[w].concat(cn(o,s,v,w))});return Br(o,function(p){return rn(m,p).getOr([p])})},cr=function(){var t=pn({}),r=pn({}),o=pn({}),s=co(),v=pn({}),m=function(){t.set({}),r.set({}),o.set({}),s.clear()},p=function(){return s.get().isNone()},w=function(fe,Te){var Le;r.set(oe(oe({},r.get()),(Le={},Le[fe]={type:"prepared",menu:Te},Le)))},S=function(fe,Te,Le,Ot){s.set(fe),t.set(Le),r.set(Te),v.set(Ot);var Ke=Dn(Ot,Le);o.set(Ke)},T=function(fe){return Ar(t.get(),function(Te,Le){return Te===fe})},D=function(fe,Te,Le){return ee(fe).bind(function(Ot){return T(fe).bind(function(Ke){return Te(Ke).map(function(Dt){return{triggeredMenu:Ot,triggeringItem:Dt,triggeringPath:Le}})})})},_=function(fe,Te){var Le=We(Y(fe).toArray(),function(Ot){return ee(Ot).isSome()});return rn(o.get(),fe).bind(function(Ot){var Ke=fn(Le.concat(Ot)),Dt=Qn(Ke,function(Je,$e){return D(Je,Te,Ke.slice(0,$e+1)).fold(function(){return gi(s.get(),Je)?[]:[A.none()]},function(pt){return[A.some(pt)]})});return qn(Dt)})},z=function(fe){return rn(t.get(),fe).map(function(Te){var Le=rn(o.get(),fe).getOr([]);return[Te].concat(Le)})},H=function(fe){return rn(o.get(),fe).bind(function(Te){return Te.length>1?A.some(Te.slice(1)):A.none()})},j=function(fe){return rn(o.get(),fe)},ee=function(fe){return ce(fe).bind(or)},ce=function(fe){return rn(r.get(),fe)},Y=function(fe){return rn(t.get(),fe)},de=function(fe){var Te=v.get();return jr(la(Te),fe)},Re=function(){return s.get().bind(ee)},De=function(){return r.get()};return{setMenuBuilt:w,setContents:S,expand:z,refresh:j,collapse:H,lookupMenu:ce,lookupItem:Y,otherMenus:de,getPrimary:Re,getMenus:De,clear:m,isClear:p,getTriggeringPath:_}},or=function(t){return t.type==="prepared"?A.some(t.menu):A.none()},Bo={init:cr,extractPreparedMenu:or},si=function(t,r){var o=co(),s=function(Ge,Wt,Qt){return Br(Qt,function(lr,Kr){var Da=function(){return an.sketch(oe(oe({},lr),{value:Kr,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?kS():Qh()}))};return Kr===Wt?{type:"prepared",menu:Ge.getSystem().build(Da())}:{type:"notbuilt",nbMenu:Da}})},v=Bo.init(),m=function(Ge){var Wt=s(Ge,t.data.primary,t.data.menus),Qt=S();return v.setContents(t.data.primary,Wt,t.data.expansions,Qt),v.getPrimary()},p=function(Ge){return At.getValue(Ge).value},w=function(Ge,Wt,Qt){return na(Wt,function(lr){if(!lr.getSystem().isConnected())return A.none();var Kr=Hr.getCandidates(lr);return Ct(Kr,function(Da){return p(Da)===Qt})})},S=function(Ge){return Br(t.data.menus,function(Wt,Qt){return Qn(Wt.items,function(lr){return lr.type==="separator"?[]:[lr.data.value]})})},T=function(Ge,Wt){Hr.highlight(Ge,Wt),Hr.getHighlighted(Wt).orThunk(function(){return Hr.getFirst(Wt)}).each(function(Qt){a1(Ge,Qt.element,cd())})},D=function(Ge,Wt){return Mr(ut(Wt,function(Qt){return Ge.lookupMenu(Qt).bind(function(lr){return lr.type==="prepared"?A.some(lr.menu):A.none()})}))},_=function(Ge,Wt,Qt){var lr=D(Wt,Wt.otherMenus(Qt));Ut(lr,function(Kr){Ls(Kr.element,[t.markers.backgroundMenu]),t.stayInDom||An.remove(Ge,Kr)})},z=function(Ge){return o.get().getOrThunk(function(){var Wt={},Qt=ou(Ge.element,"."+t.markers.item),lr=We(Qt,function(Kr){return _a(Kr,"aria-haspopup")==="true"});return Ut(lr,function(Kr){Ge.getSystem().getByDom(Kr).each(function(Da){var ao=p(Da);Wt[ao]=Da})}),o.set(Wt),Wt})},H=function(Ge,Wt){var Qt=z(Ge);aa(Qt,function(lr,Kr){var Da=In(Wt,Kr);Vn(lr.element,"aria-expanded",Da)})},j=function(Ge,Wt,Qt){return A.from(Qt[0]).bind(function(lr){return Wt.lookupMenu(lr).bind(function(Kr){if(Kr.type==="notbuilt")return A.none();var Da=Kr.menu,ao=D(Wt,Qt.slice(1));return Ut(ao,function(gc){Ho(gc.element,t.markers.backgroundMenu)}),io(Da.element)||An.append(Ge,Hs(Da)),Ls(Da.element,[t.markers.backgroundMenu]),T(Ge,Da),_(Ge,Wt,Qt),A.some(Da)})})},ee;(function(Ge){Ge[Ge.HighlightSubmenu=0]="HighlightSubmenu",Ge[Ge.HighlightParent=1]="HighlightParent"})(ee||(ee={}));var ce=function(Ge,Wt,Qt){if(Qt.type==="notbuilt"){var lr=Ge.getSystem().build(Qt.nbMenu());return v.setMenuBuilt(Wt,lr),lr}else return Qt.menu},Y=function(Ge,Wt,Qt){if(Qt===void 0&&(Qt=ee.HighlightSubmenu),Wt.hasConfigured(mn)&&mn.isDisabled(Wt))return A.some(Wt);var lr=p(Wt);return v.expand(lr).bind(function(Kr){return H(Ge,Kr),A.from(Kr[0]).bind(function(Da){return v.lookupMenu(Da).bind(function(ao){var gc=ce(Ge,Da,ao);return io(gc.element)||An.append(Ge,Hs(gc)),t.onOpenSubmenu(Ge,Wt,gc,fn(Kr)),Qt===ee.HighlightSubmenu?(Hr.highlightFirst(gc),j(Ge,v,Kr)):(Hr.dehighlightAll(gc),A.some(Wt))})})})},de=function(Ge,Wt){var Qt=p(Wt);return v.collapse(Qt).bind(function(lr){return H(Ge,lr),j(Ge,v,lr).map(function(Kr){return t.onCollapseMenu(Ge,Wt,Kr),Kr})})},Re=function(Ge,Wt){var Qt=p(Wt);return v.refresh(Qt).bind(function(lr){return H(Ge,lr),j(Ge,v,lr)})},De=function(Ge,Wt){return tf(Wt.element)?A.none():Y(Ge,Wt,ee.HighlightSubmenu)},fe=function(Ge,Wt){return tf(Wt.element)?A.none():de(Ge,Wt)},Te=function(Ge,Wt){return de(Ge,Wt).orThunk(function(){return t.onEscape(Ge,Wt).map(function(){return Ge})})},Le=function(Ge){return function(Wt,Qt){return rc(Qt.getSource(),"."+t.markers.item).bind(function(lr){return Wt.getSystem().getByDom(lr).toOptional().bind(function(Kr){return Ge(Wt,Kr).map(Qe)})})}},Ot=ma([Xe(bt(),function(Ge,Wt){var Qt=Wt.event.item;v.lookupItem(p(Qt)).each(function(){var lr=Wt.event.menu;Hr.highlight(Ge,lr);var Kr=p(Wt.event.item);v.refresh(Kr).each(function(Da){return _(Ge,v,Da)})})}),cs(function(Ge,Wt){var Qt=Wt.event.target;Ge.getSystem().getByDom(Qt).each(function(lr){var Kr=p(lr);Kr.indexOf("collapse-item")===0&&de(Ge,lr),Y(Ge,lr,ee.HighlightSubmenu).fold(function(){t.onExecute(Ge,lr)},Ye)})}),zn(function(Ge,Wt){m(Ge).each(function(Qt){An.append(Ge,Hs(Qt)),t.onOpenMenu(Ge,Qt),t.highlightImmediately&&T(Ge,Qt)})})].concat(t.navigateOnHover?[Xe(rC(),function(Ge,Wt){var Qt=Wt.event.item;Re(Ge,Qt),Y(Ge,Qt,ee.HighlightParent),t.onHover(Ge,Qt)})]:[])),Ke=function(Ge){return Hr.getHighlighted(Ge).bind(Hr.getHighlighted)},Dt=function(Ge){Ke(Ge).each(function(Wt){de(Ge,Wt)})},Je=function(Ge){v.getPrimary().each(function(Wt){T(Ge,Wt)})},$e=function(Ge){return A.from(Ge.components()[0]).filter(function(Wt){return _a(Wt.element,"role")==="menu"})},pt=function(Ge){var Wt=v.getPrimary().bind(function(Qt){return Ke(Ge).bind(function(lr){var Kr=p(lr),Da=Ha(v.getMenus()),ao=Mr(ut(Da,Bo.extractPreparedMenu));return v.getTriggeringPath(Kr,function(gc){return w(Ge,ao,gc)})}).map(function(lr){return{primary:Qt,triggeringPath:lr}})});Wt.fold(function(){$e(Ge).each(function(Qt){t.onRepositionMenu(Ge,Qt,[])})},function(Qt){var lr=Qt.primary,Kr=Qt.triggeringPath;t.onRepositionMenu(Ge,lr,Kr)})},Kt={collapseMenu:Dt,highlightPrimary:Je,repositionMenus:pt};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:ui(t.tmenuBehaviours,[nn.config({mode:"special",onRight:Le(De),onLeft:Le(fe),onEscape:Le(Te),focusIn:function(Ge,Wt){v.getPrimary().each(function(Qt){a1(Ge,Qt.element,cd())})}}),Hr.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),sr.config({find:function(Ge){return Hr.getHighlighted(Ge)}}),An.config({})]),eventOrder:t.eventOrder,apis:Kt,events:Ot}},ku=ve("collapse-item"),Sr=function(t,r,o){return{primary:t,menus:r,expansions:o}},Mn=function(t,r){return{primary:t,menus:Pl(t,r),expansions:{}}},mr=function(t){return{value:qt(ku()),meta:{text:t}}},Yr=Us({name:"TieredMenu",configFields:[Hu("onExecute"),Hu("onEscape"),wu("onOpenMenu"),wu("onOpenSubmenu"),Ir("onRepositionMenu"),Ir("onCollapseMenu"),me("highlightImmediately",!0),Nl("data",[Ue("primary"),Ue("menus"),Ue("expansions")]),me("fakeFocus",!1),Ir("onHighlight"),Ir("onHover"),Cd(),Ue("dom"),me("navigateOnHover",!0),me("stayInDom",!1),Go("tmenuBehaviours",[nn,Hr,sr,An]),me("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:si,extraApis:{tieredData:Sr,singleData:Mn,collapseItem:mr}}),no=function(t,r,o,s,v){var m=function(){return t.lazySink(r)},p=s.type==="horizontal"?{layouts:{onLtr:function(){return B1()},onRtl:function(){return M1()}}}:{},w=function(T){return T.length===2},S=function(T){return w(T)?p:{}};return Yr.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return pr.close(r),t.onEscape.map(function(T){return T(r)}),A.some(!0)},onExecute:function(){return A.some(!0)},onOpenMenu:function(T,D){lo.positionWithinBounds(m().getOrDie(),D,o,v())},onOpenSubmenu:function(T,D,_,z){var H=m().getOrDie();lo.position(H,_,{anchor:oe({type:"submenu",item:D},S(z))})},onRepositionMenu:function(T,D,_){var z=m().getOrDie();lo.positionWithinBounds(z,D,o,v()),Ut(_,function(H){var j=S(H.triggeringPath);lo.position(z,H.triggeredMenu,{anchor:oe({type:"submenu",item:H.triggeringItem},j)})})}})},rf=function(t,r){var o=function(H,j){var ee=t.getRelated(H);return ee.exists(function(ce){return yd(ce,j)})},s=function(H,j){pr.setContent(H,j)},v=function(H,j,ee){m(H,j,ee,A.none())},m=function(H,j,ee,ce){p(H,j,ee,function(){return ce.map(function(Y){return So(Y)})})},p=function(H,j,ee,ce){var Y=t.lazySink(H).getOrDie();pr.openWhileCloaked(H,j,function(){return lo.positionWithinBounds(Y,H,ee,ce())}),At.setValue(H,A.some({mode:"position",config:ee,getBounds:ce}))},w=function(H,j,ee){S(H,j,ee,A.none)},S=function(H,j,ee,ce){var Y=no(t,H,j,ee,ce);pr.open(H,Y),At.setValue(H,A.some({mode:"menu",menu:Y}))},T=function(H){pr.isOpen(H)&&(At.setValue(H,A.none()),pr.close(H))},D=function(H){return pr.getState(H)},_=function(H){pr.isOpen(H)&&At.getValue(H).each(function(j){switch(j.mode){case"menu":pr.getState(H).each(Yr.repositionMenus);break;case"position":var ee=t.lazySink(H).getOrDie();lo.positionWithinBounds(ee,H,j.config,j.getBounds());break}})},z={setContent:s,showAt:v,showWithin:m,showWithinBounds:p,showMenuAt:w,showMenuWithinBounds:S,hide:T,getContent:D,reposition:_,isOpen:pr.isOpen};return{uid:t.uid,dom:t.dom,behaviours:ui(t.inlineBehaviours,[pr.config({isPartOf:function(H,j,ee){return yd(j,ee)||o(H,ee)},getAttachPoint:function(H){return t.lazySink(H).getOrDie()},onOpen:function(H){t.onShow(H)},onClose:function(H){t.onHide(H)}}),At.config({store:{mode:"memory",initialValue:A.none()}}),ru.config({channels:oe(oe({},ju(oe({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(H){return{fireEventInstead:{event:H.event}}}).getOr({})))),Pd(oe(oe({},t.fireRepositionEventInstead.map(function(H){return{fireEventInstead:{event:H.event}}}).getOr({})),{doReposition:_})))})]),eventOrder:t.eventOrder,apis:z}},ea=Us({name:"InlineView",configFields:[Ue("lazySink"),Ir("onShow"),Ir("onHide"),fv("onEscape"),Go("inlineBehaviours",[pr,At,ru]),us("fireDismissalEventInstead",[me("event",Ac())]),us("fireRepositionEventInstead",[me("event",ji())]),me("getRelated",A.none),me("isExtraPart",Bt),me("eventOrder",A.none)],factory:rf,apis:{showAt:function(t,r,o,s){t.showAt(r,o,s)},showWithin:function(t,r,o,s,v){t.showWithin(r,o,s,v)},showWithinBounds:function(t,r,o,s,v){t.showWithinBounds(r,o,s,v)},showMenuAt:function(t,r,o,s){t.showMenuAt(r,o,s)},showMenuWithinBounds:function(t,r,o,s,v){t.showMenuWithinBounds(r,o,s,v)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),cc="layout-inset",_i=function(t){return t.x},dp=function(t,r){return t.x+t.width/2-r.width/2},Gv=function(t,r){return t.x+t.width-r.width},hl=function(t){return t.y},lc=function(t,r){return t.y+t.height-r.height},Pc=function(t,r){return t.y+t.height/2-r.height/2},mp=function(t,r,o){return Xo(Gv(t,r),lc(t,r),o.insetSouthwest(),Sd(),"southwest",Wo(t,{right:0,bottom:3}),cc)},Yd=function(t,r,o){return Xo(_i(t),lc(t,r),o.insetSoutheast(),hy(),"southeast",Wo(t,{left:1,bottom:3}),cc)},gp=function(t,r,o){return Xo(Gv(t,r),hl(t),o.insetNorthwest(),gy(),"northwest",Wo(t,{right:0,top:2}),cc)},Zd=function(t,r,o){return Xo(_i(t),hl(t),o.insetNortheast(),k1(),"northeast",Wo(t,{left:1,top:2}),cc)},pl=function(t,r,o){return Xo(dp(t,r),hl(t),o.insetNorth(),Th(),"north",Wo(t,{top:2}),cc)},Rg=function(t,r,o){return Xo(dp(t,r),lc(t,r),o.insetSouth(),py(),"south",Wo(t,{bottom:3}),cc)},j0=function(t,r,o){return Xo(Gv(t,r),Pc(t,r),o.insetEast(),Lm(),"east",Wo(t,{right:0}),cc)},yx=function(t,r,o){return Xo(_i(t),Pc(t,r),o.insetWest(),by(),"west",Wo(t,{left:1}),cc)},hp=function(t){switch(t){case"north":return pl;case"northeast":return Zd;case"northwest":return gp;case"south":return Rg;case"southeast":return Yd;case"southwest":return mp;case"east":return j0;case"west":return yx}},Rk=function(t,r,o,s,v){var m=Oy(s).map(hp).getOr(pl);return m(t,r,o,s,v)},_k=function(t){switch(t){case"north":return Rg;case"northeast":return Yd;case"northwest":return mp;case"south":return pl;case"southeast":return Zd;case"southwest":return gp;case"east":return yx;case"west":return j0}},_B=function(t,r,o,s,v){var m=Oy(s).map(_k).getOr(pl);return m(t,r,o,s,v)},Wf=tinymce.util.Tools.resolve("tinymce.util.Delay"),BB=function(t){var r=W0(t.action),o=t.dom.tag,s=function(m){return rn(t.dom,"attributes").bind(function(p){return rn(p,m)})},v=function(){if(o==="button"){var m=s("type").getOr("button"),p=s("role").map(function(S){return{role:S}}).getOr({});return oe({type:m},p)}else{var w=s("role").getOr("button");return{role:w}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:oc.augment(t.buttonBehaviours,[On.config({}),nn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:v()},eventOrder:t.eventOrder}},vs=Us({name:"Button",factory:BB,configFields:[me("uid",void 0),Ue("dom"),me("components",[]),oc.field("buttonBehaviours",[On,nn]),Fr("action"),Fr("role"),me("eventOrder",{})]}),MB=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return Ee(r,function(o,s){var v;return s.name==="class"?o:oe(oe({},o),(v={},v[s.name]=s.value,v))},{})},NB=function(t){return Array.prototype.slice.call(t.dom.classList,0)},Jd=function(t){var r=ne.fromHtml(t),o=B(r),s=MB(r),v=NB(r),m=o.length===0?{}:{innerHtml:zl(r)};return oe({tag:_n(r),classes:v,attributes:s},m)},Gr=function(t){var r=T2(t)&&Ea(t,"uid")?t.uid:Cv("memento"),o=function(m){return m.getSystem().getByUid(r).getOrDie()},s=function(m){return m.getSystem().getByUid(r).toOptional()},v=function(){return oe(oe({},t),{uid:r})};return{get:o,getOpt:s,asSpec:v}};function _g(t){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_g(t)}function Bk(t,r){return Bk=Object.setPrototypeOf||function(s,v){return s.__proto__=v,s},Bk(t,r)}function PB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pp(t,r,o){return PB()?pp=Reflect.construct:pp=function(v,m,p){var w=[null];w.push.apply(w,m);var S=Function.bind.apply(v,w),T=new S;return p&&Bk(T,p.prototype),T},pp.apply(null,arguments)}function jf(t){return FB(t)||Mk(t)||IB(t)||zB()}function FB(t){if(Array.isArray(t))return Nk(t)}function Mk(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IB(t,r){if(t){if(typeof t=="string")return Nk(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Nk(t,r)}}function Nk(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=t[o];return s}function zB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $B=Object.hasOwnProperty,CO=Object.setPrototypeOf,LB=Object.isFrozen,HB=Object.getPrototypeOf,VB=Object.getOwnPropertyDescriptor,fc=Object.freeze,qv=Object.seal,UB=Object.create,wO=typeof Reflect<"u"&&Reflect,G0=wO.apply,Pk=wO.construct;G0||(G0=function(r,o,s){return r.apply(o,s)}),fc||(fc=function(r){return r}),qv||(qv=function(r){return r}),Pk||(Pk=function(r,o){return pp(r,jf(o))});var WB=Gf(Array.prototype.forEach),SO=Gf(Array.prototype.pop),q0=Gf(Array.prototype.push),Cx=Gf(String.prototype.toLowerCase),jB=Gf(String.prototype.match),Bg=Gf(String.prototype.replace),GB=Gf(String.prototype.indexOf),qB=Gf(String.prototype.trim),ds=Gf(RegExp.prototype.test),Fk=KB(TypeError);function Gf(t){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),v=1;v<o;v++)s[v-1]=arguments[v];return G0(t,r,s)}}function KB(t){return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return Pk(t,o)}}function ga(t,r){CO&&CO(t,null);for(var o=r.length;o--;){var s=r[o];if(typeof s=="string"){var v=Cx(s);v!==s&&(LB(r)||(r[o]=v),s=v)}t[s]=!0}return t}function bp(t){var r=UB(null),o;for(o in t)G0($B,t,[o])&&(r[o]=t[o]);return r}function wx(t,r){for(;t!==null;){var o=VB(t,r);if(o){if(o.get)return Gf(o.get);if(typeof o.value=="function")return Gf(o.value)}t=HB(t)}function s(v){return console.warn("fallback value for",v),null}return s}var xO=fc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ik=fc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zk=fc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),XB=fc(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$k=fc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Lk=fc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),TO=fc(["#text"]),EO=fc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Hk=fc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Sx=fc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xx=fc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Vk=qv(/\{\{[\w\W]*|[\w\W]*\}\}/gm),YB=qv(/<%[\w\W]*|[\w\W]*%>/gm),ZB=qv(/^data-[\-\w.\u00B7-\uFFFF]/),JB=qv(/^aria-[\-\w]+$/),QB=qv(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eM=qv(/^(?:\w+script|data):/i),kO=qv(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tM=qv(/^html$/i),Uk=function(){return typeof window>"u"?null:window},Wk=function(r,o){if(_g(r)!=="object"||typeof r.createPolicy!="function")return null;var s=null,v="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(v)&&(s=o.currentScript.getAttribute(v));var m="dompurify"+(s?"#"+s:"");try{return r.createPolicy(m,{createHTML:function(w){return w}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function jk(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Uk(),r=function(_e){return jk(_e)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var o=t.document,s=t.document,v=t.DocumentFragment,m=t.HTMLTemplateElement,p=t.Node,w=t.Element,S=t.NodeFilter,T=t.NamedNodeMap,D=T===void 0?t.NamedNodeMap||t.MozNamedAttrMap:T,_=t.HTMLFormElement,z=t.DOMParser,H=t.trustedTypes,j=w.prototype,ee=wx(j,"cloneNode"),ce=wx(j,"nextSibling"),Y=wx(j,"childNodes"),de=wx(j,"parentNode");if(typeof m=="function"){var Re=s.createElement("template");Re.content&&Re.content.ownerDocument&&(s=Re.content.ownerDocument)}var De=Wk(H,o),fe=De?De.createHTML(""):"",Te=s,Le=Te.implementation,Ot=Te.createNodeIterator,Ke=Te.createDocumentFragment,Dt=Te.getElementsByTagName,Je=o.importNode,$e={};try{$e=bp(s).documentMode?s.documentMode:{}}catch{}var pt={};r.isSupported=typeof de=="function"&&Le&&typeof Le.createHTMLDocument<"u"&&$e!==9;var Kt=Vk,Ge=YB,Wt=ZB,Qt=JB,lr=eM,Kr=kO,Da=QB,ao=null,gc=ga({},[].concat(jf(xO),jf(Ik),jf(zk),jf($k),jf(TO))),_u=null,v3=ga({},[].concat(jf(EO),jf(Hk),jf(Sx),jf(xx))),vi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ip=null,zp=null,HC=!0,$p=!0,VC=!1,ps=!1,av=!1,Xu=!1,UC=!1,Jg=!1,_b=!1,di=!1,cm=!0,Qg=!0,Lp=!1,ov={},eh=null,It=ga({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),jn=null,Zr=ga({},["audio","video","img","source","image","track"]),qa=null,bs=ga({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Yu="http://www.w3.org/1998/Math/MathML",hc="http://www.w3.org/2000/svg",wl="http://www.w3.org/1999/xhtml",Bb=wl,WC=!1,Mb,lI=["application/xhtml+xml","text/html"],fI="text/html",Hp,Nb=null,QW=s.createElement("form"),m$=function(_e){return _e instanceof RegExp||_e instanceof Function},vI=function(_e){Nb&&Nb===_e||((!_e||_g(_e)!=="object")&&(_e={}),_e=bp(_e),ao="ALLOWED_TAGS"in _e?ga({},_e.ALLOWED_TAGS):gc,_u="ALLOWED_ATTR"in _e?ga({},_e.ALLOWED_ATTR):v3,qa="ADD_URI_SAFE_ATTR"in _e?ga(bp(bs),_e.ADD_URI_SAFE_ATTR):bs,jn="ADD_DATA_URI_TAGS"in _e?ga(bp(Zr),_e.ADD_DATA_URI_TAGS):Zr,eh="FORBID_CONTENTS"in _e?ga({},_e.FORBID_CONTENTS):It,Ip="FORBID_TAGS"in _e?ga({},_e.FORBID_TAGS):{},zp="FORBID_ATTR"in _e?ga({},_e.FORBID_ATTR):{},ov="USE_PROFILES"in _e?_e.USE_PROFILES:!1,HC=_e.ALLOW_ARIA_ATTR!==!1,$p=_e.ALLOW_DATA_ATTR!==!1,VC=_e.ALLOW_UNKNOWN_PROTOCOLS||!1,ps=_e.SAFE_FOR_TEMPLATES||!1,av=_e.WHOLE_DOCUMENT||!1,Jg=_e.RETURN_DOM||!1,_b=_e.RETURN_DOM_FRAGMENT||!1,di=_e.RETURN_TRUSTED_TYPE||!1,UC=_e.FORCE_BODY||!1,cm=_e.SANITIZE_DOM!==!1,Qg=_e.KEEP_CONTENT!==!1,Lp=_e.IN_PLACE||!1,Da=_e.ALLOWED_URI_REGEXP||Da,Bb=_e.NAMESPACE||wl,_e.CUSTOM_ELEMENT_HANDLING&&m$(_e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(vi.tagNameCheck=_e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_e.CUSTOM_ELEMENT_HANDLING&&m$(_e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(vi.attributeNameCheck=_e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_e.CUSTOM_ELEMENT_HANDLING&&typeof _e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(vi.allowCustomizedBuiltInElements=_e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Mb=lI.indexOf(_e.PARSER_MEDIA_TYPE)===-1?Mb=fI:Mb=_e.PARSER_MEDIA_TYPE,Hp=Mb==="application/xhtml+xml"?function(Yt){return Yt}:Cx,ps&&($p=!1),_b&&(Jg=!0),ov&&(ao=ga({},jf(TO)),_u=[],ov.html===!0&&(ga(ao,xO),ga(_u,EO)),ov.svg===!0&&(ga(ao,Ik),ga(_u,Hk),ga(_u,xx)),ov.svgFilters===!0&&(ga(ao,zk),ga(_u,Hk),ga(_u,xx)),ov.mathMl===!0&&(ga(ao,$k),ga(_u,Sx),ga(_u,xx))),_e.ADD_TAGS&&(ao===gc&&(ao=bp(ao)),ga(ao,_e.ADD_TAGS)),_e.ADD_ATTR&&(_u===v3&&(_u=bp(_u)),ga(_u,_e.ADD_ATTR)),_e.ADD_URI_SAFE_ATTR&&ga(qa,_e.ADD_URI_SAFE_ATTR),_e.FORBID_CONTENTS&&(eh===It&&(eh=bp(eh)),ga(eh,_e.FORBID_CONTENTS)),Qg&&(ao["#text"]=!0),av&&ga(ao,["html","head","body"]),ao.table&&(ga(ao,["tbody"]),delete Ip.tbody),fc&&fc(_e),Nb=_e)},g$=ga({},["mi","mo","mn","ms","mtext"]),h$=ga({},["foreignobject","desc","title","annotation-xml"]),ej=ga({},["title","style","font","a","script"]),OB=ga({},Ik);ga(OB,zk),ga(OB,XB);var dI=ga({},$k);ga(dI,Lk);var tj=function(_e){var Yt=de(_e);(!Yt||!Yt.tagName)&&(Yt={namespaceURI:wl,tagName:"template"});var Ln=Cx(_e.tagName),No=Cx(Yt.tagName);return _e.namespaceURI===hc?Yt.namespaceURI===wl?Ln==="svg":Yt.namespaceURI===Yu?Ln==="svg"&&(No==="annotation-xml"||g$[No]):!!OB[Ln]:_e.namespaceURI===Yu?Yt.namespaceURI===wl?Ln==="math":Yt.namespaceURI===hc?Ln==="math"&&h$[No]:!!dI[Ln]:_e.namespaceURI===wl?Yt.namespaceURI===hc&&!h$[No]||Yt.namespaceURI===Yu&&!g$[No]?!1:!dI[Ln]&&(ej[Ln]||!OB[Ln]):!1},Vp=function(_e){q0(r.removed,{element:_e});try{_e.parentNode.removeChild(_e)}catch{try{_e.outerHTML=fe}catch{_e.remove()}}},p$=function(_e,Yt){try{q0(r.removed,{attribute:Yt.getAttributeNode(_e),from:Yt})}catch{q0(r.removed,{attribute:null,from:Yt})}if(Yt.removeAttribute(_e),_e==="is"&&!_u[_e])if(Jg||_b)try{Vp(Yt)}catch{}else try{Yt.setAttribute(_e,"")}catch{}},b$=function(_e){var Yt,Ln;if(UC)_e="<remove></remove>"+_e;else{var No=jB(_e,/^[\r\n\t ]+/);Ln=No&&No[0]}Mb==="application/xhtml+xml"&&(_e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_e+"</body></html>");var df=De?De.createHTML(_e):_e;if(Bb===wl)try{Yt=new z().parseFromString(df,Mb)}catch{}if(!Yt||!Yt.documentElement){Yt=Le.createDocument(Bb,"template",null);try{Yt.documentElement.innerHTML=WC?"":df}catch{}}var Hc=Yt.body||Yt.documentElement;return _e&&Ln&&Hc.insertBefore(s.createTextNode(Ln),Hc.childNodes[0]||null),Bb===wl?Dt.call(Yt,av?"html":"body")[0]:av?Yt.documentElement:Hc},y$=function(_e){return Ot.call(_e.ownerDocument||_e,_e,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT,null,!1)},nj=function(_e){return _e instanceof _&&(typeof _e.nodeName!="string"||typeof _e.textContent!="string"||typeof _e.removeChild!="function"||!(_e.attributes instanceof D)||typeof _e.removeAttribute!="function"||typeof _e.setAttribute!="function"||typeof _e.namespaceURI!="string"||typeof _e.insertBefore!="function")},yO=function(_e){return _g(p)==="object"?_e instanceof p:_e&&_g(_e)==="object"&&typeof _e.nodeType=="number"&&typeof _e.nodeName=="string"},Up=function(_e,Yt,Ln){pt[_e]&&WB(pt[_e],function(No){No.call(r,Yt,Ln,Nb)})},C$=function(_e){var Yt;if(Up("beforeSanitizeElements",_e,null),nj(_e)||ds(/[\u0080-\uFFFF]/,_e.nodeName))return Vp(_e),!0;var Ln=Hp(_e.nodeName);if(Up("uponSanitizeElement",_e,{tagName:Ln,allowedTags:ao}),_e.hasChildNodes()&&!yO(_e.firstElementChild)&&(!yO(_e.content)||!yO(_e.content.firstElementChild))&&ds(/<[/\w]/g,_e.innerHTML)&&ds(/<[/\w]/g,_e.textContent)||Ln==="select"&&ds(/<template/i,_e.innerHTML))return Vp(_e),!0;if(!ao[Ln]||Ip[Ln]){if(!Ip[Ln]&&S$(Ln)&&(vi.tagNameCheck instanceof RegExp&&ds(vi.tagNameCheck,Ln)||vi.tagNameCheck instanceof Function&&vi.tagNameCheck(Ln)))return!1;if(Qg&&!eh[Ln]){var No=de(_e)||_e.parentNode,df=Y(_e)||_e.childNodes;if(df&&No)for(var Hc=df.length,pc=Hc-1;pc>=0;--pc)No.insertBefore(ee(df[pc],!0),ce(_e))}return Vp(_e),!0}return _e instanceof w&&!tj(_e)||(Ln==="noscript"||Ln==="noembed")&&ds(/<\/no(script|embed)/i,_e.innerHTML)?(Vp(_e),!0):(ps&&_e.nodeType===3&&(Yt=_e.textContent,Yt=Bg(Yt,Kt," "),Yt=Bg(Yt,Ge," "),_e.textContent!==Yt&&(q0(r.removed,{element:_e.cloneNode()}),_e.textContent=Yt)),Up("afterSanitizeElements",_e,null),!1)},w$=function(_e,Yt,Ln){if(cm&&(Yt==="id"||Yt==="name")&&(Ln in s||Ln in QW))return!1;if(!($p&&!zp[Yt]&&ds(Wt,Yt))){if(!(HC&&ds(Qt,Yt))){if(!_u[Yt]||zp[Yt]){if(!(S$(_e)&&(vi.tagNameCheck instanceof RegExp&&ds(vi.tagNameCheck,_e)||vi.tagNameCheck instanceof Function&&vi.tagNameCheck(_e))&&(vi.attributeNameCheck instanceof RegExp&&ds(vi.attributeNameCheck,Yt)||vi.attributeNameCheck instanceof Function&&vi.attributeNameCheck(Yt))||Yt==="is"&&vi.allowCustomizedBuiltInElements&&(vi.tagNameCheck instanceof RegExp&&ds(vi.tagNameCheck,Ln)||vi.tagNameCheck instanceof Function&&vi.tagNameCheck(Ln))))return!1}else if(!qa[Yt]){if(!ds(Da,Bg(Ln,Kr,""))){if(!((Yt==="src"||Yt==="xlink:href"||Yt==="href")&&_e!=="script"&&GB(Ln,"data:")===0&&jn[_e])){if(!(VC&&!ds(lr,Bg(Ln,Kr,"")))){if(Ln)return!1}}}}}}return!0},S$=function(_e){return _e.indexOf("-")>0},x$=function(_e){var Yt,Ln,No,df;Up("beforeSanitizeAttributes",_e,null);var Hc=_e.attributes;if(Hc){var pc={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_u};for(df=Hc.length;df--;){Yt=Hc[df];var DB=Yt,Sl=DB.name,T$=DB.namespaceURI;if(Ln=Sl==="value"?Yt.value:qB(Yt.value),No=Hp(Sl),pc.attrName=No,pc.attrValue=Ln,pc.keepAttr=!0,pc.forceKeepAttr=void 0,Up("uponSanitizeAttribute",_e,pc),Ln=pc.attrValue,!pc.forceKeepAttr&&(p$(Sl,_e),!!pc.keepAttr)){if(ds(/\/>/i,Ln)){p$(Sl,_e);continue}ps&&(Ln=Bg(Ln,Kt," "),Ln=Bg(Ln,Ge," "));var aj=Hp(_e.nodeName);if(w$(aj,No,Ln))try{T$?_e.setAttributeNS(T$,Sl,Ln):_e.setAttribute(Sl,Ln),SO(r.removed)}catch{}}}Up("afterSanitizeAttributes",_e,null)}},rj=function ur(_e){var Yt,Ln=y$(_e);for(Up("beforeSanitizeShadowDOM",_e,null);Yt=Ln.nextNode();)Up("uponSanitizeShadowNode",Yt,null),!C$(Yt)&&(Yt.content instanceof v&&ur(Yt.content),x$(Yt));Up("afterSanitizeShadowDOM",_e,null)};return r.sanitize=function(ur,_e){var Yt,Ln,No,df,Hc;if(WC=!ur,WC&&(ur="<!-->"),typeof ur!="string"&&!yO(ur)){if(typeof ur.toString!="function")throw Fk("toString is not a function");if(ur=ur.toString(),typeof ur!="string")throw Fk("dirty is not a string, aborting")}if(!r.isSupported){if(_g(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ur=="string")return t.toStaticHTML(ur);if(yO(ur))return t.toStaticHTML(ur.outerHTML)}return ur}if(Xu||vI(_e),r.removed=[],typeof ur=="string"&&(Lp=!1),Lp){if(ur.nodeName){var pc=Hp(ur.nodeName);if(!ao[pc]||Ip[pc])throw Fk("root node is forbidden and cannot be sanitized in-place")}}else if(ur instanceof p)Yt=b$("<!---->"),Ln=Yt.ownerDocument.importNode(ur,!0),Ln.nodeType===1&&Ln.nodeName==="BODY"||Ln.nodeName==="HTML"?Yt=Ln:Yt.appendChild(Ln);else{if(!Jg&&!ps&&!av&&ur.indexOf("<")===-1)return De&&di?De.createHTML(ur):ur;if(Yt=b$(ur),!Yt)return Jg?null:di?fe:""}Yt&&UC&&Vp(Yt.firstChild);for(var DB=y$(Lp?ur:Yt);No=DB.nextNode();)No.nodeType===3&&No===df||C$(No)||(No.content instanceof v&&rj(No.content),x$(No),df=No);if(df=null,Lp)return ur;if(Jg){if(_b)for(Hc=Ke.call(Yt.ownerDocument);Yt.firstChild;)Hc.appendChild(Yt.firstChild);else Hc=Yt;return _u.shadowroot&&(Hc=Je.call(o,Hc,!0)),Hc}var Sl=av?Yt.outerHTML:Yt.innerHTML;return av&&ao["!doctype"]&&Yt.ownerDocument&&Yt.ownerDocument.doctype&&Yt.ownerDocument.doctype.name&&ds(tM,Yt.ownerDocument.doctype.name)&&(Sl="<!DOCTYPE "+Yt.ownerDocument.doctype.name+`>
`+Sl),ps&&(Sl=Bg(Sl,Kt," "),Sl=Bg(Sl,Ge," ")),De&&di?De.createHTML(Sl):Sl},r.setConfig=function(ur){vI(ur),Xu=!0},r.clearConfig=function(){Nb=null,Xu=!1},r.isValidAttribute=function(ur,_e,Yt){Nb||vI({});var Ln=Hp(ur),No=Hp(_e);return w$(Ln,No,Yt)},r.addHook=function(ur,_e){typeof _e=="function"&&(pt[ur]=pt[ur]||[],q0(pt[ur],_e))},r.removeHook=function(ur){if(pt[ur])return SO(pt[ur])},r.removeHooks=function(ur){pt[ur]&&(pt[ur]=[])},r.removeAllHooks=function(){pt={}},r}var Gk=jk(),Tx=function(t){return Gk().sanitize(t)},af=tinymce.util.Tools.resolve("tinymce.util.I18n"),Kv={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Ex="temporary-placeholder",qk=function(t){return function(){return rn(t,Ex).getOr("!not found!")}},Kk=function(t,r){var o=t.toLowerCase();if(af.isRtl()){var s=ws(o,"-rtl");return wr(r,s)?s:o}else return o},AO=function(t,r){return rn(r,Kk(t,r))},OO=function(t,r){var o=r();return AO(t,o).getOrThunk(qk(o))},K0=function(t,r,o){var s=r();return AO(t,s).or(o).getOrThunk(qk(s))},DO=function(t){return af.isRtl()?wr(Kv,t):!1},Xk=function(){return $n("add-focusable",[zn(function(t){vy(t.element,"svg").each(function(r){return Vn(r,"focusable","false")})})])},RO=function(t,r,o,s){var v,m,p=DO(r)?["tox-icon--flip"]:[],w=rn(o,Kk(r,o)).or(s).getOrThunk(qk(o));return{dom:{tag:t.tag,attributes:(v=t.attributes)!==null&&v!==void 0?v:{},classes:t.classes.concat(p),innerHtml:w},behaviours:wt(mt(mt([],(m=t.behaviours)!==null&&m!==void 0?m:[],!0),[Xk()],!1))}},of=function(t,r,o,s){return s===void 0&&(s=A.none()),RO(r,t,o(),s)},_O=function(t,r,o){var s=o(),v=Ct(t,function(m){return wr(s,Kk(m,s))});return RO(r,v.getOr(Ex),s,A.none())},Yk={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},nM=function(t){var r=Gr({dom:Jd("<p>"+Tx(t.translationProvider(t.text))+"</p>"),behaviours:wt([An.config({})])}),o=function(H){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+H+"%"}}}},s=function(H){return{dom:{tag:"div",classes:["tox-text"],innerHtml:H+"%"}}},v=Gr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:wt([An.config({})])}),m=function(H,j){H.getSystem().isConnected()&&v.getOpt(H).each(function(ee){An.set(ee,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(j)]},s(j)])})},p=function(H,j){if(H.getSystem().isConnected()){var ee=r.get(H);An.set(ee,[Ei(j)])}},w={updateProgress:m,updateText:p},S=xt([t.icon.toArray(),t.level.toArray(),t.level.bind(function(H){return A.from(Yk[H])}).toArray()]),T=Gr(vs.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[of("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(H){t.onAction(H)}})),D=_O(S,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),_={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:wt([An.config({})])},z=[D,_];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(H){return["tox-notification","tox-notification--in","tox-notification--"+H]}).getOr(["tox-notification","tox-notification--in"])},behaviours:wt([On.config({}),$n("notification-events",[Xe(ec(),function(H){T.getOpt(H).each(On.focus)})])]),components:z.concat(t.progress?[v.asSpec()]:[]).concat(t.closeButton?[T.asSpec()]:[]),apis:w}},aC=Us({name:"Notification",factory:nM,configFields:[Fr("level"),Ue("progress"),Ue("icon"),Ue("onAction"),Ue("text"),Ue("iconProvider"),Ue("translationProvider"),da("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function Zk(t,r,o){var s=r.backstage.shared,v=function(T){switch(T){case"bc-bc":return Rg;case"tc-tc":return pl;case"tc-bc":return Vu;case"bc-tc":default:return _o}},m=function(T){T.length>0&&Ut(T,function(D,_){_===0?D.moveRel(null,"banner"):D.moveRel(T[_-1].getEl(),"bc-tc")})},p=function(T,D){var _=!T.closeButton&&T.timeout&&(T.timeout>0||T.timeout<0),z=function(){D(),ea.hide(j)},H=Ma(aC.sketch({text:T.text,level:In(["success","error","warning","warn","info"],T.type)?T.type:void 0,progress:T.progressBar===!0,icon:A.from(T.icon),closeButton:!_,onAction:z,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),j=Ma(ea.sketch(oe({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(j),T.timeout>0&&Wf.setTimeout(function(){z()},T.timeout);var ee=function(){var ce=So(ne.fromDom(t.getContentAreaContainer())),Y=Ci(),de=ls(Y.x,ce.x,ce.right),Re=ls(Y.y,ce.y,ce.bottom),De=Math.max(ce.right,Y.right),fe=Math.max(ce.bottom,Y.bottom);return A.some($o(de,Re,De-de,fe-Re))};return{close:z,moveTo:function(ce,Y){ea.showAt(j,Hs(H),{anchor:{type:"makeshift",x:ce,y:Y}})},moveRel:function(ce,Y){var de=Hs(H),Re={maxHeightFunction:Km()};if(Y!=="banner"&&it(ce)){var De=v(Y),fe={type:"node",root:ni(),node:A.some(ne.fromDom(ce)),overrides:Re,layouts:{onRtl:function(){return[De]},onLtr:function(){return[De]}}};ea.showWithinBounds(j,de,{anchor:fe},ee)}else{var Te=oe(oe({},s.anchors.banner()),{overrides:Re});ea.showWithinBounds(j,de,{anchor:Te},ee)}},text:function(ce){aC.updateText(H,ce)},settings:T,getEl:function(){return H.element.dom},progressBar:{value:function(ce){aC.updateProgress(H,ce)}}}},w=function(T){T.close()},S=function(T){return T.settings};return{open:p,close:w,reposition:m,getArgs:S}}var rM=function(t,r){var o=null,s=function(){kr(o)||(clearTimeout(o),o=null)},v=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];kr(o)&&(o=setTimeout(function(){o=null,t.apply(null,m)},r))};return{cancel:s,throttle:v}},kx=function(t,r){var o=null,s=function(){kr(o)||(clearTimeout(o),o=null)},v=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];s(),o=setTimeout(function(){o=null,t.apply(null,m)},r)};return{cancel:s,throttle:v}},BO=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),aM=function(t,r){return t.isBlock(r)||In(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},MO=function(t,r,o,s,v){var m=BO(t,function(p){return aM(t,p)});return A.from(m.backwards(r,o,s,v))},oM="[data-mce-autocompleter]",iM=function(t,r){return Ax(ne.fromDom(t.selection.getNode())).getOrThunk(function(){var o=ne.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Hi(o,ne.fromDom(r.extractContents())),r.insertNode(o.dom),oo(o).each(function(s){return s.dom.normalize()}),Gy(o).map(function(s){t.selection.setCursorLocation(s.dom,Ww(s))}),o})},Ax=function(t){return rc(t,oM)},uM=function(t){return t.collapsed&&t.startContainer.nodeType===3},NO=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},PO=function(t){return t!==""&&`  \f
\r	\v`.indexOf(t)!==-1},X0=function(t,r){return t.substring(r.length)},FO=function(t,r,o){var s;for(s=r-1;s>=0;s--){var v=t.charAt(s);if(PO(v))return A.none();if(v===o)break}return A.some(s)},IO=function(t,r,o,s){if(s===void 0&&(s=0),!uM(r))return A.none();var v=function(p,w,S){return FO(S,w,o).getOr(w)},m=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return MO(t,r.startContainer,r.startOffset,v,m).bind(function(p){var w=r.cloneRange();if(w.setStart(p.container,p.offset),w.setEnd(r.endContainer,r.endOffset),w.collapsed)return A.none();var S=NO(w),T=S.lastIndexOf(o);return T!==0||X0(S,o).length<s?A.none():A.some({text:X0(S,o),range:w,triggerChar:o})})},Jk=function(t,r,o,s){return s===void 0&&(s=0),Ax(ne.fromDom(r.startContainer)).fold(function(){return IO(t,r,o,s)},function(v){var m=t.createRng();m.selectNode(v.dom);var p=NO(m);return A.some({range:m,text:X0(p,o),triggerChar:o})})},sM=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(s,v){bn(s,Jp(),{raw:v})};r.on("keydown",function(s){var v=function(){return t.getView().bind(Hr.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(v().each(Fs),s.preventDefault()):s.which===40?(v().fold(function(){t.getView().each(Hr.highlightFirst)},function(m){o(m,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&v().each(function(m){o(m,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&Ax(ne.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},Qk={setup:sM},yp=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ox=function(t,r){return{container:t,offset:r}},zO=function(t){return t.nodeType===Tn},$O=function(t){return t.nodeType===jt},LO=function(t){if(zO(t))return Ox(t,t.data.length);var r=t.childNodes;return r.length>0?LO(r[r.length-1]):Ox(t,r.length)},Dx=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?Dx(o[r],0):o.length>0&&$O(t)&&o.length===r?LO(o[o.length-1]):Ox(t,r)},cM=function(t,r){return MO(t,r.container,r.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!PO(s)}).isSome()},HO=function(t){return function(r){var o=Dx(r.startContainer,r.startOffset);return!cM(t,o)}},VO=function(t,r,o){return na(o.triggerChars,function(s){return Jk(t,r,s)})},oC=function(t,r){var o=r(),s=t.selection.getRng();return VO(t.dom,s,o).bind(function(v){return UO(t,r,v)})},UO=function(t,r,o,s){s===void 0&&(s={});var v=r(),m=t.selection.getRng(),p=m.startContainer.nodeValue,w=We(v.lookupByChar(o.triggerChar),function(T){return o.text.length>=T.minChars&&T.matches.getOrThunk(function(){return HO(t.dom)})(o.range,p,o.text)});if(w.length===0)return A.none();var S=yp.all(ut(w,function(T){var D=T.fetch(o.text,T.maxResults,s);return D.then(function(_){return{matchText:o.text,items:_,columns:T.columns,onAction:T.onAction,highlightOn:T.highlightOn}})}));return A.some({lookupData:S,context:o})},Rx=sn([kn("type"),Sa("text")]),Y0=function(t){return Wa("separatormenuitem",Rx,t)},lM=sn([me("type","autocompleteitem"),me("active",!1),me("disabled",!1),me("meta",{}),kn("value"),Sa("text"),Sa("icon")]),WO=sn([kn("type"),kn("ch"),$u("minChars",1),me("columns",1),$u("maxResults",10),fv("matches"),nu("fetch"),nu("onAction"),Of("highlightOn",[],go)]),jO=function(t){return Wa("Autocompleter.Separator",Rx,t)},GO=function(t){return Wa("Autocompleter.Item",lM,t)},e4=function(t){return Wa("Autocompleter",WO,t)},Z0=[da("disabled",!1),Sa("tooltip"),Sa("icon"),Sa("text"),xa("onSetup",function(){return Ye})],fM=sn([kn("type"),nu("onAction")].concat(Z0)),qO=function(t){return Wa("toolbarbutton",fM,t)},J0=[da("active",!1)].concat(Z0),vM=sn(J0.concat([kn("type"),nu("onAction")])),t4=function(t){return Wa("ToggleButton",vM,t)},Cp=[xa("predicate",Bt),Bs("scope","node",["node","editor"]),Bs("position","selection",["node","selection","line"])],dM=Z0.concat([me("type","contextformbutton"),me("primary",!1),nu("onAction"),hu("original",Lt)]),mM=J0.concat([me("type","contextformbutton"),me("primary",!1),nu("onAction"),hu("original",Lt)]),gM=Z0.concat([me("type","contextformbutton")]),KO=J0.concat([me("type","contextformtogglebutton")]),XO=Qs("type",{contextformbutton:dM,contextformtogglebutton:mM}),hM=sn([me("type","contextform"),xa("initValue",ve("")),Sa("label"),Wi("commands",XO),rl("launch",Qs("type",{contextformbutton:gM,contextformtogglebutton:KO}))].concat(Cp)),pM=function(t){return Wa("ContextForm",hM,t)},bM=sn([me("type","contexttoolbar"),kn("items")].concat(Cp)),yM=function(t){return Wa("ContextToolbar",bM,t)},CM=function(t){var r={};return Ut(t,function(o){r[o]={}}),la(r)},_x=function(t){var r=t.ui.registry.getAll().popups,o=Br(r,function(p){return e4(p).fold(function(w){throw new Error(lv(w))},Lt)}),s=CM(gr(o,function(p){return p.ch})),v=Ha(o),m=function(p){return We(v,function(w){return w.ch===p})};return{dataset:o,triggerChars:s,lookupByChar:m}},n4;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(n4||(n4={}));var qf=n4,iC="tox-menu-nav__js",Bx="tox-collection__item",r4="tox-swatch",YO={normal:iC,color:r4},a4="tox-collection__item--enabled",ZO="tox-collection__group-heading",o4="tox-collection__item-icon",i4="tox-collection__item-label",wM="tox-collection__item-accessory",JO="tox-collection__item-caret",SM="tox-collection__item-checkmark",wp="tox-collection__item--active",Mx="tox-collection__item-container",QO="tox-collection__item-container--column",eD="tox-collection__item-container--row",tD="tox-collection__item-container--align-right",xM="tox-collection__item-container--align-left",TM="tox-collection__item-container--valign-top",EM="tox-collection__item-container--valign-middle",nD="tox-collection__item-container--valign-bottom",u4=function(t){return rn(YO,t).getOr(iC)},rD=function(t){return t==="color"?"tox-swatches":"tox-menu"},s4=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:rD(t),tieredMenu:"tox-tiered-menu"}},Q0=function(t){var r=s4(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:u4(t)}},kM=function(t,r,o){var s=s4(o);return{tag:"div",classes:xt([[s.menu,"tox-menu-"+r+"-column"],t?[s.hasIcons]:[]])}},AM=[an.parts.items({})],Nx=function(t,r,o){var s=s4(o),v={tag:"div",classes:xt([[s.tieredMenu]])};return{dom:v,markers:Q0(o)}},c4=function(t,r){return function(o){var s=Co(o,r);return ut(s,function(v){return{dom:t,components:v}})}},OM=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[an.parts.items({preprocess:t!=="auto"?c4({tag:"div",classes:["tox-swatches__row"]},t):Lt})]}]}},DM=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[an.parts.items({preprocess:c4({tag:"div",classes:["tox-collection__group"]},t)})]}},aD=function(t,r){var o=[],s=[];return Ut(t,function(v,m){r(v,m)?(s.length>0&&o.push(s),s=[],wr(v.dom,"innerHtml")&&s.push(v)):s.push(v)}),s.length>0&&o.push(s),ut(o,function(v){return{dom:{tag:"div",classes:["tox-collection__group"]},components:v}})},l4=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[an.parts.items({preprocess:function(s){return t!=="auto"&&t>1?c4({tag:"div",classes:["tox-collection__group"]},t)(s):aD(s,function(v,m){return r[m].type==="separator"})}})]}},RM=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[an.parts.items({preprocess:function(o){return aD(o,function(s,v){return t[v].type==="separator"})}})]}},uC=function(t){return Jr(t,function(r){return"icon"in r&&r.icon!==void 0})},Qd=function(t){return console.error(lv(t)),console.log(t),A.none()},_M=function(t,r,o,s,v){var m=RM(o);return{value:t,dom:m.dom,components:m.components,items:o}},f4=function(t,r,o,s,v){if(v==="color"){var m=OM(s);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"&&s==="auto"){var m=l4(s,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"&&s===1){var m=l4(1,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"){var m=l4(s,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="listpreview"&&s!=="auto"){var m=DM(s);return{value:t,dom:m.dom,components:m.components,items:o}}return{value:t,dom:kM(r,s,v),components:AM,items:o}},BM=[kn("type"),kn("src"),Sa("alt"),Of("classes",[],go)],MM=sn(BM),NM=[kn("type"),kn("text"),Sa("name"),Of("classes",["tox-collection__item-label"],go)],Px=sn(NM),v4=KC(function(){return Yp("type",{cardimage:MM,cardtext:Px,cardcontainer:PM})}),PM=sn([kn("type"),Tm("direction","horizontal"),Tm("align","left"),Tm("valign","middle"),Wi("items",v4)]),eb=[da("disabled",!1),Sa("text"),Sa("shortcut"),Lo("value","value",vr(function(){return qt("menuitem-value")}),Sc()),me("meta",{})],FM=sn([kn("type"),Sa("label"),Wi("items",v4),xa("onSetup",function(){return Ye}),xa("onAction",Ye)].concat(eb)),IM=function(t){return Wa("cardmenuitem",FM,t)},zM=sn([kn("type"),da("active",!1),Sa("icon")].concat(eb)),d4=function(t){return Wa("choicemenuitem",zM,t)},m4=[kn("type"),kn("fancytype"),xa("onAction",Ye)],oD=[me("initData",{})].concat(m4),$M=[Lb("initData",{},[da("allowCustomColors",!0),is("colors",Sc())])].concat(m4),g4=Qs("fancytype",{inserttable:oD,colorswatch:$M}),LM=function(t){return Wa("fancymenuitem",g4,t)},HM=sn([kn("type"),xa("onSetup",function(){return Ye}),xa("onAction",Ye),Sa("icon")].concat(eb)),VM=function(t){return Wa("menuitem",HM,t)},UM=sn([kn("type"),nu("getSubmenuItems"),xa("onSetup",function(){return Ye}),Sa("icon")].concat(eb)),WM=function(t){return Wa("nestedmenuitem",UM,t)},jM=sn([kn("type"),Sa("icon"),da("active",!1),xa("onSetup",function(){return Ye}),nu("onAction")].concat(eb)),GM=function(t){return Wa("togglemenuitem",jM,t)},h4=function(t,r,o){var s=ou(t.element,"."+o);if(s.length>0){var v=Xt(s,function(m){var p=m.dom.getBoundingClientRect().top,w=s[0].dom.getBoundingClientRect().top;return Math.abs(p-w)>r}).getOr(s.length);return A.some({numColumns:v,numRows:Math.ceil(s.length/v)})}else return A.none()},iD=function(t,r){return wt([$n(t,r)])},qM=function(t){return iD(qt("unnamed-events"),t)},tb={namedEvents:iD,unnamedEvents:qM},Fx=qt("tooltip.exclusive"),Sp=qt("tooltip.show"),nb=qt("tooltip.hide"),uD=function(t,r,o){t.getSystem().broadcastOn([Fx],{})},KM=function(t,r,o,s){o.getTooltip().each(function(v){v.getSystem().isConnected()&&An.set(v,s)})},Ix=Object.freeze({__proto__:null,hideAllExclusive:uD,setComponents:KM}),p4=function(t,r){var o=function(v){r.getTooltip().each(function(m){dl(m),t.onHide(v,m),r.clearTooltip()}),r.clearTimer()},s=function(v){if(!r.isShowing()){uD(v);var m=t.lazySink(v).getOrDie(),p=v.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ma(t.mode==="normal"?[Xe(Rf(),function(w){_r(v,Sp)}),Xe(jb(),function(w){_r(v,nb)})]:[]),behaviours:wt([An.config({})])});r.setTooltip(p),Bd(m,p),t.onShow(v,p),lo.position(m,p,{anchor:t.anchor(v)})}};return ma(xt([[Xe(Sp,function(v){r.resetTimer(function(){s(v)},t.delay)}),Xe(nb,function(v){r.resetTimer(function(){o(v)},t.delay)}),Xe(tc(),function(v,m){var p=m;p.universal||In(p.channels,Fx)&&o(v)}),Is(function(v){o(v)})],t.mode==="normal"?[Xe(ec(),function(v){_r(v,Sp)}),Xe(Xb(),function(v){_r(v,nb)}),Xe(Rf(),function(v){_r(v,Sp)}),Xe(jb(),function(v){_r(v,nb)})]:[Xe(Qb(),function(v,m){_r(v,Sp)}),Xe(r1(),function(v){_r(v,nb)})]]))},zx=Object.freeze({__proto__:null,events:p4}),sD=[Ue("lazySink"),Ue("tooltipDom"),me("exclusive",!0),me("tooltipComponents",[]),me("delay",300),Bs("mode","normal",["normal","follow-highlight"]),me("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:ve([_o,Vu,qi,Su,Yo,xu]),onRtl:ve([_o,Vu,qi,Su,Yo,xu])}}}),Ir("onHide"),Ir("onShow")],XM=function(){var t=co(),r=co(),o=function(){t.on(clearTimeout)},s=function(m,p){o(),t.set(setTimeout(m,p))},v=ve("not-implemented");return Gi({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:s,readState:v})},YM=Object.freeze({__proto__:null,init:XM}),cD=jo({fields:sD,name:"tooltipping",active:zx,state:YM,apis:Ix}),ZM=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},sC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),JM=tinymce.util.Tools.resolve("tinymce.EditorManager"),QM=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var s=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=JM.baseURL+"/skins/ui/"+s}return o},e8=function(t){return t.getParam("readonly",!1,"boolean")},t8=function(t){return t.getParam("skin")===!1},lD=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},fD=function(t){return t.getParam("width",sC.DOM.getStyle(t.getElement(),"width"))},vD=function(t){return A.from(t.getParam("min_width")).filter(er)},dD=function(t){return A.from(t.getParam("min_height")).filter(er)},$x=function(t){return A.from(t.getParam("max_width")).filter(er)},mD=function(t){return A.from(t.getParam("max_height")).filter(er)},n8=function(t){return A.from(t.getParam("style_formats")).filter(tr)},em=function(t){return t.getParam("style_formats_merge",!1,"boolean")},r8=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},a8=function(t){return t.getParam("content_langs",void 0,"array")},b4=function(t){return t.getParam("removed_menuitems","")},Zo=function(t){return t.getParam("menubar",!0,"boolean")!==!1},y4=function(t){var r=t.getParam("toolbar",!0),o=r===!0,s=Fn(r),v=tr(r)&&r.length>0;return!Lx(t)&&(v||s||o)},gD=function(t){var r=Z(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=We(r,function(s){return typeof s=="string"});return o.length>0?A.some(o):A.none()},Lx=function(t){return gD(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},Qe)},Fc;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Fc||(Fc={}));var cC=function(t){return t.getParam("toolbar_mode","","string")},xp;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(xp||(xp={}));var o8=function(t){return t.getParam("toolbar_groups",{},"object")},hD=function(t){return t.getParam("toolbar_location",xp.auto,"string")},pD=function(t){return hD(t)===xp.bottom},i8=function(t){return t.getParam("fixed_toolbar_container","","string")},u8=function(t){return t.getParam("fixed_toolbar_container_target")},s8=function(t){return t.getParam("toolbar_persist",!1,"boolean")},bD=function(t){if(!t.inline)return A.none();var r=i8(t);if(r.length>0)return Vo(ni(),r);var o=u8(t);return it(o)?A.some(ne.fromDom(o)):A.none()},Hx=function(t){return t.inline&&bD(t).isSome()},yD=function(t){var r=bD(t);return r.getOrThunk(function(){return Fo(qo(ne.fromDom(t.getElement())))})},CD=function(t){return t.inline&&!Zo(t)&&!y4(t)&&!Lx(t)},Vx=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!Hx(t)&&!CD(t)},c8=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},l8=function(t){return t.getParam("draggable_modal",!1,"boolean")},f8=function(t){var r=t.getParam("menu");return r?Br(r,function(o){return oe(oe({},o),{items:o.items})}):{}},v8=function(t){return t.getParam("menubar")},d8=function(t){return t.getParam("toolbar",!0)},m8=function(t){return t.getParam("file_picker_callback")},g8=function(t){return t.getParam("file_picker_types")},h8=function(t){return t.getParam("file_browser_callback_types")},p8=function(t){return t.getParam("typeahead_urls")===!1},wD=function(t){return t.getParam("anchor_top","#top")},b8=function(t){return t.getParam("anchor_bottom","#bottom")},y8=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},C4="silver.readonly",SD=sn([w3("readonly")]),rb=function(t,r){var o=t.outerContainer,s=o.element;r&&(t.mothership.broadcastOn([Nd()],{target:s}),t.uiMothership.broadcastOn([Nd()],{target:s})),t.mothership.broadcastOn([C4],{readonly:r}),t.uiMothership.broadcastOn([C4],{readonly:r})},xD=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&rb(r,!0)}),t.on("SwitchMode",function(){return rb(r,t.mode.isReadOnly())}),e8(t)&&t.setMode("readonly")},Jo=function(){var t;return ru.config({channels:(t={},t[C4]={schema:SD,onReceive:function(r,o){mn.set(r,o.readonly)}},t)})},C8=function(t){return mn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},TD=function(t){return mn.config({disabled:t})},w8=function(t){return mn.config({disabled:t,disableClass:"tox-tbtn--disabled"})},ED=function(t){return mn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},bl={item:C8,button:TD,splitButton:w8,toolbarButton:ED},Ux=function(t,r){var o=t.getApi(r);return function(s){s(o)}},ab=function(t,r){return zn(function(o){var s=Ux(t,o);s(function(v){var m=t.onSetup(v);Zt(m)&&r.set(m)})})},lC=function(t,r){return Is(function(o){return Ux(t,o)(r.get())})},w4,S8=function(t,r){return cs(function(o,s){Ux(t,o)(t.onAction),!t.triggersSubmenu&&r===qf.CLOSE_ON_EXECUTE&&(_r(o,hh()),s.stop())})},x8=(w4={},w4[Ns()]=["disabling","alloy.base.behaviour","toggling","item-events"],w4),ob=Mr,ib=function(t,r,o,s){var v=pn(Ye);return{type:"item",dom:r.dom,components:ob(r.optComponents),data:t.data,eventOrder:x8,hasSubmenu:t.triggersSubmenu,itemBehaviours:wt([$n("item-events",[S8(t,o),ab(t,v),lC(t,v)]),bl.item(function(){return t.disabled||s.isDisabled()}),Jo(),An.config({})].concat(t.itemBehaviours))}},Mg=function(t){return{value:t.value,meta:oe({text:t.text.getOr("")},t.meta)}},Wx=tinymce.util.Tools.resolve("tinymce.Env"),T8=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=Wx.mac?r:o,v=t.split("+"),m=ut(v,function(p){var w=p.toLowerCase().trim();return wr(s,w)?s[w]:p});return Wx.mac?m.join(""):m.join("+")},jx=function(t,r,o){return o===void 0&&(o=[o4]),of(t,{tag:"div",classes:o},r)},kD=function(t){return{dom:{tag:"div",classes:[i4]},components:[Ei(af.translate(t))]}},AD=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},S4=function(t,r){return{dom:{tag:"div",classes:[i4]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Ei(af.translate(r))]}]}},E8=function(t){return{dom:{tag:"div",classes:[wM],innerHtml:T8(t)}}},OD=function(t){return jx("checkmark",t,[SM])},k8=function(t){return jx("chevron-right",t,[JO])},A8=function(t){return jx("chevron-down",t,[JO])},x4=function(t,r){var o=t.direction==="vertical"?QO:eD,s=t.align==="left"?xM:tD,v=function(){switch(t.valign){case"top":return TM;case"middle":return EM;case"bottom":return nD}};return{dom:{tag:"div",classes:[Mx,o,s,v()]},components:r}},O8=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},T4=function(t,r,o){var s="custom",v="remove",m=t.ariaLabel,p=t.value,w=t.iconContent.map(function(T){return K0(T,r.icons,o)}),S=function(){var T=r4,D=w.getOr(""),_=m.map(function(H){return{title:r.translate(H)}}).getOr({}),z={tag:"div",attributes:_,classes:[T]};return p===s?oe(oe({},z),{tag:"button",classes:mt(mt([],z.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:D}):p===v?oe(oe({},z),{classes:mt(mt([],z.classes,!0),["tox-swatch--remove"],!1),innerHtml:D}):oe(oe({},z),{attributes:oe(oe({},z.attributes),{"data-mce-color":p}),styles:{"background-color":p}})};return{dom:S(),optComponents:[]}},DD=function(t){var r=t.map(function(o){return{attributes:{title:af.translate(o)}}}).getOr({});return oe({tag:"div",classes:[iC,Bx]},r)},RD=function(t,r,o,s){var v={tag:"div",classes:[o4]},m=function(z){return of(z,v,r.icons,s)},p=function(){return A.some({dom:v})},w=o?t.iconContent.map(m).orThunk(p):A.none(),S=t.checkMark,T=A.from(t.meta).fold(function(){return kD},function(z){return wr(z,"style")?Tr(S4,z.style):kD}),D=t.htmlContent.fold(function(){return t.textContent.map(T)},function(z){return A.some(AD(z,[i4]))}),_={dom:DD(t.ariaLabel),optComponents:[w,D,t.shortcutContent.map(E8),S,t.caret]};return _},fC=function(t,r,o,s){return s===void 0&&(s=A.none()),t.presets==="color"?T4(t,r,s):RD(t,r,o,s)},ub=function(t,r){return rn(t,"tooltipWorker").map(function(o){return[cD.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:Km}}},mode:"follow-highlight",onShow:function(s,v){o(function(m){cD.setComponents(s,[b1({element:ne.fromDom(m)})])})}})]}).getOr([])},D8=function(t){return sC.DOM.encode(t)},_D=function(t,r){var o=af.translate(t),s=D8(o);if(r.length>0){var v=new RegExp(ZM(r),"gi");return s.replace(v,function(m){return'<span class="tox-autocompleter-highlight">'+m+"</span>"})}else return s},R8=function(t,r,o,s,v,m,p,w){w===void 0&&(w=!0);var S=fC({presets:s,textContent:A.none(),htmlContent:o?t.text.map(function(T){return _D(T,r)}):A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:A.none(),checkMark:A.none(),caret:A.none(),value:t.value},p.providers,w,t.icon);return ib({data:Mg(t),disabled:t.disabled,getApi:ve({}),onAction:function(T){return v(t.value,t.meta)},onSetup:ve(Ye),triggersSubmenu:!1,itemBehaviours:ub(t.meta,p)},S,m,p.providers)},BD=function(t,r){return ut(t,function(o){switch(o.type){case"cardcontainer":return x4(o,BD(o.items,r));case"cardimage":return O8(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(m){return In(r.cardText.highlightOn,m)}),v=s?A.from(r.cardText.matchText).getOr(""):"";return AD(_D(o.text,v),o.classes)}})},_8=function(t,r,o,s){var v=function(p){return{isDisabled:function(){return mn.isDisabled(p)},setDisabled:function(w){mn.set(p,w),Ut(ou(p.element,"*"),function(S){p.getSystem().getByDom(S).each(function(T){T.hasConfigured(mn)&&mn.set(T,w)})})}}},m={dom:DD(t.label),optComponents:[A.some({dom:{tag:"div",classes:[Mx,eD]},components:BD(t.items,s)})]};return ib({data:Mg(oe({text:A.none()},t)),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:A.from(s.itemBehaviours).getOr([])},m,r,o.providers)},B8=function(t,r,o,s,v,m,p,w){w===void 0&&(w=!0);var S=function(D){return{setActive:function(_){dr.set(D,_)},isActive:function(){return dr.isOn(D)},isDisabled:function(){return mn.isDisabled(D)},setDisabled:function(_){return mn.set(D,_)}}},T=fC({presets:o,textContent:r?t.text:A.none(),htmlContent:A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:A.none(),checkMark:r?A.some(OD(p.icons)):A.none(),caret:A.none(),value:t.value},p,w);return Fe(ib({data:Mg(t),disabled:t.disabled,getApi:S,onAction:function(D){return s(t.value)},onSetup:function(D){return D.setActive(v),Ye},triggersSubmenu:!1,itemBehaviours:[]},T,m,p),{toggling:{toggleClass:a4,toggleOnExecute:!1,selected:t.active}})},E4=$d(x(),O()),MD=function(t){return{value:t}},ND=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,PD=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,FD=function(t){return ND.test(t)||PD.test(t)},M8=function(t){return zi(t,"#").toUpperCase()},N8=function(t){return FD(t)?A.some({value:M8(t)}):A.none()},Ng=function(t){var r=t.value.replace(ND,function(o,s,v,m){return s+s+v+v+m+m});return{value:r}},P8=function(t){var r=Ng(t),o=PD.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},k4=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},vC=function(t){var r=k4(t.red)+k4(t.green)+k4(t.blue);return MD(r)},Gx=Math.min,ID=Math.max,sb=Math.round,F8=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,A4=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,tm=function(t,r,o,s){return{red:t,green:r,blue:o,alpha:s}},qx=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},O4=function(t){var r,o,s,v=(t.hue||0)%360,m=t.saturation/100,p=t.value/100;if(m=ID(0,Gx(m,1)),p=ID(0,Gx(p,1)),m===0)return r=o=s=sb(255*p),tm(r,o,s,1);var w=v/60,S=p*m,T=S*(1-Math.abs(w%2-1)),D=p-S;switch(Math.floor(w)){case 0:r=S,o=T,s=0;break;case 1:r=T,o=S,s=0;break;case 2:r=0,o=S,s=T;break;case 3:r=0,o=T,s=S;break;case 4:r=T,o=0,s=S;break;case 5:r=S,o=0,s=T;break;default:r=o=s=0}return r=sb(255*(r+D)),o=sb(255*(o+D)),s=sb(255*(s+D)),tm(r,o,s,1)},dC=function(t){var r=P8(t),o=parseInt(r[1],16),s=parseInt(r[2],16),v=parseInt(r[3],16);return tm(o,s,v,1)},Kx=function(t,r,o,s){var v=parseInt(t,10),m=parseInt(r,10),p=parseInt(o,10),w=parseFloat(s);return tm(v,m,p,w)},zD=function(t){if(t==="transparent")return A.some(tm(0,0,0,0));var r=F8.exec(t);if(r!==null)return A.some(Kx(r[1],r[2],r[3],"1"));var o=A4.exec(t);return o!==null?A.some(Kx(o[1],o[2],o[3],o[4])):A.none()},$D=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},LD=tm(255,0,0,1),I8=function(t){return t.fire("SkinLoaded")},z8=function(t,r){return t.fire("SkinLoadError",r)},$8=function(t){return t.fire("ResizeEditor")},D4=function(t,r){return t.fire("ResizeContent",r)},L8=function(t,r){return t.fire("ScrollContent",r)},H8=function(t,r){return t.fire("TextColorChange",r)},mC=function(t,r,o){return{hue:t,saturation:r,value:o}},R4=function(t){var r=0,o=0,s=0,v=t.red/255,m=t.green/255,p=t.blue/255,w=Math.min(v,Math.min(m,p)),S=Math.max(v,Math.max(m,p));if(w===S)return s=w,mC(0,0,s*100);var T=v===w?m-p:p===w?v-m:p-v;return r=v===w?3:p===w?1:5,r=60*(r-T/(S-w)),o=(S-w)/S,s=S,mC(Math.round(r),Math.round(o*100),Math.round(s*100))},V8=function(t){return R4(dC(t))},_4=function(t){return vC(O4(t))},U8=function(t){return N8(t).orThunk(function(){return zD(t).map(vC)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,v=s[0],m=s[1],p=s[2],w=s[3];return vC(tm(v,m,p,w))})},Xx=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Yx="tinymce-custom-colors";function Zx(t){t===void 0&&(t=10);var r=Xx.getItem(Yx),o=Fn(r)?JSON.parse(r):[],s=function(S){var T=t-S.length;return T<0?S.slice(0,t):S},v=s(o),m=function(S){yo(v,S).each(p),v.unshift(S),v.length>t&&v.pop(),Xx.setItem(Yx,JSON.stringify(v))},p=function(S){v.splice(S,1)},w=function(){return v.slice(0)};return{add:m,state:w}}var ci="choiceitem",Jx=[{type:ci,text:"Light Green",value:"#BFEDD2"},{type:ci,text:"Light Yellow",value:"#FBEEB8"},{type:ci,text:"Light Red",value:"#F8CAC6"},{type:ci,text:"Light Purple",value:"#ECCAFA"},{type:ci,text:"Light Blue",value:"#C2E0F4"},{type:ci,text:"Green",value:"#2DC26B"},{type:ci,text:"Yellow",value:"#F1C40F"},{type:ci,text:"Red",value:"#E03E2D"},{type:ci,text:"Purple",value:"#B96AD9"},{type:ci,text:"Blue",value:"#3598DB"},{type:ci,text:"Dark Turquoise",value:"#169179"},{type:ci,text:"Orange",value:"#E67E23"},{type:ci,text:"Dark Red",value:"#BA372A"},{type:ci,text:"Dark Purple",value:"#843FA1"},{type:ci,text:"Dark Blue",value:"#236FA1"},{type:ci,text:"Light Gray",value:"#ECF0F1"},{type:ci,text:"Medium Gray",value:"#CED4D9"},{type:ci,text:"Gray",value:"#95A5A6"},{type:ci,text:"Dark Gray",value:"#7E8C8D"},{type:ci,text:"Navy Blue",value:"#34495E"},{type:ci,text:"Black",value:"#000000"},{type:ci,text:"White",value:"#ffffff"}],HD=Zx(10),W8=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+U8(t[o]).value,type:"choiceitem"});return r},j8=function(t,r){return t.getParam("color_cols",r,"number")},VD=function(t){return t.getParam("custom_colors")!==!1},G8=function(t){return t.getParam("color_map")},B4=function(t){var r=G8(t);return r!==void 0?W8(r):Jx},UD=function(){return ut(HD.state(),function(t){return{type:ci,text:t,value:t}})},WD=function(t){HD.add(t)},M4="#000000",q8=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(s){var v;(v=s.style[r==="forecolor"?"color":"background-color"])&&(o=o||v)}),A.from(o)},K8=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},X8=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},Y8=function(t){t.addCommand("mceApplyTextcolor",function(r,o){K8(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){X8(t,r)})},Z8=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},Qx=function(t){var r=B4(t),o=Z8(r.length);return j8(t,o)},jD=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},eT=function(t,r,o,s){if(o==="custom"){var v=XD(t);v(function(m){m.each(function(p){WD(p),t.execCommand("mceApplyTextcolor",r,p),s(p)})},M4)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",r)):(s(o),t.execCommand("mceApplyTextcolor",r,o))},GD=function(t,r){return t.concat(UD().concat(jD(r)))},qD=function(t,r){return function(o){o(GD(t,r))}},N4=function(t,r,o){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},cb=function(t,r,o,s,v){t.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(m){var p=q8(t,o);return p.bind(function(w){return zD(w).map(function(S){var T=vC(S).value;return Lr(m.toLowerCase(),T)})}).getOr(!1)},columns:Qx(t),fetch:qD(B4(t),VD(t)),onAction:function(m){eT(t,o,v.get(),Ye)},onItemAction:function(m,p){eT(t,o,p,function(w){v.set(w),H8(t,{name:r,color:w})})},onSetup:function(m){N4(m,r,v.get());var p=function(w){w.name===r&&N4(m,w.name,w.color)};return t.on("TextColorChange",p),function(){t.off("TextColorChange",p)}}})},KD=function(t,r,o,s){t.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(v){eT(t,o,v.value,Ye)}}]}})},XD=function(t){return function(r,o){var s=!1,v=function(w){var S=w.getData(),T=S.colorpicker;s?(r(A.from(T)),w.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",T]))},m=function(w,S){S.name==="hex-valid"&&(s=S.value)},p={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:m,onSubmit:v,onClose:Ye,onCancel:function(){r(A.none())}})}},J8=function(t){Y8(t);var r=pn(M4),o=pn(M4);cb(t,"forecolor","forecolor","Text color",r),cb(t,"backcolor","hilitecolor","Background color",o),KD(t,"forecolor","forecolor","Text color"),KD(t,"backcolor","hilitecolor","Background color")},lb=function(t,r,o,s,v,m,p,w){var S=uC(r),T=v!=="color"?"normal":"color",D=Q8(r,o,s,T,m,p,w);return f4(t,S,D,s,v)},Q8=function(t,r,o,s,v,m,p){return Mr(ut(t,function(w){return w.type==="choiceitem"?d4(w).fold(Qd,function(S){return A.some(B8(S,o===1,s,r,m(w.value),v,p,uC(t)))}):A.none()}))},tT=function(t,r){var o=Q0(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},YD=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+r4:"."+Bx}}},e6=function(t,r){var o=t6(t,r),s=r.colorinput.getColorCols(),v="color",m=lb(qt("menu-value"),o,function(w){t.onAction({value:w})},s,v,qf.CLOSE_ON_EXECUTE,Bt,r.shared.providers),p=oe(oe({},m),{markers:Q0(v),movement:tT(s,v)});return{type:"widget",data:{value:qt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[E4.widget(an.sketch(p))]}},t6=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return GD(r.colorinput.getColors(),o)},function(s){return s.concat(jD(o))})},ZD=qt("cell-over"),JD=qt("cell-execute"),n6=function(t,r,o){var s,v=function(w){return bn(w,ZD,{row:t,col:r})},m=function(w){return bn(w,JD,{row:t,col:r})},p=function(w,S){S.stop(),m(w)};return Ma({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:wt([$n("insert-table-picker-cell",[Xe(Rf(),On.focus),Xe(Ns(),m),Xe(Om(),p),Xe(mv(),p)]),dr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),On.config({onFocus:v})])})},r6=function(t,r,o){for(var s=[],v=0;v<r;v++){for(var m=[],p=0;p<o;p++)m.push(n6(v,p,t));s.push(m)}return s},a6=function(t,r,o,s,v){for(var m=0;m<s;m++)for(var p=0;p<v;p++)dr.set(t[m][p],m<=r&&p<=o)},o6=function(t){return Qn(t,function(r){return ut(r,Hs)})},QD=function(t,r){return Ei(r+"x"+t)},Tp=function(t){var r=10,o=10,s=qt("size-label"),v=r6(s,r,o),m=QD(0,0),p=Gr({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[m],behaviours:wt([An.config({})])});return{type:"widget",data:{value:qt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[E4.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:o6(v).concat(p.asSpec()),behaviours:wt([$n("insert-table-picker",[zn(function(w){An.set(p.get(w),[m])}),hv(ZD,function(w,S,T){var D=T.event,_=D.row,z=D.col;a6(v,_,z,r,o),An.set(p.get(w),[QD(_+1,z+1)])}),hv(JD,function(w,S,T){var D=T.event,_=D.row,z=D.col;t.onAction({numRows:_+1,numColumns:z+1}),_r(w,hh())})]),nn.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},i6={inserttable:Tp,colorswatch:e6},u6=function(t,r){return rn(i6,t.fancytype).map(function(o){return o(t,r)})},s6=function(t,r,o,s,v){s===void 0&&(s=!0),v===void 0&&(v=!1);var m=v?A8(o.icons):k8(o.icons),p=function(S){return{isDisabled:function(){return mn.isDisabled(S)},setDisabled:function(T){return mn.set(S,T)}}},w=fC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.some(m),checkMark:A.none(),shortcutContent:t.shortcut},o,s);return ib({data:Mg(t),getApi:p,disabled:t.disabled,onAction:Ye,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},w,r,o)},c6=function(t,r,o,s){s===void 0&&(s=!0);var v=function(p){return{isDisabled:function(){return mn.isDisabled(p)},setDisabled:function(w){return mn.set(p,w)}}},m=fC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.none(),checkMark:A.none(),shortcutContent:t.shortcut},o,s);return ib({data:Mg(t),getApi:v,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,r,o)},nT=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:oe({tag:"div",classes:[Bx,ZO]},r),components:[]}},eR=function(t,r,o,s){s===void 0&&(s=!0);var v=function(p){return{setActive:function(w){dr.set(p,w)},isActive:function(){return dr.isOn(p)},isDisabled:function(){return mn.isDisabled(p)},setDisabled:function(w){return mn.set(p,w)}}},m=fC({iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,checkMark:A.some(OD(o.icons)),caret:A.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return Fe(ib({data:Mg(t),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,r,o),{toggling:{toggleClass:a4,toggleOnExecute:!1,selected:t.active}})},tR=R8,nR=nT,l6=c6,f6=s6,v6=eR,d6=u6,m6=_8,gC;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(gC||(gC={}));var rR=function(t,r,o,s,v){var m=o.shared.providers,p=function(w){return v?oe(oe({},w),{shortcut:A.none(),icon:w.text.isSome()?A.none():w.icon}):w};switch(t.type){case"menuitem":return VM(t).fold(Qd,function(w){return A.some(l6(p(w),r,m,s))});case"nestedmenuitem":return WM(t).fold(Qd,function(w){return A.some(f6(p(w),r,m,s,v))});case"togglemenuitem":return GM(t).fold(Qd,function(w){return A.some(v6(p(w),r,m,s))});case"separator":return Y0(t).fold(Qd,function(w){return A.some(nR(w))});case"fancymenuitem":return LM(t).fold(Qd,function(w){return d6(p(w),o)});default:return console.error("Unknown item in general menu",t),A.none()}},g6=function(t,r,o,s,v,m,p){var w=s===1,S=!w||uC(t);return Mr(ut(t,function(T){switch(T.type){case"separator":return jO(T).fold(Qd,function(D){return A.some(nR(D))});case"cardmenuitem":return IM(T).fold(Qd,function(D){return A.some(m6(oe(oe({},D),{onAction:function(_){D.onAction(_),o(D.value,D.meta)}}),v,m,{itemBehaviours:ub(D.meta,m),cardText:{matchText:r,highlightOn:p}}))});case"autocompleteitem":default:return GO(T).fold(Qd,function(D){return A.some(tR(D,r,w,"normal",o,v,m,S))})}}))},aR=function(t,r,o,s,v){var m=uC(r),p=Mr(ut(r,function(S){var T=function(_){return v?!wr(_,"text"):m},D=function(_){return rR(_,o,s,T(_),v)};return S.type==="nestedmenuitem"&&S.getSubmenuItems().length<=0?D(oe(oe({},S),{disabled:!0})):D(S)})),w=v?_M:f4;return w(t,m,p,1,"normal")},oR=function(t){return Yr.singleData(t.value,t)},iR=function(t,r,o,s){var v=o===gC.ContentFocus?kS():Qh(),m=tT(r,s),p=Q0(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:p.selectedItem,item:p.item},movement:m,fakeFocus:o===gC.ContentFocus,focusManager:v,menuBehaviours:tb.unnamedEvents(r!=="auto"?[]:[zn(function(w,S){h4(w,4,p.item).each(function(T){var D=T.numColumns,_=T.numRows;nn.setGridSize(w,_,D)})})])}},Kf=function(t,r){var o=co(),s=pn(!1),v=Ma(ea.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:wt([$n("dismissAutocompleter",[Xe(Ac(),function(){return S()})])]),lazySink:r.getSink})),m=function(){return ea.isOpen(v)},p=function(){return o.get().isSome()},w=function(){p()&&ea.hide(v)},S=function(){if(p()){var Y=o.get().map(function(de){return de.element});Ax(Y.getOr(ne.fromDom(t.selection.getNode()))).each(dm),w(),o.clear(),s.set(!1)}},T=Po(function(){return _x(t)}),D=function(Y,de){var Re=na(de,function(De){return A.from(De.columns)}).getOr(1);return Qn(de,function(De){var fe=De.items;return g6(fe,De.matchText,function(Te,Le){var Ot=t.selection.getRng();Jk(t.dom,Ot,Y).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Ke){var Dt=Ke.range,Je={hide:function(){S()},reload:function($e){w(),j($e)}};s.set(!0),De.onAction(Je,Dt,Te,Le),s.set(!1)})},Re,qf.BUBBLE_TO_SANDBOX,r,De.highlightOn)})},_=function(Y){if(!p()){var de=iM(t,Y.range);o.set({triggerChar:Y.triggerChar,element:de,matchLength:Y.text.length}),s.set(!1)}},z=function(Y,de,Re,De){Y.matchLength=de.text.length;var fe=na(Re,function(Te){return A.from(Te.columns)}).getOr(1);ea.showAt(v,an.sketch(iR(f4("autocompleter-value",!0,De,fe,"normal"),fe,gC.ContentFocus,"normal")),{anchor:{type:"node",root:ne.fromDom(t.getBody()),node:A.from(Y.element)}}),ea.getContent(v).each(Hr.highlightFirst)},H=function(Y){return o.get().map(function(de){return Jk(t.dom,t.selection.getRng(),de.triggerChar).bind(function(Re){return UO(t,T,Re,Y)})}).getOrThunk(function(){return oC(t,T)})},j=function(Y){H(Y).fold(S,function(de){_(de.context),de.lookupData.then(function(Re){o.get().map(function(De){var fe=de.context;if(De.triggerChar===fe.triggerChar){var Te=D(fe.triggerChar,Re);Te.length>0?z(De,fe,Re,Te):fe.text.length-De.matchLength>=10?S():w()}})})})},ee=kx(function(Y){Y.which!==27&&j()},50),ce={onKeypress:ee,cancelIfNecessary:S,isMenuOpen:m,isActive:p,isProcessingAction:s.get,getView:function(){return ea.getContent(v)}};t.hasPlugin("rtc")===!1&&Qk.setup(ce,t)},Pg={register:Kf},hC=function(t,r,o){return rc(t,r,o).isSome()},P4=function(t,r){var o=null,s=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];o=setTimeout(function(){t.apply(null,m),o=null},r)},v=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:v,schedule:s}},F4=5,rT=400,uR=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?A.none():A.some(r.touches[0])},I4=function(t,r){var o=Math.abs(t.clientX-r.x),s=Math.abs(t.clientY-r.y);return o>F4||s>F4},z4=function(t){var r=co(),o=pn(!1),s=P4(function(T){t.triggerEvent(e1(),T),o.set(!0)},rT),v=function(T){return uR(T).each(function(D){s.cancel();var _={x:D.clientX,y:D.clientY,target:T.target};s.schedule(T),o.set(!1),r.set(_)}),A.none()},m=function(T){return s.cancel(),uR(T).each(function(D){r.on(function(_){I4(D,_)&&r.clear()})}),A.none()},p=function(T){s.cancel();var D=function(_){return oa(_.target,T.target)};return r.get().filter(D).map(function(_){return o.get()?(T.prevent(),!1):t.triggerEvent(mv(),T)})},w=Df([{key:Il(),value:v},{key:Ec(),value:m},{key:vv(),value:p}]),S=function(T,D){return rn(w,D).bind(function(_){return _(T)})};return{fireIfReady:S}},$4=function(t){var r=t.raw;return r.which===S0[0]&&!In(["input","textarea"],_n(t.target))&&!hC(t.target,'[contenteditable="true"]')},sR=function(){return hn().browser.isFirefox()},h6=function(t,r){return sR()?L1(t,"focus",r):ho(t,"focusin",r)},p6=function(t,r){return sR()?L1(t,"blur",r):ho(t,"focusout",r)},aT=function(t,r){var o=oe({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],v=z4(o),m=ut(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(H){return ho(t,H,function(j){v.fireIfReady(j,H).each(function(ce){ce&&j.kill()});var ee=o.triggerEvent(H,j);ee&&j.kill()})}),p=co(),w=ho(t,"paste",function(H){v.fireIfReady(H,"paste").each(function(ee){ee&&H.kill()});var j=o.triggerEvent("paste",H);j&&H.kill(),p.set(setTimeout(function(){o.triggerEvent(Yb(),H)},0))}),S=ho(t,"keydown",function(H){var j=o.triggerEvent("keydown",H);j?H.kill():o.stopBackspace&&$4(H)&&H.prevent()}),T=h6(t,function(H){var j=o.triggerEvent("focusin",H);j&&H.kill()}),D=co(),_=p6(t,function(H){var j=o.triggerEvent("focusout",H);j&&H.kill(),D.set(setTimeout(function(){o.triggerEvent(Xb(),H)},0))}),z=function(){Ut(m,function(H){H.unbind()}),S.unbind(),T.unbind(),_.unbind(),w.unbind(),p.on(clearTimeout),D.on(clearTimeout)};return{unbind:z}},cR=function(t,r){var o=rn(t,"target").getOr(r);return pn(o)},b6=function(t,r){var o=pn(!1),s=pn(!1),v=function(){o.set(!0)},m=function(){s.set(!0)};return{stop:v,cut:m,isStopped:o.get,isCut:s.get,event:t,setSource:r.set,getSource:r.get}},y6=function(t){var r=pn(!1),o=function(){r.set(!0)};return{stop:o,cut:Ye,isStopped:r.get,isCut:Bt,event:t,setSource:Ie("Cannot set source of a broadcasted event"),getSource:Ie("Cannot get source of a broadcasted event")}},fb=Ms.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),lR=function(t,r,o,s,v,m){var p=t(r,s),w=b6(o,v);return p.fold(function(){return m.logEventNoHandlers(r,s),fb.complete()},function(S){var T=S.descHandler,D=uy(T);return D(w),w.isStopped()?(m.logEventStopped(r,S.element,T.purpose),fb.stopped()):w.isCut()?(m.logEventCut(r,S.element,T.purpose),fb.complete()):oo(S.element).fold(function(){return m.logNoParent(r,S.element,T.purpose),fb.complete()},function(_){return m.logEventResponse(r,S.element,T.purpose),fb.resume(_)})})},L4=function(t,r,o,s,v,m){return lR(t,r,o,s,v,m).fold(Qe,function(p){return L4(t,r,o,p,v,m)},Bt)},C6=function(t,r,o,s,v){var m=cR(o,s);return lR(t,r,o,s,m,v)},w6=function(t,r,o){var s=y6(r);return Ut(t,function(v){var m=v.descHandler,p=uy(m);p(s)}),s.isStopped()},fR=function(t,r,o,s){return vR(t,r,o,o.target,s)},vR=function(t,r,o,s,v){var m=cR(o,s);return L4(t,r,o,s,m,v)},S6=function(t,r){return{element:t,descHandler:r}},dR=function(t,r){return{id:t,descHandler:r}},mR=function(){var t={},r=function(p,w,S){aa(S,function(T,D){var _=t[D]!==void 0?t[D]:{};_[w]=iy(T,p),t[D]=_})},o=function(p,w){return yv(w).bind(function(S){return rn(p,S)}).map(function(S){return S6(w,S)})},s=function(p){return rn(t,p).map(function(w){return gr(w,function(S,T){return dR(T,S)})}).getOr([])},v=function(p,w,S){return rn(t,w).bind(function(T){return Em(S,function(D){return o(T,D)},p)})},m=function(p){aa(t,function(w,S){wr(w,p)&&delete w[p]})};return{registerId:r,unregisterId:m,filterByType:s,find:v}},x6=function(){var t=mR(),r={},o=function(T){var D=T.element;return yv(D).getOrThunk(function(){return iw("uid-",T.element)})},s=function(T,D){var _=r[D];if(_===T)m(T);else throw new Error('The tagId "'+D+'" is already used by: '+bu(_.element)+`
Cannot use it for: `+bu(T.element)+`
The conflicting element is`+(io(_.element)?" ":" not ")+"already in the DOM")},v=function(T){var D=o(T);Ea(r,D)&&s(T,D);var _=[T];t.registerId(_,D,T.events),r[D]=T},m=function(T){yv(T.element).each(function(D){delete r[D],t.unregisterId(D)})},p=function(T){return t.filterByType(T)},w=function(T,D,_){return t.find(T,D,_)},S=function(T){return rn(r,T)};return{find:w,filter:p,register:v,unregister:m,getById:S}},T6=function(t){var r=t.dom,o=r.attributes,s=L(r,["attributes"]);return{uid:t.uid,dom:oe({tag:"div",attributes:oe({role:"presentation"},o)},s),components:t.components,behaviours:gg(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},Au=Us({name:"Container",factory:T6,configFields:[me("components",[]),Go("containerBehaviours",[]),me("events",{}),me("domModification",{}),me("eventOrder",{})]}),gR=function(t){var r=function(Y){return oo(t.element).fold(Qe,function(de){return oa(Y,de)})},o=x6(),s=function(Y,de){return o.find(r,Y,de)},v=aT(t.element,{triggerEvent:function(Y,de){return my(Y,de.target,function(Re){return fR(s,Y,de,Re)})}}),m={debugInfo:ve("real"),triggerEvent:function(Y,de,Re){my(Y,de,function(De){return vR(s,Y,Re,de,De)})},triggerFocus:function(Y,de){yv(Y).fold(function(){sl(Y)},function(Re){my(dv(),Y,function(De){return C6(s,dv(),{originator:de,kill:Ye,prevent:Ye,target:Y},Y,De),!1})})},triggerEscape:function(Y,de){m.triggerEvent("keydown",Y.element,de.event)},getByUid:function(Y){return ee(Y)},getByDom:function(Y){return ce(Y)},build:Ma,addToGui:function(Y){S(Y)},removeFromGui:function(Y){T(Y)},addToWorld:function(Y){p(Y)},removeFromWorld:function(Y){w(Y)},broadcast:function(Y){z(Y)},broadcastOn:function(Y,de){H(Y,de)},broadcastEvent:function(Y,de){j(Y,de)},isConnected:Qe},p=function(Y){Y.connect(m),Ya(Y.element)||(o.register(Y),Ut(Y.components(),p),m.triggerEvent(ld(),Y.element,{target:Y.element}))},w=function(Y){Ya(Y.element)||(Ut(Y.components(),w),o.unregister(Y)),Y.disconnect()},S=function(Y){Bd(t,Y)},T=function(Y){dl(Y)},D=function(){v.unbind(),Pu(t.element)},_=function(Y){var de=o.filter(tc());Ut(de,function(Re){var De=Re.descHandler,fe=uy(De);fe(Y)})},z=function(Y){_({universal:!0,data:Y})},H=function(Y,de){_({universal:!1,channels:Y,data:de})},j=function(Y,de){var Re=o.filter(Y);return w6(Re,de)},ee=function(Y){return o.getById(Y).fold(function(){return Un.error(new Error('Could not find component with uid: "'+Y+'" in system.'))},Un.value)},ce=function(Y){var de=yv(Y).getOr("not found");return ee(de)};return p(t),{root:t,element:t.element,destroy:D,add:S,remove:T,getByUid:ee,getByDom:ce,addToWorld:p,removeFromWorld:w,broadcast:z,broadcastOn:H,broadcastEvent:j}},E6=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:ut(t.items,r.interpreter)}},oT=ve([me("prefix","form-field"),Go("fieldBehaviours",[sr,At])]),ms=ve([ic({schema:[Ue("dom")],name:"label"}),ic({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Ue("text")],name:"aria-descriptor"}),Ri({factory:{sketch:function(t){var r=Vb(t,["factory"]);return t.factory.sketch(r)}},schema:[Ue("factory")],name:"field"})]),hR=function(t,r,o,s){var v=ui(t.fieldBehaviours,[sr.config({find:function(w){return ua(w,t,"field")}}),At.config({store:{mode:"manual",getValue:function(w){return sr.getCurrent(w).bind(At.getValue)},setValue:function(w,S){sr.getCurrent(w).each(function(T){At.setValue(T,S)})}}})]),m=ma([zn(function(w,S){var T=lS(w,t,["label","field","aria-descriptor"]);T.field().each(function(D){var _=qt(t.prefix);T.label().each(function(z){Vn(z.element,"for",_),Vn(D.element,"id",_)}),T["aria-descriptor"]().each(function(z){var H=qt(t.prefix);Vn(z.element,"id",H),Vn(D.element,"aria-describedby",H)})})})]),p={getField:function(w){return ua(w,t,"field")},getLabel:function(w){return ua(w,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:v,events:m,apis:p}},zr=Eu({name:"FormField",configFields:oT(),partFields:ms(),factory:hR,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),k6=function(t,r){return Dc({attributes:Df([{key:r.tabAttr,value:"true"}])})},A6=Object.freeze({__proto__:null,exhibit:k6}),O6=[me("tabAttr","data-alloy-tabstop")],po=jo({fields:O6,name:"tabstopping",active:A6}),pR=tinymce.util.Tools.resolve("tinymce.html.Entities"),pC=function(t,r,o,s){var v=bR(t,r,o,s);return zr.sketch(v)},D6=function(t,r){return pC(t,r,[],[])},bR=function(t,r,o,s){return{dom:H4(o),components:t.toArray().concat([r]),fieldBehaviours:wt(s)}},R6=function(){return H4([])},H4=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},nm=function(t,r){return zr.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},vc=qt("form-component-change"),bC=qt("form-close"),Ep=qt("form-cancel"),Xv=qt("form-action"),yC=qt("form-submit"),V4=qt("form-block"),U4=qt("form-unblock"),Fg=qt("form-tabchange"),yR=qt("form-resize"),_6=function(t,r){var o,s=t.label.map(function(_){return nm(_,r)}),v=function(_){return function(z,H){rc(H.event.target,"[data-collection-item-value]").each(function(j){_(z,H,j,_a(j,"data-collection-item-value"))})}},m=function(_,z){var H=ut(z,function(ce){var Y=af.translate(ce.text),de=t.columns===1?'<div class="tox-collection__item-label">'+Y+"</div>":"",Re='<div class="tox-collection__item-icon">'+ce.icon+"</div>",De={_:" "," - ":" ","-":" "},fe=Y.replace(/\_| \- |\-/g,function(Le){return De[Le]}),Te=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+Te+'" tabindex="-1" data-collection-item-value="'+pR.encodeAllRaw(ce.value)+'" title="'+fe+'" aria-label="'+fe+'">'+Re+de+"</div>"}),j=t.columns!=="auto"&&t.columns>1?Co(H,t.columns):[H],ee=ut(j,function(ce){return'<div class="tox-collection__group">'+ce.join("")+"</div>"});Bf(_.element,ee.join(""))},p=v(function(_,z,H,j){z.stop(),r.isDisabled()||bn(_,Xv,{name:t.name,value:j})}),w=[Xe(Rf(),v(function(_,z,H){sl(H)})),Xe(Om(),p),Xe(mv(),p),Xe(ec(),v(function(_,z,H){Vo(_.element,"."+wp).each(function(j){Ro(j,wp)}),Ho(H,wp)})),Xe(Si(),v(function(_){Vo(_.element,"."+wp).each(function(z){Ro(z,wp)})})),cs(v(function(_,z,H,j){bn(_,Xv,{name:t.name,value:j})}))],S=function(_,z){return ut(ou(_.element,".tox-collection__item"),z)},T=zr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Lt},behaviours:wt([mn.config({disabled:r.isDisabled,onDisabled:function(_){S(_,function(z){Ho(z,"tox-collection__item--state-disabled"),Vn(z,"aria-disabled",!0)})},onEnabled:function(_){S(_,function(z){Ro(z,"tox-collection__item--state-disabled"),ri(z,"aria-disabled")})}}),Jo(),An.config({}),At.config({store:{mode:"memory",initialValue:[]},onSetValue:function(_,z){m(_,z),t.columns==="auto"&&h4(_,5,"tox-collection__item").each(function(H){var j=H.numRows,ee=H.numColumns;nn.setGridSize(_,j,ee)}),_r(_,yR)}}),po.config({}),nn.config(YD(t.columns,"normal")),$n("collection-events",w)]),eventOrder:(o={},o[Ns()]=["disabling","alloy.base.behaviour","collection-events"],o)}),D=["tox-form__group--collection"];return pC(s,T,D,[])},rm=ve([Fr("data"),me("inputAttributes",{}),me("inputStyles",{}),me("tag","input"),me("inputClasses",[]),Ir("onSetValue"),me("styles",{}),me("eventOrder",{}),Go("inputBehaviours",[At,On]),me("selectOnFocus",!0)]),CR=function(t){return wt([On.config({onFocus:t.selectOnFocus?function(r){var o=r.element,s=Vl(o);o.dom.setSelectionRange(0,s.length)}:Ye})])},B6=function(t){return oe(oe({},CR(t)),ui(t.inputBehaviours,[At.config({store:oe(oe({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return Vl(r.element)},setValue:function(r,o){var s=Vl(r.element);s!==o&&Fm(r.element,o)}}),onSetValue:t.onSetValue})]))},Ic=function(t){return{tag:t.tag,attributes:oe({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},wR=function(t,r){return{uid:t.uid,dom:Ic(t),components:[],behaviours:B6(t),eventOrder:t.eventOrder}},vb=Us({name:"Input",configFields:rm(),factory:wR}),SR={},xR={exports:SR};(function(t,r,o,s){(function(v,m){typeof r=="object"&&typeof o<"u"?o.exports=m():typeof t=="function"&&t.amd?t(m):(v=typeof globalThis<"u"?globalThis:v||self,v.EphoxContactWrapper=m())})(this,function(){var v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof RB<"u"?RB:typeof self<"u"?self:{},m={exports:{}};(function(T){(function(D){var _=setTimeout;function z(){}function H(fe,Te){return function(){fe.apply(Te,arguments)}}function j(fe){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof fe!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],De(fe,this)}function ee(fe,Te){for(;fe._state===3;)fe=fe._value;if(fe._state===0){fe._deferreds.push(Te);return}fe._handled=!0,j._immediateFn(function(){var Le=fe._state===1?Te.onFulfilled:Te.onRejected;if(Le===null){(fe._state===1?ce:Y)(Te.promise,fe._value);return}var Ot;try{Ot=Le(fe._value)}catch(Ke){Y(Te.promise,Ke);return}ce(Te.promise,Ot)})}function ce(fe,Te){try{if(Te===fe)throw new TypeError("A promise cannot be resolved with itself.");if(Te&&(typeof Te=="object"||typeof Te=="function")){var Le=Te.then;if(Te instanceof j){fe._state=3,fe._value=Te,de(fe);return}else if(typeof Le=="function"){De(H(Le,Te),fe);return}}fe._state=1,fe._value=Te,de(fe)}catch(Ot){Y(fe,Ot)}}function Y(fe,Te){fe._state=2,fe._value=Te,de(fe)}function de(fe){fe._state===2&&fe._deferreds.length===0&&j._immediateFn(function(){fe._handled||j._unhandledRejectionFn(fe._value)});for(var Te=0,Le=fe._deferreds.length;Te<Le;Te++)ee(fe,fe._deferreds[Te]);fe._deferreds=null}function Re(fe,Te,Le){this.onFulfilled=typeof fe=="function"?fe:null,this.onRejected=typeof Te=="function"?Te:null,this.promise=Le}function De(fe,Te){var Le=!1;try{fe(function(Ot){Le||(Le=!0,ce(Te,Ot))},function(Ot){Le||(Le=!0,Y(Te,Ot))})}catch(Ot){if(Le)return;Le=!0,Y(Te,Ot)}}j.prototype.catch=function(fe){return this.then(null,fe)},j.prototype.then=function(fe,Te){var Le=new this.constructor(z);return ee(this,new Re(fe,Te,Le)),Le},j.all=function(fe){var Te=Array.prototype.slice.call(fe);return new j(function(Le,Ot){if(Te.length===0)return Le([]);var Ke=Te.length;function Dt($e,pt){try{if(pt&&(typeof pt=="object"||typeof pt=="function")){var Kt=pt.then;if(typeof Kt=="function"){Kt.call(pt,function(Ge){Dt($e,Ge)},Ot);return}}Te[$e]=pt,--Ke===0&&Le(Te)}catch(Ge){Ot(Ge)}}for(var Je=0;Je<Te.length;Je++)Dt(Je,Te[Je])})},j.resolve=function(fe){return fe&&typeof fe=="object"&&fe.constructor===j?fe:new j(function(Te){Te(fe)})},j.reject=function(fe){return new j(function(Te,Le){Le(fe)})},j.race=function(fe){return new j(function(Te,Le){for(var Ot=0,Ke=fe.length;Ot<Ke;Ot++)fe[Ot].then(Te,Le)})},j._immediateFn=typeof setImmediate=="function"?function(fe){setImmediate(fe)}:function(fe){_(fe,0)},j._unhandledRejectionFn=function(Te){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Te)},j._setImmediateFn=function(Te){j._immediateFn=Te},j._setUnhandledRejectionFn=function(Te){j._unhandledRejectionFn=Te},T.exports?T.exports=j:D.Promise||(D.Promise=j)})(v)})(m);var p=m.exports,w=function(){return typeof window<"u"?window:Function("return this;")()}(),S={boltExport:w.Promise||p};return S})})(void 0,SR,xR);var uf=xR.exports.boltExport,W4=function(t){var r=A.none(),o=[],s=function(T){return W4(function(D){v(function(_){D(T(_))})})},v=function(T){p()?S(T):o.push(T)},m=function(T){p()||(r=A.some(T),w(o),o=[])},p=function(){return r.isSome()},w=function(T){Ut(T,S)},S=function(T){r.each(function(D){setTimeout(function(){T(D)},0)})};return t(m),{get:v,map:s,isReady:p}},TR=function(t){return W4(function(r){r(t)})},M6={nu:W4,pure:TR},N6=function(t){setTimeout(function(){throw t},0)},db=function(t){var r=function(S){t().then(S,N6)},o=function(S){return db(function(){return t().then(S)})},s=function(S){return db(function(){return t().then(function(T){return S(T).toPromise()})})},v=function(S){return db(function(){return t().then(function(){return S.toPromise()})})},m=function(){return M6.nu(r)},p=function(){var S=null;return db(function(){return S===null&&(S=t()),S})},w=t;return{map:o,bind:s,anonBind:v,toLazy:m,toCached:p,toPromise:w,get:r}},j4=function(t){return db(function(){return new uf(t)})},P6=function(t){return db(function(){return uf.resolve(t)})},su={nu:j4,pure:P6},F6=["input","textarea"],ER=function(t){var r=_n(t);return In(F6,r)},kR=function(t,r){var o=r.getRoot(t).getOr(t.element);Ro(o,r.invalidClass),r.notify.each(function(s){ER(t.element)&&Vn(t.element,"aria-invalid",!1),s.getContainer(t).each(function(v){Bf(v,s.validHtml)}),s.onValid(t)})},AR=function(t,r,o,s){var v=r.getRoot(t).getOr(t.element);Ho(v,r.invalidClass),r.notify.each(function(m){ER(t.element)&&Vn(t.element,"aria-invalid",!0),m.getContainer(t).each(function(p){Bf(p,s)}),m.onInvalid(t,s)})},OR=function(t,r,o){return r.validator.fold(function(){return su.pure(Un.value(!0))},function(s){return s.validate(t)})},iT=function(t,r,o){return r.notify.each(function(s){s.onValidate(t)}),OR(t,r).map(function(s){return t.getSystem().isConnected()?s.fold(function(v){return AR(t,r,o,v),Un.error(v)},function(v){return kR(t,r),Un.value(v)}):Un.error("No longer in system")})},DR=function(t,r){var o=r.getRoot(t).getOr(t.element);return yu(o,r.invalidClass)},I6=Object.freeze({__proto__:null,markValid:kR,markInvalid:AR,query:OR,run:iT,isInvalid:DR}),z6=function(t,r){return t.validator.map(function(o){return ma([Xe(o.onEvent,function(s){iT(s,t,r).get(Lt)})].concat(o.validateOnLoad?[zn(function(s){iT(s,t,r).get(Ye)})]:[]))}).getOr({})},$6=Object.freeze({__proto__:null,events:z6}),L6=[Ue("invalidClass"),me("getRoot",A.none),us("notify",[me("aria","alert"),me("getContainer",A.none),me("validHtml",""),Ir("onValid"),Ir("onInvalid"),Ir("onValidate")]),us("validator",[Ue("validate"),me("onEvent","input"),me("validateOnLoad",!0)])],Yv=jo({fields:L6,name:"invalidating",active:$6,apis:I6,extra:{validation:function(t){return function(r){var o=At.getValue(r);return su.pure(t(o))}}}}),RR=function(t,r,o,s){return o.getOrCreate(t,r,s)},_R=Object.freeze({__proto__:null,getCoupled:RR}),BR=[zu("others",Ui(Un.value,Sc()))],uT=function(){var t={},r=function(s,v,m){var p=la(v.others);if(p)return rn(t,m).getOrThunk(function(){var w=rn(v.others,m).getOrDie("No information found for coupled component: "+m),S=w(s),T=s.getSystem().build(S);return t[m]=T,T});throw new Error("Cannot find coupled component: "+m+". Known coupled components: "+JSON.stringify(p,null,2))},o=ve({});return Gi({readState:o,getOrCreate:r})},H6=Object.freeze({__proto__:null,init:uT}),To=jo({fields:BR,name:"coupling",apis:_R,state:H6}),MR=ve("sink"),NR=ve(ic({name:MR(),overrides:ve({dom:{tag:"div"},behaviours:wt([lo.config({useFixed:Qe})]),events:ma([vd(Jp()),vd(kc()),vd(Om())])})})),Xf;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(Xf||(Xf={}));var PR=function(t,r){var o=t.getHotspot(r).getOr(r),s="hotspot",v=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:v}},function(m){return{type:s,hotspot:o,overrides:v,layouts:m}})},sT=function(t,r,o){var s=t.fetch;return s(o).map(r)},V6=function(t,r,o,s,v,m,p){var w=sT(t,r,s),S=q4(s,t);return w.map(function(T){return T.bind(function(D){return A.from(Yr.sketch(oe(oe({},m.menu()),{uid:Cv(""),data:D,highlightImmediately:p===Xf.HighlightFirst,onOpenMenu:function(_,z){var H=S().getOrDie();lo.position(H,z,{anchor:o}),pr.decloak(v)},onOpenSubmenu:function(_,z,H){var j=S().getOrDie();lo.position(j,H,{anchor:{type:"submenu",item:z}}),pr.decloak(v)},onRepositionMenu:function(_,z,H){var j=S().getOrDie();lo.position(j,z,{anchor:o}),Ut(H,function(ee){lo.position(j,ee.triggeredMenu,{anchor:{type:"submenu",item:ee.triggeringItem}})})},onEscape:function(){return On.focus(s),pr.close(v),A.some(!0)}})))})})},G4=function(t,r,o,s,v,m,p){var w=PR(t,o),S=V6(t,r,w,o,s,v,p);return S.map(function(T){return T.fold(function(){pr.isOpen(s)&&pr.close(s)},function(D){pr.cloak(s),pr.open(s,D),m(s)}),s})},am=function(t,r,o,s,v,m,p){return pr.close(s),su.pure(s)},mb=function(t,r,o,s,v,m){var p=To.getCoupled(o,"sandbox"),w=pr.isOpen(p),S=w?am:G4;return S(t,r,o,p,s,v,m)},gb=function(t,r,o){var s=sr.getCurrent(r).getOr(r),v=Li(t.element);o?xn(s.element,"min-width",v+"px"):Jc(s.element,v)},q4=function(t,r){return t.getSystem().getByUid(r.uid+"-"+MR()).map(function(o){return function(){return Un.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return Un.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},cT=function(t){pr.getState(t).each(function(r){Yr.repositionMenus(r)})},K4=function(t,r,o){var s=bd(),v=function(w,S){var T=PR(t,r);s.link(r.element),t.matchWidth&&gb(T.hotspot,S,t.useMinWidth),t.onOpen(T,w,S),o!==void 0&&o.onOpen!==void 0&&o.onOpen(w,S)},m=function(w,S){s.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(w,S)},p=q4(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:oc.augment(t.sandboxBehaviours,[At.config({store:{mode:"memory",initialValue:r}}),pr.config({onOpen:v,onClose:m,isPartOf:function(w,S,T){return yd(S,T)||yd(r,T)},getAttachPoint:function(){return p().getOrDie()}}),sr.config({find:function(w){return pr.getState(w).bind(function(S){return sr.getCurrent(S)})}}),ru.config({channels:oe(oe({},ju({isExtraPart:Bt})),Pd({doReposition:cT}))})])}},FR=function(t){var r=To.getCoupled(t,"sandbox");cT(r)},X4=function(){return[me("sandboxClasses",[]),oc.field("sandboxBehaviours",[sr,ru,pr,At])]},IR=ve([Ue("dom"),Ue("fetch"),Ir("onOpen"),Uo("onExecute"),me("getHotspot",A.some),me("getAnchorOverrides",ve({})),Rv(),Go("dropdownBehaviours",[dr,To,nn,On]),Ue("toggleClass"),me("eventOrder",{}),Fr("lazySink"),me("matchWidth",!1),me("useMinWidth",!1),Fr("role")].concat(X4())),U6=ve([Vs({schema:[Cd()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),NR()]),lT=function(t,r,o,s){var v,m=function(D){return rn(t.dom,"attributes").bind(function(_){return rn(_,D)})},p=function(D){pr.getState(D).each(function(_){Yr.highlightPrimary(_)})},w=function(D){var _=p;mb(t,Lt,D,s,_,Xf.HighlightFirst).get(Ye)},S={expand:function(D){dr.isOn(D)||mb(t,Lt,D,s,Ye,Xf.HighlightNone).get(Ye)},open:function(D){dr.isOn(D)||mb(t,Lt,D,s,Ye,Xf.HighlightFirst).get(Ye)},isOpen:dr.isOn,close:function(D){dr.isOn(D)&&mb(t,Lt,D,s,Ye,Xf.HighlightFirst).get(Ye)},repositionMenus:function(D){dr.isOn(D)&&FR(D)}},T=function(D,_){return Fs(D),A.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ui(t.dropdownBehaviours,[dr.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),To.config({others:{sandbox:function(D){return K4(t,D,{onOpen:function(){return dr.on(D)},onClose:function(){return dr.off(D)}})}}}),nn.config({mode:"special",onSpace:T,onEnter:T,onDown:function(D,_){if(sf.isOpen(D)){var z=To.getCoupled(D,"sandbox");p(z)}else sf.open(D);return A.some(!0)},onEscape:function(D,_){return sf.isOpen(D)?(sf.close(D),A.some(!0)):A.none()}}),On.config({})]),events:W0(A.some(w)),eventOrder:oe(oe({},t.eventOrder),(v={},v[Ns()]=["disabling","toggling","alloy.base.behaviour"],v)),apis:S,domModification:{attributes:oe(oe({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(D){return{role:D}})),t.dom.tag==="button"?{type:m("type").getOr("button")}:{})}}},sf=Eu({name:"Dropdown",configFields:IR(),partFields:U6(),factory:lT,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),zc=function(){return Dc({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},W6=function(){return ma([ey(O3(),Qe)])},j6=Object.freeze({__proto__:null,events:W6,exhibit:zc}),hb=jo({fields:[],name:"unselecting",active:j6}),zR=function(t,r){return sf.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:wt([bl.button(r.providers.isDisabled),Jo(),hb.config({}),po.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return su.nu(function(s){return t.fetch(s)}).map(function(s){return A.from(oR(Fe(lb(qt("menu-value"),s,function(v){t.onItemAction(o,v)},t.columns,t.presets,qf.CLOSE_ON_EXECUTE,Bt,r.providers),{movement:tT(t.columns,t.presets)})))})},parts:{menu:Nx(!1,1,t.presets)}})},$R=qt("color-input-change"),LR=qt("color-swatch-change"),HR=qt("color-picker-cancel"),G6=function(t,r,o){var s=zr.parts.field({factory:vb,inputClasses:["tox-textfield"],onSetValue:function(S){return Yv.run(S).get(Ye)},inputBehaviours:wt([mn.config({disabled:r.providers.isDisabled}),Jo(),po.config({}),Yv.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(S){return oo(S.element)},notify:{onValid:function(S){var T=At.getValue(S);bn(S,$R,{color:T})}},validator:{validateOnLoad:!1,validate:function(S){var T=At.getValue(S);if(T.length===0)return su.pure(Un.value(!0));var D=ne.fromTag("span");xn(D,"background-color",T);var _=wo(D,"background-color").fold(function(){return Un.error("blah")},function(z){return Un.value(T)});return su.pure(_)}}})]),selectOnFocus:!1}),v=t.label.map(function(S){return nm(S,r.providers)}),m=function(S,T){bn(S,LR,{value:T})},p=function(S,T){w.getOpt(S).each(function(D){T==="custom"?o.colorPicker(function(_){_.fold(function(){return _r(D,HR)},function(z){m(D,z),WD(z)})},"#ffffff"):T==="remove"?m(D,""):m(D,T)})},w=Gr(zR({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Yo,qi,_o]},onLtr:function(){return[qi,Yo,_o]}},components:[],fetch:qD(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:p},r));return zr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,w.asSpec()]}]),fieldBehaviours:wt([$n("form-field-events",[Xe($R,function(S,T){w.getOpt(S).each(function(D){xn(D.element,"background-color",T.event.color)}),bn(S,vc,{name:t.name})}),Xe(LR,function(S,T){zr.getField(S).each(function(D){At.setValue(D,T.event.value),sr.getCurrent(S).each(On.focus)})}),Xe(HR,function(S,T){zr.getField(S).each(function(D){sr.getCurrent(S).each(On.focus)})})])])})},q6=ic({schema:[Ue("dom")],name:"label"}),Ig=function(t){return ic({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:ma([ty(Il(),function(v,m,p){return s(v,p)},[r]),ty(kc(),function(v,m,p){return s(v,p)},[r]),ty(ud(),function(v,m,p){p.mouseIsDown.get()&&s(v,p)},[r])])}})}})},K6=Ig("top-left"),VR=Ig("top"),X6=Ig("top-right"),Y6=Ig("right"),Z6=Ig("bottom-right"),UR=Ig("bottom"),fT=Ig("bottom-left"),J6=Ig("left"),vT=Ri({name:"thumb",defaults:ve({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ma([fd(Il(),t,"spectrum"),fd(Ec(),t,"spectrum"),fd(vv(),t,"spectrum"),fd(kc(),t,"spectrum"),fd(ud(),t,"spectrum"),fd(Gb(),t,"spectrum")])}}}),pb=Ri({schema:[hu("mouseIsDown",function(){return pn(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,s=function(v,m){return o.getValueFromEvent(m).map(function(p){return o.setValueFrom(v,t,p)})};return{behaviours:wt([nn.config({mode:"special",onLeft:function(v){return o.onLeft(v,t)},onRight:function(v){return o.onRight(v,t)},onUp:function(v){return o.onUp(v,t)},onDown:function(v){return o.onDown(v,t)}}),On.config({})]),events:ma([Xe(Il(),s),Xe(Ec(),s),Xe(kc(),s),Xe(ud(),function(v,m){t.mouseIsDown.get()&&s(v,m)})])}}}),WR=[q6,J6,Y6,VR,UR,K6,X6,fT,Z6,vT,pb],jR="slider.change.value",bb=ve(jR),Q6=function(t){return t.type.indexOf("touch")!==-1},Y4=function(t){var r=t.event.raw;if(Q6(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?A.some(o.touches[0]).map(function(v){return fa(v.clientX,v.clientY)}):A.none()}else{var s=r;return s.clientX!==void 0?A.some(s).map(function(v){return fa(v.clientX,v.clientY)}):A.none()}},dT="top",eN="right",tN="bottom",GR="left",zg=function(t){return t.model.minX},om=function(t){return t.model.minY},CC=function(t){return t.model.minX-1},cu=function(t){return t.model.minY-1},$g=function(t){return t.model.maxX},kp=function(t){return t.model.maxY},mT=function(t){return t.model.maxX+1},wC=function(t){return t.model.maxY+1},qR=function(t,r,o){return r(t)-o(t)},Z4=function(t){return qR(t,$g,zg)},J4=function(t){return qR(t,kp,om)},Q4=function(t){return Z4(t)/2},Yf=function(t){return J4(t)/2},Lg=function(t){return t.stepSize},eA=function(t){return t.snapToGrid},SC=function(t){return t.snapStart},gT=function(t){return t.rounded},hT=function(t,r){return t[r+"-edge"]!==void 0},KR=function(t){return hT(t,GR)},XR=function(t){return hT(t,eN)},YR=function(t){return hT(t,dT)},ZR=function(t){return hT(t,tN)},Zf=function(t){return t.model.value.get()},JR=function(t){return{x:t}},tA=function(t){return{y:t}},Hg=function(t,r){return{x:t,y:r}},Xi=function(t,r){bn(t,bb(),{value:r})},pT=function(t,r){Xi(t,Hg(CC(r),cu(r)))},nN=function(t,r){Xi(t,tA(cu(r)))},rN=function(t,r){Xi(t,Hg(Q4(r),cu(r)))},QR=function(t,r){Xi(t,Hg(mT(r),cu(r)))},e_=function(t,r){Xi(t,JR(mT(r)))},nA=function(t,r){Xi(t,Hg(mT(r),Yf(r)))},t_=function(t,r){Xi(t,Hg(mT(r),wC(r)))},xC=function(t,r){Xi(t,tA(wC(r)))},TC=function(t,r){Xi(t,Hg(Q4(r),wC(r)))},aN=function(t,r){Xi(t,Hg(CC(r),wC(r)))},oN=function(t,r){Xi(t,JR(CC(r)))},iN=function(t,r){Xi(t,Hg(CC(r),Yf(r)))},rA=function(t,r,o,s){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-s)},aA=function(t,r,o,s){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+s)},n_=function(t,r,o){return Math.max(r,Math.min(o,t))},uN=function(t,r,o,s,v){return v.fold(function(){var m=t-r,p=Math.round(m/s)*s;return n_(r+p,r-1,o+1)},function(m){var p=(t-m)%s,w=Math.round(p/s),S=Math.floor((t-m)/s),T=Math.floor((o-m)/s),D=Math.min(T,S+w),_=m+D*s;return Math.max(m,_)})},oA=function(t,r,o){return Math.min(o,Math.max(t,r))-r},Vg=function(t){var r=t.min,o=t.max,s=t.range,v=t.value,m=t.step,p=t.snap,w=t.snapStart,S=t.rounded,T=t.hasMinEdge,D=t.hasMaxEdge,_=t.minBound,z=t.maxBound,H=t.screenRange,j=T?r-1:r,ee=D?o+1:o;if(v<_)return j;if(v>z)return ee;var ce=oA(v,_,z),Y=n_(ce/H*s+r,j,ee);return p&&Y>=r&&Y<=o?uN(Y,r,o,m,w):S?Math.round(Y):Y},r_=function(t){var r=t.min,o=t.max,s=t.range,v=t.value,m=t.hasMinEdge,p=t.hasMaxEdge,w=t.maxBound,S=t.maxOffset,T=t.centerMinEdge,D=t.centerMaxEdge;return v<r?m?0:T:v>o?p?w:D:(v-r)/s*S},bT="top",a_="right",o_="bottom",iA="left",sN="width",cN="height",Jf=function(t){return t.element.dom.getBoundingClientRect()},$c=function(t,r){return t[r]},yT=function(t){var r=Jf(t);return $c(r,iA)},uA=function(t){var r=Jf(t);return $c(r,a_)},yb=function(t){var r=Jf(t);return $c(r,bT)},CT=function(t){var r=Jf(t);return $c(r,o_)},sA=function(t){var r=Jf(t);return $c(r,sN)},i_=function(t){var r=Jf(t);return $c(r,cN)},u_=function(t,r,o){return(t+r)/2-o},EC=function(t,r){var o=Jf(t),s=Jf(r),v=$c(o,iA),m=$c(o,a_),p=$c(s,iA);return u_(v,m,p)},cA=function(t,r){var o=Jf(t),s=Jf(r),v=$c(o,bT),m=$c(o,o_),p=$c(s,bT);return u_(v,m,p)},wT=function(t,r){bn(t,bb(),{value:r})},ST=function(t){return{x:t}},lA=function(t,r,o){var s={min:zg(r),max:$g(r),range:Z4(r),value:o,step:Lg(r),snap:eA(r),snapStart:SC(r),rounded:gT(r),hasMinEdge:KR(r),hasMaxEdge:XR(r),minBound:yT(t),maxBound:uA(t),screenRange:sA(t)};return Vg(s)},lN=function(t,r,o){var s=lA(t,r,o),v=ST(s);return wT(t,v),s},im=function(t,r){var o=zg(r);wT(t,ST(o))},fA=function(t,r){var o=$g(r);wT(t,ST(o))},s_=function(t,r,o){var s=t>0?aA:rA,v=s(Zf(o).x,zg(o),$g(o),Lg(o));return wT(r,ST(v)),A.some(v)},vA=function(t){return function(r,o){return s_(t,r,o).map(Qe)}},dA=function(t){var r=Y4(t);return r.map(function(o){return o.left})},c_=function(t,r,o,s,v){var m=0,p=sA(t),w=s.bind(function(D){return A.some(EC(D,t))}).getOr(m),S=v.bind(function(D){return A.some(EC(D,t))}).getOr(p),T={min:zg(r),max:$g(r),range:Z4(r),value:o,hasMinEdge:KR(r),hasMaxEdge:XR(r),minBound:yT(t),minOffset:m,maxBound:uA(t),maxOffset:p,centerMinEdge:w,centerMaxEdge:S};return r_(T)},Cb=function(t,r,o,s,v,m){var p=c_(r,m,o,s,v);return yT(r)-yT(t)+p},l_=function(t,r,o,s){var v=Zf(o),m=Cb(t,s.getSpectrum(t),v.x,s.getLeftEdge(t),s.getRightEdge(t),o),p=Li(r.element)/2;xn(r.element,"left",m-p+"px")},f_=vA(-1),fN=vA(1),vN=A.none,dN=A.none,mN={"top-left":A.none(),top:A.none(),"top-right":A.none(),right:A.some(e_),"bottom-right":A.none(),bottom:A.none(),"bottom-left":A.none(),left:A.some(oN)},v_=Object.freeze({__proto__:null,setValueFrom:lN,setToMin:im,setToMax:fA,findValueOfOffset:lA,getValueFromEvent:dA,findPositionOfValue:Cb,setPositionFromValue:l_,onLeft:f_,onRight:fN,onUp:vN,onDown:dN,edgeActions:mN}),kC=function(t,r){bn(t,bb(),{value:r})},xT=function(t){return{y:t}},mA=function(t,r,o){var s={min:om(r),max:kp(r),range:J4(r),value:o,step:Lg(r),snap:eA(r),snapStart:SC(r),rounded:gT(r),hasMinEdge:YR(r),hasMaxEdge:ZR(r),minBound:yb(t),maxBound:CT(t),screenRange:i_(t)};return Vg(s)},gN=function(t,r,o){var s=mA(t,r,o),v=xT(s);return kC(t,v),s},TT=function(t,r){var o=om(r);kC(t,xT(o))},hN=function(t,r){var o=kp(r);kC(t,xT(o))},pN=function(t,r,o){var s=t>0?aA:rA,v=s(Zf(o).y,om(o),kp(o),Lg(o));return kC(r,xT(v)),A.some(v)},gA=function(t){return function(r,o){return pN(t,r,o).map(Qe)}},d_=function(t){var r=Y4(t);return r.map(function(o){return o.top})},bN=function(t,r,o,s,v){var m=0,p=i_(t),w=s.bind(function(D){return A.some(cA(D,t))}).getOr(m),S=v.bind(function(D){return A.some(cA(D,t))}).getOr(p),T={min:om(r),max:kp(r),range:J4(r),value:o,hasMinEdge:YR(r),hasMaxEdge:ZR(r),minBound:yb(t),minOffset:m,maxBound:CT(t),maxOffset:p,centerMinEdge:w,centerMaxEdge:S};return r_(T)},hA=function(t,r,o,s,v,m){var p=bN(r,m,o,s,v);return yb(r)-yb(t)+p},ET=function(t,r,o,s){var v=Zf(o),m=hA(t,s.getSpectrum(t),v.y,s.getTopEdge(t),s.getBottomEdge(t),o),p=Oo(r.element)/2;xn(r.element,"top",m-p+"px")},yN=A.none,CN=A.none,wN=gA(-1),SN=gA(1),kT={"top-left":A.none(),top:A.some(nN),"top-right":A.none(),right:A.none(),"bottom-right":A.none(),bottom:A.some(xC),"bottom-left":A.none(),left:A.none()},pA=Object.freeze({__proto__:null,setValueFrom:gN,setToMin:TT,setToMax:hN,findValueOfOffset:mA,getValueFromEvent:d_,findPositionOfValue:hA,setPositionFromValue:ET,onLeft:yN,onRight:CN,onUp:wN,onDown:SN,edgeActions:kT}),AT=function(t,r){bn(t,bb(),{value:r})},OT=function(t,r){return{x:t,y:r}},DT=function(t,r,o){var s=lA(t,r,o.left),v=mA(t,r,o.top),m=OT(s,v);return AT(t,m),m},xN=function(t,r,o,s){var v=t>0?aA:rA,m=r?Zf(s).x:v(Zf(s).x,zg(s),$g(s),Lg(s)),p=r?v(Zf(s).y,om(s),kp(s),Lg(s)):Zf(s).y;return AT(o,OT(m,p)),A.some(m)},wb=function(t,r){return function(o,s){return xN(t,r,o,s).map(Qe)}},m_=function(t,r){var o=zg(r),s=om(r);AT(t,OT(o,s))},TN=function(t,r){var o=$g(r),s=kp(r);AT(t,OT(o,s))},EN=function(t){return Y4(t)},g_=function(t,r,o,s){var v=Zf(o),m=Cb(t,s.getSpectrum(t),v.x,s.getLeftEdge(t),s.getRightEdge(t),o),p=hA(t,s.getSpectrum(t),v.y,s.getTopEdge(t),s.getBottomEdge(t),o),w=Li(r.element)/2,S=Oo(r.element)/2;xn(r.element,"left",m-w+"px"),xn(r.element,"top",p-S+"px")},h_=wb(-1,!1),kN=wb(1,!1),p_=wb(-1,!0),b_=wb(1,!0),y_={"top-left":A.some(pT),top:A.some(rN),"top-right":A.some(QR),right:A.some(nA),"bottom-right":A.some(t_),bottom:A.some(TC),"bottom-left":A.some(aN),left:A.some(iN)},C_=Object.freeze({__proto__:null,setValueFrom:DT,setToMin:m_,setToMax:TN,getValueFromEvent:EN,setPositionFromValue:g_,onLeft:h_,onRight:kN,onUp:p_,onDown:b_,edgeActions:y_}),AN=[me("stepSize",1),me("onChange",Ye),me("onChoose",Ye),me("onInit",Ye),me("onDragStart",Ye),me("onDragEnd",Ye),me("snapToGrid",!1),me("rounded",!0),Fr("snapStart"),zu("model",Qs("mode",{x:[me("minX",0),me("maxX",100),hu("value",function(t){return pn(t.mode.minX)}),Ue("getInitialValue"),ya("manager",v_)],y:[me("minY",0),me("maxY",100),hu("value",function(t){return pn(t.mode.minY)}),Ue("getInitialValue"),ya("manager",pA)],xy:[me("minX",0),me("maxX",100),me("minY",0),me("maxY",100),hu("value",function(t){return pn({x:t.mode.minX,y:t.mode.minY})}),Ue("getInitialValue"),ya("manager",C_)]})),Go("sliderBehaviours",[nn,At]),hu("mouseIsDown",function(){return pn(!1)})],ON=function(t,r,o,s){var v,m=function(fe){return ef(fe,t,"thumb")},p=function(fe){return ef(fe,t,"spectrum")},w=function(fe){return ua(fe,t,"left-edge")},S=function(fe){return ua(fe,t,"right-edge")},T=function(fe){return ua(fe,t,"top-edge")},D=function(fe){return ua(fe,t,"bottom-edge")},_=t.model,z=_.manager,H=function(fe,Te){z.setPositionFromValue(fe,Te,t,{getLeftEdge:w,getRightEdge:S,getTopEdge:T,getBottomEdge:D,getSpectrum:p})},j=function(fe,Te){_.value.set(Te);var Le=m(fe);H(fe,Le)},ee=function(fe,Te){j(fe,Te);var Le=m(fe);return t.onChange(fe,Le,Te),A.some(!0)},ce=function(fe){z.setToMin(fe,t)},Y=function(fe){z.setToMax(fe,t)},de=function(fe){var Te=function(){ua(fe,t,"thumb").each(function(Ot){var Ke=_.value.get();t.onChoose(fe,Ot,Ke)})},Le=t.mouseIsDown.get();t.mouseIsDown.set(!1),Le&&Te()},Re=function(fe,Te){Te.stop(),t.mouseIsDown.set(!0),t.onDragStart(fe,m(fe))},De=function(fe,Te){Te.stop(),t.onDragEnd(fe,m(fe)),de(fe)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ui(t.sliderBehaviours,[nn.config({mode:"special",focusIn:function(fe){return ua(fe,t,"spectrum").map(nn.focusIn).map(Qe)}}),At.config({store:{mode:"manual",getValue:function(fe){return _.value.get()}}}),ru.config({channels:(v={},v[n2()]={onReceive:de},v)})]),events:ma([Xe(bb(),function(fe,Te){ee(fe,Te.event.value)}),zn(function(fe,Te){var Le=_.getInitialValue();_.value.set(Le);var Ot=m(fe);H(fe,Ot);var Ke=p(fe);t.onInit(fe,Ot,Ke,_.value.get())}),Xe(Il(),Re),Xe(vv(),De),Xe(kc(),Re),Xe(Gb(),De)]),apis:{resetToMin:ce,resetToMax:Y,setValue:j,refresh:H},domModification:{styles:{position:"relative"}}}},cf=Eu({name:"Slider",configFields:AN,partFields:WR,factory:ON,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),RT=qt("rgb-hex-update"),w_=qt("slider-update"),bA=qt("palette-update"),DN=function(t,r){var o=cf.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=cf.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return cf.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ve({y:0})},components:[o,s],sliderBehaviours:wt([On.config({})]),onChange:function(v,m,p){bn(v,w_,{value:p})}})},S_="form",yA=[Go("formBehaviours",[At])],x_=function(t){return"<alloy.field."+t+">"},RN=function(t){var r=function(){var m=[],p=function(w,S){return m.push(w),b2(S_,x_(w),S)};return{field:p,record:ve(m)}}(),o=t(r),s=r.record(),v=ut(s,function(m){return Ri({name:m,pname:x_(m)})});return x2(S_,yA,v,BN,o)},_N=function(t,r){return t.fold(function(){return Un.error(r)},Un.value)},BN=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:ui(t.formBehaviours,[At.config({store:{mode:"manual",getValue:function(o){var s=fS(o,t);return Br(s,function(v,m){return v().bind(function(p){var w=sr.getCurrent(p);return _N(w,new Error("Cannot find a current component to extract the value from for form part '"+m+"': "+bu(p.element)))}).map(At.getValue)})},setValue:function(o,s){aa(s,function(v,m){ua(o,t,m).each(function(p){sr.getCurrent(p).each(function(w){At.setValue(w,v)})})})}}})]),apis:{getField:function(o,s){return ua(o,t,s).bind(sr.getCurrent)}}}},Sb={getField:ja(function(t,r,o){return t.getField(r,o)}),sketch:RN},T_=qt("valid-input"),E_=qt("invalid-input"),CA=qt("validating-input"),wA="colorcustom.rgb.",MN=function(t,r,o,s){var v=function(z,H){return Yv.config({invalidClass:r("invalid"),notify:{onValidate:function(j){bn(j,CA,{type:z})},onValid:function(j){bn(j,T_,{type:z,value:At.getValue(j)})},onInvalid:function(j){bn(j,E_,{type:z,value:At.getValue(j)})}},validator:{validate:function(j){var ee=At.getValue(j),ce=H(ee)?Un.value(!0):Un.error(t("aria.input.invalid"));return su.pure(ce)},validateOnLoad:!1}})},m=function(z,H,j,ee,ce){var Y=t(wA+"range"),de=zr.parts.label({dom:{tag:"label",innerHtml:j,attributes:{"aria-label":ee}}}),Re=zr.parts.field({data:ce,factory:vb,inputAttributes:oe({type:"text"},H==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:wt([v(H,z),po.config({})]),onSetValue:function(Le){if(Yv.isInvalid(Le)){var Ot=Yv.run(Le);Ot.get(Ye)}}}),De=[de,Re],fe=H!=="hex"?[zr.parts["aria-descriptor"]({text:Y})]:[],Te=De.concat(fe);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Te}},p=function(z,H){var j=vC(H);return Sb.getField(z,"hex").each(function(ee){On.isFocused(ee)||At.setValue(z,{hex:j.value})}),j},w=function(z,H){var j=H.red,ee=H.green,ce=H.blue;At.setValue(z,{red:j,green:ee,blue:ce})},S=Gr({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),T=function(z,H){S.getOpt(z).each(function(j){xn(j.element,"background-color","#"+H.value)})},D=function(){var z={red:pn(A.some(255)),green:pn(A.some(255)),blue:pn(A.some(255)),hex:pn(A.some("ffffff"))},H=function($e,pt){var Kt=dC(pt);w($e,Kt),Y(Kt)},j=function($e){return z[$e].get()},ee=function($e,pt){z[$e].set(pt)},ce=function(){return j("red").bind(function($e){return j("green").bind(function(pt){return j("blue").map(function(Kt){return tm($e,pt,Kt,1)})})})},Y=function($e){var pt=$e.red,Kt=$e.green,Ge=$e.blue;ee("red",A.some(pt)),ee("green",A.some(Kt)),ee("blue",A.some(Ge))},de=function($e,pt){var Kt=pt.event;Kt.type!=="hex"?ee(Kt.type,A.none()):s($e)},Re=function($e,pt){o($e);var Kt=MD(pt);ee("hex",A.some(pt));var Ge=dC(Kt);w($e,Ge),Y(Ge),bn($e,RT,{hex:Kt}),T($e,Kt)},De=function($e,pt,Kt){var Ge=parseInt(Kt,10);ee(pt,A.some(Ge)),ce().each(function(Wt){var Qt=p($e,Wt);bn($e,RT,{hex:Qt}),T($e,Qt)})},fe=function($e){return $e.type==="hex"},Te=function($e,pt){var Kt=pt.event;fe(Kt)?Re($e,Kt.value):De($e,Kt.type,Kt.value)},Le=function($e){return{label:t(wA+$e+".label"),description:t(wA+$e+".description")}},Ot=Le("red"),Ke=Le("green"),Dt=Le("blue"),Je=Le("hex");return Fe(Sb.sketch(function($e){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[$e.field("red",zr.sketch(m(qx,"red",Ot.label,Ot.description,255))),$e.field("green",zr.sketch(m(qx,"green",Ke.label,Ke.description,255))),$e.field("blue",zr.sketch(m(qx,"blue",Dt.label,Dt.description,255))),$e.field("hex",zr.sketch(m(FD,"hex",Je.label,Je.description,"ffffff"))),S.asSpec()],formBehaviours:wt([Yv.config({invalidClass:r("form-invalid")}),$n("rgb-form-events",[Xe(T_,Te),Xe(E_,de),Xe(CA,de)])])}}),{apis:{updateHex:function($e,pt){At.setValue($e,{hex:pt.value}),H($e,pt),T($e,pt)}}})},_=Us({factory:D,name:"RgbForm",configFields:[],apis:{updateHex:function(z,H,j){z.updateHex(H,j)}},extraApis:{}});return _},k_=function(t,r){var o=cf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=cf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),v=function(T,D){var _=T.width,z=T.height,H=T.getContext("2d");if(H!==null){H.fillStyle=D,H.fillRect(0,0,_,z);var j=H.createLinearGradient(0,0,_,0);j.addColorStop(0,"rgba(255,255,255,1)"),j.addColorStop(1,"rgba(255,255,255,0)"),H.fillStyle=j,H.fillRect(0,0,_,z);var ee=H.createLinearGradient(0,0,0,z);ee.addColorStop(0,"rgba(0,0,0,0)"),ee.addColorStop(1,"rgba(0,0,0,1)"),H.fillStyle=ee,H.fillRect(0,0,_,z)}},m=function(T,D){var _=T.components()[0].element.dom,z=mC(D,100,100),H=O4(z);v(_,$D(H))},p=function(T,D){var _=R4(dC(D));cf.setValue(T,{x:_.saturation,y:100-_.value})},w=function(T){var D=ve({x:0,y:0}),_=function(j,ee,ce){bn(j,bA,{value:ce})},z=function(j,ee,ce,Y){v(ce.element.dom,$D(LD))},H=wt([sr.config({find:A.some}),On.config({})]);return cf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:D},rounded:!1,components:[o,s],onChange:_,onInit:z,sliderBehaviours:H})},S=Us({factory:w,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(T,D,_){m(D,_)},setThumb:function(T,D,_){p(D,_)}},extraApis:{}});return S},NN=function(t,r){var o=function(v){var m=MN(t,r,v.onValidHex,v.onInvalidHex),p=k_(t,r),w=function(Te){return(100-Te)/100*360},S=function(Te){return 100-Te/360*100},T={paletteRgba:pn(LD),paletteHue:pn(0)},D=Gr(DN(t,r)),_=Gr(p.sketch({})),z=Gr(m.sketch({})),H=function(Te,Le,Ot){_.getOpt(Te).each(function(Ke){p.setHue(Ke,Ot)})},j=function(Te,Le){z.getOpt(Te).each(function(Ot){m.updateHex(Ot,Le)})},ee=function(Te,Le,Ot){D.getOpt(Te).each(function(Ke){cf.setValue(Ke,{y:S(Ot)})})},ce=function(Te,Le){_.getOpt(Te).each(function(Ot){p.setThumb(Ot,Le)})},Y=function(Te,Le){var Ot=dC(Te);T.paletteRgba.set(Ot),T.paletteHue.set(Le)},de=function(Te,Le,Ot,Ke){Y(Le,Ot),Ut(Ke,function(Dt){Dt(Te,Le,Ot)})},Re=function(){var Te=[j];return function(Le,Ot){var Ke=Ot.event.value,Dt=T.paletteHue.get(),Je=mC(Dt,Ke.x,100-Ke.y),$e=_4(Je);de(Le,$e,Dt,Te)}},De=function(){var Te=[H,j];return function(Le,Ot){var Ke=w(Ot.event.value.y),Dt=T.paletteRgba.get(),Je=R4(Dt),$e=mC(Ke,Je.saturation,Je.value),pt=_4($e);de(Le,pt,Ke,Te)}},fe=function(){var Te=[H,ee,ce];return function(Le,Ot){var Ke=Ot.event.hex,Dt=V8(Ke);de(Le,Ke,Dt.hue,Te)}};return{uid:v.uid,dom:v.dom,components:[_.asSpec(),D.asSpec(),z.asSpec()],behaviours:wt([$n("colour-picker-events",[Xe(RT,fe()),Xe(bA,Re()),Xe(w_,De())]),sr.config({find:function(Te){return z.getOpt(Te)}}),nn.config({mode:"acyclic"})])}},s=Us({name:"ColourPicker",configFields:[Ue("dom"),me("onValidHex",Ye),me("onInvalidHex",Ye)],factory:o});return s},PN=function(){return sr.config({find:A.some})},FN=function(t){return sr.config({find:t.getOpt})},A_=function(t){return sr.config({find:function(r){return te(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},Qf={self:PN,memento:FN,childAt:A_},IN={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},O_=function(t){return IN[t]},D_=function(t){return O_(t)},R_=function(t){var r=function(p){return"tox-"+p},o=NN(D_,r),s=function(p){bn(p,Xv,{name:"hex-valid",value:!0})},v=function(p){bn(p,Xv,{name:"hex-valid",value:!1})},m=Gr(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:v}));return{dom:{tag:"div"},components:[m.asSpec()],behaviours:wt([At.config({store:{mode:"manual",getValue:function(p){var w=m.get(p),S=sr.getCurrent(w),T=S.bind(function(D){var _=At.getValue(D);return _.hex});return T.map(function(D){return"#"+D}).getOr("")},setValue:function(p,w){var S=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,T=S.exec(w),D=m.get(p),_=sr.getCurrent(D);_.fold(function(){console.log("Can not find form")},function(z){At.setValue(z,{hex:A.from(T[1]).getOr("")}),Sb.getField(z,"hex").each(function(H){_r(H,sd())})})}}}),Qf.self()])}},zN=tinymce.util.Tools.resolve("tinymce.Resource"),__=function(t){return wr(t,"init")},B_=function(t){var r=co(),o=Gr({dom:{tag:t.tag}}),s=co();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:wt([$n("custom-editor-events",[zn(function(v){o.getOpt(v).each(function(m){(__(t)?t.init(m.element.dom):zN.load(t.scriptId,t.scriptUrl).then(function(p){return p(m.element.dom,t.settings)})).then(function(p){s.on(function(w){p.setValue(w)}),s.clear(),r.set(p)})})})]),At.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(v){return v.getValue()})},setValue:function(v,m){r.get().fold(function(){s.set(m)},function(p){return p.setValue(m)})}}}),Qf.self()]),components:[o.asSpec()]}},Ug=tinymce.util.Tools.resolve("tinymce.util.Tools"),$N=sn([me("preprocess",Lt),me("postprocess",Lt)]),LN=function(t,r){var o=Xr("RepresentingConfigs.memento processors",$N,r);return At.config({store:{mode:"manual",getValue:function(s){var v=t.get(s),m=At.getValue(v);return o.postprocess(m)},setValue:function(s,v){var m=o.preprocess(v),p=t.get(s);At.setValue(p,m)}}})},M_=function(t,r,o){return At.config(Fe({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},SA=function(t,r,o){return M_(t,function(s){return r(s.element)},function(s,v){return o(s.element,v)})},HN=function(t){return SA(t,Vl,Fm)},N_=function(t){return SA(t,zl,Bf)},VN=function(t){return At.config({store:{mode:"memory",initialValue:t}})},Ap={memento:LN,withElement:SA,withComp:M_,domValue:HN,domHtml:N_,memory:VN},UN="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",xr=function(t,r){var o=Ug.explode(r.getSetting("images_file_types",UN,"string")),s=function(v){return Jr(o,function(m){return gn(v.name.toLowerCase(),"."+m.toLowerCase())})};return We(fo(t),s)},xb=function(t,r){var o=function(_,z){z.stop()},s=function(_){return function(z,H){Ut(_,function(j){j(z,H)})}},v=function(_,z){if(!mn.isDisabled(_)){var H=z.event.raw;p(_,H.dataTransfer.files)}},m=function(_,z){var H=z.event.raw.target;p(_,H.files)},p=function(_,z){At.setValue(_,xr(z,r)),bn(_,vc,{name:t.name})},w=Gr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:wt([$n("input-file-events",[vd(Om()),vd(mv())])])}),S=function(_){return{uid:_.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:wt([Ap.memory([]),Qf.self(),mn.config({}),dr.config({toggleClass:"dragenter",toggleOnExecute:!1}),$n("dropzone-events",[Xe("dragenter",s([o,dr.toggle])),Xe("dragleave",s([o,dr.toggle])),Xe("dragover",o),Xe("drop",s([o,v])),Xe(Am(),m)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},vs.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[w.asSpec()],action:function(z){var H=w.get(z);H.element.dom.click()},buttonBehaviours:wt([po.config({}),bl.button(r.isDisabled),Jo()])})]}]}},T=t.label.map(function(_){return nm(_,r)}),D=zr.parts.field({factory:{sketch:S}});return pC(T,D,["tox-form__group--stretched"],[])},P_=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:ut(t.items,r.interpreter)}},_T=qt("alloy-fake-before-tabstop"),BT=qt("alloy-fake-after-tabstop"),F_=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:wt([On.config({ignore:!0}),po.config({})])}},I_=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[F_([_T]),t,F_([BT])],behaviours:wt([Qf.childAt(1)])}},z_=function(t,r){bn(t,Jp(),{raw:{which:9,shiftKey:r}})},$_=function(t,r){var o=r.element;yu(o,_T)?z_(t,!0):yu(o,BT)&&z_(t,!1)},AC=function(t){return hC(t,["."+_T,"."+BT].join(","),Bt)},WN=!(hn().browser.isIE()||hn().browser.isEdge()),jN=function(t){var r=pn("");return{getValue:function(o){return r.get()},setValue:function(o,s){if(t)Vn(o.element,"srcdoc",s);else{Vn(o.element,"src","javascript:''");var v=o.element.dom.contentWindow.document;v.open(),v.write(s),v.close()}r.set(s)}}},GN=function(t,r){var o=WN&&t.sandboxed,s=oe(oe({},t.label.map(function(S){return{title:S}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),v=jN(o),m=t.label.map(function(S){return nm(S,r)}),p=function(S){return I_({uid:S.uid,dom:{tag:"iframe",attributes:s},behaviours:wt([po.config({}),On.config({}),Ap.withComp(A.none(),v.getValue,v.setValue)])})},w=zr.parts.field({factory:{sketch:p}});return pC(m,w,["tox-form__group--stretched"],[])},Tb=function(t,r){return KN(document.createElement("canvas"),t,r)},qN=function(t){var r=Tb(t.width,t.height),o=um(r);return o.drawImage(t,0,0),r},um=function(t){return t.getContext("2d")},KN=function(t,r,o){return t.width=r,t.height=o,t},xA=function(t){return t.naturalWidth||t.width},TA=function(t){return t.naturalHeight||t.height},XN=function(t){return new uf(function(r,o){var s=URL.createObjectURL(t),v=new Image,m=function(){v.removeEventListener("load",p),v.removeEventListener("error",w)},p=function(){m(),r(v)},w=function(){m(),o("Unable to load data of type "+t.type+": "+s)};v.addEventListener("load",p),v.addEventListener("error",w),v.src=s,v.complete&&setTimeout(p,0)})},L_=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return A.none();for(var s=o[1],v=r[1],m=1024,p=atob(v),w=p.length,S=Math.ceil(w/m),T=new Array(S),D=0;D<S;++D){for(var _=D*m,z=Math.min(_+m,w),H=new Array(z-_),j=_,ee=0;j<z;++ee,++j)H[ee]=p[j].charCodeAt(0);T[D]=new Uint8Array(H)}return A.some(new Blob(T,{type:s}))},YN=function(t){return new uf(function(r,o){L_(t).fold(function(){o("uri is not base64: "+t)},r)})},H_=function(t,r,o){return r=r||"image/png",Zt(HTMLCanvasElement.prototype.toBlob)?new uf(function(s,v){t.toBlob(function(m){m?s(m):v()},r,o)}):YN(t.toDataURL(r,o))},ZN=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},JN=function(t){return XN(t).then(function(r){eP(r);var o=Tb(xA(r),TA(r)),s=um(o);return s.drawImage(r,0,0),o})},QN=function(t){return new uf(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},eP=function(t){URL.revokeObjectURL(t.src)},EA=function(t,r,o){var s=r.type,v=ve(s),m=function(){return uf.resolve(r)},p=ve(o),w=function(){return o.split(",")[1]},S=function(z,H){return t.then(function(j){return H_(j,z,H)})},T=function(z,H){return t.then(function(j){return ZN(j,z,H)})},D=function(z,H){return T(z,H).then(function(j){return j.split(",")[1]})},_=function(){return t.then(qN)};return{getType:v,toBlob:m,toDataURL:p,toBase64:w,toAdjustedBlob:S,toAdjustedDataURL:T,toAdjustedBase64:D,toCanvas:_}},tP=function(t){return QN(t).then(function(r){return EA(JN(t),t,r)})},Wg=function(t,r){return H_(t,r).then(function(o){return EA(uf.resolve(t),o,t.toDataURL())})},nP=function(t){return tP(t)},Eb=function(t,r,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<r&&(s=r),s},kA=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},MT=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],AA=function(t,r){for(var o=[],s=new Array(25),v,m=0;m<5;m++){for(var p=0;p<5;p++)o[p]=r[p+m*5];for(var p=0;p<5;p++){v=0;for(var w=0;w<5;w++)v+=t[p+w*5]*o[w];s[p+m*5]=v}}return s},rP=function(t,r){var o;return r=Eb(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=MT[r]:o=MT[Math.floor(r)]*(1-o)+MT[Math.floor(r)+1]*o,o=o*127+127),AA(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},aP=function(t,r){return r=Eb(255*r,-255,255),AA(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},oP=function(t,r,o,s){return r=Eb(r,0,2),o=Eb(o,0,2),s=Eb(s,0,2),AA(t,[r,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},OA=function(t,r){return t.toCanvas().then(function(o){return iP(o,t.getType(),r)})},iP=function(t,r,o){var s=um(t),v=function(p,w){for(var S,T,D,_,z=p.data,H=w[0],j=w[1],ee=w[2],ce=w[3],Y=w[4],de=w[5],Re=w[6],De=w[7],fe=w[8],Te=w[9],Le=w[10],Ot=w[11],Ke=w[12],Dt=w[13],Je=w[14],$e=w[15],pt=w[16],Kt=w[17],Ge=w[18],Wt=w[19],Qt=0;Qt<z.length;Qt+=4)S=z[Qt],T=z[Qt+1],D=z[Qt+2],_=z[Qt+3],z[Qt]=S*H+T*j+D*ee+_*ce+Y,z[Qt+1]=S*de+T*Re+D*De+_*fe+Te,z[Qt+2]=S*Le+T*Ot+D*Ke+_*Dt+Je,z[Qt+3]=S*$e+T*pt+D*Kt+_*Ge+Wt;return p},m=v(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(m,0,0),Wg(t,r)},OC=function(t,r){return t.toCanvas().then(function(o){return uP(o,t.getType(),r)})},uP=function(t,r,o){var s=um(t),v=function(w,S,T){for(var D=function(pt,Kt,Ge){return pt>Ge?pt=Ge:pt<Kt&&(pt=Kt),pt},_=Math.round(Math.sqrt(T.length)),z=Math.floor(_/2),H=w.data,j=S.data,ee=w.width,ce=w.height,Y=0;Y<ce;Y++)for(var de=0;de<ee;de++){for(var Re=0,De=0,fe=0,Te=0;Te<_;Te++)for(var Le=0;Le<_;Le++){var Ot=D(de+Le-z,0,ee-1),Ke=D(Y+Te-z,0,ce-1),Dt=(Ke*ee+Ot)*4,Je=T[Te*_+Le];Re+=H[Dt]*Je,De+=H[Dt+1]*Je,fe+=H[Dt+2]*Je}var $e=(Y*ee+de)*4;j[$e]=D(Re,0,255),j[$e+1]=D(De,0,255),j[$e+2]=D(fe,0,255)}return S},m=s.getImageData(0,0,t.width,t.height),p=s.getImageData(0,0,t.width,t.height);return p=v(m,p,o),s.putImageData(p,0,0),Wg(t,r)},DA=function(t){var r=function(o,s,v){for(var m=um(o),p=new Array(256),w=function(D,_){for(var z=D.data,H=0;H<z.length;H+=4)z[H]=_[z[H]],z[H+1]=_[z[H+1]],z[H+2]=_[z[H+2]];return D},S=0;S<p.length;S++)p[S]=t(S,v);var T=w(m.getImageData(0,0,o.width,o.height),p);return m.putImageData(T,0,0),Wg(o,s)};return function(o,s){return o.toCanvas().then(function(v){return r(v,o.getType(),s)})}},V_=function(t){return function(r,o){return OA(r,t(kA(),o))}},sP=function(t){return function(r){return OA(r,t)}},cP=function(t){return function(r){return OC(r,t)}},lP=sP([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),U_=V_(aP),W_=V_(rP),fP=function(t,r,o,s){return OA(t,oP(kA(),r,o,s))},NT=cP([0,-1,0,-1,5,-1,0,-1,0]),PT=DA(function(t,r){return Math.pow(t/255,1-r)*255}),j_=function(t,r,o){var s=xA(t),v=TA(t),m=r/s,p=o/v,w=!1;(m<.5||m>2)&&(m=m<.5?.5:2,w=!0),(p<.5||p>2)&&(p=p<.5?.5:2,w=!0);var S=vP(t,m,p);return w?S.then(function(T){return j_(T,r,o)}):S},vP=function(t,r,o){return new uf(function(s){var v=xA(t),m=TA(t),p=Math.floor(v*r),w=Math.floor(m*o),S=Tb(p,w),T=um(S);T.drawImage(t,0,0,v,m,0,0,p,w),s(S)})},G_=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),s=Math.round(t*o);return Math.ceil(s/o)},dP=function(t,r){return t.toCanvas().then(function(o){return RA(o,t.getType(),r)})},RA=function(t,r,o){var s=o<0?360+o:o,v=s*Math.PI/180,m=t.width,p=t.height,w=Math.sin(v),S=Math.cos(v),T=G_(Math.abs(m*S)+Math.abs(p*w)),D=G_(Math.abs(m*w)+Math.abs(p*S)),_=Tb(T,D),z=um(_);return z.translate(T/2,D/2),z.rotate(v),z.drawImage(t,-m/2,-p/2),Wg(_,r)},_A=function(t,r){return t.toCanvas().then(function(o){return q_(o,t.getType(),r)})},q_=function(t,r,o){var s=Tb(t.width,t.height),v=um(s);return o==="v"?(v.scale(1,-1),v.drawImage(t,0,-s.height)):(v.scale(-1,1),v.drawImage(t,-s.width,0)),Wg(s,r)},mP=function(t,r,o,s,v){return t.toCanvas().then(function(m){return BA(m,t.getType(),r,o,s,v)})},BA=function(t,r,o,s,v,m){var p=Tb(v,m),w=um(p);return w.drawImage(t,-o,-s),Wg(p,r)},gP=function(t,r,o){return t.toCanvas().then(function(s){return j_(s,r,o).then(function(v){return Wg(v,t.getType())})})},hP=function(t){return lP(t)},K_=function(t){return NT(t)},pP=function(t,r){return PT(t,r)},DC=function(t,r,o,s){return fP(t,r,o,s)},bP=function(t,r){return U_(t,r)},yP=function(t,r){return W_(t,r)},X_=function(t,r){return _A(t,r)},CP=function(t,r,o,s,v){return mP(t,r,o,s,v)},Y_=function(t,r,o){return gP(t,r,o)},Z_=function(t,r){return dP(t,r)},J_=function(t,r,o){return of(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},FT=function(t,r){return J_(t,r,[])},Q_=function(t,r){return J_(t,r,[An.config({})])},MA=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:wt([An.config({})])}},IT,e5=qt("toolbar.button.execute"),wP=function(t){return cs(function(r,o){Ux(t,r)(function(s){bn(r,e5,{buttonApi:s}),t.onAction(s)})})},t5=(IT={},IT[Ns()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],IT),Op=qt("update-menu-text"),NA=qt("update-menu-icon"),PA=function(t,r,o){var s=pn(Ye),v=t.text.map(function(_){return Gr(MA(_,r,o.providers))}),m=t.icon.map(function(_){return Gr(Q_(_,o.providers.icons))}),p=function(_,z){var H=At.getValue(_);return On.focus(H),bn(H,"keydown",{raw:z.event.raw}),sf.close(H),A.some(!0)},w=t.role.fold(function(){return{}},function(_){return{role:_}}),S=t.tooltip.fold(function(){return{}},function(_){var z=o.providers.translate(_);return{title:z,"aria-label":z}}),T=of("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),D=Gr(sf.sketch(oe(oe(oe({},t.uid?{uid:t.uid}:{}),w),{dom:{tag:"button",classes:[r,r+"--select"].concat(ut(t.classes,function(_){return r+"--"+_})),attributes:oe({},S)},components:ob([m.map(function(_){return _.asSpec()}),v.map(function(_){return _.asSpec()}),A.some(T)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:wt(mt(mt([],t.dropdownBehaviours,!0),[bl.button(function(){return t.disabled||o.providers.isDisabled()}),Jo(),hb.config({}),An.config({}),$n("dropdown-events",[ab(t,s),lC(t,s)]),$n("menubutton-update-display-text",[Xe(Op,function(_,z){v.bind(function(H){return H.getOpt(_)}).each(function(H){An.set(H,[Ei(o.providers.translate(z.event.text))])})}),Xe(NA,function(_,z){m.bind(function(H){return H.getOpt(_)}).each(function(H){An.set(H,[Q_(z.event.icon,o.providers.icons)])})})])],!1)),eventOrder:Fe(t5,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:wt([nn.config({mode:"special",onLeft:p,onRight:p})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:Nx(!1,t.columns,t.presets)},fetch:function(_){return su.nu(Tr(t.fetch,_))}})));return D.asSpec()},SP=function(t){return Fn(t)},Ws=function(t){return t.type==="separator"},xP=function(t){return wr(t,"getSubmenuItems")},FA={type:"separator"},n5=function(t,r){var o=Ee(t,function(s,v){return SP(v)?v===""?s:v==="|"?s.length>0&&!Ws(s[s.length-1])?s.concat([FA]):s:wr(r,v.toLowerCase())?s.concat([r[v.toLowerCase()]]):s:s.concat([v])},[]);return o.length>0&&Ws(o[o.length-1])&&o.pop(),o},r5=function(t,r){var o=t.getSubmenuItems(),s=RC(o,r),v=Fe(s.menus,Pl(t.value,s.items)),m=Fe(s.expansions,Pl(t.value,t.value));return{item:t,menus:v,expansions:m}},zT=function(t,r){return xP(t)?r5(t,r):{item:t,menus:{},expansions:{}}},TP=function(t){if(Ws(t))return t;var r=rn(t,"value").getOrThunk(function(){return qt("generated-menu-item")});return Fe({value:r},t)},RC=function(t,r){var o=n5(Fn(t)?t.split(" "):t,r);return be(o,function(s,v){var m=TP(v),p=zT(m,r);return{menus:Fe(s.menus,p.menus),items:[p.item].concat(s.items),expansions:Fe(s.expansions,p.expansions)}},{menus:{},expansions:{},items:[]})},kb=function(t,r,o,s){var v=qt("primary-menu"),m=RC(t,o.shared.providers.menuItems());if(m.items.length===0)return A.none();var p=aR(v,m.items,r,o,s),w=Br(m.menus,function(T,D){return aR(D,T,r,o,!1)}),S=Fe(w,Pl(v,p));return A.from(Yr.tieredData(v,S,m.expansions))},_C=function(t){return{isDisabled:function(){return mn.isDisabled(t)},setDisabled:function(r){return mn.set(t,r)},setActive:function(r){var o=t.element;r?(Ho(o,"tox-tbtn--enabled"),Vn(o,"aria-pressed",!0)):(Ro(o,"tox-tbtn--enabled"),ri(o,"aria-pressed"))},isActive:function(){return yu(t.element,"tox-tbtn--enabled")}}},$T=function(t,r,o,s){return PA({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(v,m){t.fetch(function(p){m(kb(p,qf.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:_C,columns:1,presets:"normal",classes:[],dropdownBehaviours:[po.config({})]},r,o.shared)},yl=function(t,r,o){var s=function(m){return function(p){var w=!p.isActive();p.setActive(w),m.storage.set(w),o.shared.getSink().each(function(S){r().getOpt(S).each(function(T){sl(T.element),bn(T,Xv,{name:m.name,value:m.storage.get()})})})}},v=function(m){return function(p){p.setActive(m.storage.get())}};return function(m){m(ut(t,function(p){var w=p.text.fold(function(){return{}},function(S){return{text:S}});return oe(oe({type:p.type,active:!1},w),{onAction:s(p),onSetup:v(p)})}))}},a5=function(t,r,o,s,v,m){o===void 0&&(o=[]);var p=r.fold(function(){return{}},function(T){return{action:T}}),w=oe({buttonBehaviours:wt([bl.button(function(){return t.disabled||m.isDisabled()}),Jo(),po.config({}),$n("button press",[i1("click"),i1("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},p),S=Fe(w,{dom:s});return Fe(S,{components:v})},IA=function(t,r,o,s){s===void 0&&(s=[]);var v=t.tooltip.map(function(S){return{"aria-label":o.translate(S),title:o.translate(S)}}).getOr({}),m={tag:"button",classes:["tox-tbtn"],attributes:v},p=t.icon.map(function(S){return FT(S,o.icons)}),w=ob([p]);return a5(t,r,s,m,w,o)},o5=function(t,r,o,s){s===void 0&&(s=[]);var v=IA(t,A.some(r),o,s);return vs.sketch(v)},i5=function(t,r,o,s,v){s===void 0&&(s=[]),v===void 0&&(v=[]);var m=o.translate(t.text),p=t.icon?t.icon.map(function(_){return FT(_,o.icons)}):A.none(),w=p.isSome()?ob([p]):[],S=p.isSome()?{}:{innerHtml:m},T=mt(mt(mt(mt([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),p.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),v,!0),D=oe(oe({tag:"button",classes:T},S),{attributes:{title:m}});return a5(t,r,s,D,w,o)},zA=function(t,r,o,s,v){s===void 0&&(s=[]),v===void 0&&(v=[]);var m=i5(t,A.some(r),o,s,v);return vs.sketch(m)},u5=function(t,r){return function(o){r==="custom"?bn(o,Xv,{name:t,value:{}}):r==="submit"?_r(o,yC):r==="cancel"?_r(o,Ep):console.error("Unknown button type: ",r)}},EP=function(t,r){return r==="menu"},kP=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},LT=function(t,r,o){if(EP(t,r)){var s=function(){return p},v=t,m=oe(oe({},t),{onSetup:function(T){return T.setDisabled(t.disabled),Ye},fetch:yl(v.items,s,o)}),p=Gr($T(m,"tox-tbtn",o,A.none()));return p.asSpec()}else if(kP(t,r)){var w=u5(t.name,r),S=oe(oe({},t),{borderless:!1});return zA(S,w,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},AP=function(t,r){var o=u5(t.name,"custom");return D6(A.none(),zr.parts.field(oe({factory:vs},i5(t,A.some(o),r,[Ap.memory(""),Qf.self()]))))},OP=ve([me("field1Name","field1"),me("field2Name","field2"),wu("onLockedChange"),wd(["lockClass"]),me("locked",!1),oc.field("coupledFieldBehaviours",[sr,At])]),s5=function(t,r,o){return ua(t,r,o).bind(sr.getCurrent)},$A=function(t,r){return Ri({factory:zr,name:t,overrides:function(o){return{fieldBehaviours:wt([$n("coupled-input-behaviour",[Xe(sd(),function(s){s5(s,o,r).each(function(v){ua(s,o,"lock").each(function(m){dr.isOn(m)&&o.onLockedChange(s,v,m)})})})])])}}})},c5=ve([$A("field1","field2"),$A("field2","field1"),Ri({factory:vs,schema:[Ue("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:wt([dr.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),DP=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:oc.augment(t.coupledFieldBehaviours,[sr.config({find:A.some}),At.config({store:{mode:"manual",getValue:function(v){var m,p=p0(v,t,["field1","field2"]);return m={},m[t.field1Name]=At.getValue(p.field1()),m[t.field2Name]=At.getValue(p.field2()),m},setValue:function(v,m){var p=p0(v,t,["field1","field2"]);Ea(m,t.field1Name)&&At.setValue(p.field1(),m[t.field1Name]),Ea(m,t.field2Name)&&At.setValue(p.field2(),m[t.field2Name])}}})]),apis:{getField1:function(v){return ua(v,t,"field1")},getField2:function(v){return ua(v,t,"field2")},getLock:function(v){return ua(v,t,"lock")}}}},dc=Eu({name:"FormCoupledInputs",configFields:OP(),partFields:c5(),factory:DP,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),RP=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(v){return v in r?r[v]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},LA=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var s=parseFloat(o[1]),v=o[2];return Un.value({value:s,unit:v})}else return Un.error(t)},l5=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(v){return wr(o,v)};return t.unit===r?A.some(t.value):s(t.unit)&&s(r)?o[t.unit]===o[r]?A.some(t.value):A.some(t.value/o[t.unit]*o[r]):A.none()},HA=function(t){return A.none()},_P=function(t,r){return function(o){return l5(o,r).map(function(s){return{value:s*t,unit:r}})}},BP=function(t,r){var o=LA(t).toOptional(),s=LA(r).toOptional();return Zi(o,s,function(v,m){return l5(v,m.unit).map(function(p){return m.value/p}).map(function(p){return _P(p,m.unit)}).getOr(HA)}).getOr(HA)},f5=function(t,r){var o=HA,s=qt("ratio-event"),v=function(_){return of(_,{tag:"span",classes:["tox-icon","tox-lock-icon__"+_]},r.icons)},m=dc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[v("lock"),v("unlock")],buttonBehaviours:wt([mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Jo(),po.config({})])}),p=function(_){return{dom:{tag:"div",classes:["tox-form__group"]},components:_}},w=function(_){return zr.parts.field({factory:vb,inputClasses:["tox-textfield"],inputBehaviours:wt([mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Jo(),po.config({}),$n("size-input-events",[Xe(ec(),function(z,H){bn(z,s,{isField1:_})}),Xe(Am(),function(z,H){bn(z,vc,{name:t.name})})])]),selectOnFocus:!1})},S=function(_){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(_)}}},T=dc.parts.field1(p([zr.parts.label(S("Width")),w(!0)])),D=dc.parts.field2(p([zr.parts.label(S("Height")),w(!1)]));return dc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[T,D,p([S("&nbsp;"),m])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(_,z,H){LA(At.getValue(_)).each(function(j){o(j).each(function(ee){At.setValue(z,RP(ee))})})},coupledFieldBehaviours:wt([mn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(_){dc.getField1(_).bind(zr.getField).each(mn.disable),dc.getField2(_).bind(zr.getField).each(mn.disable),dc.getLock(_).each(mn.disable)},onEnabled:function(_){dc.getField1(_).bind(zr.getField).each(mn.enable),dc.getField2(_).bind(zr.getField).each(mn.enable),dc.getLock(_).each(mn.enable)}}),Jo(),$n("size-input-events2",[Xe(s,function(_,z){var H=z.event.isField1,j=H?dc.getField1(_):dc.getField2(_),ee=H?dc.getField2(_):dc.getField1(_),ce=j.map(At.getValue).getOr(""),Y=ee.map(At.getValue).getOr("");o=BP(ce,Y)})])])})},MP=ve(qt("undo")),NP=ve(qt("redo")),PP=ve(qt("zoom")),FP=ve(qt("back")),IP=ve(qt("apply")),zP=ve(qt("swap")),$P=ve(qt("transform")),v5=ve(qt("temp-transform")),LP=ve(qt("transform-apply")),Ou={undo:MP,redo:NP,zoom:PP,back:FP,apply:IP,swap:zP,transform:$P,tempTransform:v5,transformApply:LP},d5=ve("save-state"),HP=ve("disable"),VP=ve("enable"),js={formActionEvent:Xv,saveState:d5,disable:HP,enable:VP},UP=function(t,r){var o=function(It,jn,Zr,qa){return Gr(zA({name:It,text:It,disabled:Zr,primary:qa,icon:A.none(),borderless:!1},jn,r))},s=function(It,jn,Zr,qa){return Gr(o5({name:It,icon:A.some(It),tooltip:A.some(jn),disabled:qa,primary:!1,borderless:!1},Zr,r))},v=function(It,jn){It.map(function(Zr){var qa=Zr.get(jn);qa.hasConfigured(mn)&&mn.disable(qa)})},m=function(It,jn){It.map(function(Zr){var qa=Zr.get(jn);qa.hasConfigured(mn)&&mn.enable(qa)})},p={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},w=Ye,S=function(It,jn,Zr){bn(It,jn,Zr)},T=function(It){return _r(It,js.disable())},D=function(It){return _r(It,js.enable())},_=function(It,jn){T(It),S(It,Ou.transform(),{transform:jn}),D(It)},z=function(It,jn){T(It),S(It,Ou.tempTransform(),{transform:jn}),D(It)},H=function(It){return function(){ov.getOpt(It).each(function(jn){An.set(jn,[Qg])})}},j=function(It,jn){T(It),S(It,Ou.transformApply(),{transform:jn,swap:H(It)}),D(It)},ee=function(){return o("Back",function(It){return S(It,Ou.back(),{swap:H(It)})},!1,!1)},ce=function(){return Gr({dom:{tag:"div",classes:["tox-spacer"]},behaviours:wt([mn.config({})])})},Y=function(){return o("Apply",function(It){return S(It,Ou.apply(),{swap:H(It)})},!0,!0)},de=function(){return function(It){var jn=t.getRect();return CP(It,jn.x,jn.y,jn.w,jn.h)}},Re=[ee(),ce(),o("Apply",function(It){var jn=de();j(It,jn),t.hideCrop()},!1,!0)],De=Au.sketch({dom:p,components:Re.map(function(It){return It.asSpec()}),containerBehaviours:wt([$n("image-tools-crop-buttons-events",[Xe(js.disable(),function(It,jn){v(Re,It)}),Xe(js.enable(),function(It,jn){m(Re,It)})])])}),fe=Gr(f5({name:"size",label:A.none(),constrain:!0,disabled:!1},r)),Te=function(It,jn){return function(Zr){return Y_(Zr,It,jn)}},Le=[ee(),ce(),fe,ce(),o("Apply",function(It){fe.getOpt(It).each(function(jn){var Zr=At.getValue(jn),qa=parseInt(Zr.width,10),bs=parseInt(Zr.height,10),Yu=Te(qa,bs);j(It,Yu)})},!1,!0)],Ot=Au.sketch({dom:p,components:Le.map(function(It){return It.asSpec()}),containerBehaviours:wt([$n("image-tools-resize-buttons-events",[Xe(js.disable(),function(It,jn){v(Le,It)}),Xe(js.enable(),function(It,jn){m(Le,It)})])])}),Ke=function(It,jn){return function(Zr){return It(Zr,jn)}},Dt=Ke(X_,"h"),Je=Ke(X_,"v"),$e=Ke(Z_,-90),pt=Ke(Z_,90),Kt=function(It,jn){z(It,jn)},Ge=[ee(),ce(),s("flip-horizontally","Flip horizontally",function(It){Kt(It,Dt)},!1),s("flip-vertically","Flip vertically",function(It){Kt(It,Je)},!1),s("rotate-left","Rotate counterclockwise",function(It){Kt(It,$e)},!1),s("rotate-right","Rotate clockwise",function(It){Kt(It,pt)},!1),ce(),Y()],Wt=Au.sketch({dom:p,components:Ge.map(function(It){return It.asSpec()}),containerBehaviours:wt([$n("image-tools-fliprotate-buttons-events",[Xe(js.disable(),function(It,jn){v(Ge,It)}),Xe(js.enable(),function(It,jn){m(Ge,It)})])])}),Qt=function(It,jn,Zr,qa,bs){var Yu=cf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(It)}}),hc=cf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),wl=cf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Gr(cf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Zr,maxX:bs,getInitialValue:ve({x:qa})},components:[Yu,hc,wl],sliderBehaviours:wt([On.config({})]),onChoose:jn}))},lr=function(It,jn,Zr,qa,bs){var Yu=function(hc,wl,Bb){var WC=Ke(jn,Bb.x/100);_(hc,WC)};return Qt(It,Yu,Zr,qa,bs)},Kr=function(It,jn,Zr,qa,bs){return[ee(),lr(It,jn,Zr,qa,bs),Y()]},Da=function(It,jn,Zr,qa,bs){var Yu=Kr(It,jn,Zr,qa,bs);return Au.sketch({dom:p,components:Yu.map(function(hc){return hc.asSpec()}),containerBehaviours:wt([$n("image-tools-filter-panel-buttons-events",[Xe(js.disable(),function(hc,wl){v(Yu,hc)}),Xe(js.enable(),function(hc,wl){m(Yu,hc)})])])})},ao=[ee(),ce(),Y()],gc=Au.sketch({dom:p,components:ao.map(function(It){return It.asSpec()})}),_u=Da("Brightness",bP,-100,0,100),v3=Da("Contrast",yP,-100,0,100),vi=Da("Gamma",pP,-100,0,100),Ip=function(It,jn,Zr){return function(qa){return DC(qa,It,jn,Zr)}},zp=function(It){var jn=function(Zr,qa,bs){var Yu=HC.getOpt(Zr),hc=VC.getOpt(Zr),wl=$p.getOpt(Zr);Yu.each(function(Bb){hc.each(function(WC){wl.each(function(Mb){var lI=At.getValue(Bb).x/100,fI=At.getValue(Mb).x/100,Hp=At.getValue(WC).x/100,Nb=Ip(lI,fI,Hp);_(Zr,Nb)})})})};return Qt(It,jn,0,100,200)},HC=zp("R"),$p=zp("G"),VC=zp("B"),ps=[ee(),HC,$p,VC,Y()],av=Au.sketch({dom:p,components:ps.map(function(It){return It.asSpec()})}),Xu=function(It,jn,Zr){return function(qa){var bs=function(){ov.getOpt(qa).each(function(Yu){An.set(Yu,[It]),Zr(Yu)})};S(qa,Ou.swap(),{transform:jn,swap:bs})}},UC=function(It){t.showCrop()},Jg=function(It){fe.getOpt(It).each(function(jn){var Zr=t.getMeasurements(),qa=Zr.width,bs=Zr.height;At.setValue(jn,{width:qa,height:bs})})},_b=A.some(K_),di=A.some(hP),cm=[s("crop","Crop",Xu(De,A.none(),UC),!1),s("resize","Resize",Xu(Ot,A.none(),Jg),!1),s("orientation","Orientation",Xu(Wt,A.none(),w),!1),s("brightness","Brightness",Xu(_u,A.none(),w),!1),s("sharpen","Sharpen",Xu(gc,_b,w),!1),s("contrast","Contrast",Xu(v3,A.none(),w),!1),s("color-levels","Color levels",Xu(av,A.none(),w),!1),s("gamma","Gamma",Xu(vi,A.none(),w),!1),s("invert","Invert",Xu(gc,di,w),!1)],Qg=Au.sketch({dom:p,components:cm.map(function(It){return It.asSpec()})}),Lp=Au.sketch({dom:{tag:"div"},components:[Qg],containerBehaviours:wt([An.config({})])}),ov=Gr(Lp),eh=function(It){return ov.getOpt(It).map(function(jn){var Zr=jn.components()[0];return Zr.components()[Zr.components().length-1]})};return{memContainer:ov,getApplyButton:eh}},m5=tinymce.util.Tools.resolve("tinymce.geom.Rect"),WP=tinymce.util.Tools.resolve("tinymce.util.Observable"),sm=tinymce.util.Tools.resolve("tinymce.util.VK"),jP=function(t){var r=Math.max,o=t.documentElement,s=t.body,v=r(o.scrollWidth,s.scrollWidth),m=r(o.clientWidth,s.clientWidth),p=r(o.offsetWidth,s.offsetWidth),w=r(o.scrollHeight,s.scrollHeight),S=r(o.clientHeight,s.clientHeight),T=r(o.offsetHeight,s.offsetHeight);return{width:v<p?m:v,height:w<T?S:w}},GP=function(t){return it(t.changedTouches)},VA=function(t){if(GP(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function qP(t,r){var o,s,v,m,p=[],w=[],S=(o=r.document)!==null&&o!==void 0?o:document,T=(s=r.root)!==null&&s!==void 0?s:S,D=ne.fromDom(S),_,z,H,j=ne.fromDom(T.getElementById((v=r.handle)!==null&&v!==void 0?v:t)),ee=function(Re){var De=Re.raw,fe=jP(S);VA(De),Re.prevent(),_=De.button,z=De.screenX,H=De.screenY;var Te=Ja(j,"cursor");m=ne.fromTag("div",S),ns(m,{position:"absolute",top:"0",left:"0",width:fe.width+"px",height:fe.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:Te}),Hi(uo(D),m),w.push(ho(D,"mousemove",ce),ho(D,"touchmove",ce),ho(D,"mouseup",Y),ho(D,"touchend",Y)),r.start(De)},ce=function(Re){var De=Re.raw;if(VA(De),De.button!==_)return Y(Re);De.deltaX=De.screenX-z,De.deltaY=De.screenY-H,Re.prevent(),r.drag(De)},Y=function(Re){VA(Re.raw),Ut(w,function(De){return De.unbind()}),w=[],Pu(m),r.stop&&r.stop(Re.raw)},de=function(){Ut(w.concat(p),function(Re){return Re.unbind()}),w=[],p=[],it(m)&&Pu(m)};return p.push(ho(j,"mousedown",ee),ho(j,"touchstart",ee)),{destroy:de}}var KP=0,XP=function(t,r,o,s,v){var m,p=[],w="tox-",S=w+"crid-"+KP++,T=ne.fromDom(s),D=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],_=["top","right","bottom","left"],z=function(Ke,Dt){return{x:Dt.x+Ke.x,y:Dt.y+Ke.y,w:Dt.w,h:Dt.h}},H=function(Ke,Dt){return{x:Dt.x-Ke.x,y:Dt.y-Ke.y,w:Dt.w,h:Dt.h}},j=function(){return H(o,t)},ee=function(Ke,Dt,Je,$e){var pt=Dt.x+Je*Ke.deltaX,Kt=Dt.y+$e*Ke.deltaY,Ge=Math.max(20,Dt.w+Je*Ke.deltaW),Wt=Math.max(20,Dt.h+$e*Ke.deltaH),Qt=t=m5.clamp({x:pt,y:Kt,w:Ge,h:Wt},o,Ke.name==="move");Qt=H(o,Qt),Ot.fire("updateRect",{rect:Qt}),fe(Qt)},ce=function(){var Ke=function(pt){var Kt;return qP(S,{document:s.ownerDocument,root:qo(T).dom,handle:S+"-"+pt.name,start:function(){Kt=t},drag:function(Ge){ee(pt,Kt,Ge.deltaX,Ge.deltaY)}})},Dt=ne.fromTag("div");ts(Dt,{id:S,class:w+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Hi(T,Dt),Ut(_,function(pt){Vo(T,"#"+S).each(function(Kt){var Ge=ne.fromTag("div");ts(Ge,{id:S+"-"+pt,class:w+"croprect-block","data-mce-bogus":"all"}),xn(Ge,"display","none"),Hi(Kt,Ge)})}),Ut(D,function(pt){Vo(T,"#"+S).each(function(Kt){var Ge=ne.fromTag("div");ts(Ge,{id:S+"-"+pt.name,"aria-label":pt.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:pt.label}),pd(Ge,[w+"croprect-handle",w+"croprect-handle-"+pt.name]),xn(Ge,"display","none"),Hi(Kt,Ge)})}),m=ut(D,Ke),de(t);var Je=function(pt){Vn(pt.target,"aria-grabbed",pt.raw.type==="focus"?"true":"false")},$e=function(pt){var Kt;Ut(D,function(Wt){if(_a(pt.target,"id")===S+"-"+Wt.name)return Kt=Wt,!1});var Ge=function(Wt,Qt,lr,Kr,Da){Wt.stopPropagation(),Wt.preventDefault(),ee(Kt,lr,Kr,Da)};switch(pt.raw.keyCode){case sm.LEFT:Ge(pt,Kt,t,-10,0);break;case sm.RIGHT:Ge(pt,Kt,t,10,0);break;case sm.UP:Ge(pt,Kt,t,0,-10);break;case sm.DOWN:Ge(pt,Kt,t,0,10);break;case sm.ENTER:case sm.SPACEBAR:pt.prevent(),v();break}};p.push(ho(T,"focusin",Je),ho(T,"focusout",Je),ho(T,"keydown",$e))},Y=function(Ke){var Dt=mt(mt([],ut(D,function($e){return"#"+S+"-"+$e.name}),!0),ut(_,function($e){return"#"+S+"-"+$e}),!0).join(","),Je=ou(T,Dt);Ke?Ut(Je,function($e){return Pr($e,"display")}):Ut(Je,function($e){return xn($e,"display","none")})},de=function(Ke){var Dt=function(Je,$e){Vo(T,"#"+S+"-"+Je).each(function(pt){ns(pt,{left:$e.x+"px",top:$e.y+"px",width:Math.max(0,$e.w)+"px",height:Math.max(0,$e.h)+"px"})})};Ut(D,function(Je){Vo(T,"#"+S+"-"+Je.name).each(function($e){ns($e,{left:Ke.w*Je.xMul+Ke.x+"px",top:Ke.h*Je.yMul+Ke.y+"px"})})}),Dt("top",{x:r.x,y:r.y,w:r.w,h:Ke.y-r.y}),Dt("right",{x:Ke.x+Ke.w,y:Ke.y,w:r.w-Ke.x-Ke.w+r.x,h:Ke.h}),Dt("bottom",{x:r.x,y:Ke.y+Ke.h,w:r.w,h:r.h-Ke.y-Ke.h+r.y}),Dt("left",{x:r.x,y:Ke.y,w:Ke.x-r.x,h:Ke.h}),Dt("move",Ke)},Re=function(Ke){t=Ke,de(t)},De=function(Ke){r=Ke,de(t)},fe=function(Ke){Re(z(o,Ke))},Te=function(Ke){o=Ke,de(t)},Le=function(){Ut(m,function(Ke){return Ke.destroy()}),m=[],Ut(p,function(Ke){return Ke.unbind()}),p=[]};ce();var Ot=oe(oe({},WP),{toggleVisibility:Y,setClampRect:Te,setRect:Re,getInnerRect:j,setInnerRect:fe,setViewPortRect:De,destroy:Le});return Ot},YP={create:XP},g5=function(t){return new yp(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},ZP=function(t){var r=Gr({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=pn(1),s=_y(),v=pn({x:0,y:0,w:1,h:1}),m=pn({x:0,y:0,w:1,h:1}),p=function(ce,Y){j.getOpt(ce).each(function(de){var Re=o.get(),De=Li(de.element),fe=Oo(de.element),Te=Y.dom.naturalWidth*Re,Le=Y.dom.naturalHeight*Re,Ot=Math.max(0,De/2-Te/2),Ke=Math.max(0,fe/2-Le/2),Dt={left:Ot.toString()+"px",top:Ke.toString()+"px",width:Te.toString()+"px",height:Le.toString()+"px",position:"absolute"};ns(Y,Dt),r.getOpt(de).each(function(Je){ns(Je.element,Dt)}),s.run(function(Je){var $e=v.get();Je.setRect({x:$e.x*Re+Ot,y:$e.y*Re+Ke,w:$e.w*Re,h:$e.h*Re}),Je.setClampRect({x:Ot,y:Ke,w:Te,h:Le}),Je.setViewPortRect({x:0,y:0,w:De,h:fe})})})},w=function(ce,Y){j.getOpt(ce).each(function(de){var Re=Li(de.element),De=Oo(de.element),fe=Y.dom.naturalWidth,Te=Y.dom.naturalHeight,Le=Math.min(Re/fe,De/Te);Le>=1?o.set(1):o.set(Le)})},S=function(ce,Y){var de=ne.fromTag("img");return Vn(de,"src",Y),g5(de.dom).then(function(){ce.getSystem().isConnected()&&j.getOpt(ce).map(function(Re){var De=b1({element:de});An.replaceAt(Re,1,A.some(De));var fe=m.get(),Te={x:0,y:0,w:de.dom.naturalWidth,h:de.dom.naturalHeight};m.set(Te);var Le=m5.inflate(Te,-20,-20);v.set(Le),(fe.w!==Te.w||fe.h!==Te.h)&&w(Re,de),p(Re,de)})})},T=function(ce,Y){var de=o.get(),Re=Y>0?Math.min(2,de+.1):Math.max(.1,de-.1);o.set(Re),j.getOpt(ce).each(function(De){var fe=De.components()[1].element;p(De,fe)})},D=function(){s.run(function(ce){ce.toggleVisibility(!0)})},_=function(){s.run(function(ce){ce.toggleVisibility(!1)})},z=function(){return v.get()},H=Au.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:wt([$n("image-panel-crop-events",[zn(function(ce){j.getOpt(ce).each(function(Y){var de=Y.element.dom,Re=YP.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},de,Ye);Re.toggleVisibility(!1),Re.on("updateRect",function(De){var fe=De.rect,Te=o.get(),Le={x:Math.round(fe.x/Te),y:Math.round(fe.y/Te),w:Math.round(fe.w/Te),h:Math.round(fe.h/Te)};v.set(Le)}),s.set(Re)})}),Is(function(){s.clear()})])])}],containerBehaviours:wt([An.config({}),$n("image-panel-events",[zn(function(ce){S(ce,t)})])])}),j=Gr(H),ee=function(){var ce=m.get();return{width:ce.w,height:ce.h}};return{memContainer:j,updateSrc:S,zoom:T,showCrop:D,hideCrop:_,getRect:z,getMeasurements:ee}},HT=function(t,r,o,s,v){return o5({name:t,icon:A.some(r),disabled:o,tooltip:A.some(t),primary:!1,borderless:!1},s,v)},h5=function(t,r){r?mn.enable(t):mn.disable(t)},JP=function(t){var r=function(m,p,w){o.getOpt(m).each(function(S){h5(S,p)}),s.getOpt(m).each(function(S){h5(S,w)})},o=Gr(HT("Undo","undo",!0,function(m){bn(m,Ou.undo(),{direction:1})},t)),s=Gr(HT("Redo","redo",!0,function(m){bn(m,Ou.redo(),{direction:1})},t)),v=Au.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),HT("Zoom in","zoom-in",!1,function(m){bn(m,Ou.zoom(),{direction:1})},t),HT("Zoom out","zoom-out",!1,function(m){bn(m,Ou.zoom(),{direction:-1})},t)]});return{container:v,updateButtonUndoStates:r}};function QP(){var t=[],r=-1,o=function(w){var S=t.splice(++r);return t.push(w),{state:w,removed:S}},s=function(){if(m())return t[--r]},v=function(){if(p())return t[++r]},m=function(){return r>0},p=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:s,redo:v,canUndo:m,canRedo:p}}var e7=function(t){var r=pn(t),o=co(),s=QP();s.add(t);var v=function(){return r.get()},m=function(de){r.set(de)},p=function(){return o.get().getOrThunk(r.get)},w=function(de){var Re=S(de);return _(),o.set(Re),Re.url},S=function(de){return{blob:de,url:URL.createObjectURL(de)}},T=function(de){URL.revokeObjectURL(de.url)},D=function(de){Ug.each(de,T)},_=function(){o.on(T),o.clear()},z=function(de){var Re=S(de);m(Re);var De=s.add(Re).removed;return D(De),Re.url},H=function(de){var Re=S(de);return o.set(Re),Re.url},j=function(de){return o.get().fold(Ye,function(Re){z(Re.blob),de()})},ee=function(){var de=s.undo();return m(de),de.url},ce=function(){var de=s.redo();return m(de),de.url},Y=function(){var de=s.canUndo(),Re=s.canRedo();return{undoEnabled:de,redoEnabled:Re}};return{getBlobState:v,setBlobState:m,addBlobState:z,getTempState:p,updateTempState:w,addTempState:H,applyTempState:j,destroyTempState:_,undo:ee,redo:ce,getHistoryStates:Y}},t7=function(t,r){var o=e7(t.currentState),s=function(Je,$e){var pt=$e.event.direction;Le.zoom(Je,pt)},v=function(Je){var $e=o.getHistoryStates();Ot.updateButtonUndoStates(Je,$e.undoEnabled,$e.redoEnabled),bn(Je,js.formActionEvent,{name:js.saveState(),value:$e.undoEnabled})},m=function(Je){Ot.updateButtonUndoStates(Je,!1,!1)},p=function(Je,$e){var pt=o.undo();_(Je,pt).then(function(Kt){D(Je),v(Je)})},w=function(Je,$e){var pt=o.redo();_(Je,pt).then(function(Kt){D(Je),v(Je)})},S=function(Je){return Je.toBlob()},T=function(Je){bn(Je,js.formActionEvent,{name:js.disable(),value:{}})},D=function(Je){Ke.getApplyButton(Je).each(function($e){mn.enable($e)}),bn(Je,js.formActionEvent,{name:js.enable(),value:{}})},_=function(Je,$e){return T(Je),Le.updateSrc(Je,$e)},z=function(Je,$e,pt,Kt,Ge){T(Je),nP($e).then(pt).then(S).then(Kt).then(function(Wt){return _(Je,Wt)}).then(function(){v(Je),Ge(),D(Je)}).catch(function(Wt){console.log(Wt),Je.getSystem().isConnected()&&D(Je)})},H=function(Je,$e,pt){var Kt=o.getBlobState().blob,Ge=function(Wt){return o.updateTempState(Wt)};z(Je,Kt,$e,Ge,pt)},j=function(Je,$e){var pt=o.getTempState().blob,Kt=function(Ge){return o.addTempState(Ge)};z(Je,pt,$e,Kt,Ye)},ee=function(Je,$e,pt){var Kt=o.getBlobState().blob,Ge=function(Wt){var Qt=o.addBlobState(Wt);return Y(Je),Qt};z(Je,Kt,$e,Ge,pt)},ce=function(Je,$e){var pt=function(){Y(Je);var Kt=$e.event.swap;Kt()};o.applyTempState(pt)},Y=function(Je){var $e=o.getBlobState().url;return o.destroyTempState(),v(Je),$e},de=function(Je){var $e=Y(Je);_(Je,$e).then(function(pt){D(Je)})},Re=function(Je,$e){de(Je);var pt=$e.event.swap;pt(),Le.hideCrop()},De=function(Je,$e){return H(Je,$e.event.transform,Ye)},fe=function(Je,$e){return j(Je,$e.event.transform)},Te=function(Je,$e){return ee(Je,$e.event.transform,$e.event.swap)},Le=ZP(t.currentState.url),Ot=JP(r),Ke=UP(Le,r),Dt=function(Je,$e){m(Je);var pt=$e.event.transform,Kt=$e.event.swap;pt.fold(function(){Kt()},function(Ge){H(Je,Ge,Kt)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Ke.memContainer.asSpec(),Le.memContainer.asSpec(),Ot.container],behaviours:wt([At.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),$n("image-tools-events",[Xe(Ou.undo(),p),Xe(Ou.redo(),w),Xe(Ou.zoom(),s),Xe(Ou.back(),Re),Xe(Ou.apply(),ce),Xe(Ou.transform(),De),Xe(Ou.tempTransform(),fe),Xe(Ou.transformApply(),Te),Xe(Ou.swap(),Dt)]),Qf.self()])}},p5=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},s=ut(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:wt([Qf.self(),An.config({}),Ap.domHtml(A.none()),nn.config({mode:"acyclic"})])}},UA=function(t){return!wr(t,"items")},b5="data-value",y5=function(t,r,o,s){return ut(o,function(v){return UA(v)?{type:"togglemenuitem",text:v.text,value:v.value,active:v.value===s,onAction:function(){At.setValue(t,v.value),bn(t,vc,{name:r}),On.focus(t)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:function(){return y5(t,r,v.items,s)}}})},C5=function(t,r){return na(t,function(o){return UA(o)?Ii(o.value===r,o):C5(o.items,r)})},n7=function(t,r){var o=r.shared.providers,s=ta(t.items).filter(UA),v=t.label.map(function(w){return nm(w,o)}),m=zr.parts.field({dom:{},factory:{sketch:function(w){return PA({uid:w.uid,text:s.map(function(S){return S.text}),icon:A.none(),tooltip:t.label,role:A.none(),fetch:function(S,T){var D=y5(S,t.name,t.items,At.getValue(S));T(kb(D,qf.CLOSE_ON_EXECUTE,r,!1))},onSetup:ve(Ye),getApi:ve({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[po.config({}),At.config({store:{mode:"manual",initialValue:s.map(function(S){return S.value}).getOr(""),getValue:function(S){return _a(S.element,b5)},setValue:function(S,T){C5(t.items,T).each(function(D){Vn(S.element,b5,D.value),bn(S,Op,{text:D.text})})}}})]},"tox-listbox",r.shared)}}}),p={dom:{tag:"div",classes:["tox-listboxfield"]},components:[m]};return zr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:xt([v.toArray(),[p]]),fieldBehaviours:wt([mn.config({disabled:ve(t.disabled),onDisabled:function(w){zr.getField(w).each(mn.disable)},onEnabled:function(w){zr.getField(w).each(mn.enable)}})])})},r7=function(t,r){return{dom:{tag:"div",classes:t.classes},components:ut(t.items,r.shared.interpreter)}},w5=function(t,r){var o=ut(t.options,function(v){return{dom:{tag:"option",value:v.value,innerHtml:v.text}}}),s=t.data.map(function(v){return Pl("initialValue",v)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:ui(t.selectBehaviours,[On.config({}),At.config({store:oe({mode:"manual",getValue:function(v){return Vl(v.element)},setValue:function(v,m){var p=Ct(t.options,function(w){return w.value===m});p.isSome()&&Fm(v.element,m)}},s)})])}},Dp=Us({name:"HtmlSelect",configFields:[Ue("options"),Go("selectBehaviours",[On,At]),me("selectClasses",[]),me("selectAttributes",{}),Fr("data")],factory:w5}),VT=function(t,r){var o=ut(t.items,function(w){return{text:r.translate(w.text),value:w.value}}),s=t.label.map(function(w){return nm(w,r)}),v=zr.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:Dp,selectBehaviours:wt([mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),po.config({}),$n("selectbox-change",[Xe(Am(),function(w,S){bn(w,vc,{name:t.name})})])])}),m=t.size>1?A.none():A.some(of("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),p={dom:{tag:"div",classes:["tox-selectfield"]},components:xt([[v],m.toArray()])};return zr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:xt([s.toArray(),[p]]),fieldBehaviours:wt([mn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(w){zr.getField(w).each(mn.disable)},onEnabled:function(w){zr.getField(w).each(mn.enable)}}),Jo()])})},a7=function(t,r){var o=function(w){return{dom:{tag:"th",innerHtml:r.translate(w)}}},s=function(w){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:ut(w,o)}]}},v=function(w){return{dom:{tag:"td",innerHtml:r.translate(w)}}},m=function(w){return{dom:{tag:"tr"},components:ut(w,v)}},p=function(w){return{dom:{tag:"tbody"},components:ut(w,m)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),p(t.cells)],behaviours:wt([po.config({}),On.config({})])}},S5=function(t,r){var o=t.label.map(function(z){return nm(z,r)}),s=[mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Jo(),nn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(z){return _r(z,yC),A.some(!0)}}),$n("textfield-change",[Xe(sd(),function(z,H){bn(z,vc,{name:t.name})}),Xe(Yb(),function(z,H){bn(z,vc,{name:t.name})})]),po.config({})],v=t.validation.map(function(z){return Yv.config({getRoot:function(H){return oo(H.element)},invalidClass:"tox-invalid",validator:{validate:function(H){var j=At.getValue(H),ee=z.validator(j);return su.pure(ee===!0?Un.value(j):Un.error(ee))},validateOnLoad:z.validateOnLoad}})}).toArray(),m=t.placeholder.fold(ve({}),function(z){return{placeholder:r.translate(z)}}),p=t.inputMode.fold(ve({}),function(z){return{inputmode:z}}),w=oe(oe({},m),p),S=zr.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:w,inputClasses:[t.classname],inputBehaviours:wt(xt([s,v])),selectOnFocus:!1,factory:vb}),T=t.flex?["tox-form__group--stretched"]:[],D=T.concat(t.maximized?["tox-form-group--maximize"]:[]),_=[mn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(z){zr.getField(z).each(mn.disable)},onEnabled:function(z){zr.getField(z).each(mn.enable)}}),Jo()];return pC(o,S,D,_)},WA=function(t,r){return S5({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:A.none(),maximized:t.maximized},r)},o7=function(t,r){return S5({name:t.name,multiline:!0,label:t.label,inputMode:A.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:A.none(),maximized:t.maximized},r)},i7=function(t,r){var o=t.stream.streams,s=o.setup(t,r);return ma([Xe(t.event,s),Is(function(){return r.cancel()})].concat(t.cancelEvent.map(function(v){return[Xe(v,function(){return r.cancel()})]}).getOr([])))},jA=Object.freeze({__proto__:null,events:i7}),GA=function(t){var r=pn(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(m){r.set(m)},v=function(){var m=r.get();m!==null&&m.cancel()};return Gi({readState:o,setTimer:s,cancel:v})},x5=function(t){return t.stream.streams.state(t)},u7=Object.freeze({__proto__:null,throttle:GA,init:x5}),s7=function(t,r){var o=t.stream,s=kx(t.onStream,o.delay);return r.setTimer(s),function(v,m){s.throttle(v,m),o.stopEvent&&m.stop()}},c7=[zu("stream",Qs("mode",{throttle:[Ue("delay"),me("stopEvent",!0),ya("streams",{setup:s7,state:GA})]})),me("event","input"),Fr("cancelEvent"),wu("onStream")],T5=jo({fields:c7,name:"streaming",active:jA,state:u7}),UT=function(t,r,o){var s=At.getValue(o);At.setValue(r,s),E5(r)},qA=function(t,r){var o=t.element,s=Vl(o),v=o.dom;_a(o,"type")!=="number"&&r(v,s)},E5=function(t){qA(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},k5=function(t,r){qA(t,function(o,s){return o.setSelectionRange(r,s.length)})},l7=function(t,r,o){if(t.selectsOver){var s=At.getValue(r),v=t.getDisplayText(s),m=At.getValue(o),p=t.getDisplayText(m);return p.indexOf(v)===0?A.some(function(){UT(t,r,o),k5(r,v.length)}):A.none()}else return A.none()},KA=ve("alloy.typeahead.itemexecute"),XA=function(t,r,o,s){var v=function(S,T,D){t.previewing.set(!1);var _=To.getCoupled(S,"sandbox");if(pr.isOpen(_))sr.getCurrent(_).each(function(H){Hr.getHighlighted(H).fold(function(){D(H)},function(){aw(_,H.element,"keydown",T)})});else{var z=function(H){sr.getCurrent(H).each(D)};G4(t,p(S),S,_,s,z,Xf.HighlightFirst).get(Ye)}},m=CR(t),p=function(S){return function(T){return T.map(function(D){var _=Ha(D.menus),z=Qn(_,function(j){return We(j.items,function(ee){return ee.type==="item"})}),H=At.getState(S);return H.update(ut(z,function(j){return j.data})),D})}},w=[On.config({}),At.config({onSetValue:t.onSetValue,store:oe({mode:"dataset",getDataKey:function(S){return Vl(S.element)},getFallbackEntry:function(S){return{value:S,meta:{}}},setValue:function(S,T){Fm(S.element,t.model.getDisplayText(T))}},t.initialData.map(function(S){return Pl("initialValue",S)}).getOr({}))}),T5.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(S,T){var D=To.getCoupled(S,"sandbox"),_=On.isFocused(S);if(_&&Vl(S.element).length>=t.minChars){var z=sr.getCurrent(D).bind(function(j){return Hr.getHighlighted(j).map(At.getValue)});t.previewing.set(!0);var H=function(j){sr.getCurrent(D).each(function(ee){z.fold(function(){t.model.selectsOver&&Hr.highlightFirst(ee)},function(ce){Hr.highlightBy(ee,function(Y){var de=At.getValue(Y);return de.value===ce.value}),Hr.getHighlighted(ee).orThunk(function(){return Hr.highlightFirst(ee),A.none()})})})};G4(t,p(S),S,D,s,H,Xf.HighlightFirst).get(Ye)}},cancelEvent:Zb()}),nn.config({mode:"special",onDown:function(S,T){return v(S,T,Hr.highlightFirst),A.some(!0)},onEscape:function(S){var T=To.getCoupled(S,"sandbox");return pr.isOpen(T)?(pr.close(T),A.some(!0)):A.none()},onUp:function(S,T){return v(S,T,Hr.highlightLast),A.some(!0)},onEnter:function(S){var T=To.getCoupled(S,"sandbox"),D=pr.isOpen(T);if(D&&!t.previewing.get())return sr.getCurrent(T).bind(function(z){return Hr.getHighlighted(z)}).map(function(z){return bn(S,KA(),{item:z}),!0});var _=At.getValue(S);return _r(S,Zb()),t.onExecute(T,S,_),D&&pr.close(T),A.some(!0)}}),dr.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),To.config({others:{sandbox:function(S){return K4(t,S,{onOpen:function(){return dr.on(S)},onClose:function(){return dr.off(S)}})}}}),$n("typeaheadevents",[cs(function(S){var T=Ye;mb(t,p(S),S,s,T,Xf.HighlightFirst).get(Ye)}),Xe(KA(),function(S,T){var D=To.getCoupled(S,"sandbox");UT(t.model,S,T.event.item),_r(S,Zb()),t.onItemExecute(S,D,T.event.item,At.getValue(S)),pr.close(D),E5(S)})].concat(t.dismissOnBlur?[Xe(Xb(),function(S){var T=To.getCoupled(S,"sandbox");cl(T.element).isNone()&&pr.close(T)})]:[]))];return{uid:t.uid,dom:Ic(Fe(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:oe(oe({},m),ui(t.typeaheadBehaviours,w)),eventOrder:t.eventOrder}},YA=ve([Fr("lazySink"),Ue("fetch"),me("minChars",5),me("responseTime",1e3),Ir("onOpen"),me("getHotspot",A.some),me("getAnchorOverrides",ve({})),me("layouts",A.none()),me("eventOrder",{}),Lb("model",{},[me("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),me("selectsOver",!0),me("populateFromBrowse",!0)]),Ir("onSetValue"),Uo("onExecute"),Ir("onItemExecute"),me("inputClasses",[]),me("inputAttributes",{}),me("inputStyles",{}),me("matchWidth",!0),me("useMinWidth",!1),me("dismissOnBlur",!0),wd(["openClass"]),Fr("initialData"),Go("typeaheadBehaviours",[On,At,T5,nn,dr,To]),hu("previewing",function(){return pn(!0)})].concat(rm()).concat(X4())),BC=ve([Vs({schema:[Cd()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(s){l7(t.model,s,o).fold(function(){return Hr.dehighlight(r,o)},function(v){return v()})}):r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&UT(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(s){return bn(s,KA(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&UT(t.model,s,o)})}}}})]),f7=Eu({name:"Typeahead",configFields:YA(),partFields:BC(),factory:XA}),lf=function(t){var r=function(){return lf(t.toCached())},o=function(S){return lf(t.bind(function(T){return T.fold(function(D){return su.pure(Un.error(D))},function(D){return S(D)})}))},s=function(S){return lf(t.map(function(T){return T.bind(S)}))},v=function(S){return lf(t.map(function(T){return T.map(S)}))},m=function(S){return lf(t.map(function(T){return T.mapError(S)}))},p=function(S,T){return t.map(function(D){return D.fold(S,T)})},w=function(S,T){return lf(su.nu(function(D){var _=!1,z=setTimeout(function(){_=!0,D(Un.error(T()))},S);t.get(function(H){_||(clearTimeout(z),D(H))})}))};return oe(oe({},t),{toCached:r,bindFuture:o,bindResult:s,mapResult:v,mapError:m,foldResult:p,withTimeout:w})},A5=function(t){return lf(su.nu(t))},O5=function(t){return lf(su.pure(Un.value(t)))},v7=function(t){return lf(su.pure(Un.error(t)))},D5=function(t){return lf(su.pure(t))},R5=function(t){return lf(t.map(Un.value))},_5=function(t){return A5(function(r){t.then(function(o){r(Un.value(o))},function(o){r(Un.error(o))})})},d7={nu:A5,wrap:lf,pure:O5,value:O5,error:v7,fromResult:D5,fromFuture:R5,fromPromise:_5},m7={type:"separator"},g7=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:Ye}},ZA=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:Ye}},h7=function(t){return ut(t,g7)},B5=function(t,r){return We(r,function(o){return o.type===t})},M5=function(t,r){return h7(B5(t,r))},p7=function(t){return M5("header",t.targets)},b7=function(t){return M5("anchor",t.targets)},y7=function(t){return A.from(t.anchorTop).map(function(r){return ZA("<top>",r)}).toArray()},N5=function(t){return A.from(t.anchorBottom).map(function(r){return ZA("<bottom>",r)}).toArray()},Rp=function(t){return ut(t,function(r){return ZA(r,r)})},P5=function(t){return Ee(t,function(r,o){var s=r.length===0||o.length===0;return s?r.concat(o):r.concat(m7,o)},[])},JA=function(t,r){var o=t.toLowerCase();return We(r,function(s){var v=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return Lr(v.toLowerCase(),o)||Lr(s.value.toLowerCase(),o)})},C7=function(t,r,o){var s=At.getValue(r),v=s.meta.text!==void 0?s.meta.text:s.value,m=o.getLinkInformation();return m.fold(function(){return[]},function(p){var w=JA(v,Rp(o.getHistory(t)));return t==="file"?P5([w,JA(v,p7(p)),JA(v,xt([y7(p),b7(p),N5(p)]))]):w})},F5=qt("aria-invalid"),I5=function(t,r,o){var s,v=r.shared.providers,m=function(Y){var de=At.getValue(Y);o.addToHistory(de.value,t.filetype)},p=zr.parts.field({factory:f7,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":F5,type:"url"},minChars:0,responseTime:0,fetch:function(Y){var de=C7(t.filetype,Y,o),Re=kb(de,qf.BUBBLE_TO_SANDBOX,r,!1);return su.pure(Re)},getHotspot:function(Y){return H.getOpt(Y)},onSetValue:function(Y,de){Y.hasConfigured(Yv)&&Yv.run(Y).get(Ye)},typeaheadBehaviours:wt(xt([o.getValidationHandler().map(function(Y){return Yv.config({getRoot:function(de){return oo(de.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(de,Re){T.getOpt(de).each(function(De){Vn(De.element,"title",v.translate(Re))})}},validator:{validate:function(de){var Re=At.getValue(de);return d7.nu(function(De){Y({type:t.filetype,url:Re.value},function(fe){if(fe.status==="invalid"){var Te=Un.error(fe.message);De(Te)}else{var Le=Un.value(fe.message);De(Le)}})})},validateOnLoad:!1}})}).toArray(),[mn.config({disabled:function(){return t.disabled||v.isDisabled()}}),po.config({}),$n("urlinput-events",xt([t.filetype==="file"?[Xe(sd(),function(Y){bn(Y,vc,{name:t.name})})]:[],[Xe(Am(),function(Y){bn(Y,vc,{name:t.name}),m(Y)}),Xe(Yb(),function(Y){bn(Y,vc,{name:t.name}),m(Y)})]]))]])),eventOrder:(s={},s[sd()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(Y){return Y.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:Nx(!1,1,"normal")},onExecute:function(Y,de,Re){bn(de,yC,{})},onItemExecute:function(Y,de,Re,De){m(Y),bn(Y,vc,{name:t.name})}}),w=t.label.map(function(Y){return nm(Y,v)}),S=function(Y,de,Re,De){return Re===void 0&&(Re=Y),De===void 0&&(De=Y),of(Re,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Y],attributes:oe({title:v.translate(De),"aria-live":"polite"},de.fold(function(){return{}},function(fe){return{id:fe}}))},v.icons)},T=Gr(S("invalid",A.some(F5),"warning")),D=Gr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[T.asSpec()]}),_=o.getUrlPicker(t.filetype),z=qt("browser.url.event"),H=Gr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[p,D.asSpec()],behaviours:wt([mn.config({disabled:function(){return t.disabled||v.isDisabled()}})])}),j=Gr(zA({name:t.name,icon:A.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(Y){return _r(Y,z)},v,[],["tox-browse-url"])),ee=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:xt([[H.asSpec()],_.map(function(){return j.asSpec()}).toArray()])}},ce=function(Y){sr.getCurrent(Y).each(function(de){var Re=At.getValue(de),De=oe({fieldname:t.name},Re);_.each(function(fe){fe(De).get(function(Te){At.setValue(de,Te),bn(Y,vc,{name:t.name})})})})};return zr.sketch({dom:R6(),components:w.toArray().concat([ee()]),fieldBehaviours:wt([mn.config({disabled:function(){return t.disabled||v.isDisabled()},onDisabled:function(Y){zr.getField(Y).each(mn.disable),j.getOpt(Y).each(mn.disable)},onEnabled:function(Y){zr.getField(Y).each(mn.enable),j.getOpt(Y).each(mn.enable)}}),Jo(),$n("url-input-events",[Xe(z,ce)])])})},w7=function(t,r){return Au.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[vs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:OO(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){bn(o,Xv,{name:"alert-banner",value:t.url})},buttonBehaviours:wt([Xk()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},S7=function(t,r){var o=At.config({store:{mode:"manual",getValue:function(S){var T=S.element.dom;return T.checked},setValue:function(S,T){var D=S.element.dom;D.checked=T}}}),s=function(S){return S.element.dom.click(),A.some(!0)},v=zr.parts.field({factory:{sketch:Lt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:wt([Qf.self(),mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),po.config({}),On.config({}),o,nn.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),$n("checkbox-events",[Xe(Am(),function(S,T){bn(S,vc,{name:t.name})})])])}),m=zr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:wt([hb.config({})])}),p=function(S){var T=S==="checked"?"selected":"unselected";return of(T,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+S]},r.icons)},w=Gr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[p("checked"),p("unchecked")]});return zr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[v,w.asSpec(),m],fieldBehaviours:wt([mn.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(S){zr.getField(S).each(mn.disable)},onEnabled:function(S){zr.getField(S).each(mn.enable)}}),Jo()])})},x7=function(t){return t.presets==="presentation"?Au.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Au.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:wt([po.config({}),On.config({})])})},Bi=function(t){return function(r,o,s){return rn(o,"name").fold(function(){return t(o,s)},function(v){return r.field(v,t(o,s))})}},T7=function(t){return function(r,o,s){var v=Fe(o,{source:"dynamic"});return Bi(t)(r,v,s)}},E7={bar:Bi(function(t,r){return E6(t,r.shared)}),collection:Bi(function(t,r){return _6(t,r.shared.providers)}),alertbanner:Bi(function(t,r){return w7(t,r.shared.providers)}),input:Bi(function(t,r){return WA(t,r.shared.providers)}),textarea:Bi(function(t,r){return o7(t,r.shared.providers)}),label:Bi(function(t,r){return p5(t,r.shared)}),iframe:T7(function(t,r){return GN(t,r.shared.providers)}),button:Bi(function(t,r){return AP(t,r.shared.providers)}),checkbox:Bi(function(t,r){return S7(t,r.shared.providers)}),colorinput:Bi(function(t,r){return G6(t,r.shared,r.colorinput)}),colorpicker:Bi(R_),dropzone:Bi(function(t,r){return xb(t,r.shared.providers)}),grid:Bi(function(t,r){return P_(t,r.shared)}),listbox:Bi(function(t,r){return n7(t,r)}),selectbox:Bi(function(t,r){return VT(t,r.shared.providers)}),sizeinput:Bi(function(t,r){return f5(t,r.shared.providers)}),urlinput:Bi(function(t,r){return I5(t,r,r.urlinput)}),customeditor:Bi(B_),htmlpanel:Bi(x7),imagetools:Bi(function(t,r){return t7(t,r.shared.providers)}),table:Bi(function(t,r){return a7(t,r.shared.providers)}),panel:Bi(function(t,r){return r7(t,r)})},k7={field:function(t,r){return r}},z5=function(t,r,o){var s=Fe(o,{shared:{interpreter:function(v){return QA(t,v,s)}}});return QA(t,r,s)},QA=function(t,r,o){return rn(E7,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(t,r,o)})},A7=function(t,r){var o=k7;return QA(o,t,r)},eO={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},O7=function(t,r,o){var s=12,v={maxHeightFunction:Km()},m=function(){return{type:"node",root:Fo(t()),node:A.from(t()),bubble:Od(s,s,eO),layouts:{onRtl:function(){return[Zd]},onLtr:function(){return[gp]}},overrides:v}},p=function(){return{type:"hotspot",hotspot:r(),bubble:Od(-s,s,eO),layouts:{onRtl:function(){return[qi]},onLtr:function(){return[Yo]}},overrides:v}};return function(){return o()?m():p()}},D7=function(t,r,o){var s=function(){return{type:"node",root:Fo(t()),node:A.from(t()),layouts:{onRtl:function(){return[pl]},onLtr:function(){return[pl]}}}},v=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[_o]},onLtr:function(){return[_o]}}}};return function(){return o()?s():v()}},R7=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return A.some(Zm.range(ne.fromDom(o.startContainer),o.startOffset,ne.fromDom(o.endContainer),o.endOffset))}}}},_7=function(t){return function(r){return{type:"node",root:t(),node:r}}},B7=function(t,r,o){var s=Hx(t),v=function(){return ne.fromDom(t.getBody())},m=function(){return ne.fromDom(t.getContentAreaContainer())},p=function(){return s||!o()};return{inlineDialog:O7(m,r,p),banner:D7(m,r,p),cursor:R7(t,v),node:_7(v)}},tO=function(t){return function(r,o){var s=XD(t);s(r,o)}},$5=function(t){return function(){return VD(t)}},M7=function(t){return function(){return B4(t)}},N7=function(t){return function(){return Qx(t)}},P7=function(t){return{colorPicker:tO(t),hasCustomColors:$5(t),getColors:M7(t),getColorCols:N7(t)}},F7=function(t){return function(){return l8(t)}},I7=function(t){return{isDraggableModal:F7(t)}},z7=function(t){var r=pn(pD(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},L5=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],$7=function(t){return wr(t,"items")},L7=function(t){return wr(t,"block")},WT=function(t){return wr(t,"inline")},H7=function(t){return wr(t,"selector")},H5=function(t){return Ee(t,function(r,o){if($7(o)){var s=H5(o.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:o.title,items:s.formats}])}}else if(WT(o)||L7(o)||H7(o)){var v=Fn(o.name)?o.name:o.title.toLowerCase(),m="custom-"+v;return{customFormats:r.customFormats.concat([{name:m,format:o}]),formats:r.formats.concat([{title:o.title,format:m,icon:o.icon}])}}else return oe(oe({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},V5=function(t,r){var o=H5(r),s=function(v){Ut(v,function(m){t.formatter.has(m.name)||t.formatter.register(m.name,m.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},jg=function(t){return n8(t).map(function(r){var o=V5(t,r);return em(t)?L5.concat(o):o}).getOr(L5)},U5=function(t,r,o){var s={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return Fe(t,s)},jT=function(t,r,o,s){var v=function(S){return U5(S,o,s)},m=function(S){var T={type:"submenu"};return Fe(S,T)},p=function(S){var T=Fn(S.name)?S.name:qt(S.title),D="custom-"+T,_={type:"formatter",format:D,isSelected:o(D),getStylePreview:s(D)},z=Fe(S,_);return t.formatter.register(T,z),z},w=function(S){return ut(S,function(T){var D=la(T);if(Ea(T,"items")){var _=w(T.items);return Fe(m(T),{getStyleItems:ve(_)})}else return Ea(T,"format")?v(T):D.length===1&&In(D,"title")?Fe(T,{type:"separator"}):p(T)})};return w(r)},GT=function(t){var r=function(_){return function(){return t.formatter.match(_)}},o=function(_){return function(){var z=t.formatter.get(_);return z!==void 0?A.some({tag:z.length>0&&(z[0].inline||z[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(_))}):A.none()}},s=function(_){var z=_.items;return z!==void 0&&z.length>0?Qn(z,s):[_.format]},v=pn([]),m=pn([]),p=pn([]),w=pn([]),S=pn(!1);t.on("PreInit",function(_){var z=jg(t),H=jT(t,z,r,o);v.set(H),m.set(Qn(H,s))}),t.on("addStyleModifications",function(_){var z=jT(t,_.items,r,o);p.set(z),S.set(_.replace),w.set(Qn(z,s))});var T=function(){var _=S.get()?[]:v.get(),z=p.get();return _.concat(z)},D=function(){var _=S.get()?[]:m.get(),z=w.get();return _.concat(z)};return{getData:T,getFlattenedKeys:D}},V7=function(t){return it(t)&&t.nodeType===1},U7=Ug.trim,W5=function(t){return function(r){return!!(V7(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},W7=W5("true"),j7=W5("false"),Gg=function(t,r,o,s,v){return{type:t,title:r,url:o,level:s,attach:v}},j5=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return W7(t)}return!1},G7=function(t,r){return ut(ou(ne.fromDom(r),t),function(o){return o.dom})},G5=function(t){return t.innerText||t.textContent},q7=function(t){return t.id?t.id:qt("h")},K7=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},X7=function(t){return K7(t)&&qT(t)},q5=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},qT=function(t){return j5(t)&&!j7(t)},MC=function(t){return q5(t)&&qT(t)},KT=function(t){return q5(t)?parseInt(t.nodeName.substr(1),10):0},XT=function(t){var r=q7(t),o=function(){t.id=r};return Gg("header",G5(t),"#"+r,KT(t),o)},_p=function(t){var r=t.id||t.name,o=G5(t);return Gg("anchor",o||"#"+r,"#"+r,0,Ye)},YT=function(t){return ut(We(t,MC),XT)},Y7=function(t){return ut(We(t,X7),_p)},K5=function(t){var r=G7("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},X5=function(t){return U7(t.title).length>0},Y5=function(t){var r=K5(t);return We(YT(r).concat(Y7(r)),X5)},Z7={find:Y5},NC="tinymce-url-history",Z5=5,J5=function(t){return Fn(t)&&/^https?/.test(t)},J7=function(t){return tr(t)&&t.length<=Z5&&rr(t,J5)},ZT=function(t){return Wr(t)&&Ar(t,function(r){return!J7(r)}).isNone()},JT=function(){var t=Xx.getItem(NC);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+NC+" was not valid JSON",o),{};throw o}return ZT(r)?r:(console.log("Local storage "+NC+" was not valid format",r),{})},Q7=function(t){if(!ZT(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Xx.setItem(NC,JSON.stringify(t))},Q5=function(t){var r=JT();return rn(r,t).getOr([])},eF=function(t,r){if(J5(t)){var o=JT(),s=rn(o,r).getOr([]),v=We(s,function(m){return m!==t});o[r]=[t].concat(v).slice(0,Z5),Q7(o)}},QT=function(t){return!!t},tF=function(t){return Br(Ug.makeMap(t,/[, ]/),QT)},nO=function(t){return A.from(m8(t)).filter(Zt)},Bp=function(t){var r=A.some(g8(t)).filter(QT),o=A.some(h8(t)).filter(QT),s=r.or(o).map(tF);return nO(t).fold(Bt,function(v){return s.fold(Qe,function(m){return la(m).length>0?m:!1})})},eB=function(t,r){var o=Bp(t);return en(o)?o?nO(t):A.none():o[r]?nO(t):A.none()},nF=function(t,r){return eB(t,r).map(function(o){return function(s){return su.nu(function(v){var m=function(w,S){if(!Fn(w))throw new Error("Expected value to be string");if(S!==void 0&&!Wr(S))throw new Error("Expected meta to be a object");var T={value:w,meta:S};v(T)},p=oe({filetype:r,fieldname:s.fieldname},A.from(s.meta).getOr({}));o.call(t,m,s.value,p)})}})},rO=function(t){return A.from(t).filter(Fn).getOrUndefined()},rF=function(t){return p8(t)?A.none():A.some({targets:Z7.find(t.getBody()),anchorTop:rO(wD(t)),anchorBottom:rO(b8(t))})},e3=function(t){return A.from(y8(t))},ff=function(t){return{getHistory:Q5,addToHistory:eF,getLinkInformation:function(){return rF(t)},getValidationHandler:function(){return e3(t)},getUrlPicker:function(r){return nF(t,r)}}},aF=function(t,r,o){var s=pn(!1),v=z7(r),m={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:af.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(p){return A7(p,m)},anchors:B7(r,o,v.isPositionedAtTop),header:v,getSink:function(){return Un.value(t)}},urlinput:ff(r),styleselect:GT(r),colorinput:P7(r),dialog:I7(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(p){return s.set(p)}};return m},Zv=function(t,r,o){var s=function(De,fe){Ut([r,o],function(Te){Te.broadcastEvent(De,fe)})},v=function(De,fe){Ut([r,o],function(Te){Te.broadcastOn([De],fe)})},m=function(De){return v(Nd(),{target:De.target})},p=Oh(),w=ho(p,"touchstart",m),S=ho(p,"touchmove",function(De){return s(t1(),De)}),T=ho(p,"touchend",function(De){return s(D3(),De)}),D=ho(p,"mousedown",m),_=ho(p,"mouseup",function(De){De.raw.button===0&&v(n2(),{target:De.target})}),z=function(De){return v(Nd(),{target:ne.fromDom(De.target)})},H=function(De){De.button===0&&v(n2(),{target:ne.fromDom(De.target)})},j=function(){Ut(t.editorManager.get(),function(De){t!==De&&De.fire("DismissPopups",{relatedTarget:t})})},ee=function(De){return s(Jb(),Ad(De))},ce=function(De){v(fg(),{}),s(Ps(),Ad(De))},Y=function(){return v(fg(),{})},de=function(De){De.state&&v(Nd(),{target:ne.fromDom(t.getContainer())})},Re=function(De){v(Nd(),{target:ne.fromDom(De.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",z),t.on("tap",z),t.on("mouseup",H),t.on("mousedown",j),t.on("ScrollWindow",ee),t.on("ResizeWindow",ce),t.on("ResizeEditor",Y),t.on("AfterProgressState",de),t.on("DismissPopups",Re)}),t.on("remove",function(){t.off("click",z),t.off("tap",z),t.off("mouseup",H),t.off("mousedown",j),t.off("ScrollWindow",ee),t.off("ResizeWindow",ce),t.off("ResizeEditor",Y),t.off("AfterProgressState",de),t.off("DismissPopups",Re),D.unbind(),w.unbind(),S.unbind(),T.unbind(),_.unbind()}),t.on("detach",function(){iu(r),iu(o),r.destroy(),o.destroy()})},Gs=wn,Mp=h0,tB=ve([me("shell",!1),Ue("makeItem"),me("setupItem",Ye),oc.field("listBehaviours",[An])]),t3=function(){return{behaviours:wt([An.config({})])}},qg=ic({name:"items",overrides:t3}),qs=ve([qg]),oF=ve("CustomList"),nB=function(t,r,o,s){var v=function(w,S){p(w).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(T){var D=An.contents(T),_=S.length,z=_-D.length,H=z>0?Z(z,function(){return t.makeItem()}):[],j=D.slice(_);Ut(j,function(ce){return An.remove(T,ce)}),Ut(H,function(ce){return An.append(T,ce)});var ee=An.contents(T);Ut(ee,function(ce,Y){t.setupItem(w,ce,S[Y],Y)})})},m=t.shell?{behaviours:[An.config({})],components:[]}:{behaviours:[],components:r},p=function(w){return t.shell?A.some(w):ua(w,t,"items")};return{uid:t.uid,dom:t.dom,components:m.components,behaviours:ui(t.listBehaviours,m.behaviours),apis:{setItems:v}}},aO=Eu({name:oF(),configFields:tB(),partFields:qs(),factory:nB,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),Np=ve([Ue("dom"),me("shell",!0),Go("toolbarBehaviours",[An])]),iF=function(){return{behaviours:wt([An.config({})])}},uF=ve([ic({name:"groups",overrides:iF})]),Kg=function(t,r,o,s){var v=function(w,S){m(w).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(T){An.set(T,S)})},m=function(w){return t.shell?A.some(w):ua(w,t,"groups")},p=t.shell?{behaviours:[An.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:p.components,behaviours:ui(t.toolbarBehaviours,p.behaviours),apis:{setGroups:v},domModification:{attributes:{role:"group"}}}},vf=Eu({name:"Toolbar",configFields:Np(),partFields:uF(),factory:Kg,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),Ab=Ye,n3=Bt,oO=ve([]),sF=Object.freeze({__proto__:null,setup:Ab,isDocked:n3,getBehaviours:oO}),rB=function(t){var r=gi(wo(t,"position"),"fixed"),o=r?A.none():Yc(t);return o.orThunk(function(){var s=ne.fromTag("span");return oo(t).bind(function(v){Hi(v,s);var m=Yc(s);return Pu(s),m})})},aB=function(t){return rB(t).map(du).getOrThunk(function(){return fa(0,0)})},iO=Ms.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),Ob=function(t,r){var o=t.element;Ho(o,r.transitionClass),Ro(o,r.fadeOutClass),Ho(o,r.fadeInClass),r.onShow(t)},cF=function(t,r){var o=t.element;Ho(o,r.transitionClass),Ro(o,r.fadeInClass),Ho(o,r.fadeOutClass),r.onHide(t)},lF=function(t,r){return t.y<r.bottom&&t.bottom>r.y},fF=function(t,r){return t.y>=r.y},vF=function(t,r){return t.bottom<=r.bottom},oB=function(t,r,o){return rr(t,function(s){switch(s){case"bottom":return vF(r,o);case"top":return fF(r,o)}})},PC=function(t,r){return r.getInitialPos().map(function(o){return $o(o.bounds.x,o.bounds.y,Li(t),Oo(t))})},dF=function(t,r,o){o.setInitialPos({style:hf(t),position:Ja(t,"position")||"static",bounds:r})},uO=function(t,r,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return A.some(iO.static());case"absolute":var v=rB(t).map(So).getOrThunk(function(){return So(ni())});return A.some(iO.absolute(au("absolute",rn(s.style,"left").map(function(m){return r.x-v.x}),rn(s.style,"top").map(function(m){return r.y-v.y}),rn(s.style,"right").map(function(m){return v.right-r.right}),rn(s.style,"bottom").map(function(m){return v.bottom-r.bottom}))));default:return A.none()}})},sO=function(t,r,o){return PC(t,o).filter(function(s){return oB(o.getModes(),s,r)}).bind(function(s){return uO(t,s,o)})},iB=function(t,r,o){var s=So(t);if(oB(o.getModes(),s,r))return A.none();dF(t,s,o);var v=Ci(),m=s.x-v.x,p=r.y-v.y,w=v.bottom-r.bottom,S=s.y<=r.y;return A.some(iO.fixed(au("fixed",A.some(m),S?A.some(p):A.none(),A.none(),S?A.none():A.some(w))))},r3=function(t,r,o){var s=t.element,v=gi(wo(s,"position"),"fixed");return v?sO(s,r,o):iB(s,r,o)},a3=function(t,r){var o=t.element;return PC(o,r).bind(function(s){return uO(o,s,r)})},Xg=function(t,r,o){o.setDocked(!1),Ut(["left","right","top","bottom","position"],function(s){return Pr(t.element,s)}),r.onUndocked(t)},cO=function(t,r,o,s){var v=s.position==="fixed";o.setDocked(v),Dv(t.element,s);var m=v?r.onDocked:r.onUndocked;m(t)},uB=function(t,r,o,s,v){v===void 0&&(v=!1),r.contextual.each(function(m){m.lazyContext(t).each(function(p){var w=lF(p,s);if(w!==o.isVisible())if(o.setVisible(w),v&&!w)pd(t.element,[m.fadeOutClass]),m.onHide(t);else{var S=w?Ob:cF;S(t,m)}})})},lO=function(t,r,o){var s=r.lazyViewport(t),v=o.isDocked();v&&uB(t,r,o,s),r3(t,s,o).each(function(m){m.fold(function(){return Xg(t,r,o)},function(p){return cO(t,r,o,p)},function(p){uB(t,r,o,s,!0),cO(t,r,o,p)})})},mF=function(t,r,o){var s=t.element;o.setDocked(!1),a3(t,o).each(function(v){v.fold(function(){return Xg(t,r,o)},function(m){return cO(t,r,o,m)},Ye)}),o.setVisible(!0),r.contextual.each(function(v){Ls(s,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(t)}),Db(t,r,o)},Db=function(t,r,o){t.getSystem().isConnected()&&lO(t,r,o)},fO=function(t,r,o){o.isDocked()&&mF(t,r,o)},gF=function(t,r,o){return o.isDocked()},hF=function(t,r,o,s){return o.setModes(s)},FC=function(t,r,o){return o.getModes()},vO=Object.freeze({__proto__:null,refresh:Db,reset:fO,isDocked:gF,getModes:FC,setModes:hF}),pF=function(t,r){return ma([xo(Dm(),function(o,s){t.contextual.each(function(v){if(yu(o.element,v.transitionClass)){Ls(o.element,[v.transitionClass,v.fadeInClass]);var m=r.isVisible()?v.onShown:v.onHidden;m(o)}s.stop()})}),Xe(Jb(),function(o,s){Db(o,t,r)}),Xe(Ps(),function(o,s){fO(o,t,r)})])},bF=Object.freeze({__proto__:null,events:pF}),sB=[us("contextual",[kn("fadeInClass"),kn("fadeOutClass"),kn("transitionClass"),nu("lazyContext"),Ir("onShow"),Ir("onShown"),Ir("onHide"),Ir("onHidden")]),xa("lazyViewport",Ci),Of("modes",["top","bottom"],go),Ir("onDocked"),Ir("onUndocked")],yF=function(t){var r=pn(!1),o=pn(!0),s=co(),v=pn(t.modes),m=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+v.get().join(",")};return Gi({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:v.get,setModes:v.set,readState:m})},CF=Object.freeze({__proto__:null,init:yF}),e=jo({fields:sB,name:"docking",active:bF,apis:vO,state:CF}),n=ve(qt("toolbar-height-change")),a={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},i="tox-tinymce--toolbar-sticky-on",c="tox-tinymce--toolbar-sticky-off",f=function(t,r){var o=vo(r),s=o.dom.defaultView.innerHeight,v=as(o),m=ne.fromDom(t.elm),p=Bl(m),w=Oo(m),S=p.y,T=S+w,D=du(r),_=Oo(r),z=D.top,H=z+_,j=Math.abs(z-v.top)<2,ee=Math.abs(H-(v.top+s))<2;if(j&&S<H)mm(v.left,S-_,o);else if(ee&&T>z){var ce=S-s+w+_;mm(v.left,ce,o)}},g=function(t,r){return In(e.getModes(t),r)},b=function(t){var r=function(s){return rs(s)+(parseInt(Ja(s,"margin-top"),10)||0)+(parseInt(Ja(s,"margin-bottom"),10)||0)},o=t.element;oo(o).each(function(s){var v="padding-"+e.getModes(t)[0];if(e.isDocked(t)){var m=Li(s);xn(o,"width",m+"px"),xn(s,v,r(o)+"px")}else Pr(o,"width"),Pr(s,v)})},C=function(t,r){r?(Ro(t,a.fadeOutClass),pd(t,[a.transitionClass,a.fadeInClass])):(Ro(t,a.fadeInClass),pd(t,[a.fadeOutClass,a.transitionClass]))},k=function(t,r){var o=ne.fromDom(t.getContainer());r?(Ho(o,i),Ro(o,c)):(Ho(o,c),Ro(o,i))},N=function(t,r){var o=vo(r);Tu(o).filter(function(s){return!oa(r,s)}).filter(function(s){return oa(s,ne.fromDom(o.dom.body))||ks(t,s)}).each(function(){return sl(r)})},F=function(t,r){return cl(t).orThunk(function(){return r().toOptional().bind(function(o){return cl(o.element)})})},I=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(e.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(b)}),t.on("SkinLoaded",function(){o().each(function(s){e.isDocked(s)?e.reset(s):e.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(e.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(v){e.refresh(v);var m=v.element;MS(m)&&f(s,m)})}),t.on("PostRender",function(){k(t,!1)})},W=function(t){return t().map(e.isDocked).getOr(!1)},G=function(){var t;return[ru.config({channels:(t={},t[n()]={onReceive:b},t)})]},q=function(t,r){var o=co(),s=r.getSink,v=function(w){s().each(function(S){return w(S.element)})},m=function(w){t.inline||b(w),k(t,e.isDocked(w)),w.getSystem().broadcastOn([fg()],{}),s().each(function(S){return S.getSystem().broadcastOn([fg()],{})})},p=t.inline?[]:G();return mt([On.config({}),e.config({contextual:oe({lazyContext:function(w){var S=rs(w.element),T=t.inline?t.getContentAreaContainer():t.getContainer(),D=So(ne.fromDom(T)),_=D.height-S,z=D.y+(g(w,"top")?0:S);return A.some($o(D.x,z,D.width,_))},onShow:function(){v(function(w){return C(w,!0)})},onShown:function(w){v(function(S){return Ls(S,[a.transitionClass,a.fadeInClass])}),o.get().each(function(S){N(w.element,S),o.clear()})},onHide:function(w){F(w.element,s).fold(o.clear,o.set),v(function(S){return C(S,!1)})},onHidden:function(){v(function(w){return Ls(w,[a.transitionClass])})}},a),lazyViewport:function(w){var S=Ci(),T=c8(t),D=S.y+(g(w,"top")?T:0),_=S.height-(g(w,"bottom")?T:0);return $o(S.x,D,S.width,_)},modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m})],p,!0)},K=Object.freeze({__proto__:null,setup:I,isDocked:W,getBehaviours:q}),ae=function(t){var r=t.editor,o=t.sticky?q:oO;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:wt(o(r,t.sharedBackstage))}},re=sn([kn("type"),zu("items",lh([$b([kn("name"),Wi("items",go)]),go]))].concat(Z0)),ye=function(t){return Wa("GroupToolbarButton",re,t)},he=[Sa("text"),Sa("tooltip"),Sa("icon"),nu("fetch"),xa("onSetup",function(){return Ye})],ie=sn(mt([kn("type")],he,!0)),Se=function(t){return Wa("menubutton",ie,t)},He=sn([kn("type"),Sa("tooltip"),Sa("icon"),Sa("text"),fv("select"),nu("fetch"),xa("onSetup",function(){return Ye}),Bs("presets","normal",["normal","color","listpreview"]),me("columns",1),nu("onAction"),nu("onItemAction")]),ot=function(t){return Wa("SplitButton",He,t)},Cn=function(t,r){var o=function(v,m){var p=ut(m,function(w){var S={type:"menubutton",text:w.text,fetch:function(D){D(w.getItems())}},T=Se(S).mapError(function(D){return lv(D)}).getOrDie();return $T(T,"tox-mbtn",r.backstage,A.some("menuitem"))});An.set(v,p)},s={focus:nn.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:wt([An.config({}),$n("menubar-events",[zn(function(v){t.onSetup(v)}),Xe(Rf(),function(v,m){Vo(v.element,".tox-mbtn--active").each(function(p){rc(m.event.target,".tox-mbtn").each(function(w){oa(p,w)||v.getSystem().getByDom(p).each(function(S){v.getSystem().getByDom(w).each(function(T){sf.expand(T),sf.close(S),On.focus(T)})})})})}),Xe(n1(),function(v,m){m.event.prevFocus.bind(function(p){return v.getSystem().getByDom(p).toOptional()}).each(function(p){m.event.newFocus.bind(function(w){return v.getSystem().getByDom(w).toOptional()}).each(function(w){sf.isOpen(p)&&(sf.expand(w),sf.close(p))})})})]),nn.config({mode:"flow",selector:".tox-mbtn",onEscape:function(v){return t.onEscape(v),A.some(!0)}}),po.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},Ft=Us({factory:Cn,name:"silver.Menubar",configFields:[Ue("dom"),Ue("uid"),Ue("onEscape"),Ue("backstage"),me("onSetup",Ye)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),je=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},on=function(t){return t.dimension.property},ft=function(t,r){return t.dimension.getDimension(r)},_t=function(t,r){var o=je(t,r);Ls(o,[r.shrinkingClass,r.growingClass])},dt=function(t,r){Ro(t.element,r.openClass),Ho(t.element,r.closedClass),xn(t.element,on(r),"0px"),Aa(t.element)},Et=function(t,r){Ro(t.element,r.closedClass),Ho(t.element,r.openClass),Pr(t.element,on(r))},Gt=function(t,r,o,s){o.setCollapsed(),xn(t.element,on(r),ft(r,t.element)),Aa(t.element),_t(t,r),dt(t,r),r.onStartShrink(t),r.onShrunk(t)},tt=function(t,r,o,s){var v=s.getOrThunk(function(){return ft(r,t.element)});o.setCollapsed(),xn(t.element,on(r),v),Aa(t.element);var m=je(t,r);Ro(m,r.growingClass),Ho(m,r.shrinkingClass),dt(t,r),r.onStartShrink(t)},$t=function(t,r,o){var s=ft(r,t.element),v=s==="0px"?Gt:tt;v(t,r,o,A.some(s))},ir=function(t,r,o){var s=je(t,r),v=yu(s,r.shrinkingClass),m=ft(r,t.element);Et(t,r);var p=ft(r,t.element),w=function(){xn(t.element,on(r),m),Aa(t.element)},S=function(){dt(t,r)},T=v?w:S;T(),Ro(s,r.shrinkingClass),Ho(s,r.growingClass),Et(t,r),xn(t.element,on(r),p),o.setExpanded(),r.onStartGrow(t)},Vr=function(t,r,o){if(o.isExpanded()){Pr(t.element,on(r));var s=ft(r,t.element);xn(t.element,on(r),s)}},$r=function(t,r,o){o.isExpanded()||ir(t,r,o)},Mi=function(t,r,o){o.isExpanded()&&$t(t,r,o)},ro=function(t,r,o){o.isExpanded()&&Gt(t,r,o)},Ku=function(t,r,o){return o.isExpanded()},mc=function(t,r,o){return o.isCollapsed()},nt=function(t,r,o){var s=je(t,r);return yu(s,r.growingClass)===!0},yt=function(t,r,o){var s=je(t,r);return yu(s,r.shrinkingClass)===!0},un=function(t,r,o){return nt(t,r)||yt(t,r)},xe=function(t,r,o){var s=o.isExpanded()?$t:ir;s(t,r,o)},ct=Object.freeze({__proto__:null,refresh:Vr,grow:$r,shrink:Mi,immediateShrink:ro,hasGrown:Ku,hasShrunk:mc,isGrowing:nt,isShrinking:yt,isTransitioning:un,toggleGrow:xe,disableTransitions:_t}),rt=function(t,r,o){var s=r.expanded;return Dc(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Pl(r.dimension.property,"0px")})},ln=function(t,r){return ma([xo(Dm(),function(o,s){var v=s.event.raw;if(v.propertyName===t.dimension.property){_t(o,t),r.isExpanded()&&Pr(o.element,t.dimension.property);var m=r.isExpanded()?t.onGrown:t.onShrunk;m(o)}})])},yn=Object.freeze({__proto__:null,exhibit:rt,events:ln}),Ca=[Ue("closedClass"),Ue("openClass"),Ue("shrinkingClass"),Ue("growingClass"),Fr("getAnimationRoot"),Ir("onShrunk"),Ir("onStartShrink"),Ir("onGrown"),Ir("onStartGrow"),me("expanded",!1),zu("dimension",Qs("property",{width:[ya("property","width"),ya("getDimension",function(t){return Li(t)+"px"})],height:[ya("property","height"),ya("getDimension",function(t){return Oo(t)+"px"})]}))],li=function(t){var r=pn(t.expanded),o=function(){return"expanded: "+r.get()};return Gi({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:Tr(r.set,!1),setExpanded:Tr(r.set,!0),readState:o})},Qo=Object.freeze({__proto__:null,init:li}),Du=jo({fields:Ca,name:"sliding",active:yn,apis:ct,state:Qo}),Ru="container",gs=[Go("slotBehaviours",[])],ei=function(t){return"<alloy.field."+t+">"},Lc=function(t){var r=function(){var m=[],p=function(w,S){return m.push(w),b2(Ru,ei(w),S)};return{slot:p,record:ve(m)}}(),o=t(r),s=r.record(),v=ut(s,function(m){return Ri({name:m,pname:ei(m)})});return x2(Ru,gs,v,hs,o)},hs=function(t,r){var o=function(ee){return vS(t)},s=function(ee,ce){return ua(ee,t,ce)},v=function(ee,ce){return function(Y,de){return ua(Y,t,de).map(function(Re){return ee(Re,de)}).getOr(ce)}},m=function(ee){return function(ce,Y){Ut(Y,function(de){return ee(ce,de)})}},p=function(ee,ce){return _a(ee.element,"aria-hidden")!=="true"},w=function(ee,ce){if(!p(ee)){var Y=ee.element;Pr(Y,"display"),ri(Y,"aria-hidden"),bn(ee,_f(),{name:ce,visible:!0})}},S=function(ee,ce){if(p(ee)){var Y=ee.element;xn(Y,"display","none"),Vn(Y,"aria-hidden","true"),bn(ee,_f(),{name:ce,visible:!1})}},T=v(p,!1),D=v(S),_=m(D),z=function(ee){return _(ee,o())},H=v(w),j={getSlotNames:o,getSlot:s,isShowing:T,hideSlot:D,hideAllSlots:z,showSlot:H};return{uid:t.uid,dom:t.dom,components:r,behaviours:gg(t.slotBehaviours),apis:j}},Jv=Br({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return ja(t)}),Ur=oe(oe({},Jv),{sketch:Lc}),Na=sn([Sa("icon"),Sa("tooltip"),xa("onShow",Ye),xa("onHide",Ye),xa("onSetup",function(){return Ye})]),fi=function(t){return Wa("sidebar",Na,t)},ev=function(t){var r=t.ui.registry.getAll().sidebars;Ut(la(r),function(o){var s=r[o],v=function(){return gi(A.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(m){t.execCommand("ToggleSidebar",!1,o),m.setActive(v())},onSetup:function(m){var p=function(){return m.setActive(v())};return t.on("ToggleSidebar",p),function(){t.off("ToggleSidebar",p)}}})})},tv=function(t){return{element:function(){return t.element.dom}}},nv=function(t,r){var o=ut(la(r),function(s){var v=r[s],m=xc(fi(v));return{name:s,getApi:tv,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return ut(o,function(s){var v=pn(Ye);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:tb.unnamedEvents([ab(s,v),lC(s,v),Xe(_f(),function(m,p){var w=p.event,S=Ct(o,function(T){return T.name===w.name});S.each(function(T){var D=w.visible?T.onShow:T.onHide;D(T.getApi(m))})})])})})},Yg=function(t){return Ur.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:nv(r,t),slotBehaviours:tb.unnamedEvents([zn(function(o){return Ur.hideAllSlots(o)})])}})},dO=function(t,r){var o=sr.getCurrent(t);o.each(function(s){return An.set(s,[Yg(r)])})},mO=function(t,r){var o=sr.getCurrent(t);o.each(function(s){var v=sr.getCurrent(s);v.each(function(m){Du.hasGrown(s)?Ur.isShowing(m,r)?Du.shrink(s):(Ur.hideAllSlots(m),Ur.showSlot(m,r)):(Ur.hideAllSlots(m),Ur.showSlot(m,r),Du.grow(s))})})},wF=function(t){var r=sr.getCurrent(t);return r.bind(function(o){var s=Du.isGrowing(o)||Du.hasGrown(o);if(s){var v=sr.getCurrent(o);return v.bind(function(m){return Ct(Ur.getSlotNames(m),function(p){return Ur.isShowing(m,p)})})}else return A.none()})},o3=qt("FixSizeEvent"),i3=qt("AutoSizeEvent"),SF=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:wt([po.config({}),On.config({}),Du.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=sr.getCurrent(r);o.each(Ur.hideAllSlots),_r(r,i3)},onGrown:function(r){_r(r,i3)},onStartGrow:function(r){bn(r,o3,{width:wo(r.element,"width").getOr("")})},onStartShrink:function(r){bn(r,o3,{width:Li(r.element)+"px"})}}),An.config({}),sr.config({find:function(r){var o=An.contents(r);return ta(o)}})])}],behaviours:wt([Qf.childAt(0),$n("sidebar-sliding-events",[Xe(o3,function(r,o){xn(r.element,"width",o.event.width)}),Xe(i3,function(r,o){Pr(r.element,"width")})])])}},cB=function(t,r,o,s){Vn(t.element,"aria-busy",!0);var v=r.getRoot(t).getOr(t),m=wt([nn.config({mode:"special",onTab:function(){return A.some(!0)},onShiftTab:function(){return A.some(!0)}}),On.config({})]),p=s(v,m),w=v.getSystem().build(p);An.append(v,Hs(w)),w.hasConfigured(nn)&&r.focus&&nn.focusIn(w),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return An.remove(v,w)})},xF=function(t,r,o){ri(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},TF=Object.freeze({__proto__:null,block:cB,unblock:xF}),EF=[xa("getRoot",A.none),da("focus",!0),Ir("onBlock"),Ir("onUnblock")],kF=function(){var t=Ry(),r=function(o){t.set({destroy:o})};return Gi({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},Pp=Object.freeze({__proto__:null,init:kF}),Qv=jo({fields:EF,name:"blocking",apis:TF,state:Pp}),le=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Jd('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Oe=function(t){return sr.getCurrent(t).each(function(r){return sl(r.element)})},gt=function(t,r){var o="tabindex",s="data-mce-"+o;A.from(t.iframeElement).map(ne.fromDom).each(function(v){r?(Ua(v,o).each(function(m){return Vn(v,s,m)}),Vn(v,o,-1)):(ri(v,o),Ua(v,s).each(function(m){Vn(v,o,m),ri(v,s)}))})},kt=function(t,r,o,s){var v=r.element;if(gt(t,o),o)Qv.block(r,le(s)),Pr(v,"display"),ri(v,"aria-hidden"),t.hasFocus()&&Oe(r);else{var m=sr.getCurrent(r).exists(function(p){return Rh(p.element)});Qv.unblock(r),xn(v,"display","none"),Vn(v,"aria-hidden","true"),m&&t.focus()}},Zn=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:wt([An.config({}),Qv.config({focus:!1}),sr.config({find:function(r){return ta(r.components())}})]),components:[]}},qr=function(t){return t.type==="focusin"},Ga=function(t){if(qr(t)){var r=t.composed?ta(t.composedPath()):A.from(t.target);return r.map(ne.fromDom).filter(hr).exists(function(o){return yu(o,"mce-pastebin")})}else return!1},Zg=function(t,r,o){var s=pn(!1),v=co(),m=function(w){s.get()&&!Ga(w)&&(w.preventDefault(),Oe(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",m),t.on("BeforeExecCommand",function(w){w.command.toLowerCase()==="mcefocus"&&w.value!==!0&&m(w)})});var p=function(w){w!==s.get()&&(s.set(w),kt(t,r(),w,o.providers),t.fire("AfterProgressState",{state:w}))};t.on("ProgressState",function(w){if(v.on(Wf.clearTimeout),er(w.time)){var S=Wf.setEditorTimeout(t,function(){return p(w.state)},w.time);v.set(S)}else p(w.state),v.clear()})},k$=function(t,r){var o={len:0,list:[]},s=Ee(t,function(v,m){var p=r(m,v.len);return p.fold(ve(v),function(w){return{len:w.finish,list:v.list.concat([w])}})},o);return s.list},AF=function(t,r,o){return{within:t,extra:r,withinWidth:o}},mI=function(t,r,o){var s=k$(t,function(w,S){var T=o(w);return A.some({element:w,start:S,finish:S+T,width:T})}),v=We(s,function(w){return w.finish<=r}),m=be(v,function(w,S){return w+S.width},0),p=s.slice(v.length);return{within:v,extra:p,withinWidth:m}},lB=function(t){return ut(t,function(r){return r.element})},A$=function(t,r,o){var s=lB(t.concat(r));return AF(s,[],o)},O$=function(t,r,o,s){var v=lB(t).concat([o]);return AF(v,lB(r),s)},D$=function(t,r,o){return AF(lB(t),[],o)},R$=function(t,r,o){var s=mI(r,t,o);return s.extra.length===0?A.some(s):A.none()},_$=function(t,r,o,s){var v=R$(t,r,o).getOrThunk(function(){return mI(r,t-o(s),o)}),m=v.within,p=v.extra,w=v.withinWidth;return p.length===1&&p[0].width<=o(s)?A$(m,p,w):p.length>=1?O$(m,p,s,w):D$(m,p,w)},gI=function(t,r){var o=ut(r,function(s){return Hs(s)});vf.setGroups(t,o)},B$=function(t){return na(t,function(r){return cl(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},hI=function(t,r,o){var s=r.builtGroups.get();if(s.length!==0){var v=ef(t,r,"primary"),m=To.getCoupled(t,"overflowGroup");xn(v.element,"visibility","hidden");var p=s.concat([m]),w=B$(p);o([]),gI(v,p);var S=Li(v.element),T=_$(S,r.builtGroups.get(),function(D){return Li(D.element)},m);T.extra.length===0?(An.remove(v,m),o([])):(gI(v,T.within),o(T.extra)),Pr(v.element,"visibility"),Aa(v.element),w.each(On.focus)}},pI=ve([Go("splitToolbarBehaviours",[To]),hu("builtGroups",function(){return pn([])})]),M$=ve([wd(["overflowToggledClass"]),fv("getOverflowBounds"),Ue("lazySink"),hu("overflowGroups",function(){return pn([])})].concat(pI())),N$=ve([Ri({factory:vf,schema:Np(),name:"primary"}),Vs({schema:Np(),name:"overflow"}),Vs({name:"overflow-button"}),Vs({name:"overflow-group"})]),OF=ve(function(t,r){yi(t,Math.floor(r))}),P$=ve([wd(["toggledClass"]),Ue("lazySink"),nu("fetch"),fv("getBounds"),us("fireDismissalEventInstead",[me("event",Ac())]),Rv()]),F$=ve([Vs({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:wt([dr.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Vs({factory:vf,schema:Np(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:wt([nn.config({mode:"cyclic",onEscape:function(r){return ua(r,t,"button").each(On.focus),A.none()}})])}}})]),bI=function(t,r){var o=To.getCoupled(t,"toolbarSandbox");pr.isOpen(o)?pr.close(o):pr.open(o,r.toolbar())},DF=function(t,r,o,s){var v=o.getBounds.map(function(p){return p()}),m=o.lazySink(t).getOrDie();lo.positionWithinBounds(m,r,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:OF()}}},v)},yI=function(t,r,o,s,v){vf.setGroups(r,v),DF(t,r,o,s),dr.on(t)},I$=function(t,r,o){var s=bd(),v=function(p,w){o.fetch().get(function(S){yI(t,w,o,r.layouts,S),s.link(t.element),nn.focusIn(w)})},m=function(){dr.off(t),On.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:wt([nn.config({mode:"special",onEscape:function(p){return pr.close(p),A.some(!0)}}),pr.config({onOpen:v,onClose:m,isPartOf:function(p,w,S){return yd(w,S)||yd(t,S)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),ru.config({channels:oe(oe({},ju(oe({isExtraPart:Bt},o.fireDismissalEventInstead.map(function(p){return{fireEventInstead:{event:p.event}}}).getOr({})))),Pd({doReposition:function(){pr.getState(To.getCoupled(t,"toolbarSandbox")).each(function(p){DF(t,p,o,r.layouts)})}}))})])}},z$=function(t,r,o,s){return oe(oe({},vs.sketch(oe(oe({},s.button()),{action:function(v){bI(v,s)},buttonBehaviours:oc.augment({dump:s.button().buttonBehaviours},[To.config({others:{toolbarSandbox:function(v){return I$(v,o,t)}}})])}))),{apis:{setGroups:function(v,m){pr.getState(To.getCoupled(v,"toolbarSandbox")).each(function(p){yI(v,p,t,o.layouts,m)})},reposition:function(v){pr.getState(To.getCoupled(v,"toolbarSandbox")).each(function(m){DF(v,m,t,o.layouts)})},toggle:function(v){bI(v,s)},getToolbar:function(v){return pr.getState(To.getCoupled(v,"toolbarSandbox"))},isOpen:function(v){return pr.isOpen(To.getCoupled(v,"toolbarSandbox"))}}})},IC=Eu({name:"FloatingToolbarButton",factory:z$,configFields:P$(),partFields:F$(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),$$=ve([Ue("items"),wd(["itemSelector"]),Go("tgroupBehaviours",[nn])]),L$=ve([Ql({name:"items",unit:"item"})]),H$=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:ui(t.tgroupBehaviours,[nn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},fB=Eu({name:"ToolbarGroup",configFields:$$(),partFields:L$(),factory:H$}),CI=function(t){return ut(t,function(r){return Hs(r)})},wI=function(t,r,o){hI(t,o,function(s){o.overflowGroups.set(s),r.getOpt(t).each(function(v){IC.setGroups(v,CI(s))})})},V$=function(t,r,o,s){var v=Gr(IC.sketch({fetch:function(){return su.nu(function(m){m(CI(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Yo,qi]},onRtl:function(){return[qi,Yo]},onBottomLtr:function(){return[xu,Su]},onBottomRtl:function(){return[Su,xu]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:ui(t.splitToolbarBehaviours,[To.config({others:{overflowGroup:function(){return fB.sketch(oe(oe({},s["overflow-group"]()),{items:[v.asSpec()]}))}}})]),apis:{setGroups:function(m,p){t.builtGroups.set(ut(p,m.getSystem().build)),wI(m,v,t)},refresh:function(m){return wI(m,v,t)},toggle:function(m){v.getOpt(m).each(function(p){IC.toggle(p)})},isOpen:function(m){return v.getOpt(m).map(IC.isOpen).getOr(!1)},reposition:function(m){v.getOpt(m).each(function(p){IC.reposition(p)})},getOverflow:function(m){return v.getOpt(m).bind(IC.getToolbar)}},domModification:{attributes:{role:"group"}}}},SI=Eu({name:"SplitFloatingToolbar",configFields:M$(),partFields:N$(),factory:V$,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),U$=ve([wd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ir("onOpened"),Ir("onClosed")].concat(pI())),W$=ve([Ri({factory:vf,schema:Np(),name:"primary"}),Ri({factory:vf,schema:Np(),name:"overflow",overrides:function(t){return{toolbarBehaviours:wt([Du.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){ua(r,t,"overflow-button").each(function(o){dr.off(o),On.focus(o)}),t.onClosed(r)},onGrown:function(r){nn.focusIn(r),t.onOpened(r)},onStartGrow:function(r){ua(r,t,"overflow-button").each(dr.on)}}),nn.config({mode:"acyclic",onEscape:function(r){return ua(r,t,"overflow-button").each(On.focus),A.some(!0)}})])}}}),Vs({name:"overflow-button",overrides:function(t){return{buttonBehaviours:wt([dr.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Vs({name:"overflow-group"})]),j$=function(t,r){return ua(t,r,"overflow").map(Du.hasGrown).getOr(!1)},xI=function(t,r){ua(t,r,"overflow-button").bind(function(){return ua(t,r,"overflow")}).each(function(o){RF(t,r),Du.toggleGrow(o)})},RF=function(t,r){ua(t,r,"overflow").each(function(o){hI(t,r,function(s){var v=ut(s,function(m){return Hs(m)});vf.setGroups(o,v)}),ua(t,r,"overflow-button").each(function(s){Du.hasGrown(o)&&dr.on(s)}),Du.refresh(o)})},G$=function(t,r,o,s){var v="alloy.toolbar.toggle",m=function(p,w){var S=ut(w,p.getSystem().build);t.builtGroups.set(S)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ui(t.splitToolbarBehaviours,[To.config({others:{overflowGroup:function(p){return fB.sketch(oe(oe({},s["overflow-group"]()),{items:[vs.sketch(oe(oe({},s["overflow-button"]()),{action:function(w){_r(p,v)}}))]}))}}}),$n("toolbar-toggle-events",[Xe(v,function(p){xI(p,t)})])]),apis:{setGroups:function(p,w){m(p,w),RF(p,t)},refresh:function(p){return RF(p,t)},toggle:function(p){return xI(p,t)},isOpen:function(p){return j$(p,t)}},domModification:{attributes:{role:"group"}}}},_F=Eu({name:"SplitSlidingToolbar",configFields:U$(),partFields:W$(),factory:G$,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),TI=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:oe({tag:"div",classes:["tox-toolbar__group"]},r),components:[fB.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:wt([po.config({}),On.config({})])}},vB=function(t){return fB.sketch(TI(t))},EI=function(t,r){var o=zn(function(s){var v=ut(t.initGroups,vB);vf.setGroups(s,v)});return wt([bl.toolbarButton(t.providers.isDisabled),Jo(),nn.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),$n("toolbar-events",[o])])},kI=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":TI({title:A.none(),items:[]}),"overflow-button":IA({name:"more",icon:A.some("more-drawer"),disabled:!1,tooltip:A.some("More..."),primary:!1,borderless:!1},A.none(),t.providers)},splitToolbarBehaviours:EI(t,r)}},q$=function(t){var r=kI(t),o=4,s=SI.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return SI.sketch(oe(oe({},r),{lazySink:t.getSink,getOverflowBounds:function(){var v=t.moreDrawerData.lazyHeader().element,m=Bl(v),p=ze(v),w=Bl(p),S=Math.max(p.dom.scrollHeight,w.height);return $o(m.x+o,w.y,m.width-o*2,S)},parts:oe(oe({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},K$=function(t){var r=_F.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=_F.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=kI(t);return _F.sketch(oe(oe({},s),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(v){v.getSystem().broadcastOn([n()],{type:"opened"})},onClosed:function(v){v.getSystem().broadcastOn([n()],{type:"closed"})}}))},dB=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return vf.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Fc.scrolling?["tox-toolbar--scrolling"]:[])},components:[vf.parts.groups({})],toolbarBehaviours:EI(t,r)})},X$=function(t,r,o){var s={getSocket:function(v){return Gs.getPart(v,t,"socket")},setSidebar:function(v,m){Gs.getPart(v,t,"sidebar").each(function(p){return dO(p,m)})},toggleSidebar:function(v,m){Gs.getPart(v,t,"sidebar").each(function(p){return mO(p,m)})},whichSidebar:function(v){return Gs.getPart(v,t,"sidebar").bind(wF).getOrNull()},getHeader:function(v){return Gs.getPart(v,t,"header")},getToolbar:function(v){return Gs.getPart(v,t,"toolbar")},setToolbar:function(v,m){Gs.getPart(v,t,"toolbar").each(function(p){p.getApis().setGroups(p,m)})},setToolbars:function(v,m){Gs.getPart(v,t,"multiple-toolbar").each(function(p){aO.setItems(p,m)})},refreshToolbar:function(v){var m=Gs.getPart(v,t,"toolbar");m.each(function(p){return p.getApis().refresh(p)})},toggleToolbarDrawer:function(v){Gs.getPart(v,t,"toolbar").each(function(m){Fi(m.getApis().toggle,function(p){return p(m)})})},isToolbarDrawerToggled:function(v){return Gs.getPart(v,t,"toolbar").bind(function(m){return A.from(m.getApis().isOpen).map(function(p){return p(m)})}).getOr(!1)},getThrobber:function(v){return Gs.getPart(v,t,"throbber")},focusToolbar:function(v){var m=Gs.getPart(v,t,"toolbar").orThunk(function(){return Gs.getPart(v,t,"multiple-toolbar")});m.each(function(p){nn.focusIn(p)})},setMenubar:function(v,m){Gs.getPart(v,t,"menubar").each(function(p){Ft.setMenus(p,m)})},focusMenubar:function(v){Gs.getPart(v,t,"menubar").each(function(m){Ft.focus(m)})}};return{uid:t.uid,dom:t.dom,components:r,apis:s,behaviours:t.behaviours}},Y$=Mp.optional({factory:Ft,name:"menubar",schema:[Ue("backstage")]}),Z$=function(t){return t.type===Fc.sliding?K$:t.type===Fc.floating?q$:dB},J$=Mp.optional({factory:{sketch:function(t){return aO.sketch({uid:t.uid,dom:t.dom,listBehaviours:wt([nn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return dB({type:t.type,uid:qt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),A.some(!0)}})},setupItem:function(r,o,s,v){vf.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[Ue("dom"),Ue("onEscape")]}),Q$=Mp.optional({factory:{sketch:function(t){var r=Z$(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),A.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[Ue("dom"),Ue("onEscape"),Ue("getSink")]}),eL=Mp.optional({factory:{sketch:ae},name:"header",schema:[Ue("dom")]}),tL=Mp.optional({name:"socket",schema:[Ue("dom")]}),nL=Mp.optional({factory:{sketch:SF},name:"sidebar",schema:[Ue("dom")]}),rL=Mp.optional({factory:{sketch:Zn},name:"throbber",schema:[Ue("dom")]}),Mo=Eu({name:"OuterContainer",factory:X$,configFields:[Ue("dom"),Ue("behaviours")],partFields:[eL,Y$,Q$,J$,tL,nL,rL],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var s=ut(o,function(v){return vB(v)});t.setToolbar(r,s)},setToolbars:function(t,r,o){var s=ut(o,function(v){return ut(v,vB)});t.setToolbars(r,s)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),aL="file edit view insert format tools table help",AI={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},oL=function(t,r,o){var s=b4(o).split(/[ ,]/);return{text:t.title,getItems:function(){return Qn(t.items,function(v){var m=v.toLowerCase();return m.trim().length===0?[]:Jr(s,function(p){return p===m})?[]:m==="separator"||m==="|"?[{type:"separator"}]:r.menuItems[m]?[r.menuItems[m]]:[]})}}},BF=function(t){return typeof t=="string"?t.split(" "):t},OI=function(t,r){var o=oe(oe({},AI),r.menus),s=la(r.menus).length>0,v=r.menubar===void 0||r.menubar===!0?BF(aL):BF(r.menubar===!1?"":r.menubar),m=We(v,function(w){var S=wr(AI,w);return s?S||rn(r.menus,w).exists(function(T){return wr(T,"items")}):S}),p=ut(m,function(w){var S=o[w];return oL({title:S.title,items:BF(S.items)},r,t)});return We(p,function(w){var S=function(T){return T.type!=="separator"};return w.getItems().length>0&&Jr(w.getItems(),S)})},DI=function(t){var r=function(){t._skinLoaded=!0,I8(t)};return function(){t.initialized?r():t.on("init",r)}},iL=function(t,r){return function(){return z8(t,{message:r})}},RI=function(t,r,o){return new yp(function(s,v){o.load(r,s,v),t.on("remove",function(){return o.unload(r)})})},uL=function(t,r){var o=r+"/skin.min.css";return RI(t,o,t.ui.styleSheetLoader)},sL=function(t,r){var o=Al(ne.fromDom(t.getElement()));if(o){var s=r+"/skin.shadowdom.min.css";return RI(t,s,sC.DOM.styleSheetLoader)}else return yp.resolve()},_I=function(t,r){var o=QM(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),t8(r)===!1&&Fn(o)?yp.all([uL(r,o),sL(r,o)]).then(DI(r),iL(r,"Skin could not be loaded")):DI(r)()},cL=Tr(_I,!1),lL=Tr(_I,!0),mB=function(t,r){return function(o){var s=Gm(),v=function(){o.setActive(t.formatter.match(r));var m=t.formatter.formatChanged(r,o.setActive);s.set(m)};return t.initialized?v():t.once("init",v),function(){t.off("init",v),s.clear()}}},gB=function(t,r,o){return function(s){var v=function(){return o(s)},m=function(){o(s),t.on(r,v)};return t.initialized?m():t.once("init",m),function(){t.off("init",m),t.off(r,v)}}},BI=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},rv=function(t,r){return function(){return t.execCommand(r)}},fL=function(t,r,o){var s=function(w,S,T,D){var _=r.shared.providers.translate(w.title);if(w.type==="separator")return A.some({type:"separator",text:_});if(w.type==="submenu"){var z=Qn(w.getStyleItems(),function(H){return v(H,S,D)});return S===0&&z.length<=0?A.none():A.some({type:"nestedmenuitem",text:_,disabled:z.length<=0,getSubmenuItems:function(){return Qn(w.getStyleItems(),function(H){return v(H,S,D)})}})}else return A.some(oe({type:"togglemenuitem",text:_,icon:w.icon,active:w.isSelected(D),disabled:T,onAction:o.onAction(w)},w.getStylePreview().fold(function(){return{}},function(H){return{meta:{style:H}}})))},v=function(w,S,T){var D=w.type==="formatter"&&o.isInvalid(w);return S===0?D?[]:s(w,S,!1,T).toArray():s(w,S,D,T).toArray()},m=function(w){var S=o.getCurrentValue(),T=o.shouldHide?0:1;return Qn(w,function(D){return v(D,T,S)})},p=function(w,S){return function(T,D){var _=S(),z=m(_),H=kb(z,qf.CLOSE_ON_EXECUTE,w,!1);D(H)}};return{validateItems:m,getFetch:p}},u3=function(t,r,o){var s=o.dataset,v=s.type==="basic"?function(){return ut(s.data,function(m){return U5(m,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:fL(t,r,o),getStyleItems:v}},gO=function(t,r,o){var s=u3(t,r,o),v=s.items,m=s.getStyleItems,p=function(S){return{getComponent:ve(S)}},w=gB(t,"NodeChange",function(S){var T=S.getComponent();o.updateText(T)});return PA({text:o.icon.isSome()?A.none():o.text,icon:o.icon,tooltip:A.from(o.tooltip),role:A.none(),fetch:v.getFetch(r,m),onSetup:w,getApi:p,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},vL=function(t){return ut(t,function(r){var o=r,s=r,v=r.split("=");return v.length>1&&(o=v[0],s=v[1]),{title:o,format:s}})},dL=function(t){return{type:"basic",data:t}},s3;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(s3||(s3={}));var mL=function(t,r){return r===s3.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},MF=function(t,r,o,s){var v=t.getParam(r,o,"string"),m=vL(mL(v,s));return{type:"basic",data:m}},NF=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],MI=function(t){var r=function(){return Ct(NF,function(w){return t.formatter.match(w.format)})},o=function(w){return function(){return t.formatter.match(w)}},s=function(w){return A.none},v=function(w){var S=r(),T=S.fold(ve("left"),function(D){return D.title.toLowerCase()});bn(w,NA,{icon:"align-"+T})},m=dL(NF),p=function(w){return function(){return Ct(NF,function(S){return S.format===w.format}).each(function(S){return t.execCommand(S.command)})}};return{tooltip:"Align",text:A.none(),icon:A.some("align-left"),isSelectedFor:o,getCurrentValue:A.none,getPreviewFor:s,onAction:p,updateText:v,dataset:m,shouldHide:!1,isInvalid:function(w){return!t.formatter.canApply(w.format)}}},gL=function(t,r){return gO(t,r,MI(t))},hL=function(t,r){var o=u3(t,r,MI(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},pL="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",bL=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],NI=function(t){var r=t.split(/\s*,\s*/);return ut(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},yL=function(t){var r=function(){var o=NI(t.toLowerCase());return rr(bL,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},PI=function(t){var r="System Font",o=function(){var T=function(j){return j?NI(j)[0]:""},D=t.queryCommandValue("FontName"),_=S.data,z=D?D.toLowerCase():"",H=Ct(_,function(j){var ee=j.format;return ee.toLowerCase()===z||T(ee).toLowerCase()===T(z).toLowerCase()}).orThunk(function(){return Ii(yL(z),{title:r,format:z})});return{matchOpt:H,font:D}},s=function(T){return function(D){return D.exists(function(_){return _.format===T})}},v=function(){var T=o().matchOpt;return T},m=function(T){return function(){return A.some({tag:"div",styles:T.indexOf("dings")===-1?{"font-family":T}:{}})}},p=function(T){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,T.format)})}},w=function(T){var D=o(),_=D.matchOpt,z=D.font,H=_.fold(ve(z),function(j){return j.title});bn(T,Op,{text:H})},S=MF(t,"font_formats",pL,s3.SemiColon);return{tooltip:"Fonts",text:A.some(r),icon:A.none(),isSelectedFor:s,getCurrentValue:v,getPreviewFor:m,onAction:p,updateText:w,dataset:S,shouldHide:!1,isInvalid:Bt}},CL=function(t,r){return gO(t,r,PI(t))},wL=function(t,r){var o=u3(t,r,PI(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},SL="8pt 10pt 12pt 14pt 18pt 24pt 36pt",xL={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},TL={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},EL=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},kL=function(t,r){return/[0-9.]+px$/.test(t)?EL(parseInt(t,10)*72/96,r||0)+"pt":rn(TL,t).getOr(t)},AL=function(t){return rn(xL,t).getOr("")},FI=function(t){var r=function(){var S=A.none(),T=w.data,D=t.queryCommandValue("FontSize");if(D)for(var _=function(H){var j=kL(D,H),ee=AL(j);S=Ct(T,function(ce){return ce.format===D||ce.format===j||ce.format===ee})},z=3;S.isNone()&&z>=0;z--)_(z);return{matchOpt:S,size:D}},o=function(S){return function(T){return T.exists(function(D){return D.format===S})}},s=function(){var S=r().matchOpt;return S},v=ve(A.none),m=function(S){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,S.format)})}},p=function(S){var T=r(),D=T.matchOpt,_=T.size,z=D.fold(ve(_),function(H){return H.title});bn(S,Op,{text:z})},w=MF(t,"fontsize_formats",SL,s3.Space);return{tooltip:"Font sizes",text:A.some("12pt"),icon:A.none(),isSelectedFor:o,getPreviewFor:v,getCurrentValue:s,onAction:m,updateText:p,dataset:w,shouldHide:!1,isInvalid:Bt}},OL=function(t,r){return gO(t,r,FI(t))},DL=function(t,r){var o=u3(t,r,FI(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},II=function(t,r){var o=r(),s=ut(o,function(v){return v.format});return A.from(t.formatter.closest(s)).bind(function(v){return Ct(o,function(m){return m.format===v})}).orThunk(function(){return Ii(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},RL="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",zI=function(t){var r="Paragraph",o=function(p){return function(){return t.formatter.match(p)}},s=function(p){return function(){var w=t.formatter.get(p);return A.some({tag:w.length>0&&(w[0].inline||w[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(p))})}},v=function(p){var w=II(t,function(){return m.data}),S=w.fold(ve(r),function(T){return T.title});bn(p,Op,{text:S})},m=MF(t,"block_formats",RL,s3.SemiColon);return{tooltip:"Blocks",text:A.some(r),icon:A.none(),isSelectedFor:o,getCurrentValue:A.none,getPreviewFor:s,onAction:BI(t),updateText:v,dataset:m,shouldHide:!1,isInvalid:function(p){return!t.formatter.canApply(p.format)}}},_L=function(t,r){return gO(t,r,zI(t))},BL=function(t,r){var o=u3(t,r,zI(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},$I=function(t,r){var o="Paragraph",s=function(p){return function(){return t.formatter.match(p)}},v=function(p){return function(){var w=t.formatter.get(p);return w!==void 0?A.some({tag:w.length>0&&(w[0].inline||w[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(p))}):A.none()}},m=function(p){var w=function(_){var z=_.items;return z!==void 0&&z.length>0?Qn(z,w):[{title:_.title,format:_.format}]},S=Qn(jg(t),w),T=II(t,ve(S)),D=T.fold(ve(o),function(_){return _.title});bn(p,Op,{text:D})};return{tooltip:"Formats",text:A.some(o),icon:A.none(),isSelectedFor:s,getCurrentValue:A.none,getPreviewFor:v,onAction:BI(t),updateText:m,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(p){return!t.formatter.canApply(p.format)},dataset:r}},ML=function(t,r){var o=oe({type:"advanced"},r.styleselect);return gO(t,r,$I(t,o))},NL=function(t,r){var o=oe({type:"advanced"},r.styleselect),s=u3(t,r,$I(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},PL=function(t,r){var o=function(s,v){t.updateState.each(function(m){var p=m(s,v);r.set(p)}),t.renderComponents.each(function(m){var p=m(v,r.get()),w=ut(p,s.getSystem().build);e2(s,w)})};return ma([Xe(tc(),function(s,v){var m=v;if(!m.universal){var p=t.channel;In(m.channels,p)&&o(s,m.data)}}),zn(function(s,v){t.initialData.each(function(m){o(s,m)})})])},FL=Object.freeze({__proto__:null,events:PL}),IL=function(t,r,o){return o},zL=Object.freeze({__proto__:null,getState:IL}),$L=[Ue("channel"),Fr("renderComponents"),Fr("updateState"),Fr("initialData")],LL=function(){var t=pn(A.none()),r=function(){return t.set(A.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},HL=Object.freeze({__proto__:null,init:LL}),Cl=jo({fields:$L,name:"reflecting",active:FL,apis:zL,state:HL}),VL=ve([Ue("toggleClass"),Ue("fetch"),wu("onExecute"),me("getHotspot",A.some),me("getAnchorOverrides",ve({})),Rv(),wu("onItemExecute"),Fr("lazySink"),Ue("dom"),Ir("onOpen"),Go("splitDropdownBehaviours",[To,nn,On]),me("matchWidth",!1),me("useMinWidth",!1),me("eventOrder",{}),Fr("role")].concat(X4())),UL=Ri({factory:vs,schema:[Ue("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:wt([On.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(Fs)},buttonBehaviours:wt([dr.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),WL=Ri({factory:vs,schema:[Ue("dom")],name:"button",defaults:function(){return{buttonBehaviours:wt([On.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),jL=ve([UL,WL,ic({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Ue("text")],name:"aria-descriptor"}),Vs({schema:[Cd()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,r,o)})}}}}),NR()]),GL=function(t,r,o,s){var v,m=function(_){sr.getCurrent(_).each(function(z){Hr.highlightFirst(z),nn.focusIn(z)})},p=function(_){var z=m;mb(t,Lt,_,s,z,Xf.HighlightFirst).get(Ye)},w=function(_){return p(_),A.some(!0)},S=function(_){var z=ef(_,t,"button");return Fs(z),A.some(!0)},T=oe(oe({},ma([zn(function(_,z){var H=ua(_,t,"aria-descriptor");H.each(function(j){var ee=qt("aria");Vn(j.element,"id",ee),Vn(_.element,"aria-describedby",ee)})})])),W0(A.some(p))),D={repositionMenus:function(_){dr.isOn(_)&&FR(_)}};return{uid:t.uid,dom:t.dom,components:r,apis:D,eventOrder:oe(oe({},t.eventOrder),(v={},v[Ns()]=["disabling","toggling","alloy.base.behaviour"],v)),events:T,behaviours:ui(t.splitDropdownBehaviours,[To.config({others:{sandbox:function(_){var z=ef(_,t,"arrow"),H={onOpen:function(){dr.on(z),dr.on(_)},onClose:function(){dr.off(z),dr.off(_)}};return K4(t,_,H)}}}),nn.config({mode:"special",onSpace:S,onEnter:S,onDown:w}),On.config({}),dr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},hB=Eu({name:"SplitDropdown",configFields:VL(),partFields:jL(),factory:GL,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),qL=function(t){return{isDisabled:function(){return mn.isDisabled(t)},setDisabled:function(r){return mn.set(t,r)}}},KL=function(t){return{setActive:function(r){dr.set(t,r)},isActive:function(){return dr.isOn(t)},isDisabled:function(){return mn.isDisabled(t)},setDisabled:function(r){return mn.set(t,r)}}},LI=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},HI=qt("focus-button"),PF=function(t,r,o,s,v,m){var p;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:LI(o,m)},components:ob([t.map(function(w){return FT(w,m.icons)}),r.map(function(w){return MA(w,"tox-tbtn",m)})]),eventOrder:(p={},p[kc()]=["focusing","alloy.base.behaviour","common-button-display-events"],p),buttonBehaviours:wt([bl.toolbarButton(m.isDisabled),Jo(),$n("common-button-display-events",[Xe(kc(),function(w,S){S.event.prevent(),_r(w,HI)})])].concat(s.map(function(w){return Cl.config({channel:w,initialData:{icon:t,text:r},renderComponents:function(S,T){return ob([S.icon.map(function(D){return FT(D,m.icons)}),S.text.map(function(D){return MA(D,"tox-tbtn",m)})])}})}).toArray()).concat(v.getOr([])))}},XL=function(t,r,o,s){var v=r.shared;return IC.sketch({lazySink:v.getSink,fetch:function(){return su.nu(function(m){m(ut(o(t.items),vB))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:PF(t.icon,t.text,t.tooltip,A.none(),A.none(),v.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},VI=function(t,r,o){var s=pn(Ye),v=PF(t.icon,t.text,t.tooltip,A.none(),A.none(),o);return vs.sketch({dom:v.dom,components:v.components,eventOrder:t5,buttonBehaviours:wt([$n("toolbar-button-events",[wP({onAction:t.onAction,getApi:r.getApi}),ab(r,s),lC(r,s)]),bl.toolbarButton(function(){return t.disabled||o.isDisabled()}),Jo()].concat(r.toolbarButtonBehaviours))})},YL=function(t,r){return UI(t,r,[])},UI=function(t,r,o){return VI(t,{toolbarButtonBehaviours:[].concat(o.length>0?[$n("toolbarButtonWith",o)]:[]),getApi:qL,onSetup:t.onSetup},r)},ZL=function(t,r){return WI(t,r,[])},WI=function(t,r,o){return Fe(VI(t,{toolbarButtonBehaviours:[An.config({}),dr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[$n("toolbarToggleButtonWith",o)]:[]),getApi:KL,onSetup:t.onSetup},r))},JL=function(t,r,o){return function(s){return su.nu(function(v){return r.fetch(v)}).map(function(v){return A.from(oR(Fe(lb(qt("menu-value"),v,function(m){r.onItemAction(t(s),m)},r.columns,r.presets,qf.CLOSE_ON_EXECUTE,r.select.getOr(Bt),o),{movement:tT(r.columns,r.presets),menuBehaviours:tb.unnamedEvents(r.columns!=="auto"?[]:[zn(function(m,p){h4(m,4,u4(r.presets)).each(function(w){var S=w.numRows,T=w.numColumns;nn.setGridSize(m,S,T)})})])})))})}},QL=function(t,r){var o,s=qt("channel-update-split-dropdown-display"),v=function(w){return{isDisabled:function(){return mn.isDisabled(w)},setDisabled:function(S){return mn.set(w,S)},setIconFill:function(S,T){Vo(w.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(D){Vn(D,"fill",T)})},setIconStroke:function(S,T){Vo(w.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(D){Vn(D,"stroke",T)})},setActive:function(S){Vn(w.element,"aria-pressed",S),Vo(w.element,"span").each(function(T){w.getSystem().getByDom(T).each(function(D){return dr.set(D,S)})})},isActive:function(){return Vo(w.element,"span").exists(function(S){return w.getSystem().getByDom(S).exists(dr.isOn)})}}},m=pn(Ye),p={getApi:v,onSetup:t.onSetup};return hB.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:oe({"aria-pressed":!1},LI(t.tooltip,r.providers))},onExecute:function(w){t.onAction(v(w))},onItemExecute:function(w,S,T){},splitDropdownBehaviours:wt([bl.splitButton(r.providers.isDisabled),Jo(),$n("split-dropdown-events",[Xe(HI,On.focus),ab(p,m),lC(p,m)]),hb.config({})]),eventOrder:(o={},o[ss()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:JL(v,t,r.providers),parts:{menu:Nx(!1,t.columns,t.presets)},components:[hB.parts.button(PF(t.icon,t.text,A.none(),A.some(s),A.some([dr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),hB.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:OO("chevron-down",r.providers.icons)},buttonBehaviours:wt([bl.splitButton(r.providers.isDisabled),Jo(),Xk()])}),hB.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},eH=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],hO=function(t,r){return function(o,s,v){var m=t(o).mapError(function(p){return lv(p)}).getOrDie();return r(m,s,v)}},c3={button:hO(qO,function(t,r){return YL(t,r.backstage.shared.providers)}),togglebutton:hO(t4,function(t,r){return ZL(t,r.backstage.shared.providers)}),menubutton:hO(Se,function(t,r){return $T(t,"tox-tbtn",r.backstage,A.none())}),splitbutton:hO(ot,function(t,r){return QL(t,r.backstage.shared)}),grouptoolbarbutton:hO(ye,function(t,r,o){var s,v=o.ui.registry.getAll().buttons,m=function(w){return pB(o,{buttons:v,toolbar:w,allowToolbarGroups:!1},r,A.none())},p=(s={},s[W1]=r.backstage.shared.header.isPositionedAtTop()?Gl.TopToBottom:Gl.BottomToTop,s);switch(cC(o)){case Fc.floating:return XL(t,r.backstage,m,p);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return ML(t,r.backstage)},fontsizeSelectButton:function(t,r){return OL(t,r.backstage)},fontSelectButton:function(t,r){return CL(t,r.backstage)},formatButton:function(t,r){return _L(t,r.backstage)},alignMenuButton:function(t,r){return gL(t,r.backstage)}},tH=function(t,r,o){return rn(c3,t.type).fold(function(){return console.error("skipping button defined by",t),A.none()},function(s){return A.some(s(t,r,o))})},jI={styleselect:c3.styleSelectButton,fontsizeselect:c3.fontsizeSelectButton,fontselect:c3.fontSelectButton,formatselect:c3.formatButton,align:c3.alignMenuButton},nH=function(t){var r=ut(eH,function(o){var s=We(o.items,function(v){return wr(t,v)||wr(jI,v)});return{name:o.name,items:s}});return We(r,function(o){return o.items.length>0})},rH=function(t){var r=t.split("|");return ut(r,function(o){return{items:o.trim().split(" ")}})},aH=function(t){return Mt(t,function(r){return wr(r,"name")&&wr(r,"items")})},oH=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?nH(o):Fn(r)?rH(r):aH(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},iH=function(t,r,o,s,v,m){return rn(r,o.toLowerCase()).orThunk(function(){return m.bind(function(p){return na(p,function(w){return rn(r,w+o.toLowerCase())})})}).fold(function(){return rn(jI,o.toLowerCase()).map(function(p){return p(t,v)}).orThunk(function(){return A.none()})},function(p){return p.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),A.none()):tH(p,v,t)})},pB=function(t,r,o,s){var v=oH(r),m=ut(v,function(p){var w=Qn(p.items,function(S){return S.trim().length===0?[]:iH(t,r.buttons,S,r.allowToolbarGroups,o,s).toArray()});return{title:A.from(t.translate(p.name)),items:w}});return We(m,function(p){return p.items.length>0})},GI=function(t,r,o,s){var v=r.outerContainer,m=o.toolbar,p=o.buttons;if(Mt(m,Fn)){var w=m.map(function(S){var T={toolbar:S,buttons:p,allowToolbarGroups:o.allowToolbarGroups};return pB(t,T,{backstage:s},A.none())});Mo.setToolbars(v,w)}else Mo.setToolbar(v,pB(t,o,{backstage:s},A.none()))},qI=hn(),uH=qI.os.isiOS()&&qI.os.version.major<=12,sH=function(t,r){var o=t.dom,s=t.getWin(),v=t.getDoc().documentElement,m=pn(fa(s.innerWidth,s.innerHeight)),p=pn(fa(v.offsetWidth,v.offsetHeight)),w=function(){var z=m.get();(z.left!==s.innerWidth||z.top!==s.innerHeight)&&(m.set(fa(s.innerWidth,s.innerHeight)),D4(t))},S=function(){var z=t.getDoc().documentElement,H=p.get();(H.left!==z.offsetWidth||H.top!==z.offsetHeight)&&(p.set(fa(z.offsetWidth,z.offsetHeight)),D4(t))},T=function(z){return L8(t,z)};o.bind(s,"resize",w),o.bind(s,"scroll",T);var D=L1(ne.fromDom(t.getBody()),"load",S),_=r.uiMothership.element;t.on("hide",function(){xn(_,"display","none")}),t.on("show",function(){Pr(_,"display")}),t.on("NodeChange",S),t.on("remove",function(){D.unbind(),o.unbind(s,"resize",w),o.unbind(s,"scroll",T),s=null})},cH=function(t,r,o,s,v){var m=pn(0),p=r.outerContainer;cL(t);var w=ne.fromDom(v.targetNode),S=Fo(qo(w));_c(w,r.mothership),$f(S,r.uiMothership),t.on("PostRender",function(){GI(t,r,o,s),m.set(t.getWin().innerWidth),Mo.setMenubar(p,OI(t,o)),Mo.setSidebar(p,o.sidebar),sH(t,r)});var T=Mo.getSocket(p).getOrDie("Could not find expected socket element");if(uH){ns(T.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var D=rM(function(){t.fire("ScrollContent")},20),_=ho(T.element,"scroll",D.throttle);t.on("remove",_.unbind)}xD(t,r),t.addCommand("ToggleSidebar",function(ee,ce){Mo.toggleSidebar(p,ce),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return Mo.whichSidebar(p)});var z=cC(t),H=function(){Mo.refreshToolbar(r.outerContainer)};(z===Fc.sliding||z===Fc.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var ee=t.getWin().innerWidth;ee!==m.get()&&(H(),m.set(ee))});var j={enable:function(){rb(r,!1)},disable:function(){rb(r,!0)},isDisabled:function(){return mn.isDisabled(p)}};return{iframeContainer:T.element.dom,editorContainer:p.element.dom,api:j}},lH=Object.freeze({__proto__:null,render:cH}),FF=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?A.some(parseInt(""+t,10)):A.none()},IF=function(t){return er(t)?t+"px":t},bB=function(t,r,o){var s=r.filter(function(m){return t<m}),v=o.filter(function(m){return t>m});return s.or(v).getOr(t)},fH=function(t){var r=lD(t),o=dD(t),s=mD(t);return FF(r).map(function(v){return bB(v,o,s)})},vH=function(t){var r=fH(t);return r.getOr(lD(t))},KI=function(t){var r=fD(t),o=vD(t),s=$x(t);return FF(r).map(function(v){return bB(v,o,s)})},dH=function(t){var r=KI(t);return r.getOr(fD(t))},mH=function(t,r,o,s,v){var m=o.uiMothership,p=o.outerContainer,w=sC.DOM,S=Hx(t),T=Vx(t),D=$x(t).or(KI(t)),_=s.shared.header,z=_.isPositionedAtTop,H=cC(t),j=H===Fc.sliding||H===Fc.floating,ee=pn(!1),ce=function(){return ee.get()&&!t.removed},Y=function(Je){return j?Je.fold(ve(0),function($e){return $e.components().length>1?Oo($e.components()[1].element):0}):0},de=function(Je){switch(hD(t)){case xp.auto:var $e=Mo.getToolbar(p),pt=Y($e),Kt=Oo(Je.element)-pt,Ge=So(r),Wt=Ge.y>Kt;if(Wt)return"top";var Qt=ze(r),lr=Math.max(Qt.dom.scrollHeight,Oo(Qt)),Kr=Ge.bottom<lr-Kt;if(Kr)return"bottom";var Da=Ci(),ao=Da.bottom<Ge.bottom-Kt;return ao?"bottom":"top";case xp.bottom:return"bottom";case xp.top:default:return"top"}},Re=function(Je){var $e=v.get();e.setModes($e,[Je]),_.setDockingMode(Je);var pt=z()?Gl.TopToBottom:Gl.BottomToTop;Vn($e.element,W1,pt)},De=function(){var Je=D.getOrThunk(function(){var $e=FF(Ja(ni(),"margin-left")).getOr(0);return Li(ni())-du(r).left+$e});xn(v.get().element,"max-width",Je+"px")},fe=function(){var Je=Mo.getToolbar(p),$e=Y(Je),pt=So(r),Kt=z()?Math.max(pt.y-Oo(v.get().element)+$e,0):pt.bottom;ns(p.element,{position:"absolute",top:Math.round(Kt)+"px",left:Math.round(pt.x)+"px"})},Te=function(){m.broadcastOn([fg()],{})},Le=function(Je){if(Je===void 0&&(Je=!1),!!ce()){if(S||De(),j&&Mo.refreshToolbar(p),S||fe(),T){var $e=v.get();Je?e.reset($e):e.refresh($e)}Te()}},Ot=function(Je){if(Je===void 0&&(Je=!0),!(S||!T||!ce())){var $e=_.getDockingMode(),pt=de(v.get());pt!==$e&&(Re(pt),Je&&Le(!0))}},Ke=function(){ee.set(!0),xn(p.element,"display","flex"),w.addClass(t.getBody(),"mce-edit-focus"),Pr(m.element,"display"),Ot(!1),Le()},Dt=function(){ee.set(!1),o.outerContainer&&(xn(p.element,"display","none"),w.removeClass(t.getBody(),"mce-edit-focus")),xn(m.element,"display","none")};return{isVisible:ce,isPositionedAtTop:z,show:Ke,hide:Dt,update:Le,updateMode:Ot,repositionPopups:Te}},XI=function(t,r){var o=So(t);return{pos:r?o.y:o.bottom,bounds:o}},gH=function(t,r,o,s){var v=pn(XI(r,o.isPositionedAtTop())),m=function(w){var S=XI(r,o.isPositionedAtTop()),T=S.pos,D=S.bounds,_=v.get(),z=_.pos,H=_.bounds,j=D.height!==H.height||D.width!==H.width;v.set({pos:T,bounds:D}),j&&D4(t,w),o.isVisible()&&(z!==T?o.update(!0):j&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(w){Wf.requestAnimationFrame(function(){return m(w)})}),t.on("ScrollWindow",function(){return o.updateMode()});var p=Gm();p.set(L1(ne.fromDom(t.getBody()),"load",m)),t.on("remove",function(){p.clear()})},hH=function(t,r,o,s,v){var m=r.mothership,p=r.uiMothership,w=r.outerContainer,S=pn(null),T=ne.fromDom(v.targetNode),D=mH(t,T,r,s,S),_=s8(t);lL(t);var z=function(){if(S.get()){D.show();return}S.set(Mo.getHeader(w).getOrDie());var j=yD(t);$f(j,m),$f(j,p),GI(t,r,o,s),Mo.setMenubar(w,OI(t,o)),D.show(),gH(t,T,D,_),t.nodeChanged()};t.on("show",z),t.on("hide",D.hide),_||(t.on("focus",z),t.on("blur",D.hide)),t.on("init",function(){(t.hasFocus()||_)&&z()}),xD(t,r);var H={show:function(){D.show()},hide:function(){D.hide()},enable:function(){rb(r,!1)},disable:function(){rb(r,!0)},isDisabled:function(){return mn.isDisabled(w)}};return{editorContainer:w.element.dom,api:H}},pH=Object.freeze({__proto__:null,render:hH}),bH="contexttoolbar-show",YI="contexttoolbar-hide",yH=function(t){return{hide:function(){return _r(t,hh())},getValue:function(){return At.getValue(t)}}},ZI=function(t,r){return Xe(e5,function(o,s){var v=t.get(o),m=yH(v);r.onAction(m,s.event.buttonApi)})},CH=function(t,r,o){var s=r.original;s.primary;var v=L(s,["primary"]),m=xc(qO(oe(oe({},v),{type:"button",onAction:Ye})));return UI(m,o.backstage.shared.providers,[ZI(t,r)])},wH=function(t,r,o){var s=r.original;s.primary;var v=L(s,["primary"]),m=xc(t4(oe(oe({},v),{type:"togglebutton",onAction:Ye})));return WI(m,o.backstage.shared.providers,[ZI(t,r)])},SH=function(t,r,o){var s={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?wH(t,r,s):CH(t,r,s)},xH=function(t,r,o){var s=ut(r,function(p){return Gr(SH(t,p,o))}),v=function(){return ut(s,function(p){return p.asSpec()})},m=function(p){return na(r,function(w,S){return w.primary?A.from(s[S]).bind(function(T){return T.getOpt(p)}).filter(Sn(mn.isDisabled)):A.none()})};return{asSpecs:v,findPrimary:m}},JI=function(t,r){var o=t.label.fold(function(){return{}},function(m){return{"aria-label":m}}),s=Gr(vb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:wt([nn.config({mode:"special",onEnter:function(m){return v.findPrimary(m).map(function(p){return Fs(p),!0})},onLeft:function(m,p){return p.cut(),A.none()},onRight:function(m,p){return p.cut(),A.none()}})])})),v=xH(s,t.commands,r);return[{title:A.none(),items:[s.asSpec()]},{title:A.none(),items:v.asSpecs()}]},TH=function(t,r,o){return dB({type:t,uid:qt("context-toolbar"),initGroups:JI(r,o),onEscape:A.none,cyclicKeying:!0,providers:o})},EH={renderContextForm:TH,buildInitGroups:JI},QI=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},kH=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=Pn(ne.fromDom(t.startContainer),t.startOffset).element,s=Ya(o)?oo(o):A.some(o);return s.filter(hr).map(function(v){return v.dom.getBoundingClientRect()}).getOr(r)}else return r},zF=function(t){var r=t.selection.getRng(),o=kH(r);if(t.inline){var s=as();return $o(s.left+o.left,s.top+o.top,o.width,o.height)}else{var v=Bl(ne.fromDom(t.getBody()));return $o(v.x+o.left,v.y+o.top,o.width,o.height)}},AH=function(t,r){return r.filter(io).map(Bl).getOrThunk(function(){return zF(t)})},OH=function(t,r,o){var s=Math.max(t.x+o,r.x),v=Math.min(t.right-o,r.right);return{x:s,width:v-s}},DH=function(t,r,o,s,v,m){var p=ne.fromDom(t.getContainer()),w=Vo(p,".tox-editor-header").getOr(p),S=So(w),T=S.y>=r.bottom,D=s&&!T;if(t.inline&&D)return{y:Math.max(S.bottom+m,o.y),bottom:o.bottom};if(t.inline&&!D)return{y:o.y,bottom:Math.min(S.y-m,o.bottom)};var _=v==="line"?So(p):r;return D?{y:Math.max(S.bottom+m,o.y),bottom:Math.min(_.bottom-m,o.bottom)}:{y:Math.max(_.y+m,o.y),bottom:Math.min(S.y-m,o.bottom)}},ez=function(t,r,o,s){s===void 0&&(s=0);var v=xf(window),m=So(ne.fromDom(t.getContentAreaContainer())),p=Zo(t)||y4(t)||Lx(t),w=OH(m,v,s),S=w.x,T=w.width;if(t.inline&&!p)return $o(S,v.y,T,v.height);var D=r.header.isPositionedAtTop(),_=DH(t,m,v,D,o,s),z=_.y,H=_.bottom;return $o(S,z,T,H-z)},yB=12,tz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},nz={maxHeightFunction:Km(),maxWidthFunction:OF()},RH=function(t,r){var o=t.selection.getRng(),s=Pn(ne.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&oa(s.element,r)},_H=function(t,r,o){var s=wo(t,"position");xn(t,"position",r);var v=o(t);return s.each(function(m){return xn(t,"position",m)}),v},rz=function(t){return t==="node"},BH=function(t,r,o,s,v){var m=zF(t),p=s.lastElement().exists(function(T){return oa(o,T)});if(RH(t,o))return p?Rk:pl;if(p)return _H(r,s.getMode(),function(){var T=QI(m,So(r));return T&&!s.isReposition()?_B:Rk});var w=s.getMode()==="fixed"?v.y+as().top:v.y,S=Oo(r)+yB;return w+S<=m.y?pl:Rg},MH=function(t,r,o,s){var v=function(S){return function(T,D,_,z,H){var j=BH(t,z,S,o,H),ee=oe(oe({},T),{y:H.y,height:H.height});return oe(oe({},j(ee,D,_,z,H)),{alwaysFit:!0})}},m=function(S){return rz(s)?[v(S)]:[]},p={onLtr:function(S){return[Vu,_o,Su,qi,xu,Yo].concat(m(S))},onRtl:function(S){return[Vu,_o,xu,Yo,Su,qi].concat(m(S))}},w={onLtr:function(S){return[_o,qi,Yo,Su,xu,Vu].concat(m(S))},onRtl:function(S){return[_o,Yo,qi,xu,Su,Vu].concat(m(S))}};return r?w:p},NH=function(t,r,o,s){return r==="line"?{bubble:Od(yB,0,tz),layouts:{onLtr:function(){return[D1]},onRtl:function(){return[R1]}},overrides:nz}:{bubble:Od(0,yB,tz,1/yB),layouts:MH(t,o,s,r),overrides:nz}},$F=function(t,r){var o=We(r,function(p){return p.predicate(t.dom)}),s=st(o,function(p){return p.type==="contexttoolbar"}),v=s.pass,m=s.fail;return{contextToolbars:v,contextForms:m}},PH=function(t){if(t.length<=1)return t;var r=function(w){return Jr(t,function(S){return S.position===w})},o=function(w){return We(t,function(S){return S.position===w})},s=r("selection"),v=r("node");if(s||v)if(v&&s){var m=o("node"),p=ut(o("selection"),function(w){return oe(oe({},w),{position:"node"})});return m.concat(p)}else return o(s?"selection":"node");else return o("line")},FH=function(t){if(t.length<=1)return t;var r=function(s){return Ct(t,function(v){return v.position===s})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return We(t,function(v){return v.position===s})})},IH=function(t,r,o){var s=$F(t,r);if(s.contextForms.length>0)return A.some({elem:t,toolbars:[s.contextForms[0]]});var v=$F(t,o);if(v.contextForms.length>0)return A.some({elem:t,toolbars:[v.contextForms[0]]});if(s.contextToolbars.length>0||v.contextToolbars.length>0){var m=PH(s.contextToolbars.concat(v.contextToolbars));return A.some({elem:t,toolbars:m})}else return A.none()},zH=function(t,r,o){return t(r)?A.none():gh(r,function(s){if(hr(s)){var v=$F(s,o.inNodeScope),m=v.contextToolbars,p=v.contextForms,w=p.length>0?p:FH(m);return w.length>0?A.some({elem:s,toolbars:w}):A.none()}else return A.none()},t)},$H=function(t,r){var o=ne.fromDom(r.getBody()),s=function(p){return oa(p,o)},v=function(p){return!s(p)&&!ks(o,p)},m=ne.fromDom(r.selection.getNode());return v(m)?A.none():IH(m,t.inNodeScope,t.inEditorScope).orThunk(function(){return zH(s,m,t)})},LH=function(t,r){var o={},s=[],v=[],m={},p={},w=function(D,_){var z=xc(pM(_));o[D]=z,z.launch.map(function(H){m["form:"+D]=oe(oe({},_.launch),{type:H.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(z)}})}),z.scope==="editor"?v.push(z):s.push(z),p[D]=z},S=function(D,_){yM(_).each(function(z){_.scope==="editor"?v.push(z):s.push(z),p[D]=z})},T=la(t);return Ut(T,function(D){var _=t[D];_.type==="contextform"?w(D,_):_.type==="contexttoolbar"&&S(D,_)}),{forms:o,inNodeScope:s,inEditorScope:v,lookupTable:p,formNavigators:m}},az=qt("forward-slide"),oz=qt("backward-slide"),LF=qt("change-slide-event"),HF="tox-pop--resizing",HH=function(t){var r=pn([]);return ea.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),ea.getContent(o).each(function(s){Pr(s.element,"visibility")}),Ro(o.element,HF),Pr(o.element,"width")},inlineBehaviours:wt([$n("context-toolbar-events",[xo(Dm(),function(o,s){s.event.raw.propertyName==="width"&&(Ro(o.element,HF),Pr(o.element,"width"))}),Xe(LF,function(o,s){var v=o.element;Pr(v,"width");var m=Li(v);ea.setContent(o,s.event.contents),Ho(v,HF);var p=Li(v);xn(v,"width",m+"px"),ea.getContent(o).each(function(w){s.event.focus.bind(function(S){return sl(S),cl(v)}).orThunk(function(){return nn.focusIn(w),Tu(qo(v))})}),Wf.setTimeout(function(){xn(o.element,"width",p+"px")},0)}),Xe(az,function(o,s){ea.getContent(o).each(function(v){r.set(r.get().concat([{bar:v,focus:Tu(qo(o.element))}]))}),bn(o,LF,{contents:s.event.forwardContents,focus:A.none()})}),Xe(oz,function(o,s){Ka(r.get()).each(function(v){r.set(r.get().slice(0,r.get().length-1)),bn(o,LF,{contents:Hs(v.bar),focus:v.focus})})})]),nn.config({mode:"special",onEscape:function(o){return Ka(r.get()).fold(function(){return t.onEscape()},function(s){return _r(o,oz),A.some(!0)})}})]),lazySink:function(){return Un.value(t.sink)}})},VF="tox-pop--transition",VH=function(t,r,o,s){var v=s.backstage,m=v.shared,p=hn().deviceType.isTouch,w=co(),S=co(),T=co(),D=Ma(HH({sink:o,onEscape:function(){return t.focus(),A.some(!0)}})),_=function(){var Ke=T.get().getOr("node"),Dt=rz(Ke)?1:0;return ez(t,m,Ke,Dt)},z=function(){return!t.removed&&!(p()&&v.isContextMenuOpen())},H=function(Ke){return gi(Zi(Ke,w.get(),oa),!0)},j=function(){if(z()){var Ke=_(),Dt=gi(T.get(),"node")?AH(t,w.get()):zF(t);return Ke.height<=0||!QI(Dt,Ke)}else return!0},ee=function(){w.clear(),S.clear(),T.clear(),ea.hide(D)},ce=function(){if(ea.isOpen(D)){var Ke=D.element;Pr(Ke,"display"),j()?xn(Ke,"display","none"):(S.set(0),ea.reposition(D))}},Y=function(Ke){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ke],behaviours:wt([nn.config({mode:"acyclic"}),$n("pop-dialog-wrap-events",[zn(function(Dt){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return nn.focusIn(Dt)})}),Is(function(Dt){t.shortcuts.remove("ctrl+F9")})])])}},de=Po(function(){return LH(r,function(Ke){var Dt=fe([Ke]);bn(D,az,{forwardContents:Y(Dt)})})}),Re=function(Ke,Dt){return pB(t,{buttons:Ke,toolbar:Dt.items,allowToolbarGroups:!1},s,A.some(["form:"]))},De=function(Ke,Dt){return EH.buildInitGroups(Ke,Dt)},fe=function(Ke){var Dt=t.ui.registry.getAll().buttons,Je=de(),$e=oe(oe({},Dt),Je.formNavigators),pt=cC(t)===Fc.scrolling?Fc.scrolling:Fc.default,Kt=xt(ut(Ke,function(Ge){return Ge.type==="contexttoolbar"?Re($e,Ge):De(Ge,m.providers)}));return dB({type:pt,uid:qt("context-toolbar"),initGroups:Kt,onEscape:A.none,cyclicKeying:!0,providers:m.providers})},Te=function(Ke,Dt){var Je=Ke==="node"?m.anchors.node(Dt):m.anchors.cursor(),$e=NH(t,Ke,p(),{lastElement:w.get,isReposition:function(){return gi(S.get(),0)},getMode:function(){return lo.getMode(o)}});return Fe(Je,$e)},Le=function(Ke,Dt){if(Ot.cancel(),!!z()){var Je=fe(Ke),$e=Ke[0].position,pt=Te($e,Dt);T.set($e),S.set(1);var Kt=D.element;Pr(Kt,"display"),H(Dt)||(Ro(Kt,VF),lo.reset(o,D)),ea.showWithinBounds(D,Y(Je),{anchor:pt,transition:{classes:[VF],mode:"placement"}},function(){return A.some(_())}),Dt.fold(w.clear,w.set),j()&&xn(Kt,"display","none")}},Ot=kx(function(){if(!(!t.hasFocus()||t.removed))if(yu(D.element,VF))Ot.throttle();else{var Ke=de();$H(Ke,t).fold(ee,function(Dt){Le(Dt.toolbars,A.some(Dt.elem))})}},17);t.on("init",function(){t.on("remove",ee),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ce),t.on("click keyup focus SetContent",Ot.throttle),t.on(YI,ee),t.on(bH,function(Ke){var Dt=de();rn(Dt.lookupTable,Ke.toolbarKey).each(function(Je){Le([Je],Ii(Ke.target!==t,Ke.target)),ea.getContent(D).each(nn.focusIn)})}),t.on("focusout",function(Ke){Wf.setEditorTimeout(t,function(){cl(o.element).isNone()&&cl(D.element).isNone()&&ee()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&ee()}),t.on("AfterProgressState",function(Ke){Ke.state?ee():t.hasFocus()&&Ot.throttle()}),t.on("NodeChange",function(Ke){cl(D.element).fold(Ot.throttle,Ye)})})},UH=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Ut(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:rv(t,o.cmd),onSetup:mB(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:rv(t,"JustifyNone")})},WH={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},jH=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,s="\\.",v=function(w){return"(?:"+w+")?"},m=["Infinity",t+s+v(t)+v(o),s+t+v(o),t+v(o)].join("|"),p="[+-]?(?:"+m+")";return new RegExp("^("+p+")(.*)$")}(),GH=function(t,r){return Jr(r,function(o){return Jr(WH[o],function(s){return t===s})})},qH=function(t,r){var o=A.from(jH.exec(t));return o.bind(function(s){var v=Number(s[1]),m=s[2];return GH(m,r)?A.some({value:v,unit:m}):A.none()})},KH=function(t,r){return qH(t,r).map(function(o){var s=o.value,v=o.unit;return s+v})},iz=function(t,r){var o=function(){var s=r.getOptions(t),v=r.getCurrent(t).map(r.hash),m=co();return ut(s,function(p){return{type:"togglemenuitem",text:r.display(p),onSetup:function(w){var S=function(D){D&&(m.on(function(_){return _.setActive(!1)}),m.set(w)),w.setActive(D)};S(gi(v,r.hash(p)));var T=r.watcher(t,p,S);return function(){m.clear(),T()}},onAction:function(){return r.setCurrent(t,p)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},XH={name:"lineheight",text:"Line height",icon:"line-height",getOptions:r8,hash:function(t){return KH(t,["fixed","relative","empty"]).getOr(t)},display:Lt,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return A.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},YH=function(t){var r=A.from(a8(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:ve(o),hash:function(s){return wa(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,v,m){return s.formatter.formatChanged("lang",m,!1,{value:v.code,customValue:v.customCode}).unbind},getCurrent:function(s){var v=ne.fromDom(s.selection.getNode());return Em(v,function(m){return A.some(m).filter(hr).bind(function(p){var w=Ua(p,"lang");return w.map(function(S){var T=Ua(p,"data-mce-lang").getOrUndefined();return{code:S,customCode:T,title:""}})})})},setCurrent:function(s,v){return s.execCommand("Lang",!1,v)},onToolbarSetup:function(s){var v=Gm();return s.setActive(t.formatter.match("lang",{},void 0,!0)),v.set(t.formatter.formatChanged("lang",s.setActive,!0)),v.clear}}})},ZH=function(t){iz(t,XH),YH(t).each(function(r){return iz(t,r)})},JH=function(t,r){hL(t,r),wL(t,r),NL(t,r),BL(t,r),DL(t,r)},QH=function(t){return gB(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},e9=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:QH(t),onAction:rv(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:rv(t,"indent")})},t9=function(t){e9(t)},UF=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},n9=function(t){Ug.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,v){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:mB(t,s.name),onAction:UF(t,s.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:mB(t,o),onAction:UF(t,o)})}},r9=function(t){Ug.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:rv(t,r.action)})})},a9=function(t){Ug.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:rv(t,r.action),onSetup:mB(t,r.name)})})},o9=function(t){n9(t),r9(t),a9(t)},i9=function(t){Ug.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:rv(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:UF(t,"code")})},u9=function(t){o9(t),i9(t)},CB=function(t,r){return gB(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},s9=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:CB(t,"hasUndo"),onAction:rv(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:CB(t,"hasRedo"),onAction:rv(t,"redo")})},c9=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:CB(t,"hasUndo"),onAction:rv(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:CB(t,"hasRedo"),onAction:rv(t,"redo")})},l9=function(t){s9(t),c9(t)},f9=function(t){return gB(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},v9=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:f9(t),onAction:rv(t,"mceToggleVisualAid")})},d9=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:rv(t,"mceToggleVisualAid")})},m9=function(t){d9(t),v9(t)},g9=function(t,r){UH(t),u9(t),JH(t,r),l9(t),J8(t),m9(t),t9(t),ZH(t)},pO=function(t,r){return{type:"makeshift",x:t,y:r}},h9=function(t,r,o){return pO(t.x+r,t.y+o)},uz=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},p9=function(t){if(uz(t)){var r=t.touches[0];return pO(r.pageX,r.pageY)}else return pO(t.pageX,t.pageY)},b9=function(t){if(uz(t)){var r=t.touches[0];return pO(r.clientX,r.clientY)}else return pO(t.clientX,t.clientY)},y9=function(t,r){var o=sC.DOM.getPos(t);return h9(r,o.x,o.y)},C9=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?p9(r):y9(t.getContentAreaContainer(),b9(r)):sz(t)},sz=function(t){return{type:"selection",root:ne.fromDom(t.selection.getNode())}},w9=function(t){return{type:"node",node:A.some(ne.fromDom(t.selection.getNode())),root:ne.fromDom(t.getBody())}},cz=function(t,r,o){switch(o){case"node":return w9(t);case"point":return C9(t,r);case"selection":return sz(t)}},S9=function(t,r,o,s,v,m){var p=o(),w=cz(t,r,m);kb(p,qf.CLOSE_ON_EXECUTE,s,!1).map(function(S){r.preventDefault(),ea.showMenuAt(v,{anchor:w},{menu:{markers:Q0("normal")},data:S})})},x9={onLtr:function(){return[_o,qi,Yo,Su,xu,Vu,pl,Rg,Zd,Yd,gp,mp]},onRtl:function(){return[_o,Yo,qi,xu,Su,Vu,pl,Rg,gp,mp,Zd,Yd]}},T9=12,E9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},k9=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],v=o.getRng(),m=Ky(t.getWin(),Zm.domRange(v));return m.exists(function(p){return p.left<=s.clientX&&p.right>=s.clientX&&p.top<=s.clientY&&p.bottom>=s.clientY})},A9=function(t){var r=t.selection.getRng(),o=function(){Wf.setEditorTimeout(t,function(){t.selection.setRng(r)},10),m()};t.once("touchend",o);var s=function(p){p.preventDefault(),p.stopImmediatePropagation()};t.on("mousedown",s,!0);var v=function(){return m()};t.once("longpresscancel",v);var m=function(){t.off("touchend",o),t.off("longpresscancel",v),t.off("mousedown",s)}},O9=function(t,r,o){var s=cz(t,r,o),v=o==="point"?T9:0;return oe({bubble:Od(0,v,E9),layouts:x9,overrides:{maxWidthFunction:OF(),maxHeightFunction:Km()}},s)},D9=function(t,r,o,s,v,m,p){var w=O9(t,r,m);kb(o,qf.CLOSE_ON_EXECUTE,s,!0).map(function(S){r.preventDefault(),ea.showMenuWithinBounds(v,{anchor:w},{menu:{markers:Q0("normal"),highlightImmediately:p},data:S,type:"horizontal"},function(){return A.some(ez(t,s.shared,m==="node"?"node":"selection"))}),t.fire(YI)})},R9=function(t,r,o,s,v,m){var p=hn(),w=p.os.isiOS(),S=p.os.isOSX(),T=p.os.isAndroid(),D=p.deviceType.isTouch(),_=function(){return!(T||w||S&&D)},z=function(){var j=o();D9(t,r,j,s,v,m,_())};if((S||w)&&m!=="node"){var H=function(){A9(t),z()};k9(t,r)?H():(t.once("selectionchange",H),t.once("touchend",function(){return t.off("selectionchange",H)}))}else z()},lz=function(t){return typeof t=="string"?t.split(/[ ,]/):t},fz=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},_9=function(t,r,o){var s=t.ui.registry.getAll().contextMenus;return A.from(t.getParam(r)).map(lz).getOrThunk(function(){return We(lz(o),function(v){return wr(s,v)})})},B9=function(t){return t.getParam("contextmenu")===!1},M9=function(t){return _9(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},N9=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},vz=function(t){return Fn(t)?t==="|":t.type==="separator"},WF={type:"separator"},dz=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(Fn(t))return t;switch(t.type){case"separator":return WF;case"submenu":return oe(oe({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return Fn(o)?o:ut(o,dz)}});default:return oe(oe({type:"menuitem"},r(t)),{onAction:Nn(t.onAction)})}},mz=function(t,r){if(r.length===0)return t;var o=Ka(t).filter(function(v){return!vz(v)}),s=o.fold(function(){return[]},function(v){return[WF]});return t.concat(s).concat(r).concat([WF])},P9=function(t,r,o){var s=Ee(r,function(v,m){return rn(t,m.toLowerCase()).map(function(p){var w=p.update(o);if(Fn(w))return mz(v,w.split(" "));if(w.length>0){var S=ut(w,dz);return mz(v,S)}else return v}).getOrThunk(function(){return v.concat([m])})},[]);return s.length>0&&vz(s[s.length-1])&&s.pop(),s},F9=function(t,r){return r.ctrlKey&&!fz(t)},gz=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},hz=function(t,r){return gz(t,r)?t.selection.getStart(!0):r.target},I9=function(t,r){var o=N9(t),s=gz(t,r)?"selection":"point";if(fu(o)){var v=hz(t,r),m=hC(ne.fromDom(v),o);return m?"node":s}else return s},z9=function(t,r,o){var s=hn(),v=s.deviceType.isTouch,m=Ma(ea.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:wt([$n("dismissContextMenu",[Xe(Ac(),function(S,T){pr.close(S),t.focus()})])])})),p=function(S){return ea.hide(m)},w=function(S){if(fz(t)&&S.preventDefault(),!(F9(t,S)||B9(t))){var T=I9(t,S),D=function(){var z=hz(t,S),H=t.ui.registry.getAll(),j=M9(t);return P9(H.contextMenus,j,z)},_=v()?R9:S9;_(t,S,D,o,m,T)}};t.on("init",function(){var S="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(v()?"":" ResizeWindow");t.on(S,p),t.on("longpress contextmenu",w)})},jF=Ms.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),wB=function(t){return function(r){return r.translate(-t.left,-t.top)}},SB=function(t){return function(r){return r.translate(t.left,t.top)}},Fp=function(t){return function(r,o){return Ee(t,function(s,v){return v(s)},fa(r,o))}},xB=function(t,r,o){return t.fold(Fp([SB(o),wB(r)]),Fp([wB(r)]),Fp([]))},l3=function(t,r,o){return t.fold(Fp([SB(o)]),Fp([]),Fp([SB(r)]))},pz=function(t,r,o){return t.fold(Fp([]),Fp([wB(o)]),Fp([SB(r),wB(o)]))},$9=function(t,r,o,s,v,m){var p=l3(t,v,m),w=l3(r,v,m);return Math.abs(p.left-w.left)<=o&&Math.abs(p.top-w.top)<=s},L9=function(t,r,o,s,v,m){var p=l3(t,v,m),w=l3(r,v,m),S=Math.abs(p.left-w.left),T=Math.abs(p.top-w.top);return fa(S,T)},bz=function(t,r,o){var s=t.fold(function(v,m){return{position:A.some("absolute"),left:A.some(v+"px"),top:A.some(m+"px")}},function(v,m){return{position:A.some("absolute"),left:A.some(v-o.left+"px"),top:A.some(m-o.top+"px")}},function(v,m){return{position:A.some("fixed"),left:A.some(v+"px"),top:A.some(m+"px")}});return oe({right:A.none(),bottom:A.none()},s)},H9=function(t,r,o){return t.fold(function(s,v){return TB(s+r,v+o)},function(s,v){return Rb(s+r,v+o)},function(s,v){return zC(s+r,v+o)})},GF=function(t,r,o,s){var v=function(m,p){return function(w,S){var T=m(r,o,s);return p(w.getOr(T.left),S.getOr(T.top))}};return t.fold(v(pz,TB),v(l3,Rb),v(xB,zC))},TB=jF.offset,Rb=jF.absolute,zC=jF.fixed,yz=function(t,r){var o=_a(t,r);return wa(o)?NaN:parseInt(o,10)},V9=function(t,r){var o=t.element,s=yz(o,r.leftAttr),v=yz(o,r.topAttr);return isNaN(s)||isNaN(v)?A.none():A.some(fa(s,v))},U9=function(t,r,o){var s=t.element;Vn(s,r.leftAttr,o.left+"px"),Vn(s,r.topAttr,o.top+"px")},W9=function(t,r){var o=t.element;ri(o,r.leftAttr),ri(o,r.topAttr)},j9=function(t,r,o,s){return V9(t,r).fold(function(){return o},function(v){return zC(v.left+s.left,v.top+s.top)})},G9=function(t,r,o,s,v,m){var p=j9(t,r,o,s),w=r.mustSnap?K9(t,r,p,v,m):X9(t,r,p,v,m),S=xB(p,v,m);return U9(t,r,S),w.fold(function(){return{coord:zC(S.left,S.top),extra:A.none()}},function(T){return{coord:T.output,extra:T.extra}})},q9=function(t,r){W9(t,r)},Cz=function(t,r,o,s){return na(t,function(v){var m=v.sensor,p=$9(r,m,v.range.left,v.range.top,o,s);return p?A.some({output:GF(v.output,r,o,s),extra:v.extra}):A.none()})},K9=function(t,r,o,s,v){var m=r.getSnapPoints(t),p=Cz(m,o,s,v);return p.orThunk(function(){var w=Ee(m,function(S,T){var D=T.sensor,_=L9(o,D,T.range.left,T.range.top,s,v);return S.deltas.fold(function(){return{deltas:A.some(_),snap:A.some(T)}},function(z){var H=(_.left+_.top)/2,j=(z.left+z.top)/2;return H<=j?{deltas:A.some(_),snap:A.some(T)}:S})},{deltas:A.none(),snap:A.none()});return w.snap.map(function(S){return{output:GF(S.output,o,s,v),extra:S.extra}})})},X9=function(t,r,o,s,v){var m=r.getSnapPoints(t);return Cz(m,o,s,v)},Y9=function(t,r,o){return{coord:GF(t.output,t.output,r,o),extra:t.extra}},Z9=function(t,r,o,s){var v=r.getTarget(t.element);if(r.repositionTarget){var m=vo(t.element),p=as(m),w=aB(v),S=Y9(s,p,w),T=bz(S.coord,p,w);Za(v,T)}},J9=Object.freeze({__proto__:null,snapTo:Z9}),qF="data-initial-z-index",Q9=function(t){oo(t.element).filter(hr).each(function(r){Ua(r,qF).fold(function(){return Pr(r,"z-index")},function(o){return xn(r,"z-index",o)}),ri(r,qF)})},eV=function(t){oo(t.element).filter(hr).each(function(r){wo(r,"z-index").each(function(o){Vn(r,qF,o)}),xn(r,"z-index",Ja(t.element,"z-index"))})},wz=function(t,r){t.getSystem().addToGui(r),eV(r)},tV=function(t){Q9(t),t.getSystem().removeFromGui(t)},Sz=function(t,r,o){return t.getSystem().build(Au.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},nV=us("snaps",[Ue("getSnapPoints"),Ir("onSensor"),Ue("leftAttr"),Ue("topAttr"),me("lazyViewport",Ci),me("mustSnap",!1)]),KF=[me("useFixed",Bt),Ue("blockerClass"),me("getTarget",Lt),me("onDrag",Ye),me("repositionTarget",!0),me("onDrop",Ye),xa("getBounds",Ci),nV],rV=function(t){return Vc(wo(t,"left"),wo(t,"top"),wo(t,"position"),function(r,o,s){var v=s==="fixed"?zC:TB;return v(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=du(t);return Rb(r.left,r.top)})},aV=function(t,r,o,s,v){var m=v.bounds,p=l3(r,o,s),w=ls(p.left,m.x,m.x+m.width-v.width),S=ls(p.top,m.y,m.y+m.height-v.height),T=Rb(w,S);return r.fold(function(){var D=pz(T,o,s);return TB(D.left,D.top)},ve(T),function(){var D=xB(T,o,s);return zC(D.left,D.top)})},oV=function(t,r,o,s,v,m,p){var w=r.fold(function(){var S=H9(o,m.left,m.top),T=xB(S,s,v);return zC(T.left,T.top)},function(S){var T=G9(t,S,o,m,s,v);return T.extra.each(function(D){S.onSensor(t,D)}),T.coord});return aV(t,w,s,v,p)},iV=function(t,r,o,s){var v=r.getTarget(t.element);if(r.repositionTarget){var m=vo(t.element),p=as(m),w=aB(v),S=rV(v),T=oV(t,r.snaps,S,p,w,s,o),D=bz(T,p,w);Za(v,D)}r.onDrag(t,v,s)},xz=function(t,r){return{bounds:t.getBounds(),height:rs(r.element),width:mu(r.element)}},XF=function(t,r,o,s,v){var m=o.update(s,v),p=o.getStartData().getOrThunk(function(){return xz(r,t)});m.each(function(w){iV(t,r,p,w)})},Tz=function(t,r,o,s){r.each(tV),o.snaps.each(function(m){q9(t,m)});var v=o.getTarget(t.element);s.reset(),o.onDrop(t,v)},YF=function(t){return function(r,o){var s=function(v){o.setStartData(xz(r,v))};return ma(mt([Xe(Jb(),function(v){o.getStartData().each(function(){return s(v)})})],t(r,o,s),!0))}},uV=function(t){return ma([Xe(kc(),t.forceDrop),Xe(Gb(),t.drop),Xe(ud(),function(r,o){t.move(o.event)}),Xe(jb(),t.delayDrop)])},sV=function(t){return A.from(fa(t.x,t.y))},cV=function(t,r){return fa(r.left-t.left,r.top-t.top)},lV=Object.freeze({__proto__:null,getData:sV,getDelta:cV}),Ez=function(t,r,o){return[Xe(kc(),function(s,v){var m=v.event.raw;if(m.button===0){v.stop();var p=function(){return Tz(s,A.some(T),t,r)},w=P4(p,200),S={drop:p,delayDrop:w.schedule,forceDrop:p,move:function(_){w.cancel(),XF(s,t,r,lV,_)}},T=Sz(s,t.blockerClass,uV(S)),D=function(){o(s),wz(s,T)};D()}})]},fV=mt(mt([],KF,!0),[ya("dragger",{handlers:YF(Ez)})],!1),vV=function(t){return ma([Xe(Il(),t.forceDrop),Xe(vv(),t.drop),Xe(nw(),t.drop),Xe(Ec(),function(r,o){t.move(o.event)})])},dV=function(t){var r=t[0];return A.some(fa(r.clientX,r.clientY))},mV=function(t){var r=t.raw,o=r.touches;return o.length===1?dV(o):A.none()},gV=function(t,r){return fa(r.left-t.left,r.top-t.top)},kz=Object.freeze({__proto__:null,getData:mV,getDelta:gV}),Az=function(t,r,o){var s=co(),v=function(m){Tz(m,s.get(),t,r),s.clear()};return[Xe(Il(),function(m,p){p.stop();var w=function(){return v(m)},S={drop:w,delayDrop:Ye,forceDrop:w,move:function(_){XF(m,t,r,kz,_)}},T=Sz(m,t.blockerClass,vV(S));s.set(T);var D=function(){o(m),wz(m,T)};D()}),Xe(Ec(),function(m,p){p.stop(),XF(m,t,r,kz,p.event)}),Xe(vv(),function(m,p){p.stop(),v(m)}),Xe(nw(),v)]},hV=mt(mt([],KF,!0),[ya("dragger",{handlers:YF(Az)})],!1),pV=function(t,r,o){return mt(mt([],Ez(t,r,o),!0),Az(t,r,o),!0)},bV=mt(mt([],KF,!0),[ya("dragger",{handlers:YF(pV)})],!1),yV=fV,CV=hV,wV=bV,SV=Object.freeze({__proto__:null,mouse:yV,touch:CV,mouseOrTouch:wV}),xV=function(){var t=A.none(),r=A.none(),o=function(){t=A.none(),r=A.none()},s=function(S,T){var D=t.map(function(_){return S.getDelta(_,T)});return t=A.some(T),D},v=function(S,T){return S.getData(T).bind(function(D){return s(S,D)})},m=function(S){r=A.some(S)},p=function(){return r},w=ve({});return Gi({readState:w,reset:o,update:v,getStartData:p,setStartData:m})},TV=Object.freeze({__proto__:null,init:xV}),$C=Ed({branchKey:"mode",branches:SV,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:A.from(t.extra)}}},state:TV,apis:J9}),ZF=40,EB=ZF/2,Oz=function(t,r,o,s,v,m){return t.fold(function(){return $C.snap({sensor:Rb(o-EB,s-EB),range:fa(v,m),output:Rb(A.some(o),A.some(s)),extra:{td:r}})},function(p){var w=o-EB,S=s-EB,T=ZF,D=ZF,_=p.element.dom.getBoundingClientRect();return $C.snap({sensor:Rb(w,S),range:fa(T,D),output:Rb(A.some(o-_.width/2),A.some(s-_.height/2)),extra:{td:r}})})},Dz=function(t,r,o){var s=function(v,m){return v.exists(function(p){return oa(p,m)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(v,m){var p=m.td;s(r.get(),p)||(r.set(p),o(p))},mustSnap:!0}},Rz=function(t){return Gr(vs.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:wt([$C.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),hb.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},EV=function(t,r){var o=pn([]),s=pn([]),v=pn(!1),m=co(),p=co(),w=function(Le){var Ot=Bl(Le);return Oz(H.getOpt(r),Le,Ot.x,Ot.y,Ot.width,Ot.height)},S=function(){return ut(o.get(),function(Le){return w(Le)})},T=function(Le){var Ot=Bl(Le);return Oz(j.getOpt(r),Le,Ot.right,Ot.bottom,Ot.width,Ot.height)},D=function(){return ut(s.get(),function(Le){return T(Le)})},_=Dz(S,m,function(Le){p.get().each(function(Ot){t.fire("TableSelectorChange",{start:Le,finish:Ot})})}),z=Dz(D,p,function(Le){m.get().each(function(Ot){t.fire("TableSelectorChange",{start:Ot,finish:Le})})}),H=Rz(_),j=Rz(z),ee=Ma(H.asSpec()),ce=Ma(j.asSpec()),Y=function(Le,Ot,Ke,Dt){var Je=Ot.dom.getBoundingClientRect();Pr(Le.element,"display");var $e=gf(ne.fromDom(t.getBody())).dom.innerHeight,pt=Ke(Je),Kt=Dt(Je,$e);(pt||Kt)&&xn(Le.element,"display","none")},de=function(Le,Ot,Ke,Dt){var Je=Ke(Ot);$C.snapTo(Le,Je);var $e=function(Kt){return Kt[Dt]<0},pt=function(Kt,Ge){return Kt[Dt]>Ge};Y(Le,Ot,$e,pt)},Re=function(Le){return de(ee,Le,w,"top")},De=function(){return m.get().each(Re)},fe=function(Le){return de(ce,Le,T,"bottom")},Te=function(){return p.get().each(fe)};hn().deviceType.isTouch()&&(t.on("TableSelectionChange",function(Le){v.get()||(Bd(r,ee),Bd(r,ce),v.set(!0)),m.set(Le.start),p.set(Le.finish),Le.otherCells.each(function(Ot){o.set(Ot.upOrLeftCells),s.set(Ot.downOrRightCells),Re(Le.start),fe(Le.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){De(),Te()}),t.on("TableSelectionClear",function(){v.get()&&(dl(ee),dl(ce),v.set(!1)),m.clear(),p.clear()}))},kV=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},AV=function(t,r,o){r.delimiter||(r.delimiter="»");var s=function(m){var p=m||[],w=ut(p,function(T,D){return vs.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":D,"tab-index":-1,"aria-level":D+1},innerHtml:T.name},action:function(_){t.focus(),t.selection.select(T.element),t.nodeChanged()},buttonBehaviours:wt([bl.button(o.isDisabled),Jo()])})}),S={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return Ee(w.slice(1),function(T,D){var _=T;return _.push(S),_.push(D),_},[w[0]])},v=function(m){for(var p=[],w=m.length;w-- >0;){var S=m[w];if(S.nodeType===1&&!kV(S)){var T=t.fire("ResolveName",{name:S.nodeName.toLowerCase(),target:S});if(T.isDefaultPrevented()||p.push({name:T.name,element:S}),T.isPropagationStopped())break}}return p};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:wt([nn.config({mode:"flow",selector:"div[role=button]"}),mn.config({disabled:o.isDisabled}),Jo(),po.config({}),An.config({}),$n("elementPathEvents",[zn(function(m,p){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return nn.focusIn(m)}),t.on("NodeChange",function(w){var S=v(w.parents);S.length>0?An.set(m,s(S)):An.set(m,[])})})])]),components:[]}},LC;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(LC||(LC={}));var OV=function(t,r,o,s,v){var m={};return m.height=bB(s+r.top,dD(t),mD(t)),o===LC.Both&&(m.width=bB(v+r.left,vD(t),$x(t))),m},_z=function(t,r,o){var s=ne.fromDom(t.getContainer()),v=OV(t,r,o,Oo(s),Li(s));aa(v,function(m,p){return xn(s,p,IF(m))}),$8(t)},DV=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?LC.None:o==="both"?LC.Both:LC.Vertical},kB=function(t,r,o,s){var v=20,m=fa(o*v,s*v);return _z(t,m,r),A.some(!0)},RV=function(t,r){var o=DV(t);return o===LC.None?A.none():A.some(of("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[$C.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,v,m){return _z(t,m,o)},blockerClass:"tox-blocker"}),nn.config({mode:"special",onLeft:function(){return kB(t,o,-1,0)},onRight:function(){return kB(t,o,1,0)},onUp:function(){return kB(t,o,0,-1)},onDown:function(){return kB(t,o,0,1)}}),po.config({}),On.config({})]},r.icons))},_V=function(t,r){var o,s=function(v,m,p){return An.set(v,[Ei(r.translate(["{0} "+p,m[p]]))])};return vs.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:wt([bl.button(r.isDisabled),Jo(),po.config({}),An.config({}),At.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),$n("wordcount-events",[cs(function(v){var m=At.getValue(v),p=m.mode==="words"?"characters":"words";At.setValue(v,{mode:p,count:m.count}),s(v,m.count,p)}),zn(function(v){t.on("wordCountUpdate",function(m){var p=At.getValue(v).mode;At.setValue(v,{mode:p,count:m.wordCount}),s(v,m.wordCount,p)})})])]),eventOrder:(o={},o[Ns()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},BV=function(t,r){var o=function(){var m=af.translate(["Powered by {0}","Tiny"]),p='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+m+'">'+m+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:p}}},s=function(){var m=[];return t.getParam("elementpath",!0,"boolean")&&m.push(AV(t,{},r)),t.hasPlugin("wordcount")&&m.push(_V(t,r)),t.getParam("branding",!0,"boolean")&&m.push(o()),m.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:m}]:[]},v=function(){var m=s(),p=RV(t,r);return m.concat(p.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:v()}},MV=function(t){var r,o=t.inline,s=o?pH:lH,v=Vx(t)?K:sF,m=A.none(),p=hn(),w=p.browser.isIE(),S=w?["tox-platform-ie"]:[],T=p.deviceType.isTouch(),D="tox-platform-touch",_=T?[D]:[],z=pD(t),H=yD(t),j=af.isRtl()?{attributes:{dir:"rtl"}}:{},ee={attributes:(r={},r[W1]=z?Gl.BottomToTop:Gl.TopToBottom,r)},ce=function(){return m.bind(Mo.getHeader)},Y=function(){return v.isDocked(ce)},de=function(){xn(Xu.element,"width",document.body.clientWidth+"px")},Re=function(){var di=oa(ni(),H)&&Ja(H,"display")==="grid",cm={dom:oe({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(S).concat(_)},j),behaviours:wt([lo.config({useFixed:function(){return Y()}})])},Qg={dom:{styles:{width:document.body.clientWidth+"px"}},events:ma([Xe(Ps(),de)])};return Fe(cm,di?Qg:{})},De=Ma(Re()),fe=function(){return Un.value(De)},Te=Gr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Le=function(){return m.bind(function(di){return Te.getOpt(di)}).getOrDie("Could not find a anchor bar element")},Ot=function(){return m.bind(function(di){return Mo.getToolbar(di)}).getOrDie("Could not find more toolbar element")},Ke=function(){return m.bind(function(di){return Mo.getThrobber(di)}).getOrDie("Could not find throbber element")},Dt=aF(De,t,Le),Je=Mo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Dt,onEscape:function(){t.focus()}}),$e=cC(t),pt=Mo.parts.toolbar(oe({dom:{tag:"div",classes:["tox-toolbar"]},getSink:fe,providers:Dt.shared.providers,onEscape:function(){t.focus()},type:$e,lazyToolbar:Ot,lazyHeader:function(){return ce().getOrDie("Could not find header element")}},ee)),Kt=Mo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Dt.shared.providers,onEscape:function(){t.focus()},type:$e}),Ge=Mo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Wt=Mo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),Qt=Mo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Dt}),lr=t.getParam("statusbar",!0,"boolean"),Kr=lr&&!o?A.some(BV(t,Dt.shared.providers)):A.none(),Da={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Ge,Wt]},ao=Lx(t),gc=y4(t),_u=Zo(t),v3=function(){return ao?[Kt]:gc?[pt]:[]},vi=Mo.parts.header({dom:oe({tag:"div",classes:["tox-editor-header"]},ee),components:xt([_u?[Je]:[],v3(),Hx(t)?[]:[Te.asSpec()]]),sticky:Vx(t),editor:t,sharedBackstage:Dt.shared}),Ip=xt([z?[]:[vi],o?[]:[Da],z?[vi]:[]]),zp={dom:{tag:"div",classes:["tox-editor-container"]},components:Ip},HC=xt([[zp],o?[]:Kr.toArray(),[Qt]]),$p=CD(t),VC=oe(oe({role:"application"},af.isRtl()?{dir:"rtl"}:{}),$p?{"aria-hidden":"true"}:{}),ps=Ma(Mo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(z?["tox-tinymce--toolbar-bottom"]:[]).concat(_).concat(S),styles:oe({visibility:"hidden"},$p?{opacity:"0",border:"0"}:{}),attributes:VC},components:HC,behaviours:wt([Jo(),mn.config({disableClass:"tox-tinymce--disabled"}),nn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));m=A.some(ps),t.shortcuts.add("alt+F9","focus menubar",function(){Mo.focusMenubar(ps)}),t.shortcuts.add("alt+F10","focus toolbar",function(){Mo.focusToolbar(ps)}),t.addCommand("ToggleToolbarDrawer",function(){Mo.toggleToolbarDrawer(ps)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return Mo.isToolbarDrawerToggled(ps)});var av=gR(ps),Xu=gR(De);Zv(t,av,Xu);var UC=function(){var di={broadcastAll:Xu.broadcast,broadcastOn:Xu.broadcastOn,register:Ye};return{channels:di}},Jg=function(){var di=IF(vH(t)),cm=IF(dH(t));return t.inline||(Os("div","width",cm)&&xn(ps.element,"width",cm),Os("div","height",di)?xn(ps.element,"height",di):xn(ps.element,"height","200px")),di},_b=function(){v.setup(t,Dt.shared,ce),g9(t,Dt),z9(t,fe,Dt),ev(t),Zg(t,Ke,Dt.shared),Br(o8(t),function(Yu,hc){t.ui.registry.addGroupToolbarButton(hc,Yu)});var di=t.ui.registry.getAll(),cm=di.buttons,Qg=di.menuItems,Lp=di.contextToolbars,ov=di.sidebars,eh=gD(t),It={menuItems:Qg,menus:f8(t),menubar:v8(t),toolbar:eh.getOrThunk(function(){return d8(t)}),allowToolbarGroups:$e===Fc.floating,buttons:cm,sidebar:ov};VH(t,Lp,De,{backstage:Dt}),EV(t,De);var jn=t.getElement(),Zr=Jg(),qa={mothership:av,uiMothership:Xu,outerContainer:ps},bs={targetNode:jn,height:Zr};return s.render(t,qa,It,Dt,bs)};return{mothership:av,uiMothership:Xu,backstage:Dt,renderUI:_b,getUi:UC}},NV=function(t,r){var o=A.from(_a(t,"id")).fold(function(){var s=qt("dialog-describe");return Vn(r,"id",s),s},Lt);Vn(t,"aria-describedby",o)},PV=function(t,r){var o=Ua(t,"id").fold(function(){var s=qt("dialog-label");return Vn(r,"id",s),s},Lt);Vn(t,"aria-labelledby",o)},FV=ve([Ue("lazySink"),Fr("dragBlockClass"),xa("getBounds",Ci),me("useTabstopAt",Qe),me("eventOrder",{}),Go("modalBehaviours",[nn]),Uo("onExecute"),Hu("onEscape")]),JF={sketch:Lt},IV=ve([ic({name:"draghandle",overrides:function(t,r){return{behaviours:wt([$C.config({mode:"mouse",getTarget:function(o){return C1(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Ri({schema:[Ue("dom")],name:"title"}),Ri({factory:JF,schema:[Ue("dom")],name:"close"}),Ri({factory:JF,schema:[Ue("dom")],name:"body"}),ic({factory:JF,schema:[Ue("dom")],name:"footer"}),Vs({factory:{sketch:function(t,r){return oe(oe({},t),{dom:r.dom,components:r.components})}},schema:[me("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),me("components",[])],name:"blocker"})]),zV=function(t,r,o,s){var v,m=co(),p=function(j){m.set(j);var ee=t.lazySink(j).getOrDie(),ce=s.blocker(),Y=ee.getSystem().build(oe(oe({},ce),{components:ce.components.concat([Hs(j)]),behaviours:wt([On.config({}),$n("dialog-blocker-events",[xo(ec(),function(){nn.focusIn(j)})])])}));Bd(ee,Y),nn.focusIn(j)},w=function(j){m.clear(),oo(j.element).each(function(ee){j.getSystem().getByDom(ee).each(function(ce){dl(ce)})})},S=function(j){return ef(j,t,"body")},T=function(j){return ef(j,t,"footer")},D=function(j,ee){Qv.block(j,ee)},_=function(j){Qv.unblock(j)},z=qt("modal-events"),H=oe(oe({},t.eventOrder),(v={},v[ss()]=[z].concat(t.eventOrder["alloy.system.attached"]||[]),v));return{uid:t.uid,dom:t.dom,components:r,apis:{show:p,hide:w,getBody:S,getFooter:T,setIdle:_,setBusy:D},eventOrder:H,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ui(t.modalBehaviours,[An.config({}),nn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Qv.config({getRoot:m.get}),$n(z,[zn(function(j){PV(j.element,ef(j,t,"title").element),NV(j.element,ef(j,t,"body").element)})])])}},Ni=Eu({name:"ModalDialog",configFields:FV(),partFields:IV(),factory:zV,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),$V=sn([kn("type"),kn("name")].concat(eb)),LV=ai,Bz=[Lo("name","name",vr(function(){return qt("button-name")}),go),Sa("icon"),Bs("align","end",["start","end"]),da("primary",!1),da("disabled",!1)],Mz=mt(mt([],Bz,!0),[kn("text")],!1),QF=mt([_s("type",["submit","cancel","custom"])],Mz,!0),HV=mt([_s("type",["menu"]),Sa("text"),Sa("tooltip"),Sa("icon"),Wi("items",$V)],Bz,!0),VV=Qs("type",{submit:QF,cancel:QF,custom:QF,menu:HV}),UV=[kn("type"),kn("text"),_s("level",["info","warn","error","success"]),kn("icon"),me("url","")],WV=sn(UV),jV=function(t){return[kn("type"),t]},GV=[kn("type"),kn("text"),da("disabled",!1),da("primary",!1),Lo("name","name",vr(function(){return qt("button-name")}),go),Sa("icon"),da("borderless",!1)],qV=sn(GV),KV=[kn("type"),kn("name"),kn("label"),da("disabled",!1)],XV=sn(KV),YV=ai,eI=[kn("type"),kn("name")],ed=eI.concat([Sa("label")]),ZV=ed.concat([me("columns","auto")]),JV=sn(ZV),QV=$b([kn("value"),kn("text"),kn("icon")]),eU=ed,tU=sn(eU),nU=go,rU=ed,aU=sn(rU),oU=go,iU=eI.concat([Tm("tag","textarea"),kn("scriptId"),kn("scriptUrl"),Lu("settings",void 0)]),uU=eI.concat([Tm("tag","textarea"),nu("init")]),sU=Sm(function(t){return Wa("customeditor.old",os(uU),t).orThunk(function(){return Wa("customeditor.new",os(iU),t)})}),cU=go,lU=ed,fU=sn(lU),vU=y3(),dU=function(t){return[kn("type"),Af("columns"),t]},mU=[kn("type"),kn("html"),Bs("presets","presentation",["presentation","document"])],gU=sn(mU),hU=ed.concat([da("sandboxed",!0)]),pU=sn(hU),bU=go,yU=ed.concat([zu("currentState",sn([Ue("blob"),kn("url")]))]),CU=sn(yU),wU=ed.concat([Sa("inputMode"),Sa("placeholder"),da("maximized",!1),da("disabled",!1)]),SU=sn(wU),xU=go,TU=function(t){return[kn("type"),kn("label"),t]},EU=[kn("text"),kn("value")],kU=[kn("text"),Wi("items",C3("items",function(){return Nz}))],Nz=lh([sn(EU),sn(kU)]),AU=ed.concat([Wi("items",Nz),da("disabled",!1)]),OU=sn(AU),DU=go,RU=ed.concat([Tc("items",[kn("text"),kn("value")]),$u("size",1),da("disabled",!1)]),_U=sn(RU),BU=go,MU=ed.concat([da("constrain",!0),da("disabled",!1)]),NU=sn(MU),Pz=sn([kn("width"),kn("height")]),PU=[kn("type"),Wi("header",go),Wi("cells",kf(go))],FU=sn(PU),IU=ed.concat([Sa("placeholder"),da("maximized",!1),da("disabled",!1)]),zU=sn(IU),$U=go,LU=ed.concat([Bs("filetype","file",["image","media","file"]),me("disabled",!1)]),HU=sn(LU),VU=sn([kn("value"),me("meta",{})]),tI=function(t){return Lo("items","items",Bn(),kf(Sm(function(r){return Wa("Checking item of "+t,nI,r).fold(function(o){return Un.error(lv(o))},function(o){return Un.value(o)})})))},nI=KC(function(){return Yp("type",{alertbanner:WV,bar:sn(jV(tI("bar"))),button:qV,checkbox:XV,colorinput:tU,colorpicker:aU,dropzone:fU,grid:sn(dU(tI("grid"))),iframe:pU,input:SU,listbox:OU,selectbox:_U,sizeinput:NU,textarea:zU,urlinput:HU,customeditor:sU,htmlpanel:gU,imagetools:CU,collection:JV,label:sn(TU(tI("label"))),table:FU,panel:Fz})}),UU=[kn("type"),me("classes",[]),Wi("items",nI)],Fz=sn(UU),WU=[Lo("name","name",vr(function(){return qt("tab-name")}),go),kn("title"),Wi("items",nI)],jU=[kn("type"),Tc("tabs",WU)],GU=sn(jU),qU=Mz,KU=VV,XU=sn([kn("title"),zu("body",Yp("type",{panel:Fz,tabpanel:GU})),Tm("size","normal"),Wi("buttons",KU),me("initialData",{}),xa("onAction",Ye),xa("onChange",Ye),xa("onSubmit",Ye),xa("onClose",Ye),xa("onCancel",Ye),me("onTabChange",Ye)]),YU=function(t){return Wa("dialog",XU,t)},ZU=sn(mt([_s("type",["cancel","custom"])],qU,!0)),JU=sn([kn("title"),kn("url"),id("height"),id("width"),is("buttons",ZU),xa("onAction",Ye),xa("onCancel",Ye),xa("onClose",Ye),xa("onMessage",Ye)]),QU=function(t){return Wa("dialog",JU,t)},rI=function(t){return Wr(t)?[t].concat(Qn(Ha(t),rI)):tr(t)?Qn(t,rI):[]},eW=function(t){return Fn(t.type)&&Fn(t.name)},tW={checkbox:YV,colorinput:nU,colorpicker:oU,dropzone:vU,input:xU,iframe:bU,sizeinput:Pz,selectbox:BU,listbox:DU,size:Pz,textarea:$U,urlinput:VU,customeditor:cU,collection:QV,togglemenuitem:LV},nW=function(t){return A.from(tW[t.type])},rW=function(t){return We(rI(t),eW)},aW=function(t){var r=rW(t),o=Qn(r,function(s){return nW(s).fold(function(){return[]},function(v){return[zu(s.name,v)]})});return sn(o)},Iz=function(t){var r=xc(YU(t)),o=aW(t),s=t.initialData;return{internalDialog:r,dataValidator:o,initialData:s}},bO={open:function(t,r){var o=Iz(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=xc(QU(r));return t(o)},redial:function(t){return Iz(t)}},zz=function(t){var r=[],o={};return aa(t,function(s,v){s.fold(function(){r.push(v)},function(m){o[v]=m})}),r.length>0?Un.error(r):Un.value(o)},oW=function(t,r){var o=Gr(Sb.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:ut(t.items,function(v){return z5(s,v,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:wt([nn.config({mode:"acyclic",useTabstopAt:Sn(AC)}),Qf.memento(o),Ap.memento(o,{postprocess:function(s){return zz(s).fold(function(v){return console.error(v),{}},Lt)}})])}},iW=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:W0(t.action),behaviours:ui(t.tabButtonBehaviours,[On.config({}),nn.config({mode:"execution",useSpace:!0,useEnter:!0}),At.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},uW=Us({name:"TabButton",configFields:[me("uid",void 0),Ue("value"),Lo("dom","dom",wi(function(){return{attributes:{role:"tab",id:qt("aria"),"aria-selected":"false"}}}),Sc()),Fr("action"),me("domModification",{}),Go("tabButtonBehaviours",[On,nn,At]),Ue("view")],factory:iW}),sW=ve([Ue("tabs"),Ue("dom"),me("clickToDismiss",!1),Go("tabbarBehaviours",[Hr,nn]),wd(["tabClass","selectedClass"])]),cW=Ql({factory:uW,name:"tabs",unit:"tab",overrides:function(t){var r=function(s,v){Hr.dehighlight(s,v),bn(s,xi(),{tabbar:s,button:v})},o=function(s,v){Hr.highlight(s,v),bn(s,rw(),{tabbar:s,button:v})};return{action:function(s){var v=s.getSystem().getByUid(t.uid).getOrDie(),m=Hr.isHighlighted(v,s),p=function(){return m&&t.clickToDismiss?r:m?Ye:o}();p(v,s)},domModification:{classes:[t.markers.tabClass]}}}}),lW=ve([cW]),fW=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ui(t.tabbarBehaviours,[Hr.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(v,m){Vn(m.element,"aria-selected","true")},onDehighlight:function(v,m){Vn(m.element,"aria-selected","false")}}),nn.config({mode:"flow",getInitial:function(v){return Hr.getHighlighted(v).map(function(m){return m.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},$z=Eu({name:"Tabbar",configFields:sW(),partFields:lW(),factory:fW}),vW=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:ui(t.tabviewBehaviours,[An.config({})]),domModification:{attributes:{role:"tabpanel"}}}},dW=Us({name:"Tabview",configFields:[Go("tabviewBehaviours",[An])],factory:vW}),mW=ve([me("selectFirst",!0),Ir("onChangeTab"),Ir("onDismissTab"),me("tabs",[]),Go("tabSectionBehaviours",[])]),gW=Ri({factory:$z,schema:[Ue("dom"),Nl("markers",[Ue("tabClass"),Ue("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),hW=Ri({factory:dW,name:"tabview"}),pW=ve([gW,hW]),bW=function(t,r,o,s){var v=function(p){var w=At.getValue(p);ua(p,t,"tabview").each(function(S){var T=Ct(t.tabs,function(D){return D.value===w});T.each(function(D){var _=D.view();Ua(p.element,"id").each(function(z){Vn(S.element,"aria-labelledby",z)}),An.set(S,_),t.onChangeTab(S,p,_)})})},m=function(p,w){ua(p,t,"tabbar").each(function(S){w(S).each(Fs)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:gg(t.tabSectionBehaviours),events:ma(xt([t.selectFirst?[zn(function(p,w){m(p,Hr.getFirst)})]:[],[Xe(rw(),function(p,w){var S=w.event.button;v(S)}),Xe(xi(),function(p,w){var S=w.event.button;t.onDismissTab(p,S)})]])),apis:{getViewItems:function(p){return ua(p,t,"tabview").map(function(w){return An.contents(w)}).getOr([])},showTab:function(p,w){var S=function(T){var D=Hr.getCandidates(T),_=Ct(D,function(z){return At.getValue(z)===w});return _.filter(function(z){return!Hr.isHighlighted(T,z)})};m(p,S)}}}},f3=Eu({name:"TabSection",configFields:mW(),partFields:pW(),factory:bW,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),yW=function(t,r,o){return ut(t,function(s,v){An.set(o,t[v].view());var m=r.dom.getBoundingClientRect();return An.set(o,[]),m.height})},CW=function(t){return ta(Pi(t,function(r,o){return r>o?-1:r<o?1:0}))},wW=function(t,r,o){var s=ze(t).dom,v=C1(t,".tox-dialog-wrap").getOr(t),m=Ja(v,"position")==="fixed",p;m?p=Math.max(s.clientHeight,window.innerHeight):p=Math.max(s.offsetHeight,s.scrollHeight);var w=Oo(r),S=r.dom.offsetLeft>=o.dom.offsetLeft+Li(o),T=S?Math.max(Oo(o),w):w,D=parseInt(Ja(t,"margin-top"),10)||0,_=parseInt(Ja(t,"margin-bottom"),10)||0,z=Oo(t)+D+_,H=z-T;return p-H},SW=function(t,r){ta(t).each(function(o){return f3.showTab(r,o.value)})},Lz=function(t,r){xn(t,"height",r+"px"),hn().browser.isIE()?Pr(t,"flex-basis"):xn(t,"flex-basis",r+"px")},AB=function(t,r,o){C1(t,'[role="dialog"]').each(function(s){Vo(s,'[role="tablist"]').each(function(v){o.get().map(function(m){return xn(r,"height","0"),xn(r,"flex-basis","0"),Math.min(m,wW(s,r,v))}).each(function(m){Lz(r,m)})})})},aI=function(t){return Vo(t,'[role="tabpanel"]')},xW=function(t){var r=function(){var s=co(),v=[zn(function(p){var w=p.element;aI(w).each(function(S){xn(S,"visibility","hidden"),p.getSystem().getByDom(S).toOptional().each(function(T){var D=yW(t,S,T),_=CW(D);_.fold(s.clear,s.set)}),AB(w,S,s),Pr(S,"visibility"),SW(t,p),Wf.requestAnimationFrame(function(){AB(w,S,s)})})}),Xe(Ps(),function(p){var w=p.element;aI(w).each(function(S){AB(w,S,s)})}),Xe(yR,function(p,w){var S=p.element;aI(S).each(function(T){var D=Tu(qo(T));xn(T,"visibility","hidden");var _=wo(T,"height").map(function(j){return parseInt(j,10)});Pr(T,"height"),Pr(T,"flex-basis");var z=T.dom.getBoundingClientRect().height,H=_.forall(function(j){return z>j});H?(s.set(z),AB(S,T,s)):_.each(function(j){Lz(T,j)}),Pr(T,"visibility"),D.each(sl)})})],m=!1;return{extraEvents:v,selectFirst:m}}(),o=function(){var s=[],v=!0;return{extraEvents:s,selectFirst:v}}();return{smartTabHeight:r,naiveTabHeight:o}},Hz="send-data-to-section",Vz="send-data-to-view",TW=function(t,r){var o=pn({}),s=function(S){var T=At.getValue(S),D=zz(T).getOr({}),_=o.get(),z=Fe(_,D);o.set(z)},v=function(S){var T=o.get();At.setValue(S,T)},m=pn(null),p=ut(t.tabs,function(S){return{value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(S.title)},view:function(){return[Sb.sketch(function(T){return{dom:{tag:"div",classes:["tox-form"]},components:ut(S.items,function(D){return z5(T,D,r)}),formBehaviours:wt([nn.config({mode:"acyclic",useTabstopAt:Sn(AC)}),$n("TabView.form.events",[zn(v),Is(s)]),ru.config({channels:Df([{key:Hz,value:{onReceive:s}},{key:Vz,value:{onReceive:v}}])})])}})]}}}),w=xW(p).smartTabHeight;return f3.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(S,T,D){var _=At.getValue(T);bn(S,Fg,{name:_,oldName:m.get()}),m.set(_)},tabs:p,components:[f3.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[$z.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:wt([po.config({})])}),f3.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:w.selectFirst,tabSectionBehaviours:wt([$n("tabpanel",w.extraEvents),nn.config({mode:"acyclic"}),sr.config({find:function(S){return ta(f3.getViewItems(S))}}),At.config({store:{mode:"manual",getValue:function(S){return S.getSystem().broadcastOn([Hz],{}),o.get()},setValue:function(S,T){o.set(T),S.getSystem().broadcastOn([Vz],{})}}})])})},oI=qt("update-dialog"),Uz=qt("update-title"),Wz=qt("update-body"),jz=qt("update-footer"),Gz=qt("body-send-message"),qz=function(t,r,o,s){var v=function(w){switch(w.body.type){case"tabpanel":return[TW(w.body,o)];default:return[oW(w.body,o)]}},m=function(w,S){return A.some({isTabPanel:function(){return S.body.type==="tabpanel"}})},p={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:oe(oe({},r.map(function(w){return{id:w}}).getOr({})),s?p:{})},components:[],behaviours:wt([Qf.childAt(0),Cl.config({channel:Wz,updateState:m,renderComponents:v,initialData:t})])}},EW=function(t,r,o,s){return qz(t,A.some(r),o,s)},kW=function(t,r){var o=qz(t,A.none(),r,!1);return Ni.parts.body(o)},AW=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[I_({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:wt([po.config({}),On.config({})])})]}],behaviours:wt([nn.config({mode:"acyclic",useTabstopAt:Sn(AC)})])};return Ni.parts.body(r)},OW=Wx.deviceType.isTouch(),Kz=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},Xz=function(t,r){return Ni.parts.close(vs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:wt([po.config({})])}))},Yz=function(){return Ni.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},Zz=function(t,r){return Ni.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Jd("<p>"+Tx(r.translate(t))+"</p>")}]}]})},Jz=function(t){return Ni.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},Qz=function(t,r){return[Au.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Au.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},iI=function(t){var r,o="tox-dialog",s=o+"-wrap",v=s+"__backdrop",m=o+"__disable-scroll";return Ni.sketch({lazySink:t.lazySink,onEscape:function(p){return t.onEscape(p),A.some(!0)},useTabstopAt:function(p){return!AC(p)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:oe({position:"relative"},t.extraStyles)},components:mt([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:Jd('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:OW?[v,v+"--opaque"]:[v]}}]}},dragBlockClass:s,modalBehaviours:wt(mt([On.config({}),$n("dialog-events",t.dialogEvents.concat([xo(ec(),function(p,w){nn.focusIn(p)})])),$n("scroll-lock",[zn(function(){Ho(ni(),m)}),Is(function(){Ro(ni(),m)})])],t.extraBehaviours,!0)),eventOrder:oe((r={},r[Ns()]=["dialog-events"],r[ss()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Rm()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},e$=function(t){return vs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[of("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){_r(r,Ep)}})},t$=function(t,r,o){var s=function(v){return[Ei(o.translate(v.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:oe({},r.map(function(v){return{id:v}}).getOr({}))},components:s(t),behaviours:wt([Cl.config({channel:Uz,renderComponents:s})])}},n$=function(){return{dom:Jd('<div class="tox-dialog__draghandle"></div>')}},DW=function(t,r,o){return Au.sketch({dom:Jd('<div class="tox-dialog__header"></div>'),components:[t$(t,A.some(r),o),n$(),e$(o)],containerBehaviours:wt([$C.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return rc(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},RW=function(t,r){var o=Ni.parts.title(t$(t,A.none(),r)),s=Ni.parts.draghandle(n$()),v=Ni.parts.close(e$(r)),m=[o].concat(t.draggable?[s]:[]).concat([v]);return Au.sketch({dom:Jd('<div class="tox-dialog__header"></div>'),components:m})},r$=function(t,r){return RW({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},a$=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:Jd('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},o$=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){Ni.setBusy(t(),function(v,m){return a$(s.message,m,r)})},onUnblock:function(){Ni.setIdle(t())}}},i$=function(t,r,o,s){var v,m=function(p,w){return A.some(w)};return Ma(iI(oe(oe({},t),{lazySink:s.shared.getSink,extraBehaviours:mt([Cl.config({channel:oI,updateState:m,initialData:r}),Ap.memory({})],t.extraBehaviours,!0),onEscape:function(p){_r(p,Ep)},dialogEvents:o,eventOrder:(v={},v[tc()]=[Cl.name(),ru.name()],v[ss()]=["scroll-lock",Cl.name(),"messages","dialog-events","alloy.base.behaviour"],v[Rm()]=["alloy.base.behaviour","dialog-events","messages",Cl.name(),"scroll-lock"],v)})))},u$=function(t){var r=function(o){var s=ut(o.items,function(v){var m=pn(!1);return oe(oe({},v),{storage:m})});return oe(oe({},o),{items:s})};return ut(t,function(o){return o.type==="menu"?r(o):o})},s$=function(t){return Ee(t,function(r,o){if(o.type==="menu"){var s=o;return Ee(s.items,function(v,m){return v[m.name]=m.storage,v},r)}return r},{})},c$=function(t,r){return[hv(ec(),$_),t(bC,function(o,s){r.onClose(),s.onClose()}),t(Ep,function(o,s,v,m){s.onCancel(o),_r(m,bC)}),Xe(U4,function(o,s){return r.onUnblock()}),Xe(V4,function(o,s){return r.onBlock(s.event)})]},_W=function(t,r){var o=function(v,m){return Xe(v,function(p,w){s(p,function(S,T){m(t(),S,w.event,p)})})},s=function(v,m){Cl.getState(v).get().each(function(p){m(p,v)})};return mt(mt([],c$(o,r),!0),[o(Xv,function(v,m,p){m.onAction(v,{name:p.name})})],!1)},BW=function(t,r,o){var s=function(m,p){return Xe(m,function(w,S){v(w,function(T,D){p(t(),T,S.event,w)})})},v=function(m,p){Cl.getState(m).get().each(function(w){p(w.internalDialog,m)})};return mt(mt([],c$(s,r),!0),[s(yC,function(m,p){return p.onSubmit(m)}),s(vc,function(m,p,w){p.onChange(m,{name:w.name})}),s(Xv,function(m,p,w,S){var T=function(){return nn.focusIn(S)},D=function(H){return Wp(H,"disabled")||Ua(H,"aria-disabled").exists(function(j){return j==="true"})},_=qo(S.element),z=Tu(_);p.onAction(m,{name:w.name,value:w.value}),Tu(_).fold(T,function(H){D(H)||z.exists(function(j){return ks(H,j)&&D(j)})?T():o().toOptional().filter(function(j){return!ks(j.element,H)}).each(T)})}),s(Fg,function(m,p,w){p.onTabChange(m,{newTabName:w.name,oldTabName:w.oldName})}),Is(function(m){var p=t();At.setValue(m,p.getData())})],!1)},uI={initUrlDialog:_W,initDialog:BW},MW=function(t,r){return LT(t,t.type,r)},NW=function(t,r,o){return Ct(r,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},PW=function(t,r){var o=r.map(function(w){return w.footerButtons}).getOr([]),s=st(o,function(w){return w.align==="start"}),v=function(w,S){return Au.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+w]},components:ut(S,function(T){return T.memento.asSpec()})})},m=v("start",s.pass),p=v("end",s.fail);return[m,p]},l$=function(t,r){var o=function(s,v){var m=ut(v.buttons,function(w){var S=Gr(MW(w,r));return{name:w.name,align:w.align,memento:S}}),p=function(w,S){return NW(w,m,S)};return A.some({lookupByName:p,footerButtons:m})};return{dom:Jd('<div class="tox-dialog__footer"></div>'),components:[],behaviours:wt([Cl.config({channel:jz,initialData:t,updateState:o,renderComponents:PW})])}},FW=function(t,r){return l$(t,r)},f$=function(t,r){return Ni.parts.footer(l$(t,r))},sI=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var s=sr.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Sb.getField(s,r).fold(function(){var v=t.getFooter(),m=Cl.getState(v);return m.get().bind(function(p){return p.lookupByName(s,r)})},function(v){return A.some(v)})}else return A.none()},IW=function(t,r){var o=t.getRoot();return Cl.getState(o).get().map(function(s){return xc(Wa("data",s.dataValidator,r))}).getOr(r)},v$=function(t,r,o){var s=function(ee){var ce=t.getRoot();ce.getSystem().isConnected()&&ee(ce)},v=function(){var ee=t.getRoot(),ce=ee.getSystem().isConnected()?t.getFormWrapper():ee,Y=At.getValue(ce),de=Br(o,function(Re){return Re.get()});return oe(oe({},Y),de)},m=function(ee){s(function(ce){var Y=j.getData(),de=oe(oe({},Y),ee),Re=IW(t,de),De=t.getFormWrapper();At.setValue(De,Re),aa(o,function(fe,Te){wr(de,Te)&&fe.set(de[Te])})})},p=function(ee){sI(t,ee).each(mn.disable)},w=function(ee){sI(t,ee).each(mn.enable)},S=function(ee){sI(t,ee).each(On.focus)},T=function(ee){if(!Fn(ee))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(ce){bn(ce,V4,{message:ee})})},D=function(){s(function(ee){_r(ee,U4)})},_=function(ee){s(function(ce){var Y=t.getBody(),de=Cl.getState(Y);de.get().exists(function(Re){return Re.isTabPanel()})&&sr.getCurrent(Y).each(function(Re){f3.showTab(Re,ee)})})},z=function(ee){s(function(ce){var Y=r(ee);ce.getSystem().broadcastOn([oI],Y),ce.getSystem().broadcastOn([Uz],Y.internalDialog),ce.getSystem().broadcastOn([Wz],Y.internalDialog),ce.getSystem().broadcastOn([jz],Y.internalDialog),j.setData(Y.initialData)})},H=function(){s(function(ee){_r(ee,bC)})},j={getData:v,setData:m,disable:p,enable:w,focus:S,block:T,unblock:D,showTab:_,redial:z,close:H};return j},zW=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},$W=function(t,r,o){var s=r$(t.internalDialog.title,o),v=kW({body:t.internalDialog.body},o),m=u$(t.internalDialog.buttons),p=s$(m),w=f$({buttons:m},o),S=uI.initDialog(function(){return H},o$(function(){return _},o.shared.providers,r),o.shared.getSink),T=zW(t.internalDialog.size),D={header:s,body:v,footer:A.some(w),extraClasses:T,extraBehaviours:[],extraStyles:{}},_=i$(D,t,S,o),z=function(){var j=function(){var ee=Ni.getBody(_);return sr.getCurrent(ee).getOr(ee)};return{getRoot:ve(_),getBody:function(){return Ni.getBody(_)},getFooter:function(){return Ni.getFooter(_)},getFormWrapper:j}}(),H=v$(z,r.redial,p);return{dialog:_,instanceApi:H}},LW=function(t,r,o,s){var v,m,p=qt("dialog-label"),w=qt("dialog-content"),S=function(Y,de){return A.some(de)},T=Gr(DW({title:t.internalDialog.title,draggable:!0},p,o.shared.providers)),D=Gr(EW({body:t.internalDialog.body},w,o,s)),_=u$(t.internalDialog.buttons),z=s$(_),H=Gr(FW({buttons:_},o)),j=uI.initDialog(function(){return ce},{onBlock:function(Y){Qv.block(ee,function(de,Re){return a$(Y.message,Re,o.shared.providers)})},onUnblock:function(){Qv.unblock(ee)},onClose:function(){return r.closeWindow()}},o.shared.getSink),ee=Ma({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(v={role:"dialog"},v["aria-labelledby"]=p,v["aria-describedby"]=w,v)},eventOrder:(m={},m[tc()]=[Cl.name(),ru.name()],m[Ns()]=["execute-on-form"],m[ss()]=["reflecting","execute-on-form"],m),behaviours:wt([nn.config({mode:"cyclic",onEscape:function(Y){return _r(Y,bC),A.some(!0)},useTabstopAt:function(Y){return!AC(Y)&&(_n(Y)!=="button"||_a(Y,"disabled")!=="disabled")}}),Cl.config({channel:oI,updateState:S,initialData:t}),On.config({}),$n("execute-on-form",j.concat([xo(ec(),function(Y,de){nn.focusIn(Y)})])),Qv.config({getRoot:function(){return A.some(ee)}}),An.config({}),Ap.memory({})]),components:[T.asSpec(),D.asSpec(),H.asSpec()]}),ce=v$({getRoot:ve(ee),getFooter:function(){return H.get(ee)},getBody:function(){return D.get(ee)},getFormWrapper:function(){var Y=D.get(ee);return sr.getCurrent(Y).getOr(Y)}},r.redial,z);return{dialog:ee,instanceApi:ce}},cI=tinymce.util.Tools.resolve("tinymce.util.URI"),HW=function(t){var r=function(p){t.getSystem().isConnected()&&p(t)},o=function(p){if(!Fn(p))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(w){bn(w,V4,{message:p})})},s=function(){r(function(p){_r(p,U4)})},v=function(){r(function(p){_r(p,bC)})},m=function(p){r(function(w){w.getSystem().broadcastOn([Gz],p)})};return{block:o,unblock:s,close:v,sendMessage:m}},VW=["insertContent","setContent","execCommand","close","block","unblock"],d$=function(t){return Wr(t)&&VW.indexOf(t.mceAction)!==-1},UW=function(t){return!d$(t)&&Wr(t)&&wr(t,"mceAction")},WW=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=en(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},jW=function(t,r,o,s){var v,m=r$(t.title,s),p=AW(t),w=t.buttons.bind(function(de){return de.length===0?A.none():A.some(f$({buttons:de},s))}),S=uI.initUrlDialog(function(){return Y},o$(function(){return ce},s.shared.providers,r)),T=oe(oe({},t.height.fold(function(){return{}},function(de){return{height:de+"px","max-height":de+"px"}})),t.width.fold(function(){return{}},function(de){return{width:de+"px","max-width":de+"px"}})),D=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],_=new cI(t.url,{base_uri:new cI(window.location.href)}),z=_.protocol+"://"+_.host+(_.port?":"+_.port:""),H=Gm(),j=[$n("messages",[zn(function(){var de=ho(ne.fromDom(window),"message",function(Re){if(_.isSameOrigin(new cI(Re.raw.origin))){var De=Re.raw.data;d$(De)?WW(o,Y,De):UW(De)&&t.onMessage(Y,De)}});H.set(de)}),Is(H.clear)]),ru.config({channels:(v={},v[Gz]={onReceive:function(de,Re){Vo(de.element,"iframe").each(function(De){var fe=De.dom.contentWindow;fe.postMessage(Re,z)})}},v)})],ee={header:m,body:p,footer:w,extraClasses:D,extraBehaviours:j,extraStyles:T},ce=i$(ee,t,S,s),Y=HW(ce);return{dialog:ce,instanceApi:Y}},GW=function(t){var r=t.backstage.shared,o=function(s,v){var m=function(){Ni.hide(T),v()},p=Gr(LT({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:A.none()},"cancel",t.backstage)),w=Yz(),S=Xz(m,r.providers),T=Ma(iI({lazySink:function(){return r.getSink()},header:Kz(w,S),body:Zz(s,r.providers),footer:A.some(Jz(Qz([],[p.asSpec()]))),onEscape:m,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Xe(Ep,m)],eventOrder:{}}));Ni.show(T);var D=p.get(T);On.focus(D)};return{open:o}},qW=function(t){var r=t.backstage.shared,o=function(s,v){var m=function(z){Ni.hide(D),v(z)},p=Gr(LT({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:A.none()},"submit",t.backstage)),w=LT({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:A.none()},"cancel",t.backstage),S=Yz(),T=Xz(function(){return m(!1)},r.providers),D=Ma(iI({lazySink:function(){return r.getSink()},header:Kz(S,T),body:Zz(s,r.providers),footer:A.some(Jz(Qz([],[w,p.asSpec()]))),onEscape:function(){return m(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Xe(Ep,function(){return m(!1)}),Xe(yC,function(){return m(!0)})],eventOrder:{}}));Ni.show(D);var _=p.get(D);On.focus(_)};return{open:o}},KW=function(t,r){return xc(Wa("data",r,t))},XW=function(t){return hC(t,".tox-alert-dialog")||hC(t,".tox-confirm-dialog")},YW=function(t,r,o){return r&&o?[]:[e.config({contextual:{lazyContext:function(){return A.some(So(ne.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},ZW=function(t){var r=t.backstage,o=t.editor,s=Vx(o),v=GW(t),m=qW(t),p=function(j,ee,ce){return ee!==void 0&&ee.inline==="toolbar"?D(j,r.shared.anchors.inlineDialog(),ce,ee.ariaAttrs):ee!==void 0&&ee.inline==="cursor"?D(j,r.shared.anchors.cursor(),ce,ee.ariaAttrs):T(j,ce)},w=function(j,ee){return S(j,ee)},S=function(j,ee){var ce=function(Y){var de=jW(Y,{closeWindow:function(){Ni.hide(de.dialog),ee(de.instanceApi)}},o,r);return Ni.show(de.dialog),de.instanceApi};return bO.openUrl(ce,j)},T=function(j,ee){var ce=function(Y,de,Re){var De=de,fe={dataValidator:Re,initialData:De,internalDialog:Y},Te=$W(fe,{redial:bO.redial,closeWindow:function(){Ni.hide(Te.dialog),ee(Te.instanceApi)}},r);return Ni.show(Te.dialog),Te.instanceApi.setData(De),Te.instanceApi};return bO.open(ce,j)},D=function(j,ee,ce,Y){var de=function(Re,De,fe){var Te=KW(De,fe),Le=co(),Ot=r.shared.header.isPositionedAtTop(),Ke={dataValidator:fe,initialData:Te,internalDialog:Re},Dt=function(){return Le.on(function(pt){ea.reposition(pt),e.refresh(pt)})},Je=LW(Ke,{redial:bO.redial,closeWindow:function(){Le.on(ea.hide),o.off("ResizeEditor",Dt),Le.clear(),ce(Je.instanceApi)}},r,Y),$e=Ma(ea.sketch(oe(oe({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},Ot?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:wt(mt([$n("window-manager-inline-events",[Xe(Ac(),function(pt,Kt){_r(Je.dialog,Ep)})])],YW(o,s,Ot),!0)),isExtraPart:function(pt,Kt){return XW(Kt)}})));return Le.set($e),ea.showWithin($e,Hs(Je.dialog),{anchor:ee},A.some(ni())),(!s||!Ot)&&(e.refresh($e),o.on("ResizeEditor",Dt)),Je.instanceApi.setData(Te),nn.focusIn(Je.dialog),Je.instanceApi};return bO.open(de,j)},_=function(j,ee){m.open(j,function(ce){ee(ce)})},z=function(j,ee){v.open(j,function(){ee()})},H=function(j){j.close()};return{open:p,openUrl:w,alert:z,close:H,confirm:_}};function JW(){Jn.add("silver",function(t){var r=MV(t),o=r.uiMothership,s=r.backstage,v=r.renderUI,m=r.getUi;Pg.register(t,s.shared);var p=ZW({editor:t,backstage:s});return{renderUI:v,getWindowManagerImpl:ve(p),getNotificationManagerImpl:function(){return Zk(t,{backstage:s},o)},ui:m()}})}JW()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gn=function(L,mt,Hn){var Ze=mt==="UL"?"InsertUnorderedList":"InsertOrderedList";L.execCommand(Ze,!1,Hn===!1?null:{"list-style-type":Hn})},Ta=function(L){L.addCommand("ApplyUnorderedListStyle",function(mt,Hn){Gn(L,"UL",Hn["list-style-type"])}),L.addCommand("ApplyOrderedListStyle",function(mt,Hn){Gn(L,"OL",Hn["list-style-type"])})},ra=tinymce.util.Tools.resolve("tinymce.util.Tools"),Fn=function(L){var mt=L.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return mt?mt.split(/[ ,]/):[]},Wr=function(L){var mt=L.getParam("advlist_bullet_styles","default,circle,square");return mt?mt.split(/[ ,]/):[]},tr=function(){},kr=function(L){return function(){return L}},en=function(L){return L},wa=kr(!1),sa=kr(!0),it=function(){return Zt},Zt=function(){var L=function(Ze){return Ze()},mt=en,Hn={fold:function(Ze,nr){return Ze()},isSome:wa,isNone:sa,getOr:mt,getOrThunk:L,getOrDie:function(Ze){throw new Error(Ze||"error: getOrDie called on none.")},getOrNull:kr(null),getOrUndefined:kr(void 0),or:mt,orThunk:L,map:it,each:tr,bind:it,exists:wa,forall:sa,filter:function(){return it()},toArray:function(){return[]},toString:kr("none()")};return Hn}(),er=function(L){var mt=kr(L),Hn=function(){return nr},Ze=function(Rn){return Rn(L)},nr={fold:function(Rn,A){return A(L)},isSome:sa,isNone:wa,getOr:mt,getOrThunk:mt,getOrDie:mt,getOrNull:mt,getOrUndefined:mt,or:Hn,orThunk:Hn,map:function(Rn){return er(Rn(L))},each:function(Rn){Rn(L)},bind:Ze,exists:Ze,forall:Ze,filter:function(Rn){return Rn(L)?nr:Zt},toArray:function(){return[L]},toString:function(){return"some("+L+")"}};return nr},Mt=function(L){return L==null?Zt:er(L)},Ye={some:er,none:it,from:Mt},Nn=function(L,mt){return L.$.contains(L.getBody(),mt)},vt=function(L){return L&&/^(TH|TD)$/.test(L.nodeName)},dn=function(L){return function(mt){return mt&&/^(OL|UL|DL)$/.test(mt.nodeName)&&Nn(L,mt)}},ve=function(L){var mt=L.dom.getParent(L.selection.getNode(),"ol,ul"),Hn=L.dom.getStyle(mt,"listStyleType");return Ye.from(Hn)},Lt=function(L,mt){for(var Hn=0;Hn<L.length;Hn++){var Ze=L[Hn];if(mt(Ze))return Hn}return-1},Rt=function(L){return L.replace(/\-/g," ").replace(/\b\w/g,function(mt){return mt.toUpperCase()})},Tr=function(L,mt,Hn){var Ze=Lt(mt.parents,vt),nr=Ze!==-1?mt.parents.slice(0,Ze):mt.parents,Rn=ra.grep(nr,dn(L));return Rn.length>0&&Rn[0].nodeName===Hn},Sn=function(L,mt){return function(Hn){var Ze=function(nr){Hn.setActive(Tr(L,nr,mt))};return L.on("NodeChange",Ze),function(){return L.off("NodeChange",Ze)}}},Ie=function(L,mt,Hn,Ze,nr,Rn){L.ui.registry.addSplitButton(mt,{tooltip:Hn,icon:nr==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(A){var Cr=ra.map(Rn,function(at){var Nt=nr==="OL"?"num":"bull",ca=at==="disc"||at==="decimal"?"default":at,yo=at==="default"?"":at,In=Rt(at);return{type:"choiceitem",value:yo,icon:"list-"+Nt+"-"+ca,text:In}});A(Cr)},onAction:function(){return L.execCommand(Ze)},onItemAction:function(A,Cr){Gn(L,nr,Cr)},select:function(A){var Cr=ve(L);return Cr.map(function(at){return A===at}).getOr(!1)},onSetup:Sn(L,nr)})},Bt=function(L,mt,Hn,Ze,nr,Rn){L.ui.registry.addToggleButton(mt,{active:!1,tooltip:Hn,icon:nr==="OL"?"ordered-list":"unordered-list",onSetup:Sn(L,nr),onAction:function(){return L.execCommand(Ze)}})},Qe=function(L,mt,Hn,Ze,nr,Rn){Rn.length>1?Ie(L,mt,Hn,Ze,nr,Rn):Bt(L,mt,Hn,Ze,nr)},Jn=function(L){Qe(L,"numlist","Numbered list","InsertOrderedList","OL",Fn(L)),Qe(L,"bullist","Bullet list","InsertUnorderedList","UL",Wr(L))};function oe(){bo.add("advlist",function(L){L.hasPlugin("lists")?(Jn(L),Ta(L)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}oe()})();(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gn=function(Ie,Bt,Qe){return Bt===""||Ie.length>=Bt.length&&Ie.substr(Qe,Qe+Bt.length)===Bt},Ta=function(Ie,Bt){return Ie.indexOf(Bt)!==-1},ra=function(Ie,Bt){return Gn(Ie,Bt,0)},Fn=tinymce.util.Tools.resolve("tinymce.Env"),Wr=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},tr=new RegExp("^"+Wr().source+"$","i"),kr=function(Ie){return Ie.getParam("autolink_pattern",tr)},en=function(Ie){return Ie.getParam("default_link_target",!1)},wa=function(Ie){return Ie.getParam("link_default_protocol","http","string")},sa=function(Ie){return/^[(\[{ \u00a0]$/.test(Ie)},it=function(Ie){return Ie.nodeType===3},Zt=function(Ie){return Ie.nodeType===1},er=function(Ie){return Rt(Ie,-1)},Mt=function(Ie){return Rt(Ie,0)},Ye=function(Ie){return Rt(Ie,-1)},Nn=function(Ie,Bt){if(Bt<0&&(Bt=0),it(Ie)){var Qe=Ie.data.length;Bt>Qe&&(Bt=Qe)}return Bt},vt=function(Ie,Bt,Qe){!Zt(Bt)||Bt.hasChildNodes()?Ie.setStart(Bt,Nn(Bt,Qe)):Ie.setStartBefore(Bt)},dn=function(Ie,Bt,Qe){!Zt(Bt)||Bt.hasChildNodes()?Ie.setEnd(Bt,Nn(Bt,Qe)):Ie.setEndAfter(Bt)},ve=function(Ie){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Ie)},Lt=function(Ie){return/[?!,.;:]/.test(Ie)},Rt=function(Ie,Bt){var Qe,Jn,oe,L,mt,Hn,Ze,nr=kr(Ie),Rn=en(Ie);if(Ie.dom.getParent(Ie.selection.getNode(),"a[href]")===null){var A=Ie.selection.getRng().cloneRange();if(A.startOffset<5){if(mt=A.endContainer.previousSibling,!mt){if(!A.endContainer.firstChild||!A.endContainer.firstChild.nextSibling)return;mt=A.endContainer.firstChild.nextSibling}if(Hn=mt.length,vt(A,mt,Hn),dn(A,mt,Hn),A.endOffset<5)return;Qe=A.endOffset,Jn=mt}else{if(Jn=A.endContainer,!it(Jn)&&Jn.firstChild){for(;!it(Jn)&&Jn.firstChild;)Jn=Jn.firstChild;it(Jn)&&(vt(A,Jn,0),dn(A,Jn,Jn.nodeValue.length))}A.endOffset===1?Qe=2:Qe=A.endOffset-1-Bt}var Cr=Qe;do vt(A,Jn,Qe>=2?Qe-2:0),dn(A,Jn,Qe>=1?Qe-1:0),Qe-=1,Ze=A.toString();while(!sa(Ze)&&Qe-2>=0);sa(A.toString())?(vt(A,Jn,Qe),dn(A,Jn,Cr),Qe+=1):A.startOffset===0?(vt(A,Jn,0),dn(A,Jn,Cr)):(vt(A,Jn,Qe),dn(A,Jn,Cr)),L=A.toString(),Lt(L.charAt(L.length-1))&&dn(A,Jn,Cr-1),L=A.toString().trim();var at=L.match(nr),Nt=wa(Ie);if(at){var ca=at[0];ra(ca,"www.")?ca=Nt+"://"+ca:Ta(ca,"@")&&!ve(ca)&&(ca="mailto:"+ca),oe=Ie.selection.getBookmark(),Ie.selection.setRng(A),Ie.execCommand("createlink",!1,ca),Rn!==!1&&Ie.dom.setAttrib(Ie.selection.getNode(),"target",Rn),Ie.selection.moveToBookmark(oe),Ie.nodeChanged()}}},Tr=function(Ie){var Bt;if(Ie.on("keydown",function(Qe){if(Qe.keyCode===13)return Ye(Ie)}),Fn.browser.isIE()){Ie.on("focus",function(){if(!Bt){Bt=!0;try{Ie.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}Ie.on("keypress",function(Qe){if(Qe.keyCode===41||Qe.keyCode===93||Qe.keyCode===125)return er(Ie)}),Ie.on("keyup",function(Qe){if(Qe.keyCode===32)return Mt(Ie)})};function Sn(){bo.add("autolink",function(Ie){Tr(Ie)})}Sn()})();(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gn=tinymce.util.Tools.resolve("tinymce.util.VK"),Ta=function(V){var se=typeof V;return V===null?"null":se==="object"&&(Array.prototype.isPrototypeOf(V)||V.constructor&&V.constructor.name==="Array")?"array":se==="object"&&(String.prototype.isPrototypeOf(V)||V.constructor&&V.constructor.name==="String")?"string":se},ra=function(V){return function(se){return Ta(se)===V}},Fn=function(V){return function(se){return typeof se===V}},Wr=function(V){return function(se){return V===se}},tr=ra("string"),kr=ra("array"),en=Wr(null),wa=Fn("boolean"),sa=Fn("function"),it=function(){},Zt=function(V){return function(){return V}},er=function(V){return V},Mt=function(V,se){return V===se},Ye=Zt(!1),Nn=Zt(!0),vt=function(){return dn},dn=function(){var V=function(Ve){return Ve()},se=er,we={fold:function(Ve,ht){return Ve()},isSome:Ye,isNone:Nn,getOr:se,getOrThunk:V,getOrDie:function(Ve){throw new Error(Ve||"error: getOrDie called on none.")},getOrNull:Zt(null),getOrUndefined:Zt(void 0),or:se,orThunk:V,map:vt,each:it,bind:vt,exists:Ye,forall:Nn,filter:function(){return vt()},toArray:function(){return[]},toString:Zt("none()")};return we}(),ve=function(V){var se=Zt(V),we=function(){return ht},Ve=function(tn){return tn(V)},ht={fold:function(tn,Nr){return Nr(V)},isSome:Nn,isNone:Ye,getOr:se,getOrThunk:se,getOrDie:se,getOrNull:se,getOrUndefined:se,or:we,orThunk:we,map:function(tn){return ve(tn(V))},each:function(tn){tn(V)},bind:Ve,exists:Ve,forall:Ve,filter:function(tn){return tn(V)?ht:dn},toArray:function(){return[V]},toString:function(){return"some("+V+")"}};return ht},Lt=function(V){return V==null?dn:ve(V)},Rt={some:ve,none:vt,from:Lt},Tr=Array.prototype.indexOf,Sn=Array.prototype.push,Ie=function(V,se){return Tr.call(V,se)},Bt=function(V,se){return Ie(V,se)>-1},Qe=function(V,se){for(var we=V.length,Ve=new Array(we),ht=0;ht<we;ht++){var tn=V[ht];Ve[ht]=se(tn,ht)}return Ve},Jn=function(V,se){for(var we=0,Ve=V.length;we<Ve;we++){var ht=V[we];se(ht,we)}},oe=function(V,se,we){return Jn(V,function(Ve,ht){we=se(we,Ve,ht)}),we},L=function(V){for(var se=[],we=0,Ve=V.length;we<Ve;++we){if(!kr(V[we]))throw new Error("Arr.flatten item "+we+" was not an array, input: "+V);Sn.apply(se,V[we])}return se},mt=function(V,se){return L(Qe(V,se))},Hn=function(V,se){for(var we=0;we<V.length;we++){var Ve=se(V[we],we);if(Ve.isSome())return Ve}return Rt.none()},Ze=function(V,se,we){return we===void 0&&(we=Mt),V.exists(function(Ve){return we(Ve,se)})},nr=function(V){for(var se=[],we=function(ht){se.push(ht)},Ve=0;Ve<V.length;Ve++)V[Ve].each(we);return se},Rn=function(V,se){return V?Rt.some(se):Rt.none()},A=function(V){var se=V.getParam("link_assume_external_targets",!1);return wa(se)&&se?1:tr(se)&&(se==="http"||se==="https")?se:0},Cr=function(V){return V.getParam("link_context_toolbar",!1,"boolean")},at=function(V){return V.getParam("link_list")},Nt=function(V){return V.getParam("default_link_target")},ca=function(V){return V.getParam("target_list",!0)},yo=function(V){return V.getParam("rel_list",[],"array")},In=function(V){return V.getParam("link_class_list",[],"array")},Jr=function(V){return V.getParam("link_title",!0,"boolean")},Z=function(V){return V.getParam("allow_unsafe_link_target",!1,"boolean")},Co=function(V){return V.getParam("link_quicklink",!1,"boolean")},ut=function(V){return V.getParam("link_default_protocol","http","string")},Ut=tinymce.util.Tools.resolve("tinymce.util.Tools"),Eo=function(V){return tr(V.value)?V.value:""},st=function(V){return tr(V.text)?V.text:tr(V.title)?V.title:""},We=function(V,se){var we=[];return Ut.each(V,function(Ve){var ht=st(Ve);if(Ve.menu!==void 0){var tn=We(Ve.menu,se);we.push({text:ht,items:tn})}else{var Nr=se(Ve);we.push({text:ht,value:Nr})}}),we},be=function(V){return V===void 0&&(V=Eo),function(se){return Rt.from(se).map(function(we){return We(we,V)})}},Ee=function(V){return be(Eo)(V)},Ce=function(V,se){return function(we){return{name:V,type:"listbox",label:se,items:we}}},Ct={sanitize:Ee,sanitizeWith:be,createUi:Ce,getValue:Eo},Xt=function(){return Xt=Object.assign||function(se){for(var we,Ve=1,ht=arguments.length;Ve<ht;Ve++){we=arguments[Ve];for(var tn in we)Object.prototype.hasOwnProperty.call(we,tn)&&(se[tn]=we[tn])}return se},Xt.apply(this,arguments)},xt=Object.keys,Qn=Object.hasOwnProperty,rr=function(V,se){for(var we=xt(V),Ve=0,ht=we.length;Ve<ht;Ve++){var tn=we[Ve],Nr=V[tn];se(Nr,tn)}},fn=function(V){return function(se,we){V[we]=se}},jr=function(V,se,we,Ve){var ht={};return rr(V,function(tn,Nr){(se(tn,Nr)?we:Ve)(tn,Nr)}),ht},ko=function(V,se){var we={};return jr(V,se,fn(we),it),we},Yi=function(V,se){return Qn.call(V,se)},Pi=function(V,se){return Yi(V,se)&&V[se]!==void 0&&V[se]!==null},mi=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ta=tinymce.util.Tools.resolve("tinymce.util.URI"),Ka=function(V){return V&&V.nodeName.toLowerCase()==="a"},fo=function(V){return Ka(V)&&!!Xa(V)},na=function(V,se){if(V.collapsed)return[];var we=V.cloneContents(),Ve=new mi(we.firstChild,we),ht=[],tn=we.firstChild;do se(tn)&&ht.push(tn);while(tn=Ve.next());return ht},la=function(V){return/^\w+:/i.test(V)},Xa=function(V){var se=V.getAttribute("data-mce-href");return se||V.getAttribute("href")},aa=function(V,se){var we=["noopener"],Ve=V?V.split(/\s+/):[],ht=function(Kn){return Ut.trim(Kn.sort().join(" "))},tn=function(Kn){return Kn=Nr(Kn),Kn.length>0?Kn.concat(we):we},Nr=function(Kn){return Kn.filter(function(ka){return Ut.inArray(we,ka)===-1})},Qr=se?tn(Ve):Nr(Ve);return Qr.length>0?ht(Qr):""},Br=function(V){return V.replace(/\uFEFF/g,"")},Me=function(V,se){return se=se||V.selection.getNode(),Ar(se)?V.dom.select("a[href]",se)[0]:V.dom.getParent(se,"a[href]")},Pt=function(V,se){var we=se?se.innerText||se.textContent:V.getContent({format:"text"});return Br(we)},vn=function(V){return Ut.grep(V,fo).length>0},zt=function(V){return na(V,fo).length>0},gr=function(V){var se=V.schema.getTextInlineElements(),we=function(ht){return ht.nodeType===1&&!Ka(ht)&&!Yi(se,ht.nodeName.toLowerCase())},Ve=na(V.selection.getRng(),we);return Ve.length===0},Ar=function(V){return V&&V.nodeName==="FIGURE"&&/\bimage\b/i.test(V.className)},Ha=function(V){var se=["title","rel","class","target"];return oe(se,function(we,Ve){return V[Ve].each(function(ht){we[Ve]=ht.length>0?ht:null}),we},{href:V.href})},rn=function(V,se){return(se==="http"||se==="https")&&!la(V)?se+"://"+V:V},wr=function(V,se){var we=Xt({},se);if(!(yo(V).length>0)&&Z(V)===!1){var Ve=aa(we.rel,we.target==="_blank");we.rel=Ve||null}return Rt.from(we.target).isNone()&&ca(V)===!1&&(we.target=Nt(V)),we.href=rn(we.href,A(V)),we},Ea=function(V,se,we,Ve){we.each(function(ht){Yi(se,"innerText")?se.innerText=ht:se.textContent=ht}),V.dom.setAttribs(se,Ve),V.selection.select(se)},gi=function(V,se,we,Ve){Ar(se)?Cs(V,se,Ve):we.fold(function(){V.execCommand("mceInsertLink",!1,Ve)},function(ht){V.insertContent(V.dom.createHTML("a",Ve,V.dom.encode(ht)))})},ys=function(V,se,we){var Ve=V.selection.getNode(),ht=Me(V,Ve),tn=wr(V,Ha(we));V.undoManager.transact(function(){we.href===se.href&&se.attach(),ht?(V.focus(),Ea(V,ht,we.text,tn)):gi(V,Ve,we.text,tn)})},Mr=function(V){var se=V.dom,we=V.selection,Ve=we.getBookmark(),ht=we.getRng().cloneRange(),tn=se.getParent(ht.startContainer,"a[href]",V.getBody()),Nr=se.getParent(ht.endContainer,"a[href]",V.getBody());tn&&ht.setStartBefore(tn),Nr&&ht.setEndAfter(Nr),we.setRng(ht),V.execCommand("unlink"),we.moveToBookmark(Ve)},qn=function(V){V.undoManager.transact(function(){var se=V.selection.getNode();Ar(se)?Zu(V,se):Mr(V),V.focus()})},Zi=function(V){var se=V.class,we=V.href,Ve=V.rel,ht=V.target,tn=V.text,Nr=V.title;return ko({class:se.getOrNull(),href:we,rel:Ve.getOrNull(),target:ht.getOrNull(),text:tn.getOrNull(),title:Nr.getOrNull()},function(Qr,Kn){return en(Qr)===!1})},Vc=function(V,se){var we=se.href;return Xt(Xt({},se),{href:ta.isDomSafe(we,"a",V.settings)?we:""})},Fi=function(V,se,we){var Ve=Vc(V,we);V.hasPlugin("rtc",!0)?V.execCommand("createlink",!1,Zi(Ve)):ys(V,se,Ve)},Ii=function(V){V.hasPlugin("rtc",!0)?V.execCommand("unlink"):qn(V)},Zu=function(V,se){var we=V.dom.select("img",se)[0];if(we){var Ve=V.dom.getParents(we,"a[href]",se)[0];Ve&&(Ve.parentNode.insertBefore(we,Ve),V.dom.remove(Ve))}},Cs=function(V,se,we){var Ve=V.dom.select("img",se)[0];if(Ve){var ht=V.dom.create("a",we);Ve.parentNode.insertBefore(ht,Ve),ht.appendChild(Ve)}},Bu=function(V){return Pi(V,"items")},zi=function(V,se){return Hn(se,function(we){return Bu(we)?zi(V,we.items):Rn(we.value===V,we)})},ws=function(V,se,we,Ve){var ht=Ve[se],tn=V.length>0;return ht!==void 0?zi(ht,we).map(function(Nr){return{url:{value:Nr.value,meta:{text:tn?V:Nr.text,attach:it}},text:tn?V:Nr.text}}):Rt.none()},Lr=function(V,se){return se==="link"?V.link:se==="anchor"?V.anchor:Rt.none()},lu=function(V,se){var we={text:V.text,title:V.title},Ve=function(Kn){return Rn(we.title.length<=0,Rt.from(Kn.meta.title).getOr(""))},ht=function(Kn){return Rn(we.text.length<=0,Rt.from(Kn.meta.text).getOr(Kn.value))},tn=function(Kn){var ka=ht(Kn.url),Ra=Ve(Kn.url);return ka.isSome()||Ra.isSome()?Rt.some(Xt(Xt({},ka.map(function(yc){return{text:yc}}).getOr({})),Ra.map(function(yc){return{title:yc}}).getOr({}))):Rt.none()},Nr=function(Kn,ka){var Ra=Lr(se,ka.name).getOr([]);return ws(we.text,ka.name,Ra,Kn)},Qr=function(Kn,ka){var Ra=ka.name;return Ra==="url"?tn(Kn()):Bt(["anchor","link"],Ra)?Nr(Kn(),ka):((Ra==="text"||Ra==="title")&&(we[Ra]=Kn()[Ra]),Rt.none())};return{onChange:Qr}},gn={init:lu,getDelta:ws},Uc=tinymce.util.Tools.resolve("tinymce.util.Delay"),hi=tinymce.util.Tools.resolve("tinymce.util.Promise"),fu=function(V,se,we){var Ve=V.selection.getRng();Uc.setEditorTimeout(V,function(){V.windowManager.confirm(se,function(ht){V.selection.setRng(Ve),we(ht)})})},pi=function(V){var se=V.href,we=se.indexOf("@")>0&&se.indexOf("/")===-1&&se.indexOf("mailto:")===-1;return we?Rt.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Ve){return Xt(Xt({},Ve),{href:"mailto:"+se})}}):Rt.none()},Mu=function(V,se){return function(we){var Ve=we.href,ht=V===1&&!la(Ve)||V===0&&/^\s*www(\.|\d\.)/i.test(Ve);return ht?Rt.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+se+":// prefix?",preprocess:function(tn){return Xt(Xt({},tn),{href:se+"://"+Ve})}}):Rt.none()}},xl=function(V,se){return Hn([pi,Mu(A(V),ut(V))],function(we){return we(se)}).fold(function(){return hi.resolve(se)},function(we){return new hi(function(Ve){fu(V,we.message,function(ht){Ve(ht?we.preprocess(se):se)})})})},vu={preprocess:xl},Wc=function(V){var se=V.dom.select("a:not([href])"),we=mt(se,function(Ve){var ht=Ve.name||Ve.id;return ht?[{text:ht,value:"#"+ht}]:[]});return we.length>0?Rt.some([{text:"None",value:""}].concat(we)):Rt.none()},J={getAnchors:Wc},ge=function(V){var se=In(V);return se.length>0?Ct.sanitize(se):Rt.none()},ne={getClasses:ge},ke=tinymce.util.Tools.resolve("tinymce.util.XHR"),Tt=function(V){try{return Rt.some(JSON.parse(V))}catch{return Rt.none()}},jt=function(V){var se=function(Ve){return V.convertURL(Ve.value||Ve.url,"href")},we=at(V);return new hi(function(Ve){tr(we)?ke.send({url:we,success:function(ht){return Ve(Tt(ht))},error:function(ht){return Ve(Rt.none())}}):sa(we)?we(function(ht){return Ve(Rt.some(ht))}):Ve(Rt.from(we))}).then(function(Ve){return Ve.bind(Ct.sanitizeWith(se)).map(function(ht){if(ht.length>0){var tn=[{text:"None",value:""}];return tn.concat(ht)}else return ht})})},Tn={getLinks:jt},_n=function(V,se){var we=yo(V);if(we.length>0){var Ve=Ze(se,"_blank"),ht=Z(V)===!1,tn=function(Qr){return aa(Ct.getValue(Qr),Ve)},Nr=ht?Ct.sanitizeWith(tn):Ct.sanitize;return Nr(we)}return Rt.none()},Or={getRels:_n},Er=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],hr=function(V){var se=ca(V);return kr(se)?Ct.sanitize(se).orThunk(function(){return Rt.some(Er)}):se===!1?Rt.none():Rt.some(Er)},Ya={getTargets:hr},Pa=function(V,se,we){var Ve=V.getAttrib(se,we);return Ve!==null&&Ve.length>0?Rt.some(Ve):Rt.none()},Ju=function(V,se){var we=V.dom,Ve=gr(V),ht=Ve?Rt.some(Pt(V.selection,se)):Rt.none(),tn=se?Rt.some(we.getAttrib(se,"href")):Rt.none(),Nr=se?Rt.from(we.getAttrib(se,"target")):Rt.none(),Qr=Pa(we,se,"rel"),Kn=Pa(we,se,"class"),ka=Pa(we,se,"title");return{url:tn,text:ht,title:ka,target:Nr,rel:Qr,linkClass:Kn}},Po=function(V,se){return Tn.getLinks(V).then(function(we){var Ve=Ju(V,se);return{anchor:Ve,catalogs:{targets:Ya.getTargets(V),rels:Or.getRels(V,Ve.target),classes:ne.getClasses(V),anchor:J.getAnchors(V),link:we},optNode:Rt.from(se),flags:{titleEnabled:Jr(V)}}})},Ss={collect:Po},Ks=function(V,se){return function(we){var Ve=we.getData();if(!Ve.url.value){Ii(V),we.close();return}var ht=function(Qr){return Rt.from(Ve[Qr]).filter(function(Kn){return!Ze(se.anchor[Qr],Kn)})},tn={href:Ve.url.value,text:ht("text"),target:ht("target"),rel:ht("rel"),class:ht("linkClass"),title:ht("title")},Nr={href:Ve.url.value,attach:Ve.url.meta!==void 0&&Ve.url.meta.attach?Ve.url.meta.attach:it};vu.preprocess(V,tn).then(function(Qr){Fi(V,Nr,Qr)}),we.close()}},Fa=function(V){var se=Me(V);return Ss.collect(V,se)},Ia=function(V,se){var we=V.anchor,Ve=we.url.getOr("");return{url:{value:Ve,meta:{original:{value:Ve}}},text:we.text.getOr(""),title:we.title.getOr(""),anchor:Ve,link:Ve,rel:we.rel.getOr(""),target:we.target.or(se).getOr(""),linkClass:we.linkClass.getOr("")}},lt=function(V,se,we){var Ve=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],ht=V.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),tn=V.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Nr=Rt.from(Nt(we)),Qr=Ia(V,Nr),Kn=V.catalogs,ka=gn.init(Qr,Kn),Ra={type:"panel",items:L([Ve,ht,tn,nr([Kn.anchor.map(Ct.createUi("anchor","Anchors")),Kn.rels.map(Ct.createUi("rel","Rel")),Kn.targets.map(Ct.createUi("target","Open link in...")),Kn.link.map(Ct.createUi("link","Link list")),Kn.classes.map(Ct.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Ra,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Qr,onChange:function(yc,ti){var Xs=ti.name;ka.onChange(yc.getData,{name:Xs}).each(function(hn){yc.setData(hn)})},onSubmit:se}},Ao=function(V){var se=Fa(V);se.then(function(we){var Ve=Ks(V,we);return lt(we,Ve,V)}).then(function(we){V.windowManager.open(we)})},xs=function(V,se){document.body.appendChild(V),V.dispatchEvent(se),document.body.removeChild(V)},mf=function(V){var se=document.createElement("a");se.target="_blank",se.href=V,se.rel="noreferrer noopener";var we=document.createEvent("MouseEvents");we.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),xs(se,we)},jc=function(V,se){return V.dom.getParent(se,"a[href]")},fr=function(V){return jc(V,V.selection.getStart())},Tl=function(V){return V.altKey===!0&&V.shiftKey===!1&&V.ctrlKey===!1&&V.metaKey===!1},Ts=function(V,se){if(se){var we=Xa(se);if(/^#/.test(we)){var Ve=V.$(we);Ve.length&&V.selection.scrollIntoView(Ve[0],!0)}else mf(se.href)}},Va=function(V){return function(){Ao(V)}},Gc=function(V){return function(){Ts(V,fr(V))}},$i=function(V){V.on("click",function(se){var we=jc(V,se.target);we&&Gn.metaKeyPressed(se)&&(se.preventDefault(),Ts(V,we))}),V.on("keydown",function(se){var we=fr(V);we&&se.keyCode===13&&Tl(se)&&(se.preventDefault(),Ts(V,we))})},Ji=function(V,se){return V.on("NodeChange",se),function(){return V.off("NodeChange",se)}},ha=function(V){return function(se){var we=function(){return se.setActive(!V.mode.isReadOnly()&&Me(V,V.selection.getNode())!==null)};return we(),Ji(V,we)}},qc=function(V){return function(se){var we=function(){return se.setDisabled(Me(V,V.selection.getNode())===null)};return we(),Ji(V,we)}},Kc=function(V){return function(se){var we=function(ht){return vn(ht)||zt(V.selection.getRng())},Ve=V.dom.getParents(V.selection.getStart());return se.setDisabled(!we(Ve)),Ji(V,function(ht){return se.setDisabled(!we(ht.parents))})}},bc=function(V){V.addCommand("mceLink",function(){Co(V)?V.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Va(V)()})},El=function(V){V.addShortcut("Meta+K","",function(){V.execCommand("mceLink")})},Es=function(V){V.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Va(V),onSetup:ha(V)}),V.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Gc(V),onSetup:qc(V)}),V.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Ii(V)},onSetup:Kc(V)})},Qu=function(V){V.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Gc(V),onSetup:qc(V)}),V.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Va(V)}),V.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Ii(V)},onSetup:Kc(V)})},kl=function(V){var se="link unlink openlink",we="link";V.ui.registry.addContextMenu("link",{update:function(Ve){return vn(V.dom.getParents(Ve,"a"))?se:we}})},Nu=function(V){var se=function(ht){ht.selection.collapse(!1)},we=function(ht){var tn=V.selection.getNode();return ht.setDisabled(!Me(V,tn)),it},Ve=function(ht){var tn=Me(V),Nr=gr(V);if(!tn&&Nr){var Qr=Pt(V.selection,tn);return Rt.some(Qr.length>0?Qr:ht)}else return Rt.none()};V.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:ha(V)},label:"Link",predicate:function(ht){return!!Me(V,ht)&&Cr(V)},initValue:function(){var ht=Me(V);return ht?Xa(ht):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(ht){var tn=V.selection.getNode();return ht.setActive(!!Me(V,tn)),ha(V)(ht)},onAction:function(ht){var tn=ht.getValue(),Nr=Ve(tn),Qr={href:tn,attach:it};Fi(V,Qr,{href:tn,text:Nr,title:Rt.none(),rel:Rt.none(),target:Rt.none(),class:Rt.none()}),se(V),ht.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:we,onAction:function(ht){Ii(V),ht.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:we,onAction:function(ht){Gc(V)(),ht.hide()}}]})};function Qi(){bo.add("link",function(V){Es(V),Qu(V),kl(V),Nu(V),$i(V),bc(V),El(V)})}Qi()})();(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gn=function(){return Gn=Object.assign||function(B){for(var te,Ae=1,Ht=arguments.length;Ae<Ht;Ae++){te=arguments[Ae];for(var Pn in te)Object.prototype.hasOwnProperty.call(te,Pn)&&(B[Pn]=te[Pn])}return B},Gn.apply(this,arguments)},Ta=function(R){var B=typeof R;return R===null?"null":B==="object"&&(Array.prototype.isPrototypeOf(R)||R.constructor&&R.constructor.name==="Array")?"array":B==="object"&&(String.prototype.isPrototypeOf(R)||R.constructor&&R.constructor.name==="String")?"string":B},ra=function(R){return function(B){return Ta(B)===R}},Fn=function(R){return function(B){return typeof B===R}},Wr=function(R){return function(B){return R===B}},tr=ra("string"),kr=ra("object"),en=ra("array"),wa=Wr(null),sa=Fn("boolean"),it=function(R){return R==null},Zt=function(R){return!it(R)},er=Fn("function"),Mt=Fn("number"),Ye=function(){},Nn=function(R){return function(){return R}},vt=function(R){return R},dn=Nn(!1),ve=Nn(!0),Lt=function(){return Rt},Rt=function(){var R=function(Ae){return Ae()},B=vt,te={fold:function(Ae,Ht){return Ae()},isSome:dn,isNone:ve,getOr:B,getOrThunk:R,getOrDie:function(Ae){throw new Error(Ae||"error: getOrDie called on none.")},getOrNull:Nn(null),getOrUndefined:Nn(void 0),or:B,orThunk:R,map:Lt,each:Ye,bind:Lt,exists:dn,forall:ve,filter:function(){return Lt()},toArray:function(){return[]},toString:Nn("none()")};return te}(),Tr=function(R){var B=Nn(R),te=function(){return Ht},Ae=function(Pn){return Pn(R)},Ht={fold:function(Pn,Rr){return Rr(R)},isSome:ve,isNone:dn,getOr:B,getOrThunk:B,getOrDie:B,getOrNull:B,getOrUndefined:B,or:te,orThunk:te,map:function(Pn){return Tr(Pn(R))},each:function(Pn){Pn(R)},bind:Ae,exists:Ae,forall:Ae,filter:function(Pn){return Pn(R)?Ht:Rt},toArray:function(){return[R]},toString:function(){return"some("+R+")"}};return Ht},Sn=function(R){return R==null?Rt:Tr(R)},Ie={some:Tr,none:Lt,from:Sn},Bt=Object.keys,Qe=Object.hasOwnProperty,Jn=function(R,B){for(var te=Bt(R),Ae=0,Ht=te.length;Ae<Ht;Ae++){var Pn=te[Ae],Rr=R[Pn];B(Rr,Pn)}},oe=function(R){return function(B,te){R[te]=B}},L=function(R,B,te,Ae){var Ht={};return Jn(R,function(Pn,Rr){(B(Pn,Rr)?te:Ae)(Pn,Rr)}),Ht},mt=function(R,B){var te={};return L(R,B,oe(te),Ye),te},Hn=function(R,B){return Qe.call(R,B)},Ze=function(R,B){return Hn(R,B)&&R[B]!==void 0&&R[B]!==null},nr=Array.prototype.push,Rn=function(R){for(var B=[],te=0,Ae=R.length;te<Ae;++te){if(!en(R[te]))throw new Error("Arr.flatten item "+te+" was not an array, input: "+R);nr.apply(B,R[te])}return B},A=function(R,B){return B>=0&&B<R.length?Ie.some(R[B]):Ie.none()},Cr=function(R){return A(R,0)},at=function(R,B){for(var te=0;te<R.length;te++){var Ae=B(R[te],te);if(Ae.isSome())return Ae}return Ie.none()};typeof window<"u"||Function("return this;")();var Nt=function(R,B,te){if(tr(te)||sa(te)||Mt(te))R.setAttribute(B,te+"");else throw console.error("Invalid call to Attribute.set. Key ",B,":: Value ",te,":: Element ",R),new Error("Attribute value was not simple")},ca=function(R,B,te){Nt(R.dom,B,te)},yo=function(R,B){R.dom.removeAttribute(B)},In=function(R,B){var te=B||document,Ae=te.createElement("div");if(Ae.innerHTML=R,!Ae.hasChildNodes()||Ae.childNodes.length>1)throw console.error("HTML does not have a single root node",R),new Error("HTML must have a single root node");return Co(Ae.childNodes[0])},Jr=function(R,B){var te=B||document,Ae=te.createElement(R);return Co(Ae)},Z=function(R,B){var te=B||document,Ae=te.createTextNode(R);return Co(Ae)},Co=function(R){if(R==null)throw new Error("Node cannot be null or undefined");return{dom:R}},ut=function(R,B,te){return Ie.from(R.dom.elementFromPoint(B,te)).map(Co)},Ut={fromHtml:In,fromTag:Jr,fromText:Z,fromDom:Co,fromPoint:ut},Eo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),st=tinymce.util.Tools.resolve("tinymce.util.Promise"),We=tinymce.util.Tools.resolve("tinymce.util.URI"),be=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ee=function(R){return R.getParam("image_dimensions",!0,"boolean")},Ce=function(R){return R.getParam("image_advtab",!1,"boolean")},Ct=function(R){return R.getParam("image_uploadtab",!0,"boolean")},Xt=function(R){return R.getParam("image_prepend_url","","string")},xt=function(R){return R.getParam("image_class_list")},Qn=function(R){return R.getParam("image_description",!0,"boolean")},rr=function(R){return R.getParam("image_title",!1,"boolean")},fn=function(R){return R.getParam("image_caption",!1,"boolean")},jr=function(R){return R.getParam("image_list",!1)},ko=function(R){return Zt(R.getParam("images_upload_url"))},Yi=function(R){return Zt(R.getParam("images_upload_handler"))},Pi=function(R){return R.getParam("a11y_advanced_options",!1,"boolean")},mi=function(R){return R.getParam("automatic_uploads",!0,"boolean")},ta=function(R,B){return Math.max(parseInt(R,10),parseInt(B,10))},Ka=function(R){return new st(function(B){var te=document.createElement("img"),Ae=function(Pn){te.onload=te.onerror=null,te.parentNode&&te.parentNode.removeChild(te),B(Pn)};te.onload=function(){var Pn=ta(te.width,te.clientWidth),Rr=ta(te.height,te.clientHeight),bi={width:Pn,height:Rr};Ae(st.resolve(bi))},te.onerror=function(){Ae(st.reject("Failed to get image dimensions for: "+R))};var Ht=te.style;Ht.visibility="hidden",Ht.position="fixed",Ht.bottom=Ht.left="0px",Ht.width=Ht.height="auto",document.body.appendChild(te),te.src=R})},fo=function(R){return R&&(R=R.replace(/px$/,"")),R},na=function(R){return R.length>0&&/^[0-9]+$/.test(R)&&(R+="px"),R},la=function(R){if(R.margin){var B=String(R.margin).split(" ");switch(B.length){case 1:R["margin-top"]=R["margin-top"]||B[0],R["margin-right"]=R["margin-right"]||B[0],R["margin-bottom"]=R["margin-bottom"]||B[0],R["margin-left"]=R["margin-left"]||B[0];break;case 2:R["margin-top"]=R["margin-top"]||B[0],R["margin-right"]=R["margin-right"]||B[1],R["margin-bottom"]=R["margin-bottom"]||B[0],R["margin-left"]=R["margin-left"]||B[1];break;case 3:R["margin-top"]=R["margin-top"]||B[0],R["margin-right"]=R["margin-right"]||B[1],R["margin-bottom"]=R["margin-bottom"]||B[2],R["margin-left"]=R["margin-left"]||B[1];break;case 4:R["margin-top"]=R["margin-top"]||B[0],R["margin-right"]=R["margin-right"]||B[1],R["margin-bottom"]=R["margin-bottom"]||B[2],R["margin-left"]=R["margin-left"]||B[3]}delete R.margin}return R},Xa=function(R,B){var te=jr(R);tr(te)?be.send({url:te,success:function(Ae){B(JSON.parse(Ae))}}):er(te)?te(B):B(te)},aa=function(R,B,te){var Ae=function(){te.onload=te.onerror=null,R.selection&&(R.selection.select(te),R.nodeChanged())};te.onload=function(){!B.width&&!B.height&&Ee(R)&&R.dom.setAttribs(te,{width:String(te.clientWidth),height:String(te.clientHeight)}),Ae()},te.onerror=Ae},Br=function(R){return new st(function(B,te){var Ae=new FileReader;Ae.onload=function(){B(Ae.result)},Ae.onerror=function(){te(Ae.error.message)},Ae.readAsDataURL(R)})},Me=function(R){return R.nodeName==="IMG"&&(R.hasAttribute("data-mce-object")||R.hasAttribute("data-mce-placeholder"))},Pt=function(R,B){return We.isDomSafe(B,"img",R.settings)},vn=Eo.DOM,zt=function(R){return R.style.marginLeft&&R.style.marginRight&&R.style.marginLeft===R.style.marginRight?fo(R.style.marginLeft):""},gr=function(R){return R.style.marginTop&&R.style.marginBottom&&R.style.marginTop===R.style.marginBottom?fo(R.style.marginTop):""},Ar=function(R){return R.style.borderWidth?fo(R.style.borderWidth):""},Ha=function(R,B){return R.hasAttribute(B)?R.getAttribute(B):""},rn=function(R,B){return R.style[B]?R.style[B]:""},wr=function(R){return R.parentNode!==null&&R.parentNode.nodeName==="FIGURE"},Ea=function(R,B,te){te===""?R.removeAttribute(B):R.setAttribute(B,te)},gi=function(R){var B=vn.create("figure",{class:"image"});vn.insertAfter(B,R),B.appendChild(R),B.appendChild(vn.create("figcaption",{contentEditable:"true"},"Caption")),B.contentEditable="false"},ys=function(R){var B=R.parentNode;vn.insertAfter(R,B),vn.remove(B)},Mr=function(R){wr(R)?ys(R):gi(R)},qn=function(R,B){var te=R.getAttribute("style"),Ae=B(te!==null?te:"");Ae.length>0?(R.setAttribute("style",Ae),R.setAttribute("data-mce-style",Ae)):R.removeAttribute("style")},Zi=function(R,B){return function(te,Ae,Ht){te.style[Ae]?(te.style[Ae]=na(Ht),qn(te,B)):Ea(te,Ae,Ht)}},Vc=function(R,B){return R.style[B]?fo(R.style[B]):Ha(R,B)},Fi=function(R,B){var te=na(B);R.style.marginLeft=te,R.style.marginRight=te},Ii=function(R,B){var te=na(B);R.style.marginTop=te,R.style.marginBottom=te},Zu=function(R,B){var te=na(B);R.style.borderWidth=te},Cs=function(R,B){R.style.borderStyle=B},Bu=function(R){return rn(R,"borderStyle")},zi=function(R){return R.nodeName==="FIGURE"},ws=function(R){return R.nodeName==="IMG"},Lr=function(R){return vn.getAttrib(R,"alt").length===0&&vn.getAttrib(R,"role")==="presentation"},lu=function(R){return Lr(R)?"":Ha(R,"alt")},gn=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Uc=function(R,B){var te=document.createElement("img");return Ea(te,"style",B.style),(zt(te)||B.hspace!=="")&&Fi(te,B.hspace),(gr(te)||B.vspace!=="")&&Ii(te,B.vspace),(Ar(te)||B.border!=="")&&Zu(te,B.border),(Bu(te)||B.borderStyle!=="")&&Cs(te,B.borderStyle),R(te.getAttribute("style"))},hi=function(R,B){var te=document.createElement("img");if(Wc(R,Gn(Gn({},B),{caption:!1}),te),Mu(te,B.alt,B.isDecorative),B.caption){var Ae=vn.create("figure",{class:"image"});return Ae.appendChild(te),Ae.appendChild(vn.create("figcaption",{contentEditable:"true"},"Caption")),Ae.contentEditable="false",Ae}else return te},fu=function(R,B){return{src:Ha(B,"src"),alt:lu(B),title:Ha(B,"title"),width:Vc(B,"width"),height:Vc(B,"height"),class:Ha(B,"class"),style:R(Ha(B,"style")),caption:wr(B),hspace:zt(B),vspace:gr(B),border:Ar(B),borderStyle:rn(B,"borderStyle"),isDecorative:Lr(B)}},pi=function(R,B,te,Ae,Ht){te[Ae]!==B[Ae]&&Ht(R,Ae,te[Ae])},Mu=function(R,B,te){if(te){vn.setAttrib(R,"role","presentation");var Ae=Ut.fromDom(R);ca(Ae,"alt","")}else{if(wa(B)){var Ae=Ut.fromDom(R);yo(Ae,"alt")}else{var Ae=Ut.fromDom(R);ca(Ae,"alt",B)}vn.getAttrib(R,"role")==="presentation"&&vn.setAttrib(R,"role","")}},xl=function(R,B,te){(te.alt!==B.alt||te.isDecorative!==B.isDecorative)&&Mu(R,te.alt,te.isDecorative)},vu=function(R,B){return function(te,Ae,Ht){R(te,Ht),qn(te,B)}},Wc=function(R,B,te){var Ae=fu(R,te);pi(te,Ae,B,"caption",function(Ht,Pn,Rr){return Mr(Ht)}),pi(te,Ae,B,"src",Ea),pi(te,Ae,B,"title",Ea),pi(te,Ae,B,"width",Zi("width",R)),pi(te,Ae,B,"height",Zi("height",R)),pi(te,Ae,B,"class",Ea),pi(te,Ae,B,"style",vu(function(Ht,Pn){return Ea(Ht,"style",Pn)},R)),pi(te,Ae,B,"hspace",vu(Fi,R)),pi(te,Ae,B,"vspace",vu(Ii,R)),pi(te,Ae,B,"border",vu(Zu,R)),pi(te,Ae,B,"borderStyle",vu(Cs,R)),xl(te,Ae,B)},J=function(R,B){var te=R.dom.styles.parse(B),Ae=la(te),Ht=R.dom.styles.parse(R.dom.styles.serialize(Ae));return R.dom.styles.serialize(Ht)},ge=function(R){var B=R.selection.getNode(),te=R.dom.getParent(B,"figure.image");return te?R.dom.select("img",te)[0]:B&&(B.nodeName!=="IMG"||Me(B))?null:B},ne=function(R,B){var te=R.dom,Ae=mt(R.schema.getTextBlockElements(),function(Pn,Rr){return!R.schema.isValidChild(Rr,"figure")}),Ht=te.getParent(B.parentNode,function(Pn){return Ze(Ae,Pn.nodeName)},R.getBody());return Ht?te.split(Ht,B):B},ke=function(R){var B=ge(R);return B?fu(function(te){return J(R,te)},B):gn()},Tt=function(R,B){var te=hi(function(Pn){return J(R,Pn)},B);R.dom.setAttrib(te,"data-mce-id","__mcenew"),R.focus(),R.selection.setContent(te.outerHTML);var Ae=R.dom.select('*[data-mce-id="__mcenew"]')[0];if(R.dom.setAttrib(Ae,"data-mce-id",null),zi(Ae)){var Ht=ne(R,Ae);R.selection.select(Ht)}else R.selection.select(Ae)},jt=function(R,B){R.dom.setAttrib(B,"src",B.getAttribute("src"))},Tn=function(R,B){if(B){var te=R.dom.is(B.parentNode,"figure.image")?B.parentNode:B;R.dom.remove(te),R.focus(),R.nodeChanged(),R.dom.isEmpty(R.getBody())&&(R.setContent(""),R.selection.setCursorLocation())}},_n=function(R,B){var te=ge(R);if(Wc(function(Ht){return J(R,Ht)},B,te),jt(R,te),zi(te.parentNode)){var Ae=te.parentNode;ne(R,Ae),R.selection.select(te.parentNode)}else R.selection.select(te),aa(R,B,te)},Or=function(R,B){var te=B.src;return Gn(Gn({},B),{src:Pt(R,te)?te:""})},Er=function(R,B){var te=ge(R);if(te){var Ae=fu(function(Rr){return J(R,Rr)},te),Ht=Gn(Gn({},Ae),B),Pn=Or(R,Ht);Ht.src?_n(R,Pn):Tn(R,te)}else B.src&&Tt(R,Gn(Gn({},gn()),B))},hr=function(R,B){var te=kr(R)&&kr(B);return te?Pa(R,B):B},Ya=function(R){return function(){for(var B=[],te=0;te<arguments.length;te++)B[te]=arguments[te];if(B.length===0)throw new Error("Can't merge zero objects");for(var Ae={},Ht=0;Ht<B.length;Ht++){var Pn=B[Ht];for(var Rr in Pn)Hn(Pn,Rr)&&(Ae[Rr]=R(Ae[Rr],Pn[Rr]))}return Ae}},Pa=Ya(hr),Ju=function(R){return R.length>0},Po=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Ss=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ks=function(R){return tr(R.value)?R.value:""},Fa=function(R){return tr(R.text)?R.text:tr(R.title)?R.title:""},Ia=function(R,B){var te=[];return Ss.each(R,function(Ae){var Ht=Fa(Ae);if(Ae.menu!==void 0){var Pn=Ia(Ae.menu,B);te.push({text:Ht,items:Pn})}else{var Rr=B(Ae);te.push({text:Ht,value:Rr})}}),te},lt=function(R){return R===void 0&&(R=Ks),function(B){return B?Ie.from(B).map(function(te){return Ia(te,R)}):Ie.none()}},Ao=function(R){return lt(Ks)(R)},xs=function(R){return Hn(R,"items")},mf=function(R,B){return at(R,function(te){return xs(te)?mf(te.items,B):te.value===B?Ie.some(te):Ie.none()})},jc=function(R,B){return R.bind(function(te){return mf(te,B)})},fr={sanitizer:lt,sanitize:Ao,findEntry:jc},Tl=function(R){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Ts={makeTab:Tl},Va=function(R){var B=fr.sanitizer(function(io){return R.convertURL(io.value||io.url,"src")}),te=new st(function(io){Xa(R,function(ni){io(B(ni).map(function(uo){return Rn([[{text:"None",value:""}],uo])}))})}),Ae=fr.sanitize(xt(R)),Ht=Ce(R),Pn=Ct(R),Rr=ko(R),bi=Yi(R),As=ke(R),qo=Qn(R),Fo=rr(R),Al=Ee(R),fm=fn(R),Ys=Pi(R),pa=mi(R),vm=Ie.some(Xt(R)).filter(function(io){return tr(io)&&io.length>0});return te.then(function(io){return{image:As,imageList:io,classList:Ae,hasAdvTab:Ht,hasUploadTab:Pn,hasUploadUrl:Rr,hasUploadHandler:bi,hasDescription:qo,hasImageTitle:Fo,hasDimensions:Al,hasImageCaption:fm,prependURL:vm,hasAccessibilityOptions:Ys,automaticUploads:pa}})},Gc=function(R){var B={name:"src",type:"urlinput",filetype:"image",label:"Source"},te=R.imageList.map(function(Fo){return{name:"images",type:"listbox",label:"Image list",items:Fo}}),Ae={name:"alt",type:"input",label:"Alternative description",disabled:R.hasAccessibilityOptions&&R.image.isDecorative},Ht={name:"title",type:"input",label:"Image title"},Pn={name:"dimensions",type:"sizeinput"},Rr={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},bi=R.classList.map(function(Fo){return{name:"classes",type:"listbox",label:"Class",items:Fo}}),As={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},qo=function(Fo){return Fo?{type:"grid",columns:2}:{type:"panel"}};return Rn([[B],te.toArray(),R.hasAccessibilityOptions&&R.hasDescription?[Rr]:[],R.hasDescription?[Ae]:[],R.hasImageTitle?[Ht]:[],R.hasDimensions?[Pn]:[],[Gn(Gn({},qo(R.classList.isSome()&&R.hasImageCaption)),{items:Rn([bi.toArray(),R.hasImageCaption?[As]:[]])})]])},$i=function(R){return{title:"General",name:"general",items:Gc(R)}},Ji={makeTab:$i,makeItems:Gc},ha=function(R){var B=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:B}},qc={makeTab:ha},Kc=function(R){return{prevImage:fr.findEntry(R.imageList,R.image.src),prevAlt:R.image.alt,open:!0}},bc=function(R){return{src:{value:R.src,meta:{}},images:R.src,alt:R.alt,title:R.title,dimensions:{width:R.width,height:R.height},classes:R.class,caption:R.caption,style:R.style,vspace:R.vspace,border:R.border,hspace:R.hspace,borderstyle:R.borderStyle,fileinput:[],isDecorative:R.isDecorative}},El=function(R,B){return{src:R.src.value,alt:R.alt.length===0&&B?null:R.alt,title:R.title,width:R.dimensions.width,height:R.dimensions.height,class:R.classes,style:R.style,caption:R.caption,hspace:R.hspace,vspace:R.vspace,border:R.border,borderStyle:R.borderstyle,isDecorative:R.isDecorative}},Es=function(R,B){return/^(?:[a-zA-Z]+:)?\/\//.test(B)?Ie.none():R.prependURL.bind(function(te){return B.substring(0,te.length)!==te?Ie.some(te+B):Ie.none()})},Qu=function(R,B){var te=B.getData();Es(R,te.src.value).each(function(Ae){B.setData({src:{value:Ae,meta:te.src.meta}})})},kl=function(R,B,te){R.hasDescription&&tr(te.alt)&&(B.alt=te.alt),R.hasAccessibilityOptions&&(B.isDecorative=te.isDecorative||B.isDecorative||!1),R.hasImageTitle&&tr(te.title)&&(B.title=te.title),R.hasDimensions&&(tr(te.width)&&(B.dimensions.width=te.width),tr(te.height)&&(B.dimensions.height=te.height)),tr(te.class)&&fr.findEntry(R.classList,te.class).each(function(Ae){B.classes=Ae.value}),R.hasImageCaption&&sa(te.caption)&&(B.caption=te.caption),R.hasAdvTab&&(tr(te.style)&&(B.style=te.style),tr(te.vspace)&&(B.vspace=te.vspace),tr(te.border)&&(B.border=te.border),tr(te.hspace)&&(B.hspace=te.hspace),tr(te.borderstyle)&&(B.borderstyle=te.borderstyle))},Nu=function(R,B){var te=B.getData(),Ae=te.src.meta;if(Ae!==void 0){var Ht=Pa({},te);kl(R,Ht,Ae),B.setData(Ht)}},Qi=function(R,B,te,Ae){var Ht=Ae.getData(),Pn=Ht.src.value,Rr=Ht.src.meta||{};!Rr.width&&!Rr.height&&B.hasDimensions&&(Ju(Pn)?R.imageSize(Pn).then(function(bi){te.open&&Ae.setData({dimensions:bi})}).catch(function(bi){return console.error(bi)}):Ae.setData({dimensions:{width:"",height:""}}))},V=function(R,B,te){var Ae=te.getData(),Ht=fr.findEntry(R.imageList,Ae.src.value);B.prevImage=Ht,te.setData({images:Ht.map(function(Pn){return Pn.value}).getOr("")})},se=function(R,B,te,Ae){Qu(B,Ae),Nu(B,Ae),Qi(R,B,te,Ae),V(B,te,Ae)},we=function(R,B,te,Ae){var Ht=Ae.getData(),Pn=fr.findEntry(B.imageList,Ht.images);Pn.each(function(Rr){var bi=Ht.alt===""||te.prevImage.map(function(As){return As.text===Ht.alt}).getOr(!1);bi?Rr.value===""?Ae.setData({src:Rr,alt:te.prevAlt}):Ae.setData({src:Rr,alt:Rr.text}):Ae.setData({src:Rr})}),te.prevImage=Pn,se(R,B,te,Ae)},Ve=function(R){var B=R["margin-top"]&&R["margin-bottom"]&&R["margin-top"]===R["margin-bottom"];return B?fo(String(R["margin-top"])):""},ht=function(R){var B=R["margin-right"]&&R["margin-left"]&&R["margin-right"]===R["margin-left"];return B?fo(String(R["margin-right"])):""},tn=function(R){return R["border-width"]?fo(String(R["border-width"])):""},Nr=function(R){return R["border-style"]?String(R["border-style"]):""},Qr=function(R,B,te){return B(R(B(te)))},Kn=function(R,B,te){var Ae=la(R(te.style)),Ht=Pa({},te);return Ht.vspace=Ve(Ae),Ht.hspace=ht(Ae),Ht.border=tn(Ae),Ht.borderstyle=Nr(Ae),Ht.style=Qr(R,B,Ae),Ht},ka=function(R,B){var te=B.getData(),Ae=Kn(R.parseStyle,R.serializeStyle,te);B.setData(Ae)},Ra=function(R,B,te){var Ae=Pa(bc(B.image),te.getData()),Ht=Uc(R.normalizeCss,El(Ae,!1));te.setData({style:Ht})},yc=function(R,B,te,Ae){var Ht=Ae.getData();Ae.block("Uploading image"),Cr(Ht.fileinput).fold(function(){Ae.unblock()},function(Pn){var Rr=URL.createObjectURL(Pn),bi=function(){Ae.unblock(),URL.revokeObjectURL(Rr)},As=function(qo){Ae.setData({src:{value:qo,meta:{}}}),Ae.showTab("general"),se(R,B,te,Ae)};Br(Pn).then(function(qo){var Fo=R.createBlobCache(Pn,Rr,qo);B.automaticUploads?R.uploadImage(Fo).then(function(Al){As(Al.url),bi()}).catch(function(Al){bi(),R.alertErr(Al)}):(R.addToBlobCache(Fo),As(Fo.blobUri()),Ae.unblock())})})},ti=function(R,B,te){return function(Ae,Ht){Ht.name==="src"?se(R,B,te,Ae):Ht.name==="images"?we(R,B,te,Ae):Ht.name==="alt"?te.prevAlt=Ae.getData().alt:Ht.name==="style"?ka(R,Ae):Ht.name==="vspace"||Ht.name==="hspace"||Ht.name==="border"||Ht.name==="borderstyle"?Ra(R,B,Ae):Ht.name==="fileinput"?yc(R,B,te,Ae):Ht.name==="isDecorative"&&(Ae.getData().isDecorative?Ae.disable("alt"):Ae.enable("alt"))}},Xs=function(R){return function(){R.open=!1}},hn=function(R){if(R.hasAdvTab||R.hasUploadUrl||R.hasUploadHandler){var B={type:"tabpanel",tabs:Rn([[Ji.makeTab(R)],R.hasAdvTab?[Ts.makeTab(R)]:[],R.hasUploadTab&&(R.hasUploadUrl||R.hasUploadHandler)?[qc.makeTab(R)]:[]])};return B}else{var te={type:"panel",items:Ji.makeItems(R)};return te}},iv=function(R){return function(B){var te=Kc(B);return{title:"Insert/Edit Image",size:"normal",body:hn(B),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:bc(B.image),onSubmit:R.onSubmit(B),onChange:ti(R,B,te),onClose:Xs(te)}}},td=function(R){return function(B){return function(te){var Ae=Pa(bc(B.image),te.getData());R.execCommand("mceUpdateImage",!1,El(Ae,B.hasAccessibilityOptions)),R.editorUpload.uploadImagesAuto(),te.close()}}},Dr=function(R){return function(B){return Pt(R,B)?Ka(R.documentBaseURI.toAbsolute(B)).then(function(te){return{width:String(te.width),height:String(te.height)}}):st.resolve({width:"",height:""})}},nd=function(R){return function(B,te,Ae){return R.editorUpload.blobCache.create({blob:B,blobUri:te,name:B.name?B.name.replace(/\.[^\.]+$/,""):null,filename:B.name,base64:Ae.split(",")[1]})}},uv=function(R){return function(B){R.editorUpload.blobCache.add(B)}},th=function(R){return function(B){R.windowManager.alert(B)}},oa=function(R){return function(B){return J(R,B)}},es=function(R){return function(B){return R.dom.parseStyle(B)}},nh=function(R){return function(B,te){return R.dom.serializeStyle(B,te)}},ks=function(R){return function(B){return Po(R).upload([B],!1).then(function(te){return te.length===0?st.reject("Failed to upload image"):te[0].status===!1?st.reject(te[0].error.message):te[0]})}},vo=function(R){var B={onSubmit:td(R),imageSize:Dr(R),addToBlobCache:uv(R),createBlobCache:nd(R),alertErr:th(R),normalizeCss:oa(R),parseStyle:es(R),serializeStyle:nh(R),uploadImage:ks(R)},te=function(){Va(R).then(iv(B)).then(R.windowManager.open)};return{open:te}},Xc=function(R){R.addCommand("mceImage",vo(R).open),R.addCommand("mceUpdateImage",function(B,te){R.undoManager.transact(function(){return Er(R,te)})})},ze=function(R){var B=R.attr("class");return B&&/\bimage\b/.test(B)},gf=function(R){return function(B){for(var te=B.length,Ae=function(Pn){Pn.attr("contenteditable",R?"true":null)};te--;){var Ht=B[te];ze(Ht)&&(Ht.attr("contenteditable",R?"false":null),Ss.each(Ht.getAll("figcaption"),Ae))}}},oo=function(R){R.on("PreInit",function(){R.parser.addNodeFilter("figure",gf(!0)),R.serializer.addNodeFilter("figure",gf(!1))})},lm=function(R){R.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:vo(R).open,onSetup:function(B){return B.setActive(Zt(ge(R))),R.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",B.setActive).unbind}}),R.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:vo(R).open}),R.ui.registry.addContextMenu("image",{update:function(B){return zi(B)||ws(B)&&!Me(B)?["image"]:[]}})};function Yc(){bo.add("image",function(R){oo(R),lm(R),Xc(R)})}Yc()})();(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gn=function(E){var P=typeof E;return E===null?"null":P==="object"&&(Array.prototype.isPrototypeOf(E)||E.constructor&&E.constructor.name==="Array")?"array":P==="object"&&(String.prototype.isPrototypeOf(E)||E.constructor&&E.constructor.name==="String")?"string":P},Ta=function(E){return function(P){return Gn(P)===E}},ra=function(E){return function(P){return typeof P===E}},Fn=Ta("string"),Wr=Ta("object"),tr=Ta("array"),kr=ra("boolean"),en=ra("function"),wa=ra("number"),sa=function(){},it=function(E){return function(){return E}},Zt=function(E){return E},er=function(E,P){return E===P},Mt=function(E){return function(P){return!E(P)}},Ye=it(!1),Nn=it(!0),vt=function(){return dn},dn=function(){var E=function(Q){return Q()},P=Zt,$={fold:function(Q,pe){return Q()},isSome:Ye,isNone:Nn,getOr:P,getOrThunk:E,getOrDie:function(Q){throw new Error(Q||"error: getOrDie called on none.")},getOrNull:it(null),getOrUndefined:it(void 0),or:P,orThunk:E,map:vt,each:sa,bind:vt,exists:Ye,forall:Nn,filter:function(){return vt()},toArray:function(){return[]},toString:it("none()")};return $}(),ve=function(E){var P=it(E),$=function(){return pe},Q=function(Fe){return Fe(E)},pe={fold:function(Fe,Jt){return Jt(E)},isSome:Nn,isNone:Ye,getOr:P,getOrThunk:P,getOrDie:P,getOrNull:P,getOrUndefined:P,or:$,orThunk:$,map:function(Fe){return ve(Fe(E))},each:function(Fe){Fe(E)},bind:Q,exists:Q,forall:Q,filter:function(Fe){return Fe(E)?pe:dn},toArray:function(){return[E]},toString:function(){return"some("+E+")"}};return pe},Lt=function(E){return E==null?dn:ve(E)},Rt={some:ve,none:vt,from:Lt},Tr=Array.prototype.slice,Sn=Array.prototype.push,Ie=function(E,P){for(var $=E.length,Q=new Array($),pe=0;pe<$;pe++){var Fe=E[pe];Q[pe]=P(Fe,pe)}return Q},Bt=function(E,P){for(var $=0,Q=E.length;$<Q;$++){var pe=E[$];P(pe,$)}},Qe=function(E,P){for(var $=[],Q=0,pe=E.length;Q<pe;Q++){var Fe=E[Q];P(Fe,Q)&&$.push(Fe)}return $},Jn=function(E,P){if(E.length===0)return[];for(var $=P(E[0]),Q=[],pe=[],Fe=0,Jt=E.length;Fe<Jt;Fe++){var Bn=E[Fe],vr=P(Bn);vr!==$&&(Q.push(pe),pe=[]),$=vr,pe.push(Bn)}return pe.length!==0&&Q.push(pe),Q},oe=function(E,P,$){return Bt(E,function(Q,pe){$=P($,Q,pe)}),$},L=function(E,P,$){for(var Q=0,pe=E.length;Q<pe;Q++){var Fe=E[Q];if(P(Fe,Q))return Rt.some(Fe);if($(Fe,Q))break}return Rt.none()},mt=function(E,P){return L(E,P,Ye)},Hn=function(E){for(var P=[],$=0,Q=E.length;$<Q;++$){if(!tr(E[$]))throw new Error("Arr.flatten item "+$+" was not an array, input: "+E);Sn.apply(P,E[$])}return P},Ze=function(E,P){return Hn(Ie(E,P))},nr=function(E){var P=Tr.call(E,0);return P.reverse(),P},Rn=function(E,P){return P>=0&&P<E.length?Rt.some(E[P]):Rt.none()},A=function(E){return Rn(E,0)},Cr=function(E){return Rn(E,E.length-1)},at=function(E,P){for(var $=0;$<E.length;$++){var Q=P(E[$],$);if(Q.isSome())return Q}return Rt.none()},Nt=function(){return Nt=Object.assign||function(P){for(var $,Q=1,pe=arguments.length;Q<pe;Q++){$=arguments[Q];for(var Fe in $)Object.prototype.hasOwnProperty.call($,Fe)&&(P[Fe]=$[Fe])}return P},Nt.apply(this,arguments)};function ca(E,P,$){if($||arguments.length===2)for(var Q=0,pe=P.length,Fe;Q<pe;Q++)(Fe||!(Q in P))&&(Fe||(Fe=Array.prototype.slice.call(P,0,Q)),Fe[Q]=P[Q]);return E.concat(Fe||Array.prototype.slice.call(P))}var yo=function(E){var P=!1,$;return function(){for(var Q=[],pe=0;pe<arguments.length;pe++)Q[pe]=arguments[pe];return P||(P=!0,$=E.apply(null,Q)),$}},In=function(E,P,$,Q){var pe=E.isiOS()&&/ipad/i.test($)===!0,Fe=E.isiOS()&&!pe,Jt=E.isiOS()||E.isAndroid(),Bn=Jt||Q("(pointer:coarse)"),vr=pe||!Fe&&Jt&&Q("(min-device-width:768px)"),Yn=Fe||Jt&&!vr,ba=P.isSafari()&&E.isiOS()&&/safari/i.test($)===!1,wi=!Yn&&!vr&&!ba;return{isiPad:it(pe),isiPhone:it(Fe),isTablet:it(vr),isPhone:it(Yn),isTouch:it(Bn),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:it(ba),isDesktop:it(wi)}},Jr=function(E,P){for(var $=0;$<E.length;$++){var Q=E[$];if(Q.test(P))return Q}},Z=function(E,P){var $=Jr(E,P);if(!$)return{major:0,minor:0};var Q=function(pe){return Number(P.replace($,"$"+pe))};return Ut(Q(1),Q(2))},Co=function(E,P){var $=String(P).toLowerCase();return E.length===0?ut():Z(E,$)},ut=function(){return Ut(0,0)},Ut=function(E,P){return{major:E,minor:P}},Eo={nu:Ut,detect:Co,unknown:ut},st=function(E,P){return at(P.brands,function($){var Q=$.brand.toLowerCase();return mt(E,function(pe){var Fe;return Q===((Fe=pe.brand)===null||Fe===void 0?void 0:Fe.toLowerCase())}).map(function(pe){return{current:pe.name,version:Eo.nu(parseInt($.version,10),0)}})})},We=function(E,P){var $=String(P).toLowerCase();return mt(E,function(Q){return Q.search($)})},be=function(E,P){return We(E,P).map(function($){var Q=Eo.detect($.versionRegexes,P);return{current:$.name,version:Q}})},Ee=function(E,P){return We(E,P).map(function($){var Q=Eo.detect($.versionRegexes,P);return{current:$.name,version:Q}})},Ce=function(E,P){return E.indexOf(P)!==-1},Ct=function(E){return function(P){return P.replace(E,"")}},Xt=Ct(/^\s+|\s+$/g),xt=function(E){return E.length>0},Qn=function(E){return!xt(E)},rr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fn=function(E){return function(P){return Ce(P,E)}},jr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(E){return Ce(E,"edge/")&&Ce(E,"chrome")&&Ce(E,"safari")&&Ce(E,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,rr],search:function(E){return Ce(E,"chrome")&&!Ce(E,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(E){return Ce(E,"msie")||Ce(E,"trident")}},{name:"Opera",versionRegexes:[rr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fn("firefox")},{name:"Safari",versionRegexes:[rr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(E){return(Ce(E,"safari")||Ce(E,"mobile/"))&&Ce(E,"applewebkit")}}],ko=[{name:"Windows",search:fn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(E){return Ce(E,"iphone")||Ce(E,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:fn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fn("linux"),versionRegexes:[]},{name:"Solaris",search:fn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yi={browsers:it(jr),oses:it(ko)},Pi="Edge",mi="Chrome",ta="IE",Ka="Opera",fo="Firefox",na="Safari",la=function(){return Xa({current:void 0,version:Eo.unknown()})},Xa=function(E){var P=E.current,$=E.version,Q=function(pe){return function(){return P===pe}};return{current:P,version:$,isEdge:Q(Pi),isChrome:Q(mi),isIE:Q(ta),isOpera:Q(Ka),isFirefox:Q(fo),isSafari:Q(na)}},aa={unknown:la,nu:Xa,edge:it(Pi),chrome:it(mi),ie:it(ta),opera:it(Ka),firefox:it(fo),safari:it(na)},Br="Windows",Me="iOS",Pt="Android",vn="Linux",zt="OSX",gr="Solaris",Ar="FreeBSD",Ha="ChromeOS",rn=function(){return wr({current:void 0,version:Eo.unknown()})},wr=function(E){var P=E.current,$=E.version,Q=function(pe){return function(){return P===pe}};return{current:P,version:$,isWindows:Q(Br),isiOS:Q(Me),isAndroid:Q(Pt),isOSX:Q(zt),isLinux:Q(vn),isSolaris:Q(gr),isFreeBSD:Q(Ar),isChromeOS:Q(Ha)}},Ea={unknown:rn,nu:wr,windows:it(Br),ios:it(Me),android:it(Pt),linux:it(vn),osx:it(zt),solaris:it(gr),freebsd:it(Ar),chromeos:it(Ha)},gi=function(E,P,$){var Q=Yi.browsers(),pe=Yi.oses(),Fe=P.bind(function(vr){return st(Q,vr)}).orThunk(function(){return be(Q,E)}).fold(aa.unknown,aa.nu),Jt=Ee(pe,E).fold(Ea.unknown,Ea.nu),Bn=In(Jt,Fe,E,$);return{browser:Fe,os:Jt,deviceType:Bn}},ys={detect:gi},Mr=function(E){return window.matchMedia(E).matches},qn=yo(function(){return ys.detect(navigator.userAgent,Rt.from(navigator.userAgentData),Mr)}),Zi=function(){return qn()},Vc=function(E,P,$){return(E.compareDocumentPosition(P)&$)!==0},Fi=function(E,P){return Vc(E,P,Node.DOCUMENT_POSITION_CONTAINED_BY)},Ii=1,Zu=function(E,P){var $=P||document,Q=$.createElement("div");if(Q.innerHTML=E,!Q.hasChildNodes()||Q.childNodes.length>1)throw console.error("HTML does not have a single root node",E),new Error("HTML must have a single root node");return zi(Q.childNodes[0])},Cs=function(E,P){var $=P||document,Q=$.createElement(E);return zi(Q)},Bu=function(E,P){var $=P||document,Q=$.createTextNode(E);return zi(Q)},zi=function(E){if(E==null)throw new Error("Node cannot be null or undefined");return{dom:E}},ws=function(E,P,$){return Rt.from(E.dom.elementFromPoint(P,$)).map(zi)},Lr={fromHtml:Zu,fromTag:Cs,fromText:Bu,fromDom:zi,fromPoint:ws},lu=function(E,P){var $=E.dom;if($.nodeType!==Ii)return!1;var Q=$;if(Q.matches!==void 0)return Q.matches(P);if(Q.msMatchesSelector!==void 0)return Q.msMatchesSelector(P);if(Q.webkitMatchesSelector!==void 0)return Q.webkitMatchesSelector(P);if(Q.mozMatchesSelector!==void 0)return Q.mozMatchesSelector(P);throw new Error("Browser lacks native selectors")},gn=function(E,P){return E.dom===P.dom},Uc=function(E,P){var $=E.dom,Q=P.dom;return $===Q?!1:$.contains(Q)},hi=function(E,P){return Fi(E.dom,P.dom)},fu=function(E,P){return Zi().browser.isIE()?hi(E,P):Uc(E,P)},pi=lu,Mu=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),xl=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),vu=tinymce.util.Tools.resolve("tinymce.util.VK"),Wc=Object.keys,J=function(E,P){for(var $=Wc(E),Q=0,pe=$.length;Q<pe;Q++){var Fe=$[Q],Jt=E[Fe];P(Jt,Fe)}},ge=function(E){return function(P,$){E[$]=P}},ne=function(E,P,$,Q){var pe={};return J(E,function(Fe,Jt){(P(Fe,Jt)?$:Q)(Fe,Jt)}),pe},ke=function(E,P){var $={};return ne(E,P,ge($),sa),$};typeof window<"u"||Function("return this;")();var Tt=function(E){var P=E.dom.nodeName;return P.toLowerCase()},jt=function(E){return E.dom.nodeType},Tn=function(E){return function(P){return jt(P)===E}},_n=Tn(Ii),Or=function(E){return function(P){return _n(P)&&Tt(P)===E}},Er=function(E,P,$){if(Fn($)||kr($)||wa($))E.setAttribute(P,$+"");else throw console.error("Invalid call to Attribute.set. Key ",P,":: Value ",$,":: Element ",E),new Error("Attribute value was not simple")},hr=function(E,P){var $=E.dom;J(P,function(Q,pe){Er($,pe,Q)})},Ya=function(E){return oe(E.dom.attributes,function(P,$){return P[$.name]=$.value,P},{})},Pa=function(E){return Rt.from(E.dom.parentNode).map(Lr.fromDom)},Ju=function(E){return Ie(E.dom.childNodes,Lr.fromDom)},Po=function(E,P){var $=E.dom.childNodes;return Rt.from($[P]).map(Lr.fromDom)},Ss=function(E){return Po(E,0)},Ks=function(E){return Po(E,E.dom.childNodes.length-1)},Fa=function(E,P){var $=Pa(E);$.each(function(Q){Q.dom.insertBefore(P.dom,E.dom)})},Ia=function(E,P){E.dom.appendChild(P.dom)},lt=function(E,P){Bt(P,function($){Fa(E,$)})},Ao=function(E,P){Bt(P,function($){Ia(E,$)})},xs=function(E){var P=E.dom;P.parentNode!==null&&P.parentNode.removeChild(P)},mf=function(E,P){return Lr.fromDom(E.dom.cloneNode(P))},jc=function(E){return mf(E,!0)},fr=function(E,P){var $=Lr.fromTag(P),Q=Ya(E);return hr($,Q),$},Tl=function(E,P){var $=fr(E,P);Fa(E,$);var Q=Ju(E);return Ao($,Q),xs(E),$},Ts=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Va=tinymce.util.Tools.resolve("tinymce.util.Tools"),Gc=function(E){return function(P){return P&&P.nodeName.toLowerCase()===E}},$i=function(E){return function(P){return P&&E.test(P.nodeName)}},Ji=function(E){return E&&E.nodeType===3},ha=$i(/^(OL|UL|DL)$/),qc=$i(/^(OL|UL)$/),Kc=Gc("ol"),bc=$i(/^(LI|DT|DD)$/),El=$i(/^(DT|DD)$/),Es=$i(/^(TH|TD)$/),Qu=Gc("br"),kl=function(E){return E.parentNode.firstChild===E},Nu=function(E,P){return P&&!!E.schema.getTextBlockElements()[P.nodeName]},Qi=function(E,P){return E&&E.nodeName in P},V=function(E,P){return Qu(P)?E.isBlock(P.nextSibling)&&!Qu(P.previousSibling):!1},se=function(E,P,$){var Q=E.isEmpty(P);return $&&E.select("span[data-mce-type=bookmark]",P).length>0?!1:Q},we=function(E,P){return E.isChildOf(P,E.getRoot())},Ve=function(E){return E.getParam("lists_indent_on_tab",!0)},ht=function(E){var P=E.getParam("forced_root_block","p");return P===!1?"":P===!0?"p":P},tn=function(E){return E.getParam("forced_root_block_attrs",{})},Nr=function(E,P){var $=E.dom,Q=E.schema.getBlockElements(),pe=$.createFragment(),Fe=ht(E),Jt,Bn,vr;if(Fe&&(Bn=$.create(Fe),Bn.tagName===Fe.toUpperCase()&&$.setAttribs(Bn,tn(E)),Qi(P.firstChild,Q)||pe.appendChild(Bn)),P)for(;Jt=P.firstChild;){var Yn=Jt.nodeName;!vr&&(Yn!=="SPAN"||Jt.getAttribute("data-mce-type")!=="bookmark")&&(vr=!0),Qi(Jt,Q)?(pe.appendChild(Jt),Bn=null):Fe?(Bn||(Bn=$.create(Fe),pe.appendChild(Bn)),Bn.appendChild(Jt)):pe.appendChild(Jt)}return Fe?vr||Bn.appendChild($.create("br",{"data-mce-bogus":"1"})):pe.appendChild($.create("br")),pe},Qr=Ts.DOM,Kn=function(E,P,$){var Q=function(Yn){Va.each(pe,function(ba){Yn.parentNode.insertBefore(ba,$.parentNode)}),Qr.remove(Yn)},pe=Qr.select('span[data-mce-type="bookmark"]',P),Fe=Nr(E,$),Jt=Qr.createRng();Jt.setStartAfter($),Jt.setEndAfter(P);for(var Bn=Jt.extractContents(),vr=Bn.firstChild;vr;vr=vr.firstChild)if(vr.nodeName==="LI"&&E.dom.isEmpty(vr)){Qr.remove(vr);break}E.dom.isEmpty(Bn)||Qr.insertAfter(Bn,P),Qr.insertAfter(Fe,P),se(E.dom,$.parentNode)&&Q($.parentNode),Qr.remove($),se(E.dom,P)&&Qr.remove(P)},ka=Or("dd"),Ra=Or("dt"),yc=function(E,P){ka(P)?Tl(P,"dt"):Ra(P)&&Pa(P).each(function($){return Kn(E,$.dom,P.dom)})},ti=function(E){Ra(E)&&Tl(E,"dd")},Xs=function(E,P,$){P==="Indent"?Bt($,ti):Bt($,function(Q){return yc(E,Q)})},hn=function(E,P){if(Ji(E))return{container:E,offset:P};var $=Mu.getNode(E,P);return Ji($)?{container:$,offset:P>=E.childNodes.length?$.data.length:0}:$.previousSibling&&Ji($.previousSibling)?{container:$.previousSibling,offset:$.previousSibling.data.length}:$.nextSibling&&Ji($.nextSibling)?{container:$.nextSibling,offset:0}:{container:E,offset:P}},iv=function(E){var P=E.cloneRange(),$=hn(E.startContainer,E.startOffset);P.setStart($.container,$.offset);var Q=hn(E.endContainer,E.endOffset);return P.setEnd(Q.container,Q.offset),P},td=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Dr=function(E,P){var $=P||E.selection.getStart(!0);return E.dom.getParent($,"OL,UL,DL",ks(E,$))},nd=function(E,P){return E&&P.length===1&&P[0]===E},uv=function(E){return Qe(E.querySelectorAll("ol,ul,dl"),ha)},th=function(E){var P=Dr(E),$=E.selection.getSelectedBlocks();return nd(P,$)?uv(P):Qe($,function(Q){return ha(Q)&&P!==Q})},oa=function(E,P){var $=Va.map(P,function(Q){var pe=E.dom.getParent(Q,"li,dd,dt",ks(E,Q));return pe||Q});return td.unique($)},es=function(E){var P=E.selection.getSelectedBlocks();return Qe(oa(E,P),bc)},nh=function(E){return Qe(es(E),El)},ks=function(E,P){var $=E.dom.getParents(P,"TD,TH");return $.length>0?$[0]:E.getBody()},vo=function(E,P){var $=E.dom.getParents(P,"ol,ul",ks(E,P));return Cr($)},Xc=function(E){var P=vo(E,E.selection.getStart()),$=Qe(E.selection.getSelectedBlocks(),qc);return P.toArray().concat($)},ze=function(E){var P=Xc(E);return gf(E,P)},gf=function(E,P){var $=Ie(P,function(Q){return vo(E,Q).getOr(Q)});return td.unique($)},oo=function(E,P,$){return $===void 0&&($=er),E.exists(function(Q){return $(Q,P)})},lm=function(E,P,$){return E.isSome()&&P.isSome()?Rt.some($(E.getOrDie(),P.getOrDie())):Rt.none()},Yc=function(E,P){var $=P||document,Q=$.createDocumentFragment();return Bt(E,function(pe){Q.appendChild(pe.dom)}),Lr.fromDom(Q)},R=function(E,P,$){return E.fire("ListMutation",{action:P,element:$})},B=function(E){return E.style!==void 0&&en(E.style.getPropertyValue)},te=function(E,P,$){if(!Fn($))throw console.error("Invalid call to CSS.set. Property ",P,":: Value ",$,":: Element ",E),new Error("CSS value must be a string: "+$);B(E)&&E.style.setProperty(P,$)},Ae=function(E,P,$){var Q=E.dom;te(Q,P,$)},Ht=function(E,P){Ia(E.item,P.list)},Pn=function(E){for(var P=1;P<E.length;P++)Ht(E[P-1],E[P])},Rr=function(E,P){lm(Cr(E),A(P),Ht)},bi=function(E,P){var $={list:Lr.fromTag(P,E),item:Lr.fromTag("li",E)};return Ia($.list,$.item),$},As=function(E,P,$){for(var Q=[],pe=0;pe<$;pe++)Q.push(bi(E,P.listType));return Q},qo=function(E,P){for(var $=0;$<E.length-1;$++)Ae(E[$].item,"list-style-type","none");Cr(E).each(function(Q){hr(Q.list,P.listAttributes),hr(Q.item,P.itemAttributes),Ao(Q.item,P.content)})},Fo=function(E,P){Tt(E.list)!==P.listType&&(E.list=Tl(E.list,P.listType)),hr(E.list,P.listAttributes)},Al=function(E,P,$){var Q=Lr.fromTag("li",E);return hr(Q,P),Ao(Q,$),Q},fm=function(E,P){Ia(E.list,P),E.item=P},Ys=function(E,P,$){var Q=P.slice(0,$.depth);return Cr(Q).each(function(pe){var Fe=Al(E,$.itemAttributes,$.content);fm(pe,Fe),Fo(pe,$)}),Q},pa=function(E,P,$){var Q=As(E,$,$.depth-P.length);return Pn(Q),qo(Q,$),Rr(P,Q),P.concat(Q)},vm=function(E,P){var $=oe(P,function(Q,pe){return pe.depth>Q.length?pa(E,Q,pe):Ys(E,Q,pe)},[]);return A($).map(function(Q){return Q.list})},io=function(E){return pi(E,"OL,UL")},ni=function(E){return Ss(E).exists(io)},uo=function(E){return Ks(E).exists(io)},Ol=function(E){return E.depth>0},Vn=function(E){return E.isSelected},ts=function(E){var P=Ju(E),$=uo(E)?P.slice(0,-1):P;return Ie($,jc)},_a=function(E,P,$){return Pa(E).filter(_n).map(function(Q){return{depth:P,dirty:!1,isSelected:$,content:ts(E),itemAttributes:Ya(E),listAttributes:Ya(Q),listType:Tt(Q)}})},Ua=function(E,P){switch(E){case"Indent":P.depth++;break;case"Outdent":P.depth--;break;case"Flatten":P.depth=0}P.dirty=!0},Wp=function(E,P){E.listType=P.listType,E.listAttributes=Nt({},P.listAttributes)},ri=function(E){E.listAttributes=ke(E.listAttributes,function(P,$){return $!=="start"})},rh=function(E,P){var $=E[P].depth,Q=function(Fe){return Fe.depth===$&&!Fe.dirty},pe=function(Fe){return Fe.depth<$};return L(nr(E.slice(0,P)),Q,pe).orThunk(function(){return L(E.slice(P+1),Q,pe)})},Cc=function(E){return Bt(E,function(P,$){rh(E,$).fold(function(){P.dirty&&ri(P)},function(Q){return Wp(P,Q)})}),E},xn=function(E){var P=E,$=function(){return P},Q=function(pe){P=pe};return{get:$,set:Q}},ns=function(E,P,$,Q){return Ss(Q).filter(io).fold(function(){P.each(function(Jt){gn(Jt.start,Q)&&$.set(!0)});var pe=_a(Q,E,$.get());P.each(function(Jt){gn(Jt.end,Q)&&$.set(!1)});var Fe=Ks(Q).filter(io).map(function(Jt){return Za(E,P,$,Jt)}).getOr([]);return pe.toArray().concat(Fe)},function(pe){return Za(E,P,$,pe)})},Za=function(E,P,$,Q){return Ze(Ju(Q),function(pe){var Fe=io(pe)?Za:ns,Jt=E+1;return Fe(Jt,P,$,pe)})},Ja=function(E,P){var $=xn(!1),Q=0;return Ie(E,function(pe){return{sourceList:pe,entries:Za(Q,P,$,pe)}})},Io=function(E,P){var $=Cc(P);return Ie($,function(Q){var pe=Yc(Q.content);return Lr.fromDom(Nr(E,pe.dom))})},wo=function(E,P){var $=Cc(P);return vm(E.contentDocument,$).toArray()},hf=function(E,P){return Ze(Jn(P,Ol),function($){var Q=A($).exists(Ol);return Q?wo(E,$):Io(E,$)})},Os=function(E,P){Bt(Qe(E,Vn),function($){return Ua(P,$)})},Pr=function(E){var P=Ie(es(E),Lr.fromDom);return lm(mt(P,Mt(ni)),mt(nr(P),Mt(ni)),function($,Q){return{start:$,end:Q}})},Aa=function(E,P,$){var Q=Ja(P,Pr(E));Bt(Q,function(pe){Os(pe.entries,$);var Fe=hf(E,pe.entries);Bt(Fe,function(Jt){R(E,$==="Indent"?"IndentList":"OutdentList",Jt.dom)}),lt(pe.sourceList,Fe),xs(pe.sourceList)})},eu=function(E,P){var $=Ie(ze(E),Lr.fromDom),Q=Ie(nh(E),Lr.fromDom),pe=!1;if($.length||Q.length){var Fe=E.selection.getBookmark();Aa(E,$,P),Xs(E,P,Q),E.selection.moveToBookmark(Fe),E.selection.setRng(iv(E.selection.getRng())),E.nodeChanged(),pe=!0}return pe},Zc=function(E){return eu(E,"Indent")},Oo=function(E){return eu(E,"Outdent")},rs=function(E){return eu(E,"Flatten")},jp=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),pf=Ts.DOM,fa=function(E){var P={},$=function(Q){var pe=E[Q?"startContainer":"endContainer"],Fe=E[Q?"startOffset":"endOffset"];if(pe.nodeType===1){var Jt=pf.create("span",{"data-mce-type":"bookmark"});pe.hasChildNodes()?(Fe=Math.min(Fe,pe.childNodes.length-1),Q?pe.insertBefore(Jt,pe.childNodes[Fe]):pf.insertAfter(Jt,pe.childNodes[Fe])):pe.appendChild(Jt),pe=Jt,Fe=0}P[Q?"startContainer":"endContainer"]=pe,P[Q?"startOffset":"endOffset"]=Fe};return $(!0),E.collapsed||$(),P},Zs=function(E){var P=function(Q){var pe,Fe=function(vr){for(var Yn=vr.parentNode.firstChild,ba=0;Yn;){if(Yn===vr)return ba;(Yn.nodeType!==1||Yn.getAttribute("data-mce-type")!=="bookmark")&&ba++,Yn=Yn.nextSibling}return-1},Jt=pe=E[Q?"startContainer":"endContainer"],Bn=E[Q?"startOffset":"endOffset"];Jt&&(Jt.nodeType===1&&(Bn=Fe(Jt),Jt=Jt.parentNode,pf.remove(pe),!Jt.hasChildNodes()&&pf.isBlock(Jt)&&Jt.appendChild(pf.create("br"))),E[Q?"startContainer":"endContainer"]=Jt,E[Q?"startOffset":"endOffset"]=Bn)};P(!0),P();var $=pf.createRng();return $.setStart(E.startContainer,E.startOffset),E.endContainer&&$.setEnd(E.endContainer,E.endOffset),iv($)},Dl=function(E){switch(E){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},du=function(E){return/\btox\-/.test(E.className)},so=function(E,P,$){var Q=function(Fe){var Jt=L(Fe.parents,ha,Es).filter(function(Bn){return Bn.nodeName===P&&!du(Bn)}).isSome();$(Jt)},pe=E.dom.getParents(E.selection.getNode());return Q({parents:pe}),E.on("NodeChange",Q),function(){return E.off("NodeChange",Q)}},Rl=function(E,P,$){var Q=$["list-style-type"]?$["list-style-type"]:null;E.setStyle(P,"list-style-type",Q)},Jc=function(E,P){Va.each(P,function($,Q){E.setAttribute(Q,$)})},Li=function(E,P,$){Jc(P,$["list-attributes"]),Va.each(E.select("li",P),function(Q){Jc(Q,$["list-item-attributes"])})},mu=function(E,P,$){Rl(E,P,$),Li(E,P,$)},yi=function(E,P,$){Va.each($,function(Q){var pe;return E.setStyle(P,(pe={},pe[Q]="",pe))})},sv=function(E,P,$,Q){var pe=P[$?"startContainer":"endContainer"],Fe=P[$?"startOffset":"endOffset"];for(pe.nodeType===1&&(pe=pe.childNodes[Math.min(Fe,pe.childNodes.length-1)]||pe),!$&&Qu(pe.nextSibling)&&(pe=pe.nextSibling);pe.parentNode!==Q;){if(Nu(E,pe)||/^(TD|TH)$/.test(pe.parentNode.nodeName))return pe;pe=pe.parentNode}return pe},Js=function(E,P,$){for(var Q=[],pe=E.dom,Fe=sv(E,P,!0,$),Jt=sv(E,P,!1,$),Bn,vr=[],Yn=Fe;Yn&&(vr.push(Yn),Yn!==Jt);Yn=Yn.nextSibling);return Va.each(vr,function(ba){if(Nu(E,ba)){Q.push(ba),Bn=null;return}if(pe.isBlock(ba)||Qu(ba)){Qu(ba)&&pe.remove(ba),Bn=null;return}var wi=ba.nextSibling;if(jp.isBookmarkNode(ba)&&(ha(wi)||Nu(E,wi)||!wi&&ba.parentNode===$)){Bn=null;return}Bn||(Bn=pe.create("p"),ba.parentNode.insertBefore(Bn,ba),Q.push(Bn)),Bn.appendChild(ba)}),Q},zo=function(E,P,$){var Q=E.getStyle(P,"list-style-type"),pe=$?$["list-style-type"]:"";return pe=pe===null?"":pe,Q===pe},rd=function(E,P,$){var Q=E.selection.getRng(),pe="LI",Fe=ks(E,E.selection.getStart(!0)),Jt=E.dom;if(Jt.getContentEditable(E.selection.getNode())!=="false"){P=P.toUpperCase(),P==="DL"&&(pe="DT");var Bn=fa(Q),vr=Js(E,Q,Fe);Va.each(vr,function(Yn){var ba,wi=Yn.previousSibling,eo=Yn.parentNode;bc(eo)||(wi&&ha(wi)&&wi.nodeName===P&&zo(Jt,wi,$)?(ba=wi,Yn=Jt.rename(Yn,pe),wi.appendChild(Yn)):(ba=Jt.create(P),Yn.parentNode.insertBefore(ba,Yn),ba.appendChild(Yn),Yn=Jt.rename(Yn,pe)),yi(Jt,Yn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),mu(Jt,ba,$),Cf(E.dom,ba))}),E.selection.setRng(Zs(Bn))}},Gp=function(E,P){return E&&P&&ha(E)&&E.nodeName===P.nodeName},bf=function(E,P,$){var Q=E.getStyle(P,"list-style-type",!0),pe=E.getStyle($,"list-style-type",!0);return Q===pe},yf=function(E,P){return E.className===P.className},Qa=function(E,P,$){return Gp(P,$)&&bf(E,P,$)&&yf(P,$)},Cf=function(E,P){var $,Q;if($=P.nextSibling,Qa(E,P,$)){for(;Q=$.firstChild;)P.appendChild(Q);E.remove($)}if($=P.previousSibling,Qa(E,P,$)){for(;Q=$.lastChild;)P.insertBefore(Q,P.firstChild);E.remove($)}},wf=function(E,P,$,Q){if(P.nodeName!==$){var pe=E.dom.rename(P,$);mu(E.dom,pe,Q),R(E,Dl($),pe)}else mu(E.dom,P,Q),R(E,Dl($),P)},Hi=function(E,P,$,Q,pe){var Fe=ha(P);if(Fe&&P.nodeName===Q&&!Qc(pe))rs(E);else{rd(E,Q,pe);var Jt=fa(E.selection.getRng()),Bn=Fe?ca([P],$,!0):$;Va.each(Bn,function(vr){wf(E,vr,Q,pe)}),E.selection.setRng(Zs(Jt))}},Qc=function(E){return"list-style-type"in E},Sf=function(E,P,$,Q){if(P!==E.getBody())if(P)if(P.nodeName===$&&!Qc(Q)&&!du(P))rs(E);else{var pe=fa(E.selection.getRng());mu(E.dom,P,Q);var Fe=E.dom.rename(P,$);Cf(E.dom,Fe),E.selection.setRng(Zs(pe)),rd(E,$,Q),R(E,Dl($),Fe)}else rd(E,$,Q),R(E,Dl($),P)},el=function(E,P,$){var Q=Dr(E),pe=th(E),Fe=Wr($)?$:{};pe.length>0?Hi(E,Q,pe,P,Fe):Sf(E,Q,P,Fe)},za=Ts.DOM,Pu=function(E,P){var $=P.parentNode;if($.nodeName==="LI"&&$.firstChild===P){var Q=$.previousSibling;Q&&Q.nodeName==="LI"?(Q.appendChild(P),se(E,$)&&za.remove($)):za.setStyle($,"listStyleType","none")}if(ha($)){var Q=$.previousSibling;Q&&Q.nodeName==="LI"&&Q.appendChild(P)}},dm=function(E,P){var $=Va.grep(E.select("ol,ul",P));Va.each($,function(Q){Pu(E,Q)})},as=function(E,P,$,Q){var pe=P.startContainer,Fe=P.startOffset;if(Ji(pe)&&($?Fe<pe.data.length:Fe>0))return pe;var Jt=E.schema.getNonEmptyElements();pe.nodeType===1&&(pe=Mu.getNode(pe,Fe));var Bn=new xl(pe,Q);for($&&V(E.dom,pe)&&Bn.next();pe=Bn[$?"next":"prev2"]();)if(pe.nodeName==="LI"&&!pe.hasChildNodes()||Jt[pe.nodeName]||Ji(pe)&&pe.data.length>0)return pe},mm=function(E,P){var $=P.childNodes;return $.length===1&&!ha($[0])&&E.isBlock($[0])},qp=function(E,P){mm(E,P)&&E.remove(P.firstChild,!0)},ah=function(E,P,$){var Q,pe=mm(E,$)?$.firstChild:$;if(qp(E,P),!se(E,P,!0))for(;Q=P.firstChild;)pe.appendChild(Q)},xf=function(E,P,$){var Q,pe=P.parentNode;if(!(!we(E,P)||!we(E,$))){ha($.lastChild)&&(Q=$.lastChild),pe===$.lastChild&&Qu(pe.previousSibling)&&E.remove(pe.previousSibling);var Fe=$.lastChild;Fe&&Qu(Fe)&&P.hasChildNodes()&&E.remove(Fe),se(E,$,!0)&&E.$($).empty(),ah(E,P,$),Q&&$.appendChild(Q);var Jt=fu(Lr.fromDom($),Lr.fromDom(P)),Bn=Jt?E.getParents(P,ha,$):[];E.remove(P),Bt(Bn,function(vr){se(E,vr)&&vr!==E.getRoot()&&E.remove(vr)})}},Tf=function(E,P,$){E.dom.$($).empty(),xf(E.dom,P,$),E.selection.setCursorLocation($,0)},_l=function(E,P,$,Q){var pe=E.dom;if(pe.isEmpty(Q))Tf(E,$,Q);else{var Fe=fa(P);xf(pe,$,Q),E.selection.setRng(Zs(Fe))}},En=function(E,P,$,Q){var pe=fa(P);xf(E.dom,$,Q);var Fe=Zs(pe);E.selection.setRng(Fe)},Ds=function(E,P){var $=E.dom,Q=E.selection,pe=Q.getStart(),Fe=ks(E,pe),Jt=$.getParent(Q.getStart(),"LI",Fe);if(Jt){var Bn=Jt.parentNode;if(Bn===E.getBody()&&se($,Bn))return!0;var vr=iv(Q.getRng()),Yn=$.getParent(as(E,vr,P,Fe),"LI",Fe);if(Yn&&Yn!==Jt)return E.undoManager.transact(function(){P?_l(E,vr,Yn,Jt):kl(Jt)?Oo(E):En(E,vr,Jt,Yn)}),!0;if(!Yn&&!P&&vr.startOffset===0&&vr.endOffset===0)return E.undoManager.transact(function(){rs(E)}),!0}return!1},gu=function(E,P,$){var Q=E.getParent(P.parentNode,E.isBlock,$);E.remove(P),Q&&E.isEmpty(Q)&&E.remove(Q)},Vi=function(E,P){var $=E.dom,Q=E.selection.getStart(),pe=ks(E,Q),Fe=$.getParent(Q,$.isBlock,pe);if(Fe&&$.isEmpty(Fe)){var Jt=iv(E.selection.getRng()),Bn=$.getParent(as(E,Jt,P,pe),"LI",pe);if(Bn)return E.undoManager.transact(function(){gu($,Fe,pe),Cf($,Bn.parentNode),E.selection.select(Bn,!0),E.selection.collapse(P)}),!0}return!1},Rs=function(E,P){return Ds(E,P)||Vi(E,P)},mo=function(E){var P=E.selection.getStart(),$=ks(E,P),Q=E.dom.getParent(P,"LI,DT,DD",$);return Q||es(E).length>0?(E.undoManager.transact(function(){E.execCommand("Delete"),dm(E.dom,E.getBody())}),!0):!1},$o=function(E,P){return E.selection.isCollapsed()?Rs(E,P):mo(E)},So=function(E){E.on("keydown",function(P){P.keyCode===vu.BACKSPACE?$o(E,!1)&&P.preventDefault():P.keyCode===vu.DELETE&&$o(E,!0)&&P.preventDefault()})},Bl=function(E){return{backspaceDelete:function(P){$o(E,P)}}},Ci=function(E,P){var $=Dr(E);E.undoManager.transact(function(){Wr(P.styles)&&E.dom.setStyles($,P.styles),Wr(P.attrs)&&J(P.attrs,function(Q,pe){return E.dom.setAttrib($,pe,Q)})})},Vt=function(E){var P=nr(Xt(E).split("")),$=Ie(P,function(Q,pe){var Fe=Q.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,pe)*Fe});return oe($,function(Q,pe){return Q+pe},0)},Ef=function(E){if(E--,E<0)return"";var P=E%26,$=Math.floor(E/26),Q=Ef($),pe=String.fromCharCode("A".charCodeAt(0)+P);return Q+pe},oh=function(E){return/^[A-Z]+$/.test(E)},Un=function(E){return/^[a-z]+$/.test(E)},va=function(E){return/^[0-9]+$/.test(E)},gm=function(E){return va(E)?2:oh(E)?0:Un(E)?1:Qn(E)?3:4},wc=function(E){switch(gm(E)){case 2:return Rt.some({listStyleType:Rt.none(),start:E});case 0:return Rt.some({listStyleType:Rt.some("upper-alpha"),start:Vt(E).toString()});case 1:return Rt.some({listStyleType:Rt.some("lower-alpha"),start:Vt(E).toString()});case 3:return Rt.some({listStyleType:Rt.none(),start:""});case 4:return Rt.none()}},Ba=function(E){var P=parseInt(E.start,10);return oo(E.listStyleType,"upper-alpha")?Ef(P):oo(E.listStyleType,"lower-alpha")?Ef(P).toLowerCase():E.start},hm=function(E){var P=Dr(E);Kc(P)&&E.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ba({start:E.dom.getAttrib(P,"start","1"),listStyleType:Rt.some(E.dom.getStyle(P,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function($){var Q=$.getData();wc(Q.start).each(function(pe){E.execCommand("mceListUpdate",!1,{attrs:{start:pe.start==="1"?"":pe.start},styles:{"list-style-type":pe.listStyleType.getOr("")}})}),$.close()}})},Fu=function(E,P){return function(){var $=Dr(E);return $&&$.nodeName===P}},ad=function(E){E.addCommand("mceListProps",function(){hm(E)})},Xn=function(E){E.on("BeforeExecCommand",function(P){var $=P.command.toLowerCase();$==="indent"?Zc(E):$==="outdent"&&Oo(E)}),E.addCommand("InsertUnorderedList",function(P,$){el(E,"UL",$)}),E.addCommand("InsertOrderedList",function(P,$){el(E,"OL",$)}),E.addCommand("InsertDefinitionList",function(P,$){el(E,"DL",$)}),E.addCommand("RemoveList",function(){rs(E)}),ad(E),E.addCommand("mceListUpdate",function(P,$){Wr($)&&Ci(E,$)}),E.addQueryStateHandler("InsertUnorderedList",Fu(E,"UL")),E.addQueryStateHandler("InsertOrderedList",Fu(E,"OL")),E.addQueryStateHandler("InsertDefinitionList",Fu(E,"DL"))},tu=function(E){E.on("keydown",function(P){P.keyCode!==vu.TAB||vu.metaKeyPressed(P)||E.undoManager.transact(function(){(P.shiftKey?Oo(E):Zc(E))&&P.preventDefault()})})},Pb=function(E){Ve(E)&&tu(E),So(E)},Fb=function(E){var P=function($){return function(){return E.execCommand($)}};E.hasPlugin("advlist")||(E.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:P("InsertOrderedList"),onSetup:function($){return so(E,"OL",$.setActive)}}),E.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:P("InsertUnorderedList"),onSetup:function($){return so(E,"UL",$.setActive)}}))},$a=function(E){var P={text:"List properties...",icon:"ordered-list",onAction:function(){return E.execCommand("mceListProps")},onSetup:function($){return so(E,"OL",function(Q){return $.setDisabled(!Q)})}};E.ui.registry.addMenuItem("listprops",P),E.ui.registry.addContextMenu("lists",{update:function($){var Q=Dr(E,$);return Kc(Q)?["listprops"]:[]}})};function pm(){bo.add("lists",function(E){return E.hasPlugin("rtc",!0)===!1?(Pb(E),Xn(E)):ad(E),Fb(E),$a(E),Bl(E)})}pm()})();(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gn=function(be,Ee){return be.fire("insertCustomChar",{chr:Ee})},Ta=function(be,Ee){var Ce=Gn(be,Ee).chr;be.execCommand("mceInsertContent",!1,Ce)},ra=function(be){var Ee=typeof be;return be===null?"null":Ee==="object"&&(Array.prototype.isPrototypeOf(be)||be.constructor&&be.constructor.name==="Array")?"array":Ee==="object"&&(String.prototype.isPrototypeOf(be)||be.constructor&&be.constructor.name==="String")?"string":Ee},Fn=function(be){return function(Ee){return ra(Ee)===be}},Wr=function(be){return function(Ee){return be===Ee}},tr=Fn("array"),kr=Wr(null),en=function(){},wa=function(be){return function(){return be}},sa=function(be){return be},it=wa(!1),Zt=wa(!0),er=function(){return Mt},Mt=function(){var be=function(Ct){return Ct()},Ee=sa,Ce={fold:function(Ct,Xt){return Ct()},isSome:it,isNone:Zt,getOr:Ee,getOrThunk:be,getOrDie:function(Ct){throw new Error(Ct||"error: getOrDie called on none.")},getOrNull:wa(null),getOrUndefined:wa(void 0),or:Ee,orThunk:be,map:er,each:en,bind:er,exists:it,forall:Zt,filter:function(){return er()},toArray:function(){return[]},toString:wa("none()")};return Ce}(),Ye=function(be){var Ee=wa(be),Ce=function(){return Xt},Ct=function(xt){return xt(be)},Xt={fold:function(xt,Qn){return Qn(be)},isSome:Zt,isNone:it,getOr:Ee,getOrThunk:Ee,getOrDie:Ee,getOrNull:Ee,getOrUndefined:Ee,or:Ce,orThunk:Ce,map:function(xt){return Ye(xt(be))},each:function(xt){xt(be)},bind:Ct,exists:Ct,forall:Ct,filter:function(xt){return xt(be)?Xt:Mt},toArray:function(){return[be]},toString:function(){return"some("+be+")"}};return Xt},Nn=function(be){return be==null?Mt:Ye(be)},vt={some:Ye,none:er,from:Nn},dn=Array.prototype.push,ve=function(be,Ee){for(var Ce=be.length,Ct=new Array(Ce),Xt=0;Xt<Ce;Xt++){var xt=be[Xt];Ct[Xt]=Ee(xt,Xt)}return Ct},Lt=function(be,Ee){for(var Ce=0,Ct=be.length;Ce<Ct;Ce++){var Xt=be[Ce];Ee(Xt,Ce)}},Rt=function(be,Ee,Ce){for(var Ct=0,Xt=be.length;Ct<Xt;Ct++){var xt=be[Ct];if(Ee(xt,Ct))return vt.some(xt);if(Ce(xt,Ct))break}return vt.none()},Tr=function(be,Ee){return Rt(be,Ee,it)},Sn=function(be){for(var Ee=[],Ce=0,Ct=be.length;Ce<Ct;++Ce){if(!tr(be[Ce]))throw new Error("Arr.flatten item "+Ce+" was not an array, input: "+be);dn.apply(Ee,be[Ce])}return Ee},Ie=function(be,Ee){return Sn(ve(be,Ee))},Bt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Qe=function(be){return be.getParam("charmap")},Jn=function(be){return be.getParam("charmap_append")},oe=Bt.isArray,L="User Defined",mt=function(){return[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]},Hn=function(be){return Bt.grep(be,function(Ee){return oe(Ee)&&Ee.length===2})},Ze=function(be){return oe(be)?Hn(be):typeof be=="function"?be():[]},nr=function(be,Ee){var Ce=Qe(be);Ce&&(Ee=[{name:L,characters:Ze(Ce)}]);var Ct=Jn(be);if(Ct){var Xt=Bt.grep(Ee,function(xt){return xt.name===L});return Xt.length?(Xt[0].characters=[].concat(Xt[0].characters).concat(Ze(Ct)),Ee):Ee.concat({name:L,characters:Ze(Ct)})}return Ee},Rn=function(be){var Ee=nr(be,mt());return Ee.length>1?[{name:"All",characters:Ie(Ee,function(Ce){return Ce.characters})}].concat(Ee):Ee},A=function(be){var Ee=function(){return Rn(be)},Ce=function(Ct){Ta(be,Ct)};return{getCharMap:Ee,insertChar:Ce}},Cr=function(be){var Ee=be,Ce=function(){return Ee},Ct=function(Xt){Ee=Xt};return{get:Ce,set:Ct}},at=function(be,Ee){var Ce=null,Ct=function(){kr(Ce)||(clearTimeout(Ce),Ce=null)},Xt=function(){for(var xt=[],Qn=0;Qn<arguments.length;Qn++)xt[Qn]=arguments[Qn];Ct(),Ce=setTimeout(function(){Ce=null,be.apply(null,xt)},Ee)};return{cancel:Ct,throttle:Xt}},Nt=String.fromCodePoint,ca=function(be,Ee){return be.indexOf(Ee)!==-1},yo=function(){for(var be=[],Ee=0;Ee<arguments.length;Ee++)be[Ee]=arguments[Ee];if(Nt)return Nt.apply(void 0,be);for(var Ce=[],Ct=0,Xt="",xt=0,Qn=be.length;xt!==Qn;++xt){var rr=+be[xt];if(!(rr<1114111&&rr>>>0===rr))throw RangeError("Invalid code point: "+rr);rr<=65535?Ct=Ce.push(rr):(rr-=65536,Ct=Ce.push((rr>>10)+55296,rr%1024+56320)),Ct>=16383&&(Xt+=String.fromCharCode.apply(null,Ce),Ce.length=0)}return Xt+String.fromCharCode.apply(null,Ce)},In=function(be,Ee,Ce){return ca(yo(be).toLowerCase(),Ce)?!0:ca(Ee.toLowerCase(),Ce)||ca(Ee.toLowerCase().replace(/\s+/g,""),Ce)},Jr=function(be,Ee){var Ce=[],Ct=Ee.toLowerCase();return Lt(be.characters,function(Xt){In(Xt[0],Xt[1],Ct)&&Ce.push(Xt)}),ve(Ce,function(Xt){return{text:Xt[1],value:yo(Xt[0]),icon:yo(Xt[0])}})},Z="pattern",Co=function(be,Ee){var Ce=function(){return[{label:"Search",type:"input",name:Z},{type:"collection",name:"results"}]},Ct=function(){return ve(Ee,function(ta){return{title:ta.name,name:ta.name,items:Ce()}})},Xt=function(){return{type:"panel",items:Ce()}},xt=function(){return{type:"tabpanel",tabs:Ct()}},Qn=Ee.length===1?Cr(L):Cr("All"),rr=function(ta,Ka){Tr(Ee,function(fo){return fo.name===Qn.get()}).each(function(fo){var na=Jr(fo,Ka);ta.setData({results:na})})},fn=40,jr=at(function(ta){var Ka=ta.getData().pattern;rr(ta,Ka)},fn),ko=Ee.length===1?Xt():xt(),Yi={pattern:"",results:Jr(Ee[0],"")},Pi={title:"Special Character",size:"normal",body:ko,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Yi,onAction:function(ta,Ka){Ka.name==="results"&&(Ta(be,Ka.value),ta.close())},onTabChange:function(ta,Ka){Qn.set(Ka.newTabName),jr.throttle(ta)},onChange:function(ta,Ka){Ka.name===Z&&jr.throttle(ta)}},mi=be.windowManager.open(Pi);mi.focus(Z)},ut=function(be,Ee){be.addCommand("mceShowCharmap",function(){Co(be,Ee)})},Ut=tinymce.util.Tools.resolve("tinymce.util.Promise"),Eo=function(be,Ee){be.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(Ce,Ct){return new Ut(function(Xt,xt){Xt(Jr(Ee,Ce))})},onAction:function(Ce,Ct,Xt){be.selection.setRng(Ct),be.insertContent(Xt),Ce.hide()}})},st=function(be){be.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return be.execCommand("mceShowCharmap")}}),be.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return be.execCommand("mceShowCharmap")}})};function We(){bo.add("charmap",function(be){var Ee=Rn(be);return ut(be,Ee),st(be),Eo(be,Ee[0]),A(be)})}We()})();(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gn=function(){return Gn=Object.assign||function(ge){for(var ne,ke=1,Tt=arguments.length;ke<Tt;ke++){ne=arguments[ke];for(var jt in ne)Object.prototype.hasOwnProperty.call(ne,jt)&&(ge[jt]=ne[jt])}return ge},Gn.apply(this,arguments)},Ta=function(J){var ge=typeof J;return J===null?"null":ge==="object"&&(Array.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="Array")?"array":ge==="object"&&(String.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="String")?"string":ge},ra=function(J){return function(ge){return Ta(ge)===J}},Fn=ra("string"),Wr=ra("object"),tr=ra("array"),kr=function(J){return J==null},en=function(J){return!kr(J)},wa=function(){},sa=function(J){return function(){return J}},it=function(J){return J},Zt=sa(!1),er=sa(!0),Mt=function(){return Ye},Ye=function(){var J=function(ke){return ke()},ge=it,ne={fold:function(ke,Tt){return ke()},isSome:Zt,isNone:er,getOr:ge,getOrThunk:J,getOrDie:function(ke){throw new Error(ke||"error: getOrDie called on none.")},getOrNull:sa(null),getOrUndefined:sa(void 0),or:ge,orThunk:J,map:Mt,each:wa,bind:Mt,exists:Zt,forall:er,filter:function(){return Mt()},toArray:function(){return[]},toString:sa("none()")};return ne}(),Nn=function(J){var ge=sa(J),ne=function(){return Tt},ke=function(jt){return jt(J)},Tt={fold:function(jt,Tn){return Tn(J)},isSome:er,isNone:Zt,getOr:ge,getOrThunk:ge,getOrDie:ge,getOrNull:ge,getOrUndefined:ge,or:ne,orThunk:ne,map:function(jt){return Nn(jt(J))},each:function(jt){jt(J)},bind:ke,exists:ke,forall:ke,filter:function(jt){return jt(J)?Tt:Ye},toArray:function(){return[J]},toString:function(){return"some("+J+")"}};return Tt},vt=function(J){return J==null?Ye:Nn(J)},dn={some:Nn,none:Mt,from:vt},ve=Array.prototype.push,Lt=function(J,ge){for(var ne=0,ke=J.length;ne<ke;ne++){var Tt=J[ne];ge(Tt,ne)}},Rt=function(J){for(var ge=[],ne=0,ke=J.length;ne<ke;++ne){if(!tr(J[ne]))throw new Error("Arr.flatten item "+ne+" was not an array, input: "+J);ve.apply(ge,J[ne])}return ge},Tr=function(J){var ge=J,ne=function(){return ge},ke=function(Tt){ge=Tt};return{get:ne,set:ke}},Sn=Object.keys,Ie=Object.hasOwnProperty,Bt=function(J,ge){for(var ne=Sn(J),ke=0,Tt=ne.length;ke<Tt;ke++){var jt=ne[ke],Tn=J[jt];ge(Tn,jt)}},Qe=function(J,ge){return Jn(J,ge)?dn.from(J[ge]):dn.none()},Jn=function(J,ge){return Ie.call(J,ge)},oe=function(J){return J.getParam("media_scripts")},L=function(J){return J.getParam("audio_template_callback")},mt=function(J){return J.getParam("video_template_callback")},Hn=function(J){return J.getParam("media_live_embeds",!0)},Ze=function(J){return J.getParam("media_filter_html",!0)},nr=function(J){return J.getParam("media_url_resolver")},Rn=function(J){return J.getParam("media_alt_source",!0)},A=function(J){return J.getParam("media_poster",!0)},Cr=function(J){return J.getParam("media_dimensions",!0)},at=tinymce.util.Tools.resolve("tinymce.util.Tools"),Nt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ca=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),yo=function(J,ge){if(J){for(var ne=0;ne<J.length;ne++)if(ge.indexOf(J[ne].filter)!==-1)return J[ne]}},In=Nt.DOM,Jr=function(J){return J.replace(/px$/,"")},Z=function(J){var ge=J.map.style,ne=ge?In.parseStyle(ge):{};return{type:"ephox-embed-iri",source:J.map["data-ephox-embed-iri"],altsource:"",poster:"",width:Qe(ne,"max-width").map(Jr).getOr(""),height:Qe(ne,"max-height").map(Jr).getOr("")}},Co=function(J,ge){var ne=Tr(!1),ke={};return ca({validate:!1,allow_conditional_comments:!0,start:function(Tt,jt){if(!ne.get())if(Jn(jt.map,"data-ephox-embed-iri"))ne.set(!0),ke=Z(jt);else{if(!ke.source&&Tt==="param"&&(ke.source=jt.map.movie),(Tt==="iframe"||Tt==="object"||Tt==="embed"||Tt==="video"||Tt==="audio")&&(ke.type||(ke.type=Tt),ke=at.extend(jt.map,ke)),Tt==="script"){var Tn=yo(J,jt.map.src);if(!Tn)return;ke={type:"script",source:jt.map.src,width:String(Tn.width),height:String(Tn.height)}}Tt==="source"&&(ke.source?ke.altsource||(ke.altsource=jt.map.src):ke.source=jt.map.src),Tt==="img"&&!ke.poster&&(ke.poster=jt.map.src)}}}).parse(ge),ke.source=ke.source||ke.src||ke.data,ke.altsource=ke.altsource||"",ke.poster=ke.poster||"",ke},ut=function(J){var ge={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},ne=J.toLowerCase().split(".").pop(),ke=ge[ne];return ke||""},Ut=tinymce.util.Tools.resolve("tinymce.html.Schema"),Eo=tinymce.util.Tools.resolve("tinymce.html.Writer"),st=Nt.DOM,We=function(J){return/^[0-9.]+$/.test(J)?J+"px":J},be=function(J,ge){Bt(ge,function(ne,ke){var Tt=""+ne;if(J.map[ke])for(var jt=J.length;jt--;){var Tn=J[jt];Tn.name===ke&&(Tt?(J.map[ke]=Tt,Tn.value=Tt):(delete J.map[ke],J.splice(jt,1)))}else Tt&&(J.push({name:ke,value:Tt}),J.map[ke]=Tt)})},Ee=function(J,ge){var ne=ge.map.style,ke=ne?st.parseStyle(ne):{};ke["max-width"]=We(J.width),ke["max-height"]=We(J.height),be(ge,{style:st.serializeStyle(ke)})},Ce=["source","altsource"],Ct=function(J,ge,ne){var ke=Eo(),Tt=Tr(!1),jt=0,Tn;return ca({validate:!1,allow_conditional_comments:!0,comment:function(_n){ke.comment(_n)},cdata:function(_n){ke.cdata(_n)},text:function(_n,Or){ke.text(_n,Or)},start:function(_n,Or,Er){if(!Tt.get())if(Jn(Or.map,"data-ephox-embed-iri"))Tt.set(!0),Ee(ge,Or);else{switch(_n){case"video":case"object":case"embed":case"img":case"iframe":ge.height!==void 0&&ge.width!==void 0&&be(Or,{width:ge.width,height:ge.height});break}if(ne)switch(_n){case"video":be(Or,{poster:ge.poster,src:""}),ge.altsource&&be(Or,{src:""});break;case"iframe":be(Or,{src:ge.source});break;case"source":if(jt<2&&(be(Or,{src:ge[Ce[jt]],type:ge[Ce[jt]+"mime"]}),!ge[Ce[jt]]))return;jt++;break;case"img":if(!ge.poster)return;Tn=!0;break}}ke.start(_n,Or,Er)},end:function(_n){if(!Tt.get()){if(_n==="video"&&ne){for(var Or=0;Or<2;Or++)if(ge[Ce[Or]]){var Er=[];Er.map={},jt<=Or&&(be(Er,{src:ge[Ce[Or]],type:ge[Ce[Or]+"mime"]}),ke.start("source",Er,!0))}}if(ge.poster&&_n==="object"&&ne&&!Tn){var hr=[];hr.map={},be(hr,{src:ge.poster,width:ge.width,height:ge.height}),ke.start("img",hr,!0)}}ke.end(_n)}},Ut({})).parse(J),ke.getContent()},Xt=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],xt=function(J){var ge=J.match(/^(https?:\/\/|www\.)(.+)$/i);return ge&&ge.length>1?ge[1]==="www."?"https://":ge[1]:"https://"},Qn=function(J,ge){for(var ne=xt(ge),ke=J.regex.exec(ge),Tt=ne+J.url,jt=function(_n){Tt=Tt.replace("$"+_n,function(){return ke[_n]?ke[_n]:""})},Tn=0;Tn<ke.length;Tn++)jt(Tn);return Tt.replace(/\?$/,"")},rr=function(J){var ge=Xt.filter(function(ne){return ne.regex.test(J)});return ge.length>0?at.extend({},ge[0],{url:Qn(ge[0],J)}):null},fn=function(J){var ge=J.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+J.source+'" width="'+J.width+'" height="'+J.height+'"'+ge+"></iframe>"},jr=function(J){var ge='<object data="'+J.source+'" width="'+J.width+'" height="'+J.height+'" type="application/x-shockwave-flash">';return J.poster&&(ge+='<img src="'+J.poster+'" width="'+J.width+'" height="'+J.height+'" />'),ge+="</object>",ge},ko=function(J,ge){return ge?ge(J):'<audio controls="controls" src="'+J.source+'">'+(J.altsource?`
<source src="`+J.altsource+'"'+(J.altsourcemime?' type="'+J.altsourcemime+'"':"")+` />
`:"")+"</audio>"},Yi=function(J,ge){return ge?ge(J):'<video width="'+J.width+'" height="'+J.height+'"'+(J.poster?' poster="'+J.poster+'"':"")+` controls="controls">
<source src="`+J.source+'"'+(J.sourcemime?' type="'+J.sourcemime+'"':"")+` />
`+(J.altsource?'<source src="'+J.altsource+'"'+(J.altsourcemime?' type="'+J.altsourcemime+'"':"")+` />
`:"")+"</video>"},Pi=function(J){return'<script src="'+J.source+'"><\/script>'},mi=function(J,ge){var ne=at.extend({},ge);if(!ne.source&&(at.extend(ne,Co(oe(J),ne.embed)),!ne.source))return"";ne.altsource||(ne.altsource=""),ne.poster||(ne.poster=""),ne.source=J.convertURL(ne.source,"source"),ne.altsource=J.convertURL(ne.altsource,"source"),ne.sourcemime=ut(ne.source),ne.altsourcemime=ut(ne.altsource),ne.poster=J.convertURL(ne.poster,"poster");var ke=rr(ne.source);if(ke&&(ne.source=ke.url,ne.type=ke.type,ne.allowfullscreen=ke.allowFullscreen,ne.width=ne.width||String(ke.w),ne.height=ne.height||String(ke.h)),ne.embed)return Ct(ne.embed,ne,!0);var Tt=yo(oe(J),ne.source);Tt&&(ne.type="script",ne.width=String(Tt.width),ne.height=String(Tt.height));var jt=L(J),Tn=mt(J);return ne.width=ne.width||"300",ne.height=ne.height||"150",at.each(ne,function(_n,Or){ne[Or]=J.dom.encode(""+_n)}),ne.type==="iframe"?fn(ne):ne.sourcemime==="application/x-shockwave-flash"?jr(ne):ne.sourcemime.indexOf("audio")!==-1?ko(ne,jt):ne.type==="script"?Pi(ne):Yi(ne,Tn)},ta=function(J){return J.hasAttribute("data-mce-object")||J.hasAttribute("data-ephox-embed-iri")},Ka=function(J){J.on("click keyup touchend",function(){var ge=J.selection.getNode();ge&&J.dom.hasClass(ge,"mce-preview-object")&&J.dom.getAttrib(ge,"data-mce-selected")&&ge.setAttribute("data-mce-selected","2")}),J.on("ObjectSelected",function(ge){var ne=ge.target.getAttribute("data-mce-object");ne==="script"&&ge.preventDefault()}),J.on("ObjectResized",function(ge){var ne=ge.target;if(ne.getAttribute("data-mce-object")){var ke=ne.getAttribute("data-mce-html");ke&&(ke=unescape(ke),ne.setAttribute("data-mce-html",escape(Ct(ke,{width:String(ge.width),height:String(ge.height)}))))}})},fo=tinymce.util.Tools.resolve("tinymce.util.Promise"),na={},la=function(J,ge,ne){return new fo(function(ke,Tt){var jt=function(Tn){return Tn.html&&(na[J.source]=Tn),ke({url:J.source,html:Tn.html?Tn.html:ge(J)})};na[J.source]?jt(na[J.source]):ne({url:J.source},jt,Tt)})},Xa=function(J,ge){return fo.resolve({html:ge(J),url:J.source})},aa=function(J){return function(ge){return mi(J,ge)}},Br=function(J,ge){var ne=nr(J);return ne?la(ge,aa(J),ne):Xa(ge,aa(J))},Me=function(J){return Jn(na,J)},Pt=function(J,ge){return Qe(ge,J).bind(function(ne){return Qe(ne,"meta")})},vn=function(J,ge,ne){return function(ke){var Tt,jt=function(){return Qe(J,ke)},Tn=function(){return Qe(ge,ke)},_n=function(hr){return Qe(hr,"value").bind(function(Ya){return Ya.length>0?dn.some(Ya):dn.none()})},Or=function(){return jt().bind(function(hr){return Wr(hr)?_n(hr).orThunk(Tn):Tn().orThunk(function(){return dn.from(hr)})})},Er=function(){return Tn().orThunk(function(){return jt().bind(function(hr){return Wr(hr)?_n(hr):dn.from(hr)})})};return Tt={},Tt[ke]=(ke===ne?Or():Er()).getOr(""),Tt}},zt=function(J,ge){var ne={};return Qe(J,"dimensions").each(function(ke){Lt(["width","height"],function(Tt){Qe(ge,Tt).orThunk(function(){return Qe(ke,Tt)}).each(function(jt){return ne[Tt]=jt})})}),ne},gr=function(J,ge){var ne=ge?Pt(ge,J).getOr({}):{},ke=vn(J,ne,ge);return Gn(Gn(Gn(Gn(Gn({},ke("source")),ke("altsource")),ke("poster")),ke("embed")),zt(J,ne))},Ar=function(J){var ge=Gn(Gn({},J),{source:{value:Qe(J,"source").getOr("")},altsource:{value:Qe(J,"altsource").getOr("")},poster:{value:Qe(J,"poster").getOr("")}});return Lt(["width","height"],function(ne){Qe(J,ne).each(function(ke){var Tt=ge.dimensions||{};Tt[ne]=ke,ge.dimensions=Tt})}),ge},Ha=function(J){return function(ge){var ne=ge&&ge.msg?"Media embed handler error: "+ge.msg:"Media embed handler threw unknown error.";J.notificationManager.open({type:"error",text:ne})}},rn=function(J,ge){return Co(oe(J),ge)},wr=function(J){var ge=J.selection.getNode(),ne=ta(ge)?J.serializer.serialize(ge,{selection:!0}):"";return Gn({embed:ne},Co(oe(J),ne))},Ea=function(J,ge){return function(ne){if(Fn(ne.url)&&ne.url.trim().length>0){var ke=ne.html,Tt=rn(ge,ke),jt=Gn(Gn({},Tt),{source:ne.url,embed:ke});J.setData(Ar(jt))}}},gi=function(J,ge){for(var ne=J.dom.select("*[data-mce-object]"),ke=0;ke<ge.length;ke++)for(var Tt=ne.length-1;Tt>=0;Tt--)ge[ke]===ne[Tt]&&ne.splice(Tt,1);J.selection.select(ne[0])},ys=function(J,ge){var ne=J.dom.select("*[data-mce-object]");J.insertContent(ge),gi(J,ne),J.nodeChanged()},Mr=function(J,ge,ne){ge.embed=Ct(ge.embed,ge),ge.embed&&(J.source===ge.source||Me(ge.source))?ys(ne,ge.embed):Br(ne,ge).then(function(ke){ys(ne,ke.html)}).catch(Ha(ne))},qn=function(J){var ge=wr(J),ne=Tr(ge),ke=Ar(ge),Tt=function(Fa,Ia){var lt=gr(Ia.getData(),"source");Fa.source!==lt.source&&(Ea(Ks,J)({url:lt.source,html:""}),Br(J,lt).then(Ea(Ks,J)).catch(Ha(J)))},jt=function(Fa){var Ia=gr(Fa.getData()),lt=rn(J,Ia.embed);Fa.setData(Ar(lt))},Tn=function(Fa,Ia){var lt=gr(Fa.getData(),Ia),Ao=mi(J,lt);Fa.setData(Ar(Gn(Gn({},lt),{embed:Ao})))},_n=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Or=Cr(J)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Er={title:"General",name:"general",items:Rt([_n,Or])},hr={type:"textarea",name:"embed",label:"Paste your embed code below:"},Ya={title:"Embed",items:[hr]},Pa=[];Rn(J)&&Pa.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),A(J)&&Pa.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var Ju={title:"Advanced",name:"advanced",items:Pa},Po=[Er,Ya];Pa.length>0&&Po.push(Ju);var Ss={type:"tabpanel",tabs:Po},Ks=J.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Ss,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Fa){var Ia=gr(Fa.getData());Mr(ne.get(),Ia,J),Fa.close()},onChange:function(Fa,Ia){switch(Ia.name){case"source":Tt(ne.get(),Fa);break;case"embed":jt(Fa);break;case"dimensions":case"altsource":case"poster":Tn(Fa,Ia.name);break}ne.set(gr(Fa.getData()))},initialData:ke})},Zi=function(J){var ge=function(){qn(J)};return{showDialog:ge}},Vc=function(J){var ge=function(){qn(J)};J.addCommand("mceMedia",ge)},Fi=tinymce.util.Tools.resolve("tinymce.html.Node"),Ii=tinymce.util.Tools.resolve("tinymce.Env"),Zu=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Cs=function(J,ge){if(Ze(J)===!1)return ge;var ne=Eo(),ke;return ca({validate:!1,allow_conditional_comments:!1,comment:function(Tt){ke||ne.comment(Tt)},cdata:function(Tt){ke||ne.cdata(Tt)},text:function(Tt,jt){ke||ne.text(Tt,jt)},start:function(Tt,jt,Tn){if(ke=!0,!(Tt==="script"||Tt==="noscript"||Tt==="svg")){for(var _n=jt.length-1;_n>=0;_n--){var Or=jt[_n].name;Or.indexOf("on")===0&&(delete jt.map[Or],jt.splice(_n,1)),Or==="style"&&(jt[_n].value=J.dom.serializeStyle(J.dom.parseStyle(jt[_n].value),Tt))}ne.start(Tt,jt,Tn),ke=!1}},end:function(Tt){ke||ne.end(Tt)}},Ut({})).parse(ge),ne.getContent()},Bu=function(J){var ge=J.name;return ge==="iframe"||ge==="video"||ge==="audio"},zi=function(J,ge,ne,ke){ke===void 0&&(ke=null);var Tt=J.attr(ne);return en(Tt)?Tt:Jn(ge,ne)?null:ke},ws=function(J,ge,ne){var ke=ge.name==="img"||J.name==="video",Tt=ke?"300":null,jt=J.name==="audio"?"30":"150",Tn=ke?jt:null;ge.attr({width:zi(J,ne,"width",Tt),height:zi(J,ne,"height",Tn)})},Lr=function(J,ge,ne,ke){for(var Tt=Zu({forced_root_block:!1,validate:!1},J.schema).parse(ke,{context:ge});Tt.firstChild;)ne.append(Tt.firstChild)},lu=function(J,ge){var ne=ge.name,ke=new Fi("img",1);return ke.shortEnded=!0,Uc(J,ge,ke),ws(ge,ke,{}),ke.attr({style:ge.attr("style"),src:Ii.transparentSrc,"data-mce-object":ne,class:"mce-object mce-object-"+ne}),ke},gn=function(J,ge){var ne=ge.name,ke=new Fi("span",1);ke.attr({contentEditable:"false",style:ge.attr("style"),"data-mce-object":ne,class:"mce-preview-object mce-object-"+ne}),Uc(J,ge,ke);var Tt=J.dom.parseStyle(ge.attr("style")),jt=new Fi(ne,1);if(ws(ge,jt,Tt),jt.attr({src:ge.attr("src"),style:ge.attr("style"),class:ge.attr("class")}),ne==="iframe")jt.attr({allowfullscreen:ge.attr("allowfullscreen"),frameborder:"0"});else{var Tn=["controls","crossorigin","currentTime","loop","muted","poster","preload"];Lt(Tn,function(Er){jt.attr(Er,ge.attr(Er))});var _n=ke.attr("data-mce-html");en(_n)&&Lr(J,ne,jt,unescape(_n))}var Or=new Fi("span",1);return Or.attr("class","mce-shim"),ke.append(jt),ke.append(Or),ke},Uc=function(J,ge,ne){for(var ke=ge.attributes,Tt=ke.length;Tt--;){var jt=ke[Tt].name,Tn=ke[Tt].value;jt!=="width"&&jt!=="height"&&jt!=="style"&&((jt==="data"||jt==="src")&&(Tn=J.convertURL(Tn,jt)),ne.attr("data-mce-p-"+jt,Tn))}var _n=ge.firstChild&&ge.firstChild.value;_n&&(ne.attr("data-mce-html",escape(Cs(J,_n))),ne.firstChild=null)},hi=function(J){var ge=J.attr("class");return ge&&/\btiny-pageembed\b/.test(ge)},fu=function(J){for(;J=J.parent;)if(J.attr("data-ephox-embed-iri")||hi(J))return!0;return!1},pi=function(J){return function(ge){for(var ne=ge.length,ke,Tt;ne--;)ke=ge[ne],ke.parent&&(ke.parent.attr("data-mce-object")||ke.name==="script"&&(Tt=yo(oe(J),ke.attr("src")),!Tt)||(Tt&&(Tt.width&&ke.attr("width",Tt.width.toString()),Tt.height&&ke.attr("height",Tt.height.toString())),Bu(ke)&&Hn(J)&&Ii.ceFalse?fu(ke)||ke.replace(gn(J,ke)):fu(ke)||ke.replace(lu(J,ke))))}},Mu=function(J){J.on("preInit",function(){var ge=J.schema.getSpecialElements();at.each("video audio iframe object".split(" "),function(ke){ge[ke]=new RegExp("</"+ke+"[^>]*>","gi")});var ne=J.schema.getBoolAttrs();at.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(ke){ne[ke]={}}),J.parser.addNodeFilter("iframe,video,audio,object,embed,script",pi(J)),J.serializer.addAttributeFilter("data-mce-object",function(ke,Tt){for(var jt=ke.length,Tn,_n,Or,Er,hr,Ya,Pa,Ju;jt--;)if(Tn=ke[jt],!!Tn.parent){for(Pa=Tn.attr(Tt),_n=new Fi(Pa,1),Pa!=="audio"&&Pa!=="script"&&(Ju=Tn.attr("class"),Ju&&Ju.indexOf("mce-preview-object")!==-1?_n.attr({width:Tn.firstChild.attr("width"),height:Tn.firstChild.attr("height")}):_n.attr({width:Tn.attr("width"),height:Tn.attr("height")})),_n.attr({style:Tn.attr("style")}),Er=Tn.attributes,Or=Er.length;Or--;){var Po=Er[Or].name;Po.indexOf("data-mce-p-")===0&&_n.attr(Po.substr(11),Er[Or].value)}Pa==="script"&&_n.attr("type","text/javascript"),hr=Tn.attr("data-mce-html"),hr&&(Ya=new Fi("#text",3),Ya.raw=!0,Ya.value=Cs(J,unescape(hr)),_n.append(Ya)),Tn.replace(_n)}})}),J.on("SetContent",function(){J.$("span.mce-preview-object").each(function(ge,ne){var ke=J.$(ne);ke.find("span.mce-shim").length===0&&ke.append('<span class="mce-shim"></span>')})})},xl=function(J){J.on("ResolveName",function(ge){var ne;ge.target.nodeType===1&&(ne=ge.target.getAttribute("data-mce-object"))&&(ge.name=ne)})},vu=function(J){var ge=function(){return J.execCommand("mceMedia")};J.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:ge,onSetup:function(ne){var ke=J.selection;return ne.setActive(ta(ke.getNode())),ke.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",ne.setActive).unbind}}),J.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:ge})};function Wc(){bo.add("media",function(J){return Vc(J),vu(J),xl(J),Mu(J),Ka(J),Zi(J)})}Wc()})();(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gn=function(st){return st},Ta=function(){return Ta=Object.assign||function(We){for(var be,Ee=1,Ce=arguments.length;Ee<Ce;Ee++){be=arguments[Ee];for(var Ct in be)Object.prototype.hasOwnProperty.call(be,Ct)&&(We[Ct]=be[Ct])}return We},Ta.apply(this,arguments)},ra="\uFEFF",Fn=function(st){return st.replace(/\uFEFF/g,"")},Wr=function(st,We){for(var be=st.length,Ee=new Array(be),Ce=0;Ce<be;Ce++){var Ct=st[Ce];Ee[Ce]=We(Ct,Ce)}return Ee},tr="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",kr={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:tr},en={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},wa=[new RegExp(kr.aletter),new RegExp(kr.midnumlet),new RegExp(kr.midletter),new RegExp(kr.midnum),new RegExp(kr.numeric),new RegExp(kr.cr),new RegExp(kr.lf),new RegExp(kr.newline),new RegExp(kr.extend),new RegExp(kr.format),new RegExp(kr.katakana),new RegExp(kr.extendnumlet),new RegExp("@")],sa="",it=new RegExp("^"+kr.punctuation+"$"),Zt=/^\s+$/,er=wa,Mt=en.OTHER,Ye=function(st){for(var We=Mt,be=er.length,Ee=0;Ee<be;++Ee){var Ce=er[Ee];if(Ce&&Ce.test(st)){We=Ee;break}}return We},Nn=function(st){var We={};return function(be){if(We[be])return We[be];var Ee=st(be);return We[be]=Ee,Ee}},vt=function(st){var We=Nn(Ye);return Wr(st,We)},dn=function(st,We){var be=st[We],Ee=st[We+1];if(We<0||We>st.length-1&&We!==0||be===en.ALETTER&&Ee===en.ALETTER)return!1;var Ce=st[We+2];if(be===en.ALETTER&&(Ee===en.MIDLETTER||Ee===en.MIDNUMLET||Ee===en.AT)&&Ce===en.ALETTER)return!1;var Ct=st[We-1];return(be===en.MIDLETTER||be===en.MIDNUMLET||Ee===en.AT)&&Ee===en.ALETTER&&Ct===en.ALETTER||(be===en.NUMERIC||be===en.ALETTER)&&(Ee===en.NUMERIC||Ee===en.ALETTER)||(be===en.MIDNUM||be===en.MIDNUMLET)&&Ee===en.NUMERIC&&Ct===en.NUMERIC||be===en.NUMERIC&&(Ee===en.MIDNUM||Ee===en.MIDNUMLET)&&Ce===en.NUMERIC||be===en.EXTEND||be===en.FORMAT||Ct===en.EXTEND||Ct===en.FORMAT||Ee===en.EXTEND||Ee===en.FORMAT||be===en.CR&&Ee===en.LF?!1:be===en.NEWLINE||be===en.CR||be===en.LF||Ee===en.NEWLINE||Ee===en.CR||Ee===en.LF?!0:!(be===en.KATAKANA&&Ee===en.KATAKANA||Ee===en.EXTENDNUMLET&&(be===en.ALETTER||be===en.NUMERIC||be===en.KATAKANA||be===en.EXTENDNUMLET)||be===en.EXTENDNUMLET&&(Ee===en.ALETTER||Ee===en.NUMERIC||Ee===en.KATAKANA)||be===en.AT)},ve=sa,Lt=Zt,Rt=it,Tr=function(st){return st==="http"||st==="https"},Sn=function(st,We){var be;for(be=We;be<st.length&&!Lt.test(st[be]);be++);return be},Ie=function(st,We){var be=Sn(st,We+1),Ee=st.slice(We+1,be).join(ve);return Ee.substr(0,3)==="://"?be:We},Bt=function(st,We,be,Ee){for(var Ce=[],Ct=[],Xt=0;Xt<be.length;++Xt)if(Ct.push(st[Xt]),dn(be,Xt)){var xt=We[Xt];if((Ee.includeWhitespace||!Lt.test(xt))&&(Ee.includePunctuation||!Rt.test(xt))){var Qn=Xt-Ct.length+1,rr=Xt+1,fn=We.slice(Qn,rr).join(ve);if(Tr(fn)){var jr=Ie(We,Xt),ko=st.slice(rr,jr);Array.prototype.push.apply(Ct,ko),Xt=jr}Ce.push(Ct)}Ct=[]}return Ce},Qe=function(){return{includeWhitespace:!1,includePunctuation:!1}},Jn=function(st,We,be){be=Ta(Ta({},Qe()),be);for(var Ee=[],Ce=[],Ct=0;Ct<st.length;Ct++){var Xt=We(st[Ct]);Xt!==ra&&(Ee.push(st[Ct]),Ce.push(Xt))}var xt=vt(Ce);return Bt(Ee,Ce,xt,be)},oe=Jn,L=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),mt=function(st,We){for(var be=We.getBlockElements(),Ee=We.getShortEndedElements(),Ce=function(Qn){return be[Qn.nodeName]||Ee[Qn.nodeName]},Ct=[],Xt="",xt=new L(st,st);st=xt.next();)st.nodeType===3?Xt+=Fn(st.data):Ce(st)&&Xt.length&&(Ct.push(Xt),Xt="");return Xt.length&&Ct.push(Xt),Ct},Hn=function(st){return st.replace(/\u200B/g,"")},Ze=function(st){return st.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},nr=function(st,We){var be=Hn(mt(st,We).join(`
`));return oe(be.split(""),Gn).length},Rn=function(st,We){var be=mt(st,We).join("");return Ze(be)},A=function(st,We){var be=mt(st,We).join("").replace(/\s/g,"");return Ze(be)},Cr=function(st,We){return function(){return We(st.getBody(),st.schema)}},at=function(st,We){return function(){return We(st.selection.getRng().cloneContents(),st.schema)}},Nt=function(st){return Cr(st,nr)},ca=function(st){return{body:{getWordCount:Nt(st),getCharacterCount:Cr(st,Rn),getCharacterCountWithoutSpaces:Cr(st,A)},selection:{getWordCount:at(st,nr),getCharacterCount:at(st,Rn),getCharacterCountWithoutSpaces:at(st,A)},getCount:Nt(st)}},yo=function(st,We){st.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(We.body.getWordCount()),String(We.selection.getWordCount())],["Characters (no spaces)",String(We.body.getCharacterCountWithoutSpaces()),String(We.selection.getCharacterCountWithoutSpaces())],["Characters",String(We.body.getCharacterCount()),String(We.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},In=function(st,We){st.addCommand("mceWordCount",function(){return yo(st,We)})},Jr=tinymce.util.Tools.resolve("tinymce.util.Delay"),Z=function(st,We){st.fire("wordCountUpdate",{wordCount:{words:We.body.getWordCount(),characters:We.body.getCharacterCount(),charactersWithoutSpaces:We.body.getCharacterCountWithoutSpaces()}})},Co=function(st,We){Z(st,We)},ut=function(st,We,be){var Ee=Jr.debounce(function(){return Co(st,We)},be);st.on("init",function(){Co(st,We),Jr.setEditorTimeout(st,function(){st.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Ee)},0)})},Ut=function(st){var We=function(){return st.execCommand("mceWordCount")};st.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:We}),st.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:We})};function Eo(st){st===void 0&&(st=300),bo.add("wordcount",function(We){var be=ca(We);return In(We,be),Ut(We),ut(We,be,st),be})}Eo()})();(function(){var bo=function(u){var l=typeof u;return u===null?"null":l==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":l==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":l},Gn=function(u){return function(l){return bo(l)===u}},Ta=function(u){return function(l){return typeof l===u}},ra=function(u){return function(l){return u===l}},Fn=Gn("string"),Wr=Gn("object"),tr=Gn("array"),kr=ra(null),en=Ta("boolean"),wa=ra(void 0),sa=function(u){return u==null},it=function(u){return!sa(u)},Zt=Ta("function"),er=Ta("number"),Mt=function(){},Ye=function(u,l){return function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return u(l.apply(null,d))}},Nn=function(u,l){return function(d){return u(l(d))}},vt=function(u){return function(){return u}},dn=function(u){return u},ve=function(u,l){return u===l};function Lt(u){for(var l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];return function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];var x=l.concat(h);return u.apply(null,x)}}var Rt=function(u){return function(l){return!u(l)}},Tr=function(u){return function(){throw new Error(u)}},Sn=vt(!1),Ie=vt(!0),Bt=function(){return Qe},Qe=function(){var u=function(h){return h()},l=dn,d={fold:function(h,y){return h()},isSome:Sn,isNone:Ie,getOr:l,getOrThunk:u,getOrDie:function(h){throw new Error(h||"error: getOrDie called on none.")},getOrNull:vt(null),getOrUndefined:vt(void 0),or:l,orThunk:u,map:Bt,each:Mt,bind:Bt,exists:Sn,forall:Ie,filter:function(){return Bt()},toArray:function(){return[]},toString:vt("none()")};return d}(),Jn=function(u){var l=vt(u),d=function(){return y},h=function(x){return x(u)},y={fold:function(x,O){return O(u)},isSome:Ie,isNone:Sn,getOr:l,getOrThunk:l,getOrDie:l,getOrNull:l,getOrUndefined:l,or:d,orThunk:d,map:function(x){return Jn(x(u))},each:function(x){x(u)},bind:h,exists:h,forall:h,filter:function(x){return x(u)?y:Qe},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return y},oe=function(u){return u==null?Qe:Jn(u)},L={some:Jn,none:Bt,from:oe},mt=Array.prototype.slice,Hn=Array.prototype.indexOf,Ze=Array.prototype.push,nr=function(u,l){return Hn.call(u,l)},Rn=function(u,l){return nr(u,l)>-1},A=function(u,l){for(var d=0,h=u.length;d<h;d++){var y=u[d];if(l(y,d))return!0}return!1},Cr=function(u,l){for(var d=[],h=0;h<u;h++)d.push(l(h));return d},at=function(u,l){for(var d=u.length,h=new Array(d),y=0;y<d;y++){var x=u[y];h[y]=l(x,y)}return h},Nt=function(u,l){for(var d=0,h=u.length;d<h;d++){var y=u[d];l(y,d)}},ca=function(u,l){for(var d=u.length-1;d>=0;d--){var h=u[d];l(h,d)}},yo=function(u,l){for(var d=[],h=[],y=0,x=u.length;y<x;y++){var O=u[y],M=l(O,y)?d:h;M.push(O)}return{pass:d,fail:h}},In=function(u,l){for(var d=[],h=0,y=u.length;h<y;h++){var x=u[h];l(x,h)&&d.push(x)}return d},Jr=function(u,l,d){return ca(u,function(h,y){d=l(d,h,y)}),d},Z=function(u,l,d){return Nt(u,function(h,y){d=l(d,h,y)}),d},Co=function(u,l,d){for(var h=0,y=u.length;h<y;h++){var x=u[h];if(l(x,h))return L.some(x);if(d(x,h))break}return L.none()},ut=function(u,l){return Co(u,l,Sn)},Ut=function(u,l){for(var d=0,h=u.length;d<h;d++){var y=u[d];if(l(y,d))return L.some(d)}return L.none()},Eo=function(u){for(var l=[],d=0,h=u.length;d<h;++d){if(!tr(u[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+u);Ze.apply(l,u[d])}return l},st=function(u,l){return Eo(at(u,l))},We=function(u,l){for(var d=0,h=u.length;d<h;++d){var y=u[d];if(l(y,d)!==!0)return!1}return!0},be=function(u){var l=mt.call(u,0);return l.reverse(),l},Ee=function(u,l){for(var d={},h=0,y=u.length;h<y;h++){var x=u[h];d[String(x)]=l(x,h)}return d},Ce=function(u){return[u]},Ct=function(u,l){var d=mt.call(u,0);return d.sort(l),d},Xt=function(u,l){return l>=0&&l<u.length?L.some(u[l]):L.none()},xt=function(u){return Xt(u,0)},Qn=function(u){return Xt(u,u.length-1)},rr=function(u,l){for(var d=0;d<u.length;d++){var h=l(u[d],d);if(h.isSome())return h}return L.none()},fn=function(){return fn=Object.assign||function(l){for(var d,h=1,y=arguments.length;h<y;h++){d=arguments[h];for(var x in d)Object.prototype.hasOwnProperty.call(d,x)&&(l[x]=d[x])}return l},fn.apply(this,arguments)};function jr(u,l,d){if(d||arguments.length===2)for(var h=0,y=l.length,x;h<y;h++)(x||!(h in l))&&(x||(x=Array.prototype.slice.call(l,0,h)),x[h]=l[h]);return u.concat(x||Array.prototype.slice.call(l))}var ko=function(u){var l=!1,d;return function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];return l||(l=!0,d=u.apply(null,h)),d}},Yi=function(u,l,d,h){var y=u.isiOS()&&/ipad/i.test(d)===!0,x=u.isiOS()&&!y,O=u.isiOS()||u.isAndroid(),M=O||h("(pointer:coarse)"),U=y||!x&&O&&h("(min-device-width:768px)"),X=x||O&&!U,ue=l.isSafari()&&u.isiOS()&&/safari/i.test(d)===!1,Pe=!X&&!U&&!ue;return{isiPad:vt(y),isiPhone:vt(x),isTablet:vt(U),isPhone:vt(X),isTouch:vt(M),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:vt(ue),isDesktop:vt(Pe)}},Pi=function(u,l){for(var d=0;d<u.length;d++){var h=u[d];if(h.test(l))return h}},mi=function(u,l){var d=Pi(u,l);if(!d)return{major:0,minor:0};var h=function(y){return Number(l.replace(d,"$"+y))};return fo(h(1),h(2))},ta=function(u,l){var d=String(l).toLowerCase();return u.length===0?Ka():mi(u,d)},Ka=function(){return fo(0,0)},fo=function(u,l){return{major:u,minor:l}},na={nu:fo,detect:ta,unknown:Ka},la=function(u,l){return rr(l.brands,function(d){var h=d.brand.toLowerCase();return ut(u,function(y){var x;return h===((x=y.brand)===null||x===void 0?void 0:x.toLowerCase())}).map(function(y){return{current:y.name,version:na.nu(parseInt(d.version,10),0)}})})},Xa=function(u,l){var d=String(l).toLowerCase();return ut(u,function(h){return h.search(d)})},aa=function(u,l){return Xa(u,l).map(function(d){var h=na.detect(d.versionRegexes,l);return{current:d.name,version:h}})},Br=function(u,l){return Xa(u,l).map(function(d){var h=na.detect(d.versionRegexes,l);return{current:d.name,version:h}})},Me=function(u,l){return u.substring(l)},Pt=function(u,l,d){return l===""||u.length>=l.length&&u.substr(d,d+l.length)===l},vn=function(u,l){return gr(u,l)?Me(u,l.length):u},zt=function(u,l){return u.indexOf(l)!==-1},gr=function(u,l){return Pt(u,l,0)},Ar=function(u,l){return Pt(u,l,u.length-l.length)},Ha=function(u){return function(l){return l.replace(u,"")}},rn=Ha(/^\s+|\s+$/g),wr=function(u){return u.length>0},Ea=function(u){return!wr(u)},gi=function(u){var l=parseFloat(u);return isNaN(l)?L.none():L.some(l)},ys=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mr=function(u){return function(l){return zt(l,u)}},qn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return zt(u,"edge/")&&zt(u,"chrome")&&zt(u,"safari")&&zt(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ys],search:function(u){return zt(u,"chrome")&&!zt(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return zt(u,"msie")||zt(u,"trident")}},{name:"Opera",versionRegexes:[ys,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mr("firefox")},{name:"Safari",versionRegexes:[ys,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(zt(u,"safari")||zt(u,"mobile/"))&&zt(u,"applewebkit")}}],Zi=[{name:"Windows",search:Mr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return zt(u,"iphone")||zt(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Mr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mr("linux"),versionRegexes:[]},{name:"Solaris",search:Mr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Mr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Vc={browsers:vt(qn),oses:vt(Zi)},Fi="Edge",Ii="Chrome",Zu="IE",Cs="Opera",Bu="Firefox",zi="Safari",ws=function(){return Lr({current:void 0,version:na.unknown()})},Lr=function(u){var l=u.current,d=u.version,h=function(y){return function(){return l===y}};return{current:l,version:d,isEdge:h(Fi),isChrome:h(Ii),isIE:h(Zu),isOpera:h(Cs),isFirefox:h(Bu),isSafari:h(zi)}},lu={unknown:ws,nu:Lr,edge:vt(Fi),chrome:vt(Ii),ie:vt(Zu),opera:vt(Cs),firefox:vt(Bu),safari:vt(zi)},gn="Windows",Uc="iOS",hi="Android",fu="Linux",pi="OSX",Mu="Solaris",xl="FreeBSD",vu="ChromeOS",Wc=function(){return J({current:void 0,version:na.unknown()})},J=function(u){var l=u.current,d=u.version,h=function(y){return function(){return l===y}};return{current:l,version:d,isWindows:h(gn),isiOS:h(Uc),isAndroid:h(hi),isOSX:h(pi),isLinux:h(fu),isSolaris:h(Mu),isFreeBSD:h(xl),isChromeOS:h(vu)}},ge={unknown:Wc,nu:J,windows:vt(gn),ios:vt(Uc),android:vt(hi),linux:vt(fu),osx:vt(pi),solaris:vt(Mu),freebsd:vt(xl),chromeos:vt(vu)},ne=function(u,l,d){var h=Vc.browsers(),y=Vc.oses(),x=l.bind(function(U){return la(h,U)}).orThunk(function(){return aa(h,u)}).fold(lu.unknown,lu.nu),O=Br(y,u).fold(ge.unknown,ge.nu),M=Yi(O,x,u,d);return{browser:x,os:O,deviceType:M}},ke={detect:ne},Tt=function(u){return window.matchMedia(u).matches},jt=ko(function(){return ke.detect(navigator.userAgent,L.from(navigator.userAgentData),Tt)}),Tn=function(){return jt()},_n=function(u,l,d){return(u.compareDocumentPosition(l)&d)!==0},Or=function(u,l){return _n(u,l,Node.DOCUMENT_POSITION_CONTAINED_BY)},Er=8,hr=9,Ya=11,Pa=1,Ju=3,Po=function(u,l){var d=l||document,h=d.createElement("div");if(h.innerHTML=u,!h.hasChildNodes()||h.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return Fa(h.childNodes[0])},Ss=function(u,l){var d=l||document,h=d.createElement(u);return Fa(h)},Ks=function(u,l){var d=l||document,h=d.createTextNode(u);return Fa(h)},Fa=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Ia=function(u,l,d){return L.from(u.dom.elementFromPoint(l,d)).map(Fa)},lt={fromHtml:Po,fromTag:Ss,fromText:Ks,fromDom:Fa,fromPoint:Ia},Ao=function(u,l){var d=u.dom;if(d.nodeType!==Pa)return!1;var h=d;if(h.matches!==void 0)return h.matches(l);if(h.msMatchesSelector!==void 0)return h.msMatchesSelector(l);if(h.webkitMatchesSelector!==void 0)return h.webkitMatchesSelector(l);if(h.mozMatchesSelector!==void 0)return h.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")},xs=function(u){return u.nodeType!==Pa&&u.nodeType!==hr&&u.nodeType!==Ya||u.childElementCount===0},mf=function(u,l){var d=l===void 0?document:l.dom;return xs(d)?[]:at(d.querySelectorAll(u),lt.fromDom)},jc=function(u,l){var d=l===void 0?document:l.dom;return xs(d)?L.none():L.from(d.querySelector(u)).map(lt.fromDom)},fr=function(u,l){return u.dom===l.dom},Tl=function(u,l){var d=u.dom,h=l.dom;return d===h?!1:d.contains(h)},Ts=function(u,l){return Or(u.dom,l.dom)},Va=function(u,l){return Tn().browser.isIE()?Ts(u,l):Tl(u,l)},Gc=Ao,$i=Object.keys,Ji=Object.hasOwnProperty,ha=function(u,l){for(var d=$i(u),h=0,y=d.length;h<y;h++){var x=d[h],O=u[x];l(O,x)}},qc=function(u,l){return Kc(u,function(d,h){return{k:h,v:l(d,h)}})},Kc=function(u,l){var d={};return ha(u,function(h,y){var x=l(h,y);d[x.k]=x.v}),d},bc=function(u){return function(l,d){u[d]=l}},El=function(u,l,d,h){var y={};return ha(u,function(x,O){(l(x,O)?d:h)(x,O)}),y},Es=function(u,l){var d={};return El(u,l,bc(d),Mt),d},Qu=function(u,l){var d=[];return ha(u,function(h,y){d.push(l(h,y))}),d},kl=function(u){return Qu(u,dn)},Nu=function(u){return $i(u).length},Qi=function(u,l){return V(u,l)?L.from(u[l]):L.none()},V=function(u,l){return Ji.call(u,l)},se=function(u,l){return V(u,l)&&u[l]!==void 0&&u[l]!==null},we=function(u){for(var l in u)if(Ji.call(u,l))return!1;return!0},Ve=["tfoot","thead","tbody","colgroup"],ht=function(u){return Rn(Ve,u)},tn=function(u,l){return{rows:u,columns:l}},Nr=function(u,l){return{row:u,column:l}},Qr=function(u,l,d){return{element:u,rowspan:l,colspan:d}},Kn=function(u,l,d,h){return{element:u,rowspan:l,colspan:d,isNew:h}},ka=function(u,l,d,h,y,x){return{element:u,rowspan:l,colspan:d,row:h,column:y,isLocked:x}},Ra=function(u,l,d){return{element:u,cells:l,section:d}},yc=function(u,l,d,h){return{element:u,cells:l,section:d,isNew:h}},ti=function(u,l,d){return{element:u,isNew:l,isLocked:d}},Xs=function(u,l,d,h){return{element:u,cells:l,section:d,isNew:h}},hn=function(u,l,d,h){return{startRow:u,startCol:l,finishRow:d,finishCol:h}},iv=function(u,l,d){return{element:u,colspan:l,column:d}},td=function(u,l){return{element:u,columns:l}};typeof window<"u"||Function("return this;")();var Dr=function(u){var l=u.dom.nodeName;return l.toLowerCase()},nd=function(u){return u.dom.nodeType},uv=function(u){return function(l){return nd(l)===u}},th=function(u){return nd(u)===Er||Dr(u)==="#comment"},oa=uv(Pa),es=uv(Ju),nh=uv(hr),ks=uv(Ya),vo=function(u){return function(l){return oa(l)&&Dr(l)===u}},Xc=function(u){return lt.fromDom(u.dom.ownerDocument)},ze=function(u){return nh(u)?u:Xc(u)},gf=function(u){return lt.fromDom(ze(u).dom.defaultView)},oo=function(u){return L.from(u.dom.parentNode).map(lt.fromDom)},lm=function(u){return L.from(u.dom.parentElement).map(lt.fromDom)},Yc=function(u,l){for(var d=Zt(l)?l:Sn,h=u.dom,y=[];h.parentNode!==null&&h.parentNode!==void 0;){var x=h.parentNode,O=lt.fromDom(x);if(y.push(O),d(O)===!0)break;h=x}return y},R=function(u){return L.from(u.dom.previousSibling).map(lt.fromDom)},B=function(u){return L.from(u.dom.nextSibling).map(lt.fromDom)},te=function(u){return at(u.dom.childNodes,lt.fromDom)},Ae=function(u,l){var d=u.dom.childNodes;return L.from(d[l]).map(lt.fromDom)},Ht=function(u){return Ae(u,0)},Pn=function(u){return ks(u)&&it(u.dom.host)},Rr=Zt(Element.prototype.attachShadow)&&Zt(Node.prototype.getRootNode),bi=vt(Rr),As=Rr?function(u){return lt.fromDom(u.dom.getRootNode())}:ze,qo=function(u){var l=As(u);return Pn(l)?L.some(l):L.none()},Fo=function(u){return lt.fromDom(u.dom.host)},Al=function(u){if(bi()&&it(u.target)){var l=lt.fromDom(u.target);if(oa(l)&&fm(l)&&u.composed&&u.composedPath){var d=u.composedPath();if(d)return xt(d)}}return L.from(u.target)},fm=function(u){return it(u.dom.shadowRoot)},Ys=function(u){var l=es(u)?u.dom.parentNode:u.dom;if(l==null||l.ownerDocument===null)return!1;var d=l.ownerDocument;return qo(lt.fromDom(l)).fold(function(){return d.body.contains(l)},Nn(Ys,Fo))},pa=function(){return vm(lt.fromDom(document))},vm=function(u){var l=u.dom.body;if(l==null)throw new Error("Body is not available yet");return lt.fromDom(l)},io=function(u,l,d){return In(Yc(u,d),l)},ni=function(u,l){return In(te(u),l)},uo=function(u,l){var d=[];return Nt(te(u),function(h){l(h)&&(d=d.concat([h])),d=d.concat(uo(h,l))}),d},Ol=function(u,l,d){return io(u,function(h){return Ao(h,l)},d)},Vn=function(u,l){return ni(u,function(d){return Ao(d,l)})},ts=function(u,l){return mf(l,u)};function _a(u,l,d,h,y){return u(d,h)?L.some(d):Zt(y)&&y(d)?L.none():l(d,h,y)}var Ua=function(u,l,d){for(var h=u.dom,y=Zt(d)?d:Sn;h.parentNode;){h=h.parentNode;var x=lt.fromDom(h);if(l(x))return L.some(x);if(y(x))break}return L.none()},Wp=function(u,l,d){var h=function(y,x){return x(y)};return _a(h,Ua,u,l,d)},ri=function(u,l){var d=function(y){return l(lt.fromDom(y))},h=ut(u.dom.childNodes,d);return h.map(lt.fromDom)},rh=function(u,l){var d=function(h){for(var y=0;y<h.childNodes.length;y++){var x=lt.fromDom(h.childNodes[y]);if(l(x))return L.some(x);var O=d(h.childNodes[y]);if(O.isSome())return O}return L.none()};return d(u.dom)},Cc=function(u,l,d){return Ua(u,function(h){return Ao(h,l)},d)},xn=function(u,l){return ri(u,function(d){return Ao(d,l)})},ns=function(u,l){return jc(l,u)},Za=function(u,l,d){var h=function(y,x){return Ao(y,x)};return _a(h,Cc,u,l,d)},Ja=function(u,l,d){if(Fn(d)||en(d)||er(d))u.setAttribute(l,d+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",d,":: Element ",u),new Error("Attribute value was not simple")},Io=function(u,l,d){Ja(u.dom,l,d)},wo=function(u,l){var d=u.dom;ha(l,function(h,y){Ja(d,y,h)})},hf=function(u,l){ha(l,function(d,h){d.fold(function(){Aa(u,h)},function(y){Ja(u.dom,h,y)})})},Os=function(u,l){var d=u.dom.getAttribute(l);return d===null?void 0:d},Pr=function(u,l){return L.from(Os(u,l))},Aa=function(u,l){u.dom.removeAttribute(l)},eu=function(u){return Z(u.dom.attributes,function(l,d){return l[d.name]=d.value,l},{})},Zc=function(u,l,d){return d===void 0&&(d=ve),u.exists(function(h){return d(h,l)})},Oo=function(u){for(var l=[],d=function(y){l.push(y)},h=0;h<u.length;h++)u[h].each(d);return l},rs=function(u,l,d){return u.isSome()&&l.isSome()?L.some(d(u.getOrDie(),l.getOrDie())):L.none()},jp=function(u,l){return u!=null?l(u):L.none()},pf=function(u){return u.bind(dn)},fa=function(u,l){return u?L.some(l):L.none()},Zs=function(u){return u.style!==void 0&&Zt(u.style.getPropertyValue)},Dl=function(u,l,d){if(!Fn(d))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",d,":: Element ",u),new Error("CSS value must be a string: "+d);Zs(u)&&u.style.setProperty(l,d)},du=function(u,l){Zs(u)&&u.style.removeProperty(l)},so=function(u,l,d){var h=u.dom;Dl(h,l,d)},Rl=function(u,l){var d=u.dom;ha(l,function(h,y){Dl(d,y,h)})},Jc=function(u,l){var d=u.dom,h=window.getComputedStyle(d),y=h.getPropertyValue(l);return y===""&&!Ys(u)?Li(d,l):y},Li=function(u,l){return Zs(u)?u.style.getPropertyValue(l):""},mu=function(u,l){var d=u.dom,h=Li(d,l);return L.from(h).filter(function(y){return y.length>0})},yi=function(u,l){var d=u.dom;du(d,l),Zc(Pr(u,"style").map(rn),"")&&Aa(u,"style")},sv=function(u,l){var d=u.dom,h=l.dom;Zs(d)&&Zs(h)&&(h.style.cssText=d.style.cssText)},Js=function(u,l,d){return d===void 0&&(d=0),Pr(u,l).map(function(h){return parseInt(h,10)}).getOr(d)},zo=function(u,l){return Js(u,l,1)},rd=function(u){return vo("col")(u)?Js(u,"span",1)>1:zo(u,"colspan")>1},Gp=function(u){return zo(u,"rowspan")>1},bf=function(u,l){return parseInt(Jc(u,l),10)},yf=vt(10),Qa=vt(10),Cf=function(u,l){return wf(u,l,Ie)},wf=function(u,l,d){return st(te(u),function(h){return Ao(h,l)?d(h)?[h]:[]:wf(h,l,d)})},Hi=function(u,l,d){if(d===void 0&&(d=Sn),d(l))return L.none();if(Rn(u,Dr(l)))return L.some(l);var h=function(y){return Ao(y,"table")||d(y)};return Cc(l,u.join(","),h)},Qc=function(u,l){return Hi(["td","th"],u,l)},Sf=function(u){return Cf(u,"th,td")},el=function(u){return Ao(u,"colgroup")?Vn(u,"col"):st(dm(u),function(l){return Vn(l,"col")})},za=function(u,l){return Za(u,"table",l)},Pu=function(u){return Cf(u,"tr")},dm=function(u){return za(u).fold(vt([]),function(l){return Vn(l,"colgroup")})},as=function(u,l){return at(u,function(d){if(Dr(d)==="colgroup"){var h=at(el(d),function(y){var x=Js(y,"span",1);return Qr(y,1,x)});return Ra(d,h,"colgroup")}else{var h=at(Sf(d),function(x){var O=Js(x,"rowspan",1),M=Js(x,"colspan",1);return Qr(x,O,M)});return Ra(d,h,l(d))}})},mm=function(u){return oo(u).map(function(l){var d=Dr(l);return ht(d)?d:"tbody"}).getOr("tbody")},qp=function(u){var l=Pu(u),d=dm(u),h=jr(jr([],d,!0),l,!0);return as(h,mm)},ah=function(u,l){return as(u,function(){return l})},xf=function(u,l,d){var h=u.cells,y=h.slice(0,l),x=h.slice(l),O=y.concat(d).concat(x);return En(u,O)},Tf=function(u,l,d){return xf(u,l,[d])},_l=function(u,l,d){var h=u.cells;h[l]=d},En=function(u,l){return Xs(u.element,l,u.section,u.isNew)},Ds=function(u,l){var d=u.cells,h=at(d,l);return Xs(u.element,h,u.section,u.isNew)},gu=function(u,l){return u.cells[l]},Vi=function(u,l){return gu(u,l).element},Rs=function(u){return u.cells.length},mo=function(u){var l=yo(u,function(d){return d.section==="colgroup"});return{rows:l.fail,cols:l.pass}},$o=function(u,l,d){var h=at(u.cells,d);return Xs(l(u.element),h,u.section,!0)},So="data-snooker-locked-cols",Bl=function(u){return Pr(u,So).bind(function(l){return L.from(l.match(/\d+/g))}).map(function(l){return Ee(l,Ie)})},Ci=function(u){var l=Z(mo(u).rows,function(h,y){return Nt(y.cells,function(x,O){x.isLocked&&(h[O]=!0)}),h},{}),d=Qu(l,function(h,y){return parseInt(y,10)});return Ct(d)},Vt=function(u,l){return u+","+l},Ef=function(u,l,d){return L.from(u.access[Vt(l,d)])},oh=function(u,l,d){var h=Un(u,function(y){return d(l,y.element)});return h.length>0?L.some(h[0]):L.none()},Un=function(u,l){var d=st(u.all,function(h){return h.cells});return In(d,l)},va=function(u){var l={},d=0;return Nt(u.cells,function(h){var y=h.colspan;Cr(y,function(x){var O=d+x;l[O]=iv(h.element,y,O)}),d+=y}),l},gm=function(u){var l={},d=[],h=xt(u).map(function(bt){return bt.element}).bind(za),y=h.bind(Bl).getOr({}),x=0,O=0,M=0,U=yo(u,function(bt){return bt.section==="colgroup"}),X=U.pass,ue=U.fail;Nt(ue,function(bt){var St=[];Nt(bt.cells,function(an){for(var yr=0;l[Vt(M,yr)]!==void 0;)yr++;for(var cn=se(y,yr.toString()),Dn=ka(an.element,an.rowspan,an.colspan,M,yr,cn),cr=0;cr<an.colspan;cr++)for(var or=0;or<an.rowspan;or++){var Bo=M+or,si=yr+cr,ku=Vt(Bo,si);l[ku]=Dn,O=Math.max(O,si+1)}St.push(Dn)}),x++,d.push(Ra(bt.element,St,bt.section)),M++});var Pe=Qn(X).map(function(bt){var St=va(bt),an=td(bt.element,kl(St));return{colgroups:[an],columns:St}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),et=Pe.columns,qe=Pe.colgroups,Ne=tn(x,O);return{grid:Ne,access:l,all:d,columns:et,colgroups:qe}},wc=function(u){var l=qp(u);return gm(l)},Ba=function(u){return st(u.all,function(l){return l.cells})},hm=function(u){return kl(u.columns)},Fu=function(u){return $i(u.columns).length>0},ad=function(u,l){return L.from(u.columns[l])},Xn={fromTable:wc,generate:gm,getAt:Ef,findItem:oh,filterItems:Un,justCells:Ba,justColumns:hm,hasColumns:Fu,getColumnAt:ad},tu=function(u,l){var d=l.column,h=l.column+l.colspan-1,y=l.row,x=l.row+l.rowspan-1;return d<=u.finishCol&&h>=u.startCol&&y<=u.finishRow&&x>=u.startRow},Pb=function(u,l){return l.column>=u.startCol&&l.column+l.colspan-1<=u.finishCol&&l.row>=u.startRow&&l.row+l.rowspan-1<=u.finishRow},Fb=function(u,l){for(var d=!0,h=Lt(Pb,l),y=l.startRow;y<=l.finishRow;y++)for(var x=l.startCol;x<=l.finishCol;x++)d=d&&Xn.getAt(u,y,x).exists(h);return d?L.some(l):L.none()},$a=function(u,l){return hn(Math.min(u.row,l.row),Math.min(u.column,l.column),Math.max(u.row+u.rowspan-1,l.row+l.rowspan-1),Math.max(u.column+u.colspan-1,l.column+l.colspan-1))},pm=function(u,l,d){var h=Xn.findItem(u,l,fr),y=Xn.findItem(u,d,fr);return h.bind(function(x){return y.map(function(O){return $a(x,O)})})},E=function(u,l,d){return pm(u,l,d).bind(function(h){return Fb(u,h)})},P=function(u,l,d,h){return Xn.findItem(u,l,fr).bind(function(y){var x=d>0?y.row+y.rowspan-1:y.row,O=h>0?y.column+y.colspan-1:y.column,M=Xn.getAt(u,x+d,O+h);return M.map(function(U){return U.element})})},$=function(u,l,d){return pm(u,l,d).map(function(h){var y=Xn.filterItems(u,Lt(tu,h));return at(y,function(x){return x.element})})},Q=function(u,l){var d=function(h,y){return Va(y,h)};return Xn.findItem(u,l,d).map(function(h){return h.element})},pe=function(u,l,d){return za(u).bind(function(h){var y=vr(h);return P(y,u,l,d)})},Fe=function(u,l,d){var h=vr(u);return $(h,l,d)},Jt=function(u,l,d,h,y){var x=vr(u),O=fr(u,d)?L.some(l):Q(x,l),M=fr(u,y)?L.some(h):Q(x,h);return O.bind(function(U){return M.bind(function(X){return $(x,U,X)})})},Bn=function(u,l,d){var h=vr(u);return E(h,l,d)},vr=Xn.fromTable,Yn=function(u,l){var d=oo(u);d.each(function(h){h.dom.insertBefore(l.dom,u.dom)})},ba=function(u,l){var d=B(u);d.fold(function(){var h=oo(u);h.each(function(y){eo(y,l)})},function(h){Yn(h,l)})},wi=function(u,l){var d=Ht(u);d.fold(function(){eo(u,l)},function(h){u.dom.insertBefore(l.dom,h.dom)})},eo=function(u,l){u.dom.appendChild(l.dom)},d3=function(u,l,d){Ae(u,d).fold(function(){eo(u,l)},function(h){Yn(h,l)})},jC=function(u,l){Yn(u,l),eo(l,u)},GC=function(u,l){Nt(l,function(d){Yn(u,d)})},m3=function(u,l){Nt(l,function(d,h){var y=h===0?u:l[h-1];ba(y,d)})},tl=function(u,l){Nt(l,function(d){eo(u,d)})},ih=function(u){u.dom.textContent="",Nt(te(u),function(l){Iu(l)})},Iu=function(u){var l=u.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},bm=function(u){var l=te(u);l.length>0&&GC(u,l),Iu(u)},Ib=function(u,l){var d=function(x){if(!u(x))throw new Error("Can only get "+l+" value of a "+l+" node");return h(x).getOr("")},h=function(x){return u(x)?L.from(x.dom.nodeValue):L.none()},y=function(x,O){if(!u(x))throw new Error("Can only set raw "+l+" value of a "+l+" node");x.dom.nodeValue=O};return{get:d,getOption:h,set:y}},uh=Ib(es,"text"),Kp=function(u){return uh.get(u)},qC=function(u){return uh.getOption(u)},g3=function(u,l){return uh.set(u,l)},nl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function sh(){var u=function(X){return lt.fromDom(X.dom.cloneNode(!1))},l=function(X){return ze(X).dom},d=function(X){return oa(X)?Dr(X)==="body"?!0:Rn(nl,Dr(X)):!1},h=function(X){return oa(X)?Rn(["br","img","hr","input"],Dr(X)):!1},y=function(X){return oa(X)&&Os(X,"contenteditable")==="false"},x=function(X,ue){return X.dom.compareDocumentPosition(ue.dom)},O=function(X,ue){var Pe=eu(X);wo(ue,Pe)},M=function(X){var ue=Dr(X);return Rn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ue)},U=function(X){return oa(X)?Pr(X,"lang"):L.none()};return{up:vt({selector:Cc,closest:Za,predicate:Ua,all:Yc}),down:vt({selector:ts,predicate:uo}),styles:vt({get:Jc,getRaw:mu,set:so,remove:yi}),attrs:vt({get:Os,set:Io,remove:Aa,copyTo:O}),insert:vt({before:Yn,after:ba,afterAll:m3,append:eo,appendAll:tl,prepend:wi,wrap:jC}),remove:vt({unwrap:bm,remove:Iu}),create:vt({nu:lt.fromTag,clone:u,text:lt.fromText}),query:vt({comparePosition:x,prevSibling:R,nextSibling:B}),property:vt({children:te,name:Dr,parent:oo,document:l,isText:es,isComment:th,isElement:oa,isSpecial:M,getLanguage:U,getText:Kp,setText:g3,isBoundary:d,isEmptyTag:h,isNonEditable:y}),eq:fr,is:Gc}}var h3=function(u,l,d,h){var y=d[0],x=d.slice(1);return h(u,l,y,x)},zb=function(u,l,d){return d.length>0?h3(u,l,d,p3):L.none()},p3=function(u,l,d,h){var y=l(u,d);return Jr(h,function(x,O){var M=l(u,O);return b3(u,x,M)},y)},b3=function(u,l,d){return l.bind(function(h){return d.filter(Lt(u.eq,h))})},ym=function(u,l){return Lt(u.eq,l)},ch=function(u,l,d,h){h===void 0&&(h=Sn);var y=[l].concat(u.up().all(l)),x=[d].concat(u.up().all(d)),O=function(ue){var Pe=Ut(ue,h);return Pe.fold(function(){return ue},function(et){return ue.slice(0,et+1)})},M=O(y),U=O(x),X=ut(M,function(ue){return A(U,ym(u,ue))});return{firstpath:M,secondpath:U,shared:X}},KC=zb,XC=ch,os=sh(),sn=function(u,l){return KC(os,function(d,h){return u(h)},l)},kf=function(u,l,d){return XC(os,u,l,d)},lh=function(u){return Cc(u,"table")},cv=function(u,l,d){var h=function(y){return function(x){return d!==void 0&&d(x)||fr(x,y)}};return fr(u,l)?L.some({boxes:L.some([u]),start:u,finish:l}):lh(u).bind(function(y){return lh(l).bind(function(x){if(fr(y,x))return L.some({boxes:Fe(y,u,l),start:u,finish:l});if(Va(y,x)){var O=Ol(l,"td,th",h(y)),M=O.length>0?O[O.length-1]:l;return L.some({boxes:Jt(y,u,y,l,x),start:u,finish:M})}else if(Va(x,y)){var O=Ol(u,"td,th",h(x)),U=O.length>0?O[O.length-1]:u;return L.some({boxes:Jt(x,u,y,l,x),start:u,finish:U})}else return kf(u,l).shared.bind(function(X){return Za(X,"table",d).bind(function(ue){var Pe=Ol(l,"td,th",h(ue)),et=Pe.length>0?Pe[Pe.length-1]:l,qe=Ol(u,"td,th",h(ue)),Ne=qe.length>0?qe[qe.length-1]:u;return L.some({boxes:Jt(ue,u,y,l,x),start:Ne,finish:et})})})})})},Cm=function(u,l){var d=ts(u,l);return d.length>0?L.some(d):L.none()},$b=function(u,l){return ut(u,function(d){return Ao(d,l)})},Sc=function(u,l,d){return ns(u,l).bind(function(h){return ns(u,d).bind(function(y){return sn(lh,[h,y]).map(function(x){return{first:h,last:y,table:x}})})})},od=function(u,l){return Cc(u,"table").bind(function(d){return ns(d,l).bind(function(h){return cv(h,u).bind(function(y){return y.boxes.map(function(x){return{boxes:x,start:y.start,finish:y.finish}})})})})},wm=function(u,l,d,h,y){return $b(u,y).bind(function(x){return pe(x,l,d).bind(function(O){return od(O,h)})})},go=function(u,l){return Cm(u,l)},ai=function(u,l,d){return Sc(u,l,d).bind(function(h){var y=function(U){return fr(u,U)},x="thead,tfoot,tbody,table",O=Cc(h.first,x,y),M=Cc(h.last,x,y);return O.bind(function(U){return M.bind(function(X){return fr(U,X)?Bn(h.table,h.first,h.last):L.none()})})})},fh=function(u){if(!tr(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var l=[],d={};return Nt(u,function(h,y){var x=$i(h);if(x.length!==1)throw new Error("one and only one name per case");var O=x[0],M=h[O];if(d[O]!==void 0)throw new Error("duplicate key detected:"+O);if(O==="cata")throw new Error("cannot have a case named cata (sorry)");if(!tr(M))throw new Error("case arguments must be an array");l.push(O),d[O]=function(){for(var U=[],X=0;X<arguments.length;X++)U[X]=arguments[X];var ue=U.length;if(ue!==M.length)throw new Error("Wrong number of arguments to case "+O+". Expected "+M.length+" ("+M+"), got "+ue);var Pe=function(et){var qe=$i(et);if(l.length!==qe.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+qe.join(","));var Ne=We(l,function(bt){return Rn(qe,bt)});if(!Ne)throw new Error("Not all branches were specified when using match. Specified: "+qe.join(", ")+`
Required: `+l.join(", "));return et[O].apply(null,U)};return{fold:function(){for(var et=[],qe=0;qe<arguments.length;qe++)et[qe]=arguments[qe];if(et.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+et.length);var Ne=et[y];return Ne.apply(null,U)},match:Pe,log:function(et){console.log(et,{constructors:l,constructor:O,params:U})}}}}),d},Ml={generate:fh},vh=Ml.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Xp=function(u,l,d,h){return u.fold(l,d,h)},Yp=vh.none,y3=vh.multiple,Sm=vh.single,Ui=function(u,l,d){var h=function(){return go(u(),d).fold(function(){return l().fold(Yp,Sm)},function(y){return y3(y)})};return{get:h}},YC=tinymce.util.Tools.resolve("tinymce.PluginManager"),Wa=function(u,l){return lt.fromDom(u.dom.cloneNode(l))},xc=function(u){return Wa(u,!1)},Xr=function(u){return Wa(u,!0)},lv=function(u,l){var d=lt.fromTag(l),h=eu(u);return wo(d,h),d},Qs=function(u,l){var d=lv(u,l),h=te(Xr(u));return tl(d,h),d},C3=function(u,l){var d=lv(u,l);Yn(u,d);var h=te(u);return tl(d,h),Iu(u),d},Lo=function(u,l){var d=function(M,U){if(!er(U)&&!U.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+U);var X=M.dom;Zs(X)&&(X.style[u]=U+"px")},h=function(M){var U=l(M);if(U<=0||U===null){var X=Jc(M,u);return parseFloat(X)||0}return U},y=h,x=function(M,U){return Z(U,function(X,ue){var Pe=Jc(M,ue),et=Pe===void 0?0:parseInt(Pe,10);return isNaN(et)?X:X+et},0)},O=function(M,U,X){var ue=x(M,X),Pe=U>ue?U-ue:0;return Pe};return{set:d,get:h,getOuter:y,aggregate:x,max:O}},hu=function(){var u=Tn().browser;return u.isIE()||u.isEdge()},ZC=function(u,l){return gi(u).getOr(l)},Ue=function(u,l,d){return ZC(Jc(u,l),d)},zu=function(u){return Jc(u,"box-sizing")},Af=function(u,l,d,h){var y=Ue(u,"padding-"+d,0),x=Ue(u,"padding-"+h,0),O=Ue(u,"border-"+d+"-width",0),M=Ue(u,"border-"+h+"-width",0);return l-y-x-O-M},kn=function(u,l){var d=u.dom,h=d.getBoundingClientRect().height||d.offsetHeight;return l==="border-box"?h:Af(u,h,"top","bottom")},_s=function(u,l){var d=u.dom,h=d.getBoundingClientRect().width||d.offsetWidth;return l==="border-box"?h:Af(u,h,"left","right")},w3=function(u){return hu()?kn(u,zu(u)):Ue(u,"height",u.dom.offsetHeight)},nu=function(u){return hu()?_s(u,zu(u)):Ue(u,"width",u.dom.offsetWidth)},xm=function(u){return _s(u,"content-box")},Nl=Lo("width",function(u){return u.dom.offsetWidth}),Tc=function(u){return Nl.get(u)},Wi=function(u){return Nl.getOuter(u)},Fr=xm,rl=nu,id=function(u,l){l===void 0&&(l=Ie);var d=u.grid,h=Cr(d.columns,dn),y=Cr(d.rows,dn);return at(h,function(x){var O=function(){return st(y,function(X){return Xn.getAt(u,X,x).filter(function(ue){return ue.column===x}).toArray()})},M=function(X){return X.colspan===1&&l(X.element)},U=function(){return Xn.getAt(u,0,x)};return Sa(O,M,U)})},Sa=function(u,l,d){var h=u(),y=ut(h,l),x=y.orThunk(function(){return L.from(h[0]).orThunk(d)});return x.map(function(O){return O.element})},fv=function(u){var l=u.grid,d=Cr(l.rows,dn),h=Cr(l.columns,dn);return at(d,function(y){var x=function(){return st(h,function(U){return Xn.getAt(u,y,U).filter(function(X){return X.row===y}).fold(vt([]),function(X){return[X]})})},O=function(U){return U.rowspan===1},M=function(){return Xn.getAt(u,y,0)};return Sa(x,O,M)})},is=function(u,l){if(l<0||l>=u.length-1)return L.none();var d=u[l].fold(function(){var y=be(u.slice(0,l));return rr(y,function(x,O){return x.map(function(M){return{value:M,delta:O+1}})})},function(y){return L.some({value:y,delta:0})}),h=u[l+1].fold(function(){var y=u.slice(l+1);return rr(y,function(x,O){return x.map(function(M){return{value:M,delta:O+1}})})},function(y){return L.some({value:y,delta:1})});return d.bind(function(y){return h.map(function(x){var O=x.delta+y.delta;return Math.abs(x.value-y.value)/O})})},us=function(u,l){return function(d){return S3(d)==="rtl"?l:u}},S3=function(u){return Jc(u,"direction")==="rtl"?"rtl":"ltr"},me=Lo("height",function(u){var l=u.dom;return Ys(u)?l.getBoundingClientRect().height:l.offsetHeight}),pu=function(u){return me.get(u)},$u=function(u){return me.getOuter(u)},Tm=w3,Bs=function(u,l){var d=function(h,y){return Bs(u+h,l+y)};return{left:u,top:l,translate:d}},da=Bs,xa=function(u){var l=u.getBoundingClientRect();return da(l.left,l.top)},Lu=function(u,l){return u!==void 0?u:l!==void 0?l:0},Of=function(u){var l=u.dom.ownerDocument,d=l.body,h=l.defaultView,y=l.documentElement;if(d===u.dom)return da(d.offsetLeft,d.offsetTop);var x=Lu(h==null?void 0:h.pageYOffset,y.scrollTop),O=Lu(h==null?void 0:h.pageXOffset,y.scrollLeft),M=Lu(y.clientTop,d.clientTop),U=Lu(y.clientLeft,d.clientLeft);return Lb(u).translate(O-U,x-M)},Lb=function(u){var l=u.dom,d=l.ownerDocument,h=d.body;return h===l?da(h.offsetLeft,h.offsetTop):Ys(u)?xa(l):da(0,0)},pn=function(u,l){return{row:u,y:l}},Zp=function(u,l){return{col:u,x:l}},Ms=function(u){var l=Of(u);return l.left+Wi(u)},JC=function(u){return Of(u).left},dh=function(u,l){return Zp(u,JC(l))},mh=function(u,l){return Zp(u,Ms(l))},Hb=function(u){return Of(u).top},Vb=function(u,l){return pn(u,Hb(l))},Pl=function(u,l){return pn(u,Hb(l)+$u(l))},Df=function(u,l,d){if(d.length===0)return[];var h=at(d.slice(1),function(x,O){return x.map(function(M){return u(O,M)})}),y=d[d.length-1].map(function(x){return l(d.length-1,x)});return h.concat([y])},x3=function(u){return-u},Ub={delta:dn,positions:function(u){return Df(Vb,Pl,u)},edge:Hb},T3={delta:dn,edge:JC,positions:function(u){return Df(dh,mh,u)}},QC={delta:x3,edge:Ms,positions:function(u){return Df(mh,dh,u)}},gh=us(T3,QC),Em={delta:function(u,l){return gh(l).delta(u,l)},positions:function(u,l){return gh(l).positions(u,l)},edge:function(u){return gh(u).edge(u)}},ew={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Fl=function(){var u="[0-9]+",l="[+-]?"+u,d="[eE]"+l,h="\\.",y=function(M){return"(?:"+M+")?"},x=["Infinity",u+h+y(u)+y(d),h+u+y(d),u+y(d)].join("|"),O="[+-]?(?:"+x+")";return new RegExp("^("+O+")(.*)$")}(),km=function(u,l){return A(l,function(d){return A(ew[d],function(h){return u===h})})},Wb=function(u,l){var d=L.from(Fl.exec(u));return d.bind(function(h){var y=Number(h[1]),x=h[2];return km(x,l)?L.some({value:y,unit:x}):L.none()})},tw=/(\d+(\.\d+)?)%/,E3=/(\d+(\.\d+)?)px|em/,k3=vo("col"),Do=function(u,l,d){var h=lm(u).getOrThunk(function(){return vm(Xc(u))});return l(u)/d(h)*100},Il=function(u,l){so(u,"width",l+"px")},Ec=function(u,l){so(u,"width",l+"%")},vv=function(u,l){so(u,"height",l+"px")},nw=function(u){return Tm(u)+"px"},kc=function(u,l,d,h){var y=za(u).map(function(x){var O=d(x);return Math.floor(l/100*O)}).getOr(l);return h(u,y),y},ud=function(u,l,d,h){var y=parseFloat(u);return Ar(u,"%")&&Dr(l)!=="table"?kc(l,y,d,h):y},jb=function(u){var l=nw(u);return l?ud(l,u,pu,vv):pu(u)},Gb=function(u,l,d){var h=d(u),y=zo(u,l);return h/y},Rf=function(u,l){return mu(u,l).orThunk(function(){return Pr(u,l).map(function(d){return d+"px"})})},ec=function(u){return Rf(u,"width")},Si=function(u){return Rf(u,"height")},Jp=function(u){return Do(u,Tc,Fr)},qb=function(u){return k3(u)?Tc(u):rl(u)},sd=function(u){return Gb(u,"rowspan",jb)},Am=function(u){var l=ec(u);return l.bind(function(d){return Wb(d,["fixed","relative","empty"])})},Om=function(u,l,d){so(u,"width",l+d)},A3=function(u){return Tc(u)+"px"},Dm=function(u){return Do(u,Tc,Fr)+"%"},Kb=function(u){return ec(u).exists(function(l){return tw.test(l)})},O3=function(u){return ec(u).exists(function(l){return E3.test(l)})},to=function(u){return ec(u).isNone()},Qp=vt(tw),dv=vo("col"),Xb=function(u){return ec(u).getOrThunk(function(){return qb(u)+"px"})},Yb=function(u){return Si(u).getOrThunk(function(){return sd(u)+"px"})},tc=function(u){return at(Xn.justColumns(u),function(l){return L.from(l.element)})},Ns=function(u){var l=Tn().browser,d=l.isChrome()||l.isFirefox();return dv(u)?d:!0},cd=function(u,l,d,h,y,x){return u.filter(h).fold(function(){return x(is(d,l))},function(O){return y(O)})},mv=function(u,l,d,h){var y=id(u),x=Xn.hasColumns(u)?tc(u):y,O=[L.some(Em.edge(l))].concat(at(Em.positions(y,l),function(U){return U.map(function(X){return X.x})})),M=Rt(rd);return at(x,function(U,X){return cd(U,X,O,M,function(ue){if(Ns(ue))return d(ue);var Pe=jp(y[X],dn);return cd(Pe,X,O,M,function(et){return h(L.some(Tc(et)))},h)},h)})},e1=function(u){return u.map(function(l){return l+"px"}).getOr("")},hh=function(u,l){return mv(u,l,Xb,e1)},Zb=function(u,l,d){return mv(u,l,Jp,function(h){return h.fold(function(){return d.minCellWidth()},function(y){return y/d.pixelWidth()*100})})},ld=function(u,l,d){return mv(u,l,qb,function(h){return h.getOrThunk(d.minCellWidth)})},t1=function(u,l,d,h,y){var x=fv(u),O=[L.some(d.edge(l))].concat(at(d.positions(x,l),function(M){return M.map(function(U){return U.y})}));return at(x,function(M,U){return cd(M,U,O,Rt(Gp),h,y)})},D3=function(u,l,d){return t1(u,l,d,sd,function(h){return h.getOrThunk(Qa)})},Jb=function(u,l,d){return t1(u,l,d,Yb,e1)},Ps=function(u,l){return function(){return Ys(u)?l(u):parseFloat(mu(u,"width").getOr("0"))}},ss=function(u){var l=Ps(u,Tc),d=vt(0),h=function(y,x){return ld(y,u,x)};return{width:l,pixelWidth:l,getWidths:h,getCellDelta:d,singleColumnWidth:vt([0]),minCellWidth:d,setElementWidth:Mt,adjustTableWidth:Mt,isRelative:!0,label:"none"}},Rm=function(u){var l=Ps(u,function(U){return parseFloat(Dm(U))}),d=Ps(u,Tc),h=function(U){return U/d()*100},y=function(U,X){return[100-U]},x=function(){return yf()/d()*100},O=function(U){var X=l(),ue=U/100*X,Pe=X+ue;Ec(u,Pe)},M=function(U,X){return Zb(U,u,X)};return{width:l,pixelWidth:d,getWidths:M,getCellDelta:h,singleColumnWidth:y,minCellWidth:x,setElementWidth:Ec,adjustTableWidth:O,isRelative:!0,label:"percent"}},Ac=function(u){var l=Ps(u,Tc),d=dn,h=function(O,M){var U=Math.max(yf(),O+M);return[U-O]},y=function(O){var M=l()+O;Il(u,M)},x=function(O,M){return ld(O,u,M)};return{width:l,pixelWidth:l,getWidths:x,getCellDelta:d,singleColumnWidth:h,minCellWidth:yf,setElementWidth:Il,adjustTableWidth:y,isRelative:!1,label:"pixel"}},ji=function(u,l){var d=Qp().exec(l);return d!==null?Rm(u):Ac(u)},n1=function(u){var l=ec(u);return l.fold(function(){return ss(u)},function(d){return ji(u,d)})},_f={getTableSize:n1,pixelSize:Ac,percentageSize:Rm,noneSize:ss},rw=function(u,l,d,h,y,x){return{minRow:u,minCol:l,maxRow:d,maxCol:h,allCells:y,selectedCells:x}},xi=function(u,l){var d=u.grid.columns,h=u.grid.rows,y=h,x=d,O=0,M=0,U=[],X=[];return ha(u.access,function(ue){if(U.push(ue),l(ue)){X.push(ue);var Pe=ue.row,et=Pe+ue.rowspan-1,qe=ue.column,Ne=qe+ue.colspan-1;Pe<y?y=Pe:et>O&&(O=et),qe<x?x=qe:Ne>M&&(M=Ne)}}),rw(y,x,O,M,U,X)},Qb=function(u,l,d){var h=u[d].element,y=lt.fromTag("td");eo(y,lt.fromTag("br"));var x=l?eo:wi;x(h,y)},r1=function(u,l,d,h){for(var y=l.grid.columns,x=l.grid.rows,O=0;O<x;O++)for(var M=!1,U=0;U<y;U++)if(!(O<d.minRow||O>d.maxRow||U<d.minCol||U>d.maxCol)){var X=Xn.getAt(l,O,U).filter(h).isNone();X?Qb(u,M,O):M=!0}},_r=function(u,l,d,h){ha(d.columns,function(O){(O.column<l.minCol||O.column>l.maxCol)&&Iu(O.element)});var y=In(Cf(u,"tr"),function(O){return O.dom.childElementCount===0});Nt(y,Iu),(l.minCol===l.maxCol||l.minRow===l.maxRow)&&Nt(Cf(u,"th,td"),function(O){Aa(O,"rowspan"),Aa(O,"colspan")}),Aa(u,So),Aa(u,"data-snooker-col-series");var x=_f.getTableSize(u);x.adjustTableWidth(h)},bn=function(u,l,d,h){if(h.minCol===0&&l.grid.columns===h.maxCol+1)return 0;var y=ld(l,u,d),x=Z(y,function(X,ue){return X+ue},0),O=Z(y.slice(h.minCol,h.maxCol+1),function(X,ue){return X+ue},0),M=O/x*d.pixelWidth(),U=M-d.pixelWidth();return d.getCellDelta(U)},Fs=function(u,l){var d=function(et){return Ao(et.element,l)},h=Xr(u),y=qp(h),x=_f.getTableSize(u),O=Xn.generate(y),M=xi(O,d),U="th:not("+l+"),td:not("+l+")",X=wf(h,"th,td",function(et){return Ao(et,U)});Nt(X,Iu),r1(y,O,M,d);var ue=Xn.fromTable(u),Pe=bn(u,ue,x,M);return _r(h,M,O,Pe),h},a1=" ",Oc=function(u){return Dr(u)==="img"?1:qC(u).fold(function(){return te(u).length},function(l){return l.length})},aw=function(u){return qC(u).filter(function(l){return l.trim().length!==0||l.indexOf(a1)>-1}).isSome()},ma=["img","br"],ey=function(u){var l=aw(u);return l||Rn(ma,Dr(u))},o1=function(u){return rh(u,ey)},i1=function(u){return Xe(u,ey)},Xe=function(u,l){var d=function(h){for(var y=te(h),x=y.length-1;x>=0;x--){var O=y[x];if(l(O))return L.some(O);var M=d(O);if(M.isSome())return M}return L.none()};return d(u)},ty={scope:["row","col"]},ny=function(u){return function(){var l=lt.fromTag("td",u.dom);return eo(l,lt.fromTag("br",u.dom)),l}},gv=function(u){return function(){return lt.fromTag("col",u.dom)}},ph=function(u){return function(){return lt.fromTag("colgroup",u.dom)}},fd=function(u){return function(){return lt.fromTag("tr",u.dom)}},hv=function(u,l,d){var h=Qs(u,l);return ha(d,function(y,x){y===null?Aa(h,x):Io(h,x,y)}),h},vd=function(u){return u},_m=function(u,l,d){var h=o1(u);return h.map(function(y){var x=d.join(","),O=Ol(y,x,function(M){return fr(M,u)});return Jr(O,function(M,U){var X=xc(U);return Aa(X,"contenteditable"),eo(M,X),X},l)}).getOr(l)},xo=function(u,l){ha(ty,function(d,h){return Pr(u,h).filter(function(y){return Rn(d,y)}).each(function(y){return Io(l,h,y)})})},zn=function(u,l,d){var h=function(O,M){sv(O.element,M),yi(M,"height"),O.colspan!==1&&yi(M,"width")},y=function(O){var M=lt.fromTag(Dr(O.element),l.dom),U=d.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),X=U.length>0?_m(O.element,M,U):M;return eo(X,lt.fromTag("br")),h(O,M),xo(O.element,M),u(O.element,M),M},x=function(O){var M=lt.fromTag(Dr(O.element),l.dom);return h(O,M),u(O.element,M),M};return{col:x,colgroup:ph(l),row:fd(l),cell:y,replace:hv,colGap:gv(l),gap:ny(l)}},Is=function(u){return{col:gv(u),colgroup:ph(u),row:fd(u),cell:ny(u),replace:vd,colGap:gv(u),gap:ny(u)}},ow=function(u,l){var d=l||document,h=d.createElement("div");return h.innerHTML=u,te(lt.fromDom(h))},cs=function(u){return at(u,lt.fromDom)},ry=function(u){return u.nodeName.toLowerCase()},zl=function(u){return lt.fromDom(u.getBody())},Bf=function(u){return u.getBoundingClientRect().width},Mf=function(u){return u.getBoundingClientRect().height},zs=function(u){return function(l){return fr(l,zl(u))}},pv=function(u){return u?u.replace(/px$/,""):""},Ko=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},bu=function(u){Aa(u,"data-mce-style");var l=function(d){return Aa(d,"data-mce-style")};Nt(Sf(u),l),Nt(el(u),l),Nt(Pu(u),l)},$l=function(u,l){var d=u.dom.getStyle(l,"width")||u.dom.getAttrib(l,"width");return L.from(d).filter(wr)},bv=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},Bm=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},dd=function(u){return lt.fromDom(u.selection.getStart())},qt=function(u){return lt.fromDom(u.selection.getEnd())},oi=function(u){return Xp(u.get(),vt([]),dn,Ce)},al=function(u){var l=function(y,x){return Pr(y,x).exists(function(O){return parseInt(O,10)>1})},d=function(y){return l(y,"rowspan")||l(y,"colspan")},h=oi(u);return h.length>0&&We(h,d)?L.some(h):L.none()},Ll=function(u,l,d){return Xp(l.get(),L.none,function(h){return h.length<=1?L.none():ai(u,d.firstSelectedSelector,d.lastSelectedSelector).map(function(y){return{bounds:y,cells:h}})},L.none)},bh="data-mce-selected",iw="td["+bh+"],th["+bh+"]",u1="["+bh+"]",yv="data-mce-first-selected",Cv="td["+yv+"],th["+yv+"]",Mm="data-mce-last-selected",yh="td["+Mm+"],th["+Mm+"]",R3=u1,$s={selected:bh,selectedSelector:iw,firstSelected:yv,firstSelectedSelector:Cv,lastSelected:Mm,lastSelectedSelector:yh},ay=function(u){return{element:u,mergable:L.none(),unmergable:L.none(),selection:[u]}},md=function(u,l,d){return{element:d,mergable:Ll(l,u,$s),unmergable:al(u),selection:oi(u)}},wv=function(u,l,d){return{element:u,clipboard:l,generators:d}},oy=function(u,l,d,h){return{selection:oi(u),clipboard:d,generators:h}},Sv=function(u){return za(u).bind(function(l){return go(l,$s.firstSelectedSelector)}).fold(vt(u),function(l){return l[0]})},uw=function(u){return function(l,d){var h=Dr(l),y=h==="col"||h==="colgroup"?Sv(l):l;return Za(y,u,d)}},ja=uw("th,td,caption"),Ti=uw("th,td"),Gi=function(u){return oi(u)},sw=function(u,l){var d=Ti(u),h=d.bind(function(y){return za(y)}).map(function(y){return Pu(y)});return rs(d,h,function(y,x){return In(x,function(O){return A(cs(O.dom.cells),function(M){return Os(M,l)==="1"||fr(M,y)})})}).getOr([])},s1=function(u){return za(u[0]).map(function(l){var d=Fs(l,R3);return bu(d),[d]})},_3=function(u,l){return at(l,function(d){return u.selection.serializer.serialize(d.dom,{})}).join("")},cw=function(u){return at(u,function(l){return l.dom.innerText}).join("")},Dc=function(u,l,d){u.on("BeforeGetContent",function(h){var y=function(x){h.preventDefault(),s1(x).each(function(O){h.content=h.format==="text"?cw(O):_3(u,O)})};h.selection===!0&&Xp(l.get(),Mt,y,Mt)}),u.on("BeforeSetContent",function(h){if(h.selection===!0&&h.paste===!0){var y=Gi(l);xt(y).each(function(x){za(x).each(function(O){var M=In(ow(h.content),function(et){return Dr(et)!=="meta"}),U=vo("table");if(M.length===1&&U(M[0])){h.preventDefault();var X=lt.fromDom(u.getDoc()),ue=Is(X),Pe=wv(x,M[0],ue);d.pasteCells(O,Pe).each(function(){u.focus()})}})})}})},B3=Ml.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Nm=fn({},B3),c1=function(u,l){return u.length===0?Nm.none():u.length===1?Nm.only(0):l===0?Nm.left(0,1):l===u.length-1?Nm.right(l-1,l):l>0&&l<u.length-1?Nm.middle(l-1,l,l+1):Nm.none()},M3=function(u,l,d,h,y){var x=u.slice(0),O=c1(u,l),M=vt(at(x,vt(0))),U=function(et){return h.singleColumnWidth(x[et],d)},X=function(et,qe){return y.calcLeftEdgeDeltas(x,et,qe,d,h.minCellWidth(),h.isRelative)},ue=function(et,qe,Ne){return y.calcMiddleDeltas(x,et,qe,Ne,d,h.minCellWidth(),h.isRelative)},Pe=function(et,qe){return y.calcRightEdgeDeltas(x,et,qe,d,h.minCellWidth(),h.isRelative)};return O.fold(M,U,X,ue,Pe)},lw=function(u,l,d){for(var h=0,y=u;y<l;y++)h+=d[y]!==void 0?d[y]:0;return h},iy=function(u,l){var d=Xn.justCells(u);return at(d,function(h){var y=lw(h.column,h.column+h.colspan,l);return{element:h.element,width:y,colspan:h.colspan}})},uy=function(u,l){var d=Xn.justColumns(u);return at(d,function(h,y){return{element:h.element,width:l[y],colspan:h.colspan}})},sy=function(u,l){var d=Xn.justCells(u);return at(d,function(h){var y=lw(h.row,h.row+h.rowspan,l);return{element:h.element,height:y,rowspan:h.rowspan}})},N3=function(u,l){return at(u.all,function(d,h){return{element:d.element,height:l[h]}})},xv=function(u){return Jr(u,function(l,d){return l+d},0)},Tv=function(u,l){return Xn.hasColumns(u)?uy(u,l):iy(u,l)},ia=function(u,l,d){var h=Tv(u,l);Nt(h,function(y){d.setElementWidth(y.element,y.width)})},l1=function(u,l,d,h,y){var x=Xn.fromTable(u),O=y.getCellDelta(l),M=y.getWidths(x,y),U=d===x.grid.columns-1,X=h.clampTableDelta(M,d,O,y.minCellWidth(),U),ue=M3(M,d,X,y,h),Pe=at(ue,function(et,qe){return et+M[qe]});ia(x,Pe,y),h.resizeTable(y.adjustTableWidth,X,U)},ol=function(u,l,d,h){var y=Xn.fromTable(u),x=D3(y,u,h),O=at(x,function(ue,Pe){return d===Pe?Math.max(l+ue,Qa()):ue}),M=sy(y,O),U=N3(y,O);Nt(U,function(ue){vv(ue.element,ue.height)}),Nt(M,function(ue){vv(ue.element,ue.height)});var X=xv(O);vv(u,X)},fw=function(u,l,d,h,y){var x=Xn.generate(l),O=h.getWidths(x,h),M=h.pixelWidth(),U=y.calcRedestributedWidths(O,M,d.pixelDelta,h.isRelative),X=U.newSizes,ue=U.delta;ia(x,X,h),h.adjustTableWidth(ue)},il=function(u,l,d,h){var y=Xn.generate(l),x=h.getWidths(y,h);ia(y,x,h)},Hl=function(u){return at(u,vt(0))},Ev=function(u,l,d,h,y){return y(u.slice(0,l)).concat(h).concat(y(u.slice(d)))},f1=function(u){return function(l,d,h,y){if(u(h)){var x=Math.max(y,l[d]-Math.abs(h)),O=Math.abs(x-l[d]);return h>=0?O:-O}else return h}},Ch=f1(function(u){return u<0}),v1=f1(Ie),d1=function(){var u=function(M,U,X,ue,Pe){var et=Ch(M,U,ue,Pe);return Ev(M,U,X+1,[et,0],Hl)},l=function(M,U,X,ue){var Pe=(100+X)/100,et=Math.max(ue,(M[U]+X)/Pe);return at(M,function(qe,Ne){var bt=Ne===U?et:qe/Pe;return bt-qe})},d=function(M,U,X,ue,Pe,et){return et?l(M,U,ue,Pe):u(M,U,X,ue,Pe)},h=function(M,U,X,ue,Pe,et,qe){return d(M,X,ue,Pe,et,qe)},y=function(M,U){return M(U)},x=function(M,U,X,ue,Pe,et){if(et)return l(M,X,ue,Pe);var qe=Ch(M,X,ue,Pe);return Hl(M.slice(0,X)).concat([qe])},O=function(M,U,X,ue){if(ue){var Pe=U+X,et=Pe/U,qe=at(M,function(Ne){return Ne/et});return{delta:et*100-100,newSizes:qe}}else return{delta:X,newSizes:M}};return{resizeTable:y,clampTableDelta:Ch,calcLeftEdgeDeltas:d,calcMiddleDeltas:h,calcRightEdgeDeltas:x,calcRedestributedWidths:O}},gd=function(){var u=function(O,M,U,X,ue){var Pe=X>=0?U:M,et=v1(O,Pe,X,ue);return Ev(O,M,U+1,[et,-et],Hl)},l=function(O,M,U,X,ue,Pe){return u(O,U,X,ue,Pe)},d=function(O,M,U){U&&O(M)},h=function(O,M,U,X,ue,Pe){if(Pe)return Hl(O);var et=X/O.length;return at(O,vt(et))},y=function(O,M,U,X,ue){if(ue){if(U>=0)return U;var Pe=Z(O,function(et,qe){return et+qe-X},0);return Math.max(-Pe,U)}else return Ch(O,M,U,X)},x=function(O,M,U,X){return{delta:0,newSizes:O}};return{resizeTable:d,clampTableDelta:y,calcLeftEdgeDeltas:u,calcMiddleDeltas:l,calcRightEdgeDeltas:h,calcRedestributedWidths:x}},P3=function(u,l){var d=L.from(u.dom.documentElement).map(lt.fromDom).getOr(u);return{parent:vt(d),view:vt(u),origin:vt(da(0,0)),isResizable:l}},m1=function(u,l,d){var h=function(){return Of(l)};return{parent:vt(l),view:vt(u),origin:h,isResizable:d}},Pm=function(u,l,d){return{parent:vt(l),view:vt(u),origin:vt(da(0,0)),isResizable:d}},wh={only:P3,detached:m1,body:Pm},Sh=Ml.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),cy=function(u,l,d){var h=d.substring(0,d.length-u.length),y=parseFloat(h);return h===y.toString()?l(y):Sh.invalid(d)},Ho=function(u){return Ar(u,"%")?cy("%",Sh.percent,u):Ar(u,"px")?cy("px",Sh.pixels,u):Sh.invalid(u)},hd=fn(fn({},Sh),{from:Ho}),Ro=function(u,l){return at(u,function(d){var h=hd.from(d);return h.fold(function(){return d},function(y){var x=y/l*100;return x+"%"},function(y){return y+"%"})})},yu=function(u,l,d){var h=d/l;return at(u,function(y){var x=hd.from(y);return x.fold(function(){return y},function(O){return O*h+"px"},function(O){return O/100*d+"px"})})},pd=function(u,l){var d=u.fold(function(){return vt("")},function(h){var y=h/l;return vt(y+"px")},function(){var h=100/l;return vt(h+"%")});return Cr(l,d)},Ls=function(u,l,d){return u.fold(function(){return l},function(h){return yu(l,d,h)},function(h){return Ro(l,d)})},g1=function(u,l,d){var h=hd.from(d),y=We(u,function(x){return x==="0px"})?pd(h,u.length):Ls(h,u,l);return vw(y)},Vl=function(u,l){return u.length===0?l:Jr(u,function(d,h){return hd.from(h).fold(vt(0),dn,dn)+d},0)},Fm=function(u,l){var d=Math.floor(u);return{value:d+l,remainder:u-d}},Im=function(u,l){return hd.from(u).fold(vt(u),function(d){return d+l+"px"},function(d){return d+l+"%"})},vw=function(u){if(u.length===0)return u;var l=Jr(u,function(h,y){var x=hd.from(y).fold(function(){return{value:y,remainder:0}},function(O){return Fm(O,"px")},function(O){return{value:O+"%",remainder:0}});return{output:[x.value].concat(h.output),remainder:h.remainder+x.remainder}},{output:[],remainder:0}),d=l.output;return d.slice(0,d.length-1).concat([Im(d[d.length-1],Math.round(l.remainder))])},dw=hd.from,F3=function(u,l,d){Nt(l,function(h){var y=u.slice(h.column,h.colspan+h.column),x=Vl(y,yf());so(h.element,"width",x+d)})},I3=function(u,l,d){Nt(l,function(h,y){var x=Vl([u[y]],yf());so(h.element,"width",x+d)})},z3=function(u,l,d,h){Nt(d,function(y){var x=u.slice(y.row,y.rowspan+y.row),O=Vl(x,Qa());so(y.element,"height",O+h)}),Nt(l,function(y,x){so(y.element,"height",u[x])})},mw=function(u){return dw(u).fold(vt("px"),vt("px"),vt("%"))},h1=function(u,l,d){var h=Xn.fromTable(u),y=h.all,x=Xn.justCells(h),O=Xn.justColumns(h);l.each(function(M){var U=mw(M),X=Tc(u),ue=hh(h,u),Pe=g1(ue,X,M);Xn.hasColumns(h)?I3(Pe,O,U):F3(Pe,x,U),so(u,"width",M)}),d.each(function(M){var U=mw(M),X=pu(u),ue=Jb(h,u,Ub),Pe=g1(ue,X,M);z3(Pe,y,x,U),so(u,"height",M)})},p1=Kb,Ei=O3,b1=to,ly=function(u){var l=Xn.fromTable(u);return l.grid},nc=function(u){var l=[],d=function(x){if(x===void 0)throw new Error("Event bind error: undefined handler");l.push(x)},h=function(x){l=In(l,function(O){return O!==x})},y=function(){for(var x=[],O=0;O<arguments.length;O++)x[O]=arguments[O];var M={};Nt(u,function(U,X){M[U]=x[X]}),Nt(l,function(U){U(M)})};return{bind:d,unbind:h,trigger:y}},Ma=function(u){var l=qc(u,function(h){return{bind:h.bind,unbind:h.unbind}}),d=qc(u,function(h){return h.trigger});return{registry:l,trigger:d}},Hs=function(u,l){var d=null,h=function(){kr(d)||(clearTimeout(d),d=null)},y=function(){for(var x=[],O=0;O<arguments.length;O++)x[O]=arguments[O];h(),d=setTimeout(function(){d=null,u.apply(null,x)},l)};return{cancel:h,throttle:y}},kv=function(u){return u.slice(0).sort()},fy=function(u,l){throw new Error("All required keys ("+kv(u).join(", ")+") were not specified. Specified keys were: "+kv(l).join(", ")+".")},y1=function(u){throw new Error("Unsupported keys for object: "+kv(u).join(", "))},gw=function(u,l){if(!tr(l))throw new Error("The "+u+" fields must be an array. Was: "+l+".");Nt(l,function(d){if(!Fn(d))throw new Error("The value "+d+" in the "+u+" fields was not a string.")})},Wn=function(u,l){throw new Error("All values need to be of type: "+l+". Keys ("+kv(u).join(", ")+") were not.")},zm=function(u){var l=kv(u),d=ut(l,function(h,y){return y<l.length-1&&h===l[y+1]});d.each(function(h){throw new Error("The field: "+h+" occurs more than once in the combined fields: ["+l.join(", ")+"].")})},C1=function(u,l){return vy(u,l,{validate:Zt,label:"function"})},vy=function(u,l,d){if(l.length===0)throw new Error("You must specify at least one required field.");return gw("required",l),zm(l),function(h){var y=$i(h),x=We(l,function(M){return Rn(y,M)});x||fy(l,y),u(l,y);var O=In(l,function(M){return!d.validate(h[M],M)});return O.length>0&&Wn(O,d.label),h}},Vo=function(u,l){var d=In(l,function(h){return!Rn(u,h)});d.length>0&&y1(d)},rc=function(u){return C1(Vo,u)},hw=rc(["compare","extract","mutate","sink"]),bd=rc(["element","start","stop","destroy"]),Oa=rc(["forceDrop","drop","move","delayDrop"]),yd=function(){var u=L.none(),l=function(){u=L.none()},d=function(x,O){var M=u.map(function(U){return x.compare(U,O)});return u=L.some(O),M},h=function(x,O){var M=O.extract(x);M.each(function(U){var X=d(O,U);X.each(function(ue){y.trigger.move(ue)})})},y=Ma({move:nc(["info"])});return{onEvent:h,reset:l,events:y.registry}},w1=function(){var u=Ma({move:nc(["info"])});return{onEvent:Mt,reset:Mt,events:u.registry}},$m=function(){var u=w1(),l=yd(),d=u,h=function(){d.reset(),d=l},y=function(){d.reset(),d=u},x=function(M,U){d.onEvent(M,U)},O=function(){return d===l};return{on:h,off:y,isOn:O,onEvent:x,events:l.events}},dy=function(u,l,d){var h=!1,y=Ma({start:nc([]),stop:nc([])}),x=$m(),O=function(){qe.stop(),x.isOn()&&(x.off(),y.trigger.stop())},M=Hs(O,200),U=function(bt){qe.start(bt),x.on(),y.trigger.start()},X=function(bt){M.cancel(),x.onEvent(bt,l)};x.events.move.bind(function(bt){l.mutate(u,bt.info)});var ue=function(){h=!0},Pe=function(){h=!1},et=function(bt){return function(){for(var St=[],an=0;an<arguments.length;an++)St[an]=arguments[an];h&&bt.apply(null,St)}},qe=l.sink(Oa({forceDrop:O,drop:et(O),move:et(X),delayDrop:et(M.throttle)}),d),Ne=function(){qe.destroy()};return{element:qe.element,go:U,on:ue,off:Pe,destroy:Ne,events:y.registry}},pw=function(u,l,d,h,y,x,O){return{target:u,x:l,y:d,stop:h,prevent:y,kill:x,raw:O}},xh=function(u){var l=lt.fromDom(Al(u).getOr(u.target)),d=function(){return u.stopPropagation()},h=function(){return u.preventDefault()},y=Ye(h,d);return pw(l,u.clientX,u.clientY,d,h,y,u)},bw=function(u,l){return function(d){u(d)&&l(xh(d))}},Nf=function(u,l,d,h,y){var x=bw(d,h);return u.dom.addEventListener(l,x,y),{unbind:Lt(my,u,l,x,y)}},Cu=function(u,l,d,h){return Nf(u,l,d,h,!1)},my=function(u,l,d,h){u.dom.removeEventListener(l,d,h)},$3=Ie,ul=function(u,l,d){return Cu(u,l,$3,d)},Pf=xh,S1=function(u,l){var d=Os(u,l);return d===void 0||d===""?[]:d.split(" ")},L3=function(u,l,d){var h=S1(u,l),y=h.concat([d]);return Io(u,l,y.join(" ")),!0},H3=function(u,l,d){var h=In(S1(u,l),function(y){return y!==d});return h.length>0?Io(u,l,h.join(" ")):Aa(u,l),!1},Cd=function(u){return u.dom.classList!==void 0},wd=function(u){return S1(u,"class")},x1=function(u,l){return L3(u,"class",l)},Ir=function(u,l){return H3(u,"class",l)},Uo=function(u,l){Cd(u)?u.dom.classList.add(l):x1(u,l)},wu=function(u){var l=Cd(u)?u.dom.classList:wd(u);l.length===0&&Aa(u,"class")},Hu=function(u,l){if(Cd(u)){var d=u.dom.classList;d.remove(l)}else Ir(u,l);wu(u)},ya=function(u,l){return Cd(u)&&u.dom.classList.contains(l)},Av=function(u){var l=u.replace(/\./g,"-"),d=function(h){return l+"-"+h};return{resolve:d}},T1=Av("ephox-dragster"),Xo=T1.resolve,Ul=function(u){var l=fn({layerClass:Xo("blocker")},u),d=lt.fromTag("div");Io(d,"role","presentation"),Rl(d,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Uo(d,Xo("blocker")),Uo(d,l.layerClass);var h=vt(d),y=function(){Iu(d)};return{element:h,destroy:y}},V3=function(u,l){return da(l.left-u.left,l.top-u.top)},U3=function(u){return L.some(da(u.x,u.y))},E1=function(u,l){u.mutate(l.left,l.top)},k1=function(u,l){var d=Ul(l),h=ul(d.element(),"mousedown",u.forceDrop),y=ul(d.element(),"mouseup",u.drop),x=ul(d.element(),"mousemove",u.move),O=ul(d.element(),"mouseout",u.delayDrop),M=function(){d.destroy(),y.unbind(),x.unbind(),O.unbind(),h.unbind()},U=function(ue){eo(ue,d.element())},X=function(){Iu(d.element())};return bd({element:d.element,start:U,stop:X,destroy:M})},gy=hw({compare:V3,extract:U3,sink:k1,mutate:E1}),hy=function(u,l){l===void 0&&(l={});var d=l.mode!==void 0?l.mode:gy;return dy(u,d,l)},Sd=function(u){return Za(u,"[contenteditable]")},Th=function(u,l){return l===void 0&&(l=!1),!Tn().browser.isIE()&&Ys(u)?u.dom.isContentEditable:Sd(u).fold(vt(l),function(d){return py(d)==="true"})},py=function(u){return u.dom.contentEditable},by=Av("ephox-snooker"),Lm=by.resolve,ki=function(){var u=Ma({drag:nc(["xDelta","yDelta"])}),l=function(d,h){u.trigger.drag(d,h)};return{mutate:l,events:u.registry}},ls=function(){var u=Ma({drag:nc(["xDelta","yDelta","target"])}),l=L.none(),d=ki();d.events.drag.bind(function(x){l.each(function(O){u.trigger.drag(x.xDelta,x.yDelta,O)})});var h=function(x){l=L.some(x)},y=function(){return l};return{assign:h,get:y,mutate:d.mutate,events:u.registry}},Eh=function(u,l,d,h,y){var x=lt.fromTag("div");return Rl(x,{position:"absolute",left:l-h/2+"px",top:d+"px",height:y+"px",width:h+"px"}),wo(x,{"data-column":u,role:"presentation"}),x},Wo=function(u,l,d,h,y){var x=lt.fromTag("div");return Rl(x,{position:"absolute",left:l+"px",top:d-y/2+"px",height:y+"px",width:h+"px"}),wo(x,{"data-row":u,role:"presentation"}),x},A1=Lm("resizer-bar"),Ff=Lm("resizer-rows"),yy=Lm("resizer-cols"),Cy=7,yw=function(u,l){return st(u.all,function(d,h){return l(d.element)?[h]:[]})},wy=function(u,l){var d=[];return Cr(u.grid.columns,function(h){var y=Xn.getColumnAt(u,h).map(function(x){return x.element});y.forall(l)&&d.push(h)}),In(d,function(h){var y=Xn.filterItems(u,function(x){return x.column===h});return We(y,function(x){return l(x.element)})})},kh=function(u){var l=ts(u.parent(),"."+A1);Nt(l,Iu)},O1=function(u,l,d){var h=u.origin();Nt(l,function(y){y.each(function(x){var O=d(h,x);Uo(O,A1),eo(u.parent(),O)})})},Cw=function(u,l,d,h){O1(u,l,function(y,x){var O=Eh(x.col,x.x-y.left,d.top-y.top,Cy,h);return Uo(O,yy),O})},W3=function(u,l,d,h){O1(u,l,function(y,x){var O=Wo(x.row,d.left-y.left,x.y-y.top,h,Cy);return Uo(O,Ff),O})},qi=function(u,l,d,h,y){var x=Of(d),O=l.isResizable,M=h.length>0?Ub.positions(h,d):[],U=M.length>0?yw(u,O):[],X=In(M,function(qe,Ne){return A(U,function(bt){return Ne===bt})});W3(l,X,x,Wi(d));var ue=y.length>0?Em.positions(y,d):[],Pe=ue.length>0?wy(u,O):[],et=In(ue,function(qe,Ne){return A(Pe,function(bt){return Ne===bt})});Cw(l,et,x,$u(d))},Yo=function(u,l){if(kh(u),u.isResizable(l)){var d=Xn.fromTable(l),h=fv(d),y=id(d);qi(d,u,l,h,y)}},Su=function(u,l){var d=ts(u.parent(),"."+A1);Nt(d,l)},xu=function(u){Su(u,function(l){so(l,"display","none")})},Vu=function(u){Su(u,function(l){so(l,"display","block")})},_o=function(u){return ya(u,Ff)},D1=function(u){return ya(u,yy)},R1=Lm("resizer-bar-dragging"),Sy=function(u){var l=ls(),d=hy(l,{}),h=L.none(),y=function(Ne,bt){return L.from(Os(Ne,bt))};l.events.drag.bind(function(Ne){y(Ne.target,"data-row").each(function(bt){var St=bf(Ne.target,"top");so(Ne.target,"top",St+Ne.yDelta+"px")}),y(Ne.target,"data-column").each(function(bt){var St=bf(Ne.target,"left");so(Ne.target,"left",St+Ne.xDelta+"px")})});var x=function(Ne,bt){var St=bf(Ne,bt),an=Js(Ne,"data-initial-"+bt,0);return St-an};d.events.stop.bind(function(){l.get().each(function(Ne){h.each(function(bt){y(Ne,"data-row").each(function(St){var an=x(Ne,"top");Aa(Ne,"data-initial-top"),qe.trigger.adjustHeight(bt,an,parseInt(St,10))}),y(Ne,"data-column").each(function(St){var an=x(Ne,"left");Aa(Ne,"data-initial-left"),qe.trigger.adjustWidth(bt,an,parseInt(St,10))}),Yo(u,bt)})})});var O=function(Ne,bt){qe.trigger.startAdjust(),l.assign(Ne),Io(Ne,"data-initial-"+bt,bf(Ne,bt)),Uo(Ne,R1),so(Ne,"opacity","0.2"),d.go(u.parent())},M=ul(u.parent(),"mousedown",function(Ne){_o(Ne.target)&&O(Ne.target,"top"),D1(Ne.target)&&O(Ne.target,"left")}),U=function(Ne){return fr(Ne,u.view())},X=function(Ne){return Za(Ne,"table",U).filter(Th)},ue=ul(u.view(),"mouseover",function(Ne){X(Ne.target).fold(function(){Ys(Ne.target)&&kh(u)},function(bt){h=L.some(bt),Yo(u,bt)})}),Pe=function(){M.unbind(),ue.unbind(),d.destroy(),kh(u)},et=function(Ne){Yo(u,Ne)},qe=Ma({adjustHeight:nc(["table","delta","row"]),adjustWidth:nc(["table","delta","column"]),startAdjust:nc([])});return{destroy:Pe,refresh:et,on:d.on,off:d.off,hideBars:Lt(xu,u),showBars:Lt(Vu,u),events:qe.registry}},xd=function(u,l,d){var h=Ub,y=Em,x=Sy(u),O=Ma({beforeResize:nc(["table","type"]),afterResize:nc(["table","type"]),startDrag:nc([])});return x.events.adjustHeight.bind(function(M){var U=M.table;O.trigger.beforeResize(U,"row");var X=h.delta(M.delta,U);ol(U,X,M.row,h),O.trigger.afterResize(U,"row")}),x.events.startAdjust.bind(function(M){O.trigger.startDrag()}),x.events.adjustWidth.bind(function(M){var U=M.table;O.trigger.beforeResize(U,"col");var X=y.delta(M.delta,U),ue=d(U);l1(U,X,M.column,l,ue),O.trigger.afterResize(U,"col")}),{on:x.on,off:x.off,hideBars:x.hideBars,showBars:x.showBars,destroy:x.destroy,events:O.registry}},Ov={create:xd},_1=function(u,l){return u.fire("newrow",{node:l})},B1=function(u,l){return u.fire("newcell",{node:l})},M1=function(u,l,d,h,y){u.fire("ObjectResizeStart",{target:l,width:d,height:h,origin:y})},Hm=function(u,l,d,h,y){u.fire("ObjectResized",{target:l,width:d,height:h,origin:y})},Vm=function(u,l,d,h,y){u.fire("TableSelectionChange",{cells:l,start:d,finish:h,otherCells:y})},ww=function(u){u.fire("TableSelectionClear")},Wl=function(u,l,d){u.fire("TableModified",fn(fn({},d),{table:l}))},Td={structure:!1,style:!0},La={structure:!0,style:!1},j3={structure:!0,style:!0},G3="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",N1={"border-collapse":"collapse",width:"100%"},q3=Cr(5,function(u){var l=u+1+"px";return{title:l,value:l}}),Sw=at(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),wt=function(u){var l;if(If(u)){var d=u.dom,h=(l=d.getParent(u.selection.getStart(),d.isBlock))!==null&&l!==void 0?l:u.getBody(),y=Fr(lt.fromDom(h));return fn(fn({},N1),{width:y+"px"})}else return Um(u)?Es(N1,function(x,O){return O!=="width"}):N1},K3={border:"1"},jo="preservetable",xy=function(u){return u.getParam("table_sizing_mode","auto")},Ed=function(u){return u.getParam("table_responsive_width")},xw=function(u){return u.getParam("table_border_widths",q3,"array")},ru=function(u){return u.getParam("table_border_styles",Sw,"array")},Ah=function(u){return u.getParam("table_default_attributes",K3,"object")},P1=function(u){return u.getParam("table_default_styles",wt(u),"object")},Oh=function(u){return u.getParam("table_resize_bars",!0,"boolean")},sl=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Dh=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Rh=function(u){return u.getParam("table_row_advtab",!0,"boolean")},Tu=function(u){return u.getParam("table_advtab",!0,"boolean")},cl=function(u){return u.getParam("table_appearance_options",!0,"boolean")},Tw=function(u){return u.getParam("table_grid",!0,"boolean")},au=function(u){return u.getParam("table_style_by_css",!1,"boolean")},jl=function(u){return u.getParam("table_cell_class_list",[],"array")},Dv=function(u){return u.getParam("table_row_class_list",[],"array")},_h=function(u){return u.getParam("table_class_list",[],"array")},Be=function(u){return xy(u)==="relative"||Ed(u)===!0},If=function(u){return xy(u)==="fixed"||Ed(u)===!1},Um=function(u){return xy(u)==="responsive"},X3=function(u){return u.getParam("table_toolbar",G3)},F1=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},Rc=function(u){var l="section",d=u.getParam("table_header_type",l,"string"),h=["section","cells","sectionCells","auto"];return Rn(h,d)?d:l},I1=function(u){var l=["preservetable","resizetable"],d=u.getParam("table_column_resizing",jo,"string");return ut(l,function(h){return h===d}).getOr(jo)},Ty=function(u){return I1(u)==="preservetable"},Ey=function(u){return I1(u)==="resizetable"},z1=function(u){var l=u.getParam("table_clone_elements");return Fn(l)?L.some(l.split(/[ ,]/)):Array.isArray(l)?L.some(l):L.none()},ky=function(u){var l=u.getParam("object_resizing",!0);return Fn(l)?l==="table":l},Ay=function(u){return u.getParam("table_background_color_map",[],"array")},Oy=function(u){return u.getParam("table_border_color_map",[],"array")},Dy=function(u,l){return Be(u)?_f.percentageSize(l):If(u)?_f.pixelSize(l):_f.getTableSize(l)},kd=function(u){Aa(u,"width")},Ew=function(u){var l=Dm(u);h1(u,L.some(l),L.none()),kd(u)},Y3=function(u){var l=A3(u);h1(u,L.some(l),L.none()),kd(u)},Z3=function(u){yi(u,"width");var l=el(u),d=l.length>0?l:Sf(u);Nt(d,function(h){yi(h,"width"),kd(h)}),kd(u)},Wm=Ew,jm=Y3,$1=Z3,Ry=function(u){var l=Xn.fromTable(u);Xn.hasColumns(l)||Nt(Sf(u),function(d){var h=Jc(d,"width");so(d,"width",h),Aa(d,"width")})},Gm=function(){var u=lt.fromTag("div");return Rl(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),eo(pa(),u),u},_y=function(u,l){return u.inline?wh.body(zl(u),Gm(),l):wh.only(lt.fromDom(u.getDoc()),l)},co=function(u,l){u.inline&&Iu(l.parent())},Bh="bar-",ho=function(u){return Os(u,"data-mce-resize")!=="false"},L1=function(u){var l=L.none(),d=L.none(),h=L.none(),y,x,O=function(Ne){return Ne.nodeName==="TABLE"},M=function(){return d},U=function(){return h.getOr(wh.only(lt.fromDom(u.getBody()),ho))},X=function(Ne){return Dy(u,Ne)},ue=function(){return Ty(u)?gd():d1()},Pe=function(Ne){return ly(Ne).columns},et=function(Ne,bt,St){var an=Ar(bt,"e");if(x===""&&Wm(Ne),St!==y&&x!==""){so(Ne,"width",x);var yr=ue(),cn=X(Ne),Dn=Ty(u)||an?Pe(Ne)-1:0;l1(Ne,St-y,Dn,yr,cn)}else if(bv(x)){var cr=parseFloat(x.replace("%","")),or=St*cr/y;so(Ne,"width",or+"%")}Bm(x)&&Ry(Ne)},qe=function(){d.each(function(Ne){Ne.destroy()}),h.each(function(Ne){co(u,Ne)})};return u.on("init",function(){var Ne=_y(u,ho);if(h=L.some(Ne),ky(u)&&Oh(u)){var bt=ue(),St=Ov.create(Ne,bt,X);St.on(),St.events.startDrag.bind(function(an){l=L.some(u.selection.getRng())}),St.events.beforeResize.bind(function(an){var yr=an.table.dom;M1(u,yr,Bf(yr),Mf(yr),Bh+an.type)}),St.events.afterResize.bind(function(an){var yr=an.table,cn=yr.dom;bu(yr),l.each(function(Dn){u.selection.setRng(Dn),u.focus()}),Hm(u,cn,Bf(cn),Mf(cn),Bh+an.type),u.undoManager.add()}),d=L.some(St)}}),u.on("ObjectResizeStart",function(Ne){var bt=Ne.target;if(O(bt)){var St=lt.fromDom(bt);Nt(u.dom.select(".mce-clonedresizable"),function(an){u.dom.addClass(an,"mce-"+I1(u)+"-columns")}),!Ei(St)&&If(u)?jm(St):!p1(St)&&Be(u)&&Wm(St),b1(St)&&gr(Ne.origin,Bh)&&Wm(St),y=Ne.width,x=Um(u)?"":$l(u,bt).getOr("")}}),u.on("ObjectResized",function(Ne){var bt=Ne.target;if(O(bt)){var St=lt.fromDom(bt),an=Ne.origin;gr(an,"corner-")&&et(St,an,Ne.width),bu(St),Wl(u,St.dom,Td)}}),u.on("SwitchMode",function(){M().each(function(Ne){u.mode.isReadOnly()?Ne.hideBars():Ne.showBars()})}),{lazyResize:M,lazyWire:U,destroy:qe}},Ad=function(u,l){return{element:u,offset:l}},By=function(u,l,d){return u.property().isText(l)&&u.property().getText(l).trim().length===0||u.property().isComment(l)?d(l).bind(function(h){return By(u,h,d).orThunk(function(){return L.some(h)})}):L.none()},Mh=function(u,l){if(u.property().isText(l))return u.property().getText(l).length;var d=u.property().children(l);return d.length},My=function(u,l){var d=By(u,l,u.query().prevSibling).getOr(l);if(u.property().isText(d))return Ad(d,Mh(u,d));var h=u.property().children(d);return h.length>0?My(u,h[h.length-1]):Ad(d,Mh(u,d))},kw=My,J3=sh(),Aw=function(u){return kw(J3,u)},Q3=function(u,l){var d=zo(u,"colspan");if(d===1){var h=Am(u);h.each(function(y){var x=y.value/2;Om(u,x,y.unit),Om(l,x,y.unit)})}},H1=vo("th"),Nh=function(u){return We(u,function(l){return H1(l.element)})},eE=function(u,l){return u&&l?"sectionCells":u?"section":"cells"},Ow=function(u){var l=u.section==="thead",d=Zc(Ny(u.cells),"th");return l||d?{type:"header",subType:eE(l,d)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},Ny=function(u){var l=In(u,function(d){return H1(d.element)});return l.length===0?L.some("td"):l.length===u.length?L.some("th"):L.none()},tE=function(u){var l=at(u,function(x){return Ow(x).type}),d=Rn(l,"header"),h=Rn(l,"footer");if(!d&&!h)return L.some("body");var y=Rn(l,"body");return d&&!y&&!h?L.some("header"):!d&&!y&&h?L.some("footer"):L.none()},nE=function(u){return rr(u.all,function(l){var d=Ow(l);return d.type==="header"?L.from(d.subType):L.none()})},V1=function(u,l,d){return ti(d(u.element,l),!0,u.isLocked)},Py=function(u,l){return u.section!==l?Xs(u.element,u.cells,l,u.isNew):u},Ai=function(){return{transformRow:Py,transformCell:function(u,l,d){var h=d(u.element,l),y=Dr(h)!=="td"?C3(h,"td"):h;return ti(y,u.isNew,u.isLocked)}}},qm=function(){return{transformRow:Py,transformCell:V1}},Km=function(){return{transformRow:function(u,l){var d=l==="thead"?"tbody":l;return Py(u,d)},transformCell:V1}},Dw=function(){return{transformRow:dn,transformCell:V1}},rE=function(u,l){var d=Xn.fromTable(u),h=nE(d).getOr(l);switch(h){case"section":return Ai();case"sectionCells":return qm();case"cells":return Km()}},Ph={getTableSectionType:rE,section:Ai,sectionCells:qm,cells:Km,fallback:Dw},Fh=function(u,l,d,h){d===h?Aa(u,l):Io(u,l,d)},Od=function(u,l,d){Qn(Vn(u,l)).fold(function(){return wi(u,d)},function(h){return ba(h,d)})},U1=function(u,l){var d=xn(u,l).getOrThunk(function(){var h=lt.fromTag(l,Xc(u).dom);return l==="thead"?Od(u,"caption,colgroup",h):l==="colgroup"?Od(u,"caption",h):eo(u,h),h});return ih(d),d},Ih=function(u,l){var d=[],h=[],y=function(qe){return at(qe,function(Ne){Ne.isNew&&d.push(Ne.element);var bt=Ne.element;return ih(bt),Nt(Ne.cells,function(St){St.isNew&&h.push(St.element),Fh(St.element,"colspan",St.colspan,1),Fh(St.element,"rowspan",St.rowspan,1),eo(bt,St.element)}),bt})},x=function(qe){return st(qe,function(Ne){return at(Ne.cells,function(bt){return Fh(bt.element,"span",bt.colspan,1),bt.element})})},O=function(qe,Ne){var bt=U1(u,Ne),St=Ne==="colgroup"?x:y,an=St(qe);tl(bt,an)},M=function(qe){xn(u,qe).each(Iu)},U=function(qe,Ne){qe.length>0?O(qe,Ne):M(Ne)},X=[],ue=[],Pe=[],et=[];return Nt(l,function(qe){switch(qe.section){case"thead":X.push(qe);break;case"tbody":ue.push(qe);break;case"tfoot":Pe.push(qe);break;case"colgroup":et.push(qe);break}}),U(et,"colgroup"),U(X,"thead"),U(ue,"tbody"),U(Pe,"tfoot"),{newRows:d,newCells:h}},Fy=function(u){return at(u,function(l){var d=xc(l.element);return Nt(l.cells,function(h){var y=Xr(h.element);Fh(y,"colspan",h.colspan,1),Fh(y,"rowspan",h.rowspan,1),eo(d,y)}),d})},aE=function(u,l){return at(u,function(d){return gu(d,l)})},Gl=function(u,l){return u[l]},W1=function(u,l){if(u.length===0)return 0;var d=u[0],h=Ut(u,function(y){return!l(d.element,y.element)});return h.getOr(u.length)},oE=function(u,l,d,h){var y=Gl(u,l),x=y.section==="colgroup",O=W1(y.cells.slice(d),h),M=x?1:W1(aE(u.slice(l),d),h);return{colspan:O,rowspan:M}},Rv=function(u,l){var d=at(u,function(y){return at(y.cells,Sn)}),h=function(y,x,O,M){for(var U=y;U<y+O;U++)for(var X=x;X<x+M;X++)d[U][X]=!0};return at(u,function(y,x){var O=st(y.cells,function(M,U){if(d[x][U]===!1){var X=oE(u,x,U,l);return h(x,U,X.rowspan,X.colspan),[Kn(M.element,X.rowspan,X.colspan,M.isNew)]}else return[]});return yc(y.element,O,y.section,y.isNew)})},_v=function(u,l,d){var h=[];Nt(u.colgroups,function(ue){for(var Pe=[],et=0;et<u.grid.columns;et++){var qe=Xn.getColumnAt(u,et).map(function(Ne){return ti(Ne.element,d,!1)}).getOrThunk(function(){return ti(l.colGap(),!0,!1)});Pe.push(qe)}h.push(Xs(ue.element,Pe,"colgroup",d))});for(var y=0;y<u.grid.rows;y++){for(var x=[],O=0;O<u.grid.columns;O++){var M=Xn.getAt(u,y,O).map(function(ue){return ti(ue.element,d,ue.isLocked)}).getOrThunk(function(){return ti(l.gap(),!0,!1)});x.push(M)}var U=u.all[y],X=Xs(U.element,x,U.section,d);h.push(X)}return h},iE=function(u,l){return _v(u,l,!1)},j1=function(u){return Rv(u,fr)},G1=function(u,l){return rr(u.all,function(d){return ut(d.cells,function(h){return fr(l,h.element)})})},q1=function(u,l,d){var h=at(l.selection,function(x){return Qc(x).bind(function(O){return G1(u,O)}).filter(d)}),y=Oo(h);return fa(y.length>0,y)},ii=function(u,l,d,h,y){return function(x,O,M,U,X){var ue=Xn.fromTable(O),Pe=L.from(X==null?void 0:X.section).getOrThunk(Ph.fallback),et=l(ue,M).map(function(qe){var Ne=iE(ue,U),bt=u(Ne,qe,fr,y(U),Pe),St=Ci(bt.grid),an=j1(bt.grid);return{info:qe,grid:an,cursor:bt.cursor,lockedColumns:St}});return et.bind(function(qe){var Ne=Ih(O,qe.grid),bt=L.from(X==null?void 0:X.sizing).getOrThunk(function(){return _f.getTableSize(O)}),St=L.from(X==null?void 0:X.resize).getOrThunk(gd);return d(O,qe.grid,qe.info,{sizing:bt,resize:St,section:Pe}),h(O),Yo(x,O),Aa(O,So),qe.lockedColumns.length>0&&Io(O,So,qe.lockedColumns.join(",")),L.some({cursor:qe.cursor,newRows:Ne.newRows,newCells:Ne.newCells})})}},Rw=function(u,l){return Qc(l.element).bind(function(d){return G1(u,d).map(function(h){var y=fn(fn({},h),{generators:l.generators,clipboard:l.clipboard});return y})})},Iy=function(u,l){return q1(u,l,Ie).map(function(d){return{cells:d,generators:l.generators,clipboard:l.clipboard}})},_w=function(u,l){return l.mergable},Bw=function(u,l){return l.unmergable},ll=function(u,l){return q1(u,l,Ie)},zf=function(u,l){return q1(u,l,function(d){return!d.isLocked})},Mw=function(u,l){return G1(u,l).exists(function(d){return!d.isLocked})},Nw=function(u,l){return We(l,function(d){return Mw(u,d)})},zy=function(u,l){return _w(u,l).filter(function(d){return Nw(u,d.cells)})},K1=function(u,l){return Bw(u,l).filter(function(d){return Nw(u,d)})},Pw=function(u,l,d,h){var y=mo(u).rows;if(y.length===0)return u;for(var x=l.startRow;x<=l.finishRow;x++)for(var O=l.startCol;O<=l.finishCol;O++){var M=y[x],U=gu(M,O).isLocked;_l(M,O,ti(h(),!1,U))}return u},Xm=function(u,l,d,h){for(var y=mo(u).rows,x=!0,O=0;O<y.length;O++)for(var M=0;M<Rs(y[0]);M++){var U=y[O],X=gu(U,M),ue=X.element,Pe=d(ue,l);Pe===!0&&x===!1?_l(U,M,ti(h(),!0,X.isLocked)):Pe===!0&&(x=!1)}return u},uE=function(u,l){return Z(u,function(d,h){return A(d,function(y){return l(y.element,h.element)})?d:d.concat([h])},[])},zh=function(u,l,d,h){return l>0&&l<u[0].cells.length&&Nt(u,function(y){var x=y.cells[l-1],O=y.cells[l],M=d(O.element,x.element);M&&_l(y,l,ti(h(),!0,O.isLocked))}),u},sE=function(u,l,d,h){var y=mo(u).rows;if(l>0&&l<y.length){var x=y[l-1].cells,O=uE(x,d);Nt(O,function(M){for(var U=L.none(),X=l;X<y.length;X++)for(var ue=function(et){var qe=y[X],Ne=gu(qe,et),bt=d(Ne.element,M.element);bt&&(U.isNone()&&(U=L.some(h())),U.each(function(St){_l(qe,et,ti(St,!0,Ne.isLocked))}))},Pe=0;Pe<Rs(y[0]);Pe++)ue(Pe)})}return u},Ym=function(u){var l=function(Pe){return Ym(u)},d=function(Pe){return Ym(u)},h=function(Pe){return Ym(Pe(u))},y=function(Pe){return Ym(u)},x=function(Pe){Pe(u)},O=function(Pe){return Pe(u)},M=function(Pe,et){return et(u)},U=function(Pe){return Pe(u)},X=function(Pe){return Pe(u)},ue=function(){return L.some(u)};return{isValue:Ie,isError:Sn,getOr:vt(u),getOrThunk:vt(u),getOrDie:vt(u),or:l,orThunk:d,fold:M,map:h,mapError:y,each:x,bind:O,exists:U,forall:X,toOptional:ue}},Dd=function(u){var l=function(X){return X()},d=function(){return Tr(String(u))()},h=dn,y=function(X){return X()},x=function(X){return Dd(u)},O=function(X){return Dd(X(u))},M=function(X){return Dd(u)},U=function(X,ue){return X(u)};return{isValue:Sn,isError:Ie,getOr:dn,getOrThunk:l,getOrDie:d,or:h,orThunk:y,fold:U,map:x,mapError:O,each:Mt,bind:M,exists:Sn,forall:Ie,toOptional:L.none}},$y=function(u,l){return u.fold(function(){return Dd(l)},Ym)},Fw={value:Ym,error:Dd,fromOption:$y},cE=function(u,l,d){if(u.row>=l.length||u.column>Rs(l[0]))return Fw.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var h=l.slice(u.row),y=h[0].cells.slice(u.column),x=Rs(d[0]),O=d.length;return Fw.value({rowDelta:h.length-O,colDelta:y.length-x})},Iw=function(u,l){var d=Rs(u[0]),h=Rs(l[0]);return{rowDelta:0,colDelta:d-h}},zw=function(u,l){var d=u.length,h=l.length;return{rowDelta:d-h,colDelta:0}},Ly=function(u,l,d,h){var y=l.section==="colgroup"?d.col:d.cell;return Cr(u,function(x){return ti(y(),!0,h(x))})},lE=function(u,l,d,h){var y=u[u.length-1];return u.concat(Cr(l,function(){var x=y.section==="colgroup"?d.colgroup:d.row,O=$o(y,x,dn),M=Ly(O.cells.length,O,d,function(U){return V(h,U.toString())});return En(O,M)}))},X1=function(u,l,d,h){return at(u,function(y){var x=Ly(l,y,d,Sn);return xf(y,h,x)})},fE=function(u,l,d){return at(u,function(h){return Z(d,function(y,x){var O=Ly(1,h,l,Ie)[0];return Tf(y,x,O)},h)})},$h=function(u,l,d){var h=l.colDelta<0?X1:dn,y=l.rowDelta<0?lE:dn,x=Ci(u),O=Rs(u[0]),M=A(x,function(ue){return ue===O-1}),U=h(u,Math.abs(l.colDelta),d,M?O-1:O),X=Ci(U);return y(U,Math.abs(l.rowDelta),d,Ee(X,Ie))},vE=function(u,l,d,h){var y=gu(u[l],d),x=Lt(h,y.element),O=u[l];return u.length>1&&Rs(O)>1&&(d>0&&x(Vi(O,d-1))||d<O.cells.length-1&&x(Vi(O,d+1))||l>0&&x(Vi(u[l-1],d))||l<u.length-1&&x(Vi(u[l+1],d)))},dE=function(u,l,d,h,y,x){for(var O=u.row,M=u.column,U=d.length,X=Rs(d[0]),ue=O+U,Pe=M+X+x.length,et=Ee(x,Ie),qe=O;qe<ue;qe++)for(var Ne=0,bt=M;bt<Pe;bt++){if(et[bt]){Ne++;continue}vE(l,qe,bt,y)&&Xm(l,Vi(l[qe],bt),y,h.cell);var St=bt-M-Ne,an=gu(d[qe-O],St),yr=an.element,cn=h.replace(yr);_l(l[qe],bt,ti(cn,!0,an.isLocked))}return l},mE=function(u,l,d){var h=Rs(l[0]),y=mo(l).cols.length+u.row,x=Cr(h-u.column,function(M){return M+u.column}),O=ut(x,function(M){return We(d,function(U){return U!==M})}).getOr(h-1);return{row:y,column:O}},Y1=function(u,l,d){return In(d,function(h){return h>=u.column&&h<=Rs(l[0])+u.column})},gE=function(u,l,d,h,y){var x=Ci(l),O=mE(u,l,x),M=mo(d).rows,U=Y1(O,M,x),X=cE(O,l,M);return X.map(function(ue){var Pe=fn(fn({},ue),{colDelta:ue.colDelta-U.length}),et=$h(l,Pe,h),qe=Ci(et),Ne=Y1(O,M,qe);return dE(O,et,M,h,y,Ne)})},Zm=function(u,l,d,h,y){zh(l,u,y,h.cell);var x=zw(d,l),O=$h(d,x,h),M=zw(l,O),U=$h(l,M,h);return at(U,function(X,ue){return xf(X,u,O[ue].cells)})},$w=function(u,l,d,h,y){sE(l,u,y,h.cell);var x=Ci(l),O=Iw(l,d),M=fn(fn({},O),{colDelta:O.colDelta-x.length}),U=$h(l,M,h),X=mo(U),ue=X.cols,Pe=X.rows,et=Ci(U),qe=Iw(d,l),Ne=fn(fn({},qe),{colDelta:qe.colDelta+et.length}),bt=fE(d,h,et),St=$h(bt,Ne,h);return ue.concat(Pe.slice(0,u)).concat(St).concat(Pe.slice(u,Pe.length))},hE=function(u,l,d,h){return $o(u,function(y){return h(y,d)},l)},Hy=function(u,l,d,h,y){var x=mo(u),O=x.rows,M=x.cols,U=O.slice(0,l),X=O.slice(l),ue=hE(O[d],function(Pe,et){var qe=l>0&&l<O.length&&h(Vi(O[l-1],et),Vi(O[l],et)),Ne=qe?gu(O[l],et):ti(y(Pe.element,h),!0,Pe.isLocked);return Ne},h,y);return M.concat(U).concat([ue]).concat(X)},Lw=function(u,l,d,h,y,x,O){if(d==="colgroup"||!h){var M=gu(u,y);return ti(O(M.element,x),!0,!1)}else return gu(u,l)},Vy=function(u,l,d,h,y){return at(u,function(x){var O=l>0&&l<Rs(x)&&h(Vi(x,l-1),Vi(x,l)),M=Lw(x,l,x.section,O,d,h,y);return Tf(x,l,M)})},Hw=function(u,l){return st(u,function(d){var h=d.cells,y=Jr(l,function(x,O){return O>=0&&O<x.length?x.slice(0,O).concat(x.slice(O+1)):x},h);return y.length>0?[Xs(d.element,y,d.section,d.isNew)]:[]})},Vw=function(u,l,d){var h=mo(u),y=h.rows,x=h.cols;return x.concat(y.slice(0,l)).concat(y.slice(d+1))},Jm=function(u,l,d,h){return Vi(u[l],d)!==void 0&&l>0&&h(Vi(u[l-1],d),Vi(u[l],d))},Uy=function(u,l,d){return l>0&&d(Vi(u,l-1),Vi(u,l))},Wy=function(u,l,d,h){return Jm(u,l,d,h)||Uy(u[l],d,h)},pE=function(u,l){var d=We(l,dn)&&Nh(u.cells);return d?Ie:function(h,y,x){var O=Dr(h.element);return!(O==="th"&&l[x])}},bE=function(u,l){var d=We(l,dn)&&Nh(u);return d?Ie:function(h,y,x){var O=Dr(h.element);return!(O==="th"&&l[y])}},jy=function(u,l,d,h){var y=function(M){return M==="row"?Gp(l):rd(l)},x=function(M){return y(M)?M+"group":M};if(u)return H1(l)?x(d):null;if(h&&H1(l)){var O=d==="row"?"col":"row";return x(O)}else return null},yE=function(u,l){return function(d,h,y){return L.some(jy(u,d.element,"col",l[y]))}},Uw=function(u,l){return function(d,h){return L.some(jy(u,d.element,"row",l[h]))}},Bv=function(u,l,d){return ti(d(u.element,l),!0,u.isLocked)},Qm=function(u,l,d,h,y,x,O){var M=function(U){return A(l,function(X){return d(U.element,X.element)})};return at(u,function(U,X){return Ds(U,function(ue,Pe){if(M(ue)){var et=O(ue,X,Pe)?y(ue,d,h):ue;return x(et,X,Pe).each(function(qe){hf(et.element,{scope:L.from(qe)})}),et}else return ue})})},Ww=function(u,l,d){return st(u,function(h,y){return Wy(u,y,l,d)?[]:[gu(h,l)]})},CE=function(u,l,d){var h=u[l];return st(h.cells,function(y,x){return Wy(u,l,x,d)?[]:[y]})},jw=function(u,l,d,h,y){var x=mo(u).rows,O=st(l,function(ue){return Ww(x,ue,h)}),M=at(u,function(ue){return Nh(ue.cells)}),U=bE(O,M),X=Uw(d,M);return Qm(u,O,h,y,Bv,X,U)},wE=function(u,l,d,h,y,x,O){var M=mo(u),U=M.cols,X=M.rows,ue=X[l[0]],Pe=st(l,function(an){return CE(X,an,y)}),et=at(ue.cells,function(an,yr){return Nh(Ww(X,yr,y))}),qe=jr([],X,!0);Nt(l,function(an){qe[an]=O.transformRow(X[an],d)});var Ne=U.concat(qe),bt=pE(ue,et),St=yE(h,et);return Qm(Ne,Pe,y,x,O.transformCell,St,bt)},Gy=function(u,l,d,h){var y=mo(u).rows,x=at(l,function(O){return gu(y[O.row],O.column)});return Qm(u,x,d,h,Bv,L.none,Ie)},eg=function(u){var l=function(d,h){var y=A(d,function(x){return x.column===h.column});return y?d:d.concat([h])};return Z(u,l,[]).sort(function(d,h){return d.column-h.column})},ou=vo("col"),qy=vo("colgroup"),tg=function(u){return Dr(u)==="tr"||qy(u)},Rd=function(u){var l=Js(u,"colspan",1),d=Js(u,"rowspan",1);return{element:u,colspan:l,rowspan:d}},Z1=function(u,l){l===void 0&&(l=Rd);var d=function(M){return ou(M.element)?u.col(M):u.cell(M)},h=function(M){return qy(M.element)?u.colgroup(M):u.row(M)},y=function(M){if(tg(M))return h({element:M});var U=d(l(M));return x=L.some({item:M,replacement:U}),U},x=L.none(),O=function(M,U){return x.fold(function(){return y(M)},function(X){return U(M,X.item)?X.replacement:y(M)})};return{getOrInit:O}},SE=function(u){return function(l){var d=[],h=function(O,M){return ut(d,function(U){return M(U.item,O)})},y=function(O){var M=u==="td"?{scope:null}:{},U=l.replace(O,u,M);return d.push({item:O,sub:U}),U},x=function(O,M){return tg(O)||ou(O)?O:h(O,M).fold(function(){return y(O)},function(U){return M(O,U.item)?U.sub:y(O)})};return{replaceOrInit:x}}},Gw=function(u){return Pr(u,"scope").map(function(l){return l.substr(0,3)})},Ky=function(u){var l=function(h){var y=Gw(h);return y.each(function(x){return Io(h,"scope",x)}),function(){var x=u.cell({element:h,colspan:1,rowspan:1});return yi(x,"width"),yi(h,"width"),y.each(function(O){return Io(x,"scope",O)}),x}},d=function(h){var y=function(){var x=Oo(at(h,Gw));if(x.length===0)return L.none();var O=x[0],M=["row","col"],U=A(x,function(X){return X!==O&&Rn(M,X)});return U?L.none():L.from(O)};return yi(h[0],"width"),y().fold(function(){return Aa(h[0],"scope")},function(x){return Io(h[0],"scope",x+"group")}),vt(h[0])};return{unmerge:l,merge:d}},Uu={modification:Z1,transform:SE,merging:Ky},Lh=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],xE=function(u,l){var d=u.property().name(l);return Rn(["ol","ul"],d)},_d=function(u,l){var d=u.property().name(l);return Rn(Lh,d)},Mv=function(u,l){return Rn(["br","img","hr","input"],u.property().name(l))},ng=sh(),Nv=function(u){return _d(ng,u)},fl=function(u){return xE(ng,u)},vl=function(u){return Mv(ng,u)},J1=function(u){var l=function(U){return Dr(U)==="br"},d=function(U){return We(U,function(X){return l(X)||es(X)&&Kp(X).trim().length===0})},h=function(U){return Dr(U)==="li"||Ua(U,fl).isSome()},y=function(U){return B(U).map(function(X){return Nv(X)?!0:vl(X)?Dr(X)!=="img":!1}).getOr(!1)},x=function(U){return i1(U).bind(function(X){var ue=y(X);return oo(X).map(function(Pe){return ue===!0||h(Pe)||l(X)||Nv(Pe)&&!fr(U,Pe)?[]:[lt.fromTag("br")]})}).getOr([])},O=function(){var U=st(u,function(X){var ue=te(X);return d(ue)?[]:ue.concat(x(X))});return U.length===0?[lt.fromTag("br")]:U},M=O();ih(u[0]),tl(u[0],M)},Q1=function(u){return Th(u,!0)},Xy=function(u){var l=Sf(u);l.length===0&&Iu(u)},rg=function(u,l){return{grid:u,cursor:l}},ag=function(u){return rr(u,function(l){return rr(l.cells,function(d){var h=d.element;return fa(Q1(h),h)})})},og=function(u,l,d){var h,y,x=mo(u).rows;return L.from((y=(h=x[l])===null||h===void 0?void 0:h.cells[d])===null||y===void 0?void 0:y.element).filter(Q1).orThunk(function(){return ag(x)})},Ki=function(u,l,d){var h=og(u,l,d);return rg(u,h)},ig=function(u){var l=function(d,h){var y=A(d,function(x){return x.row===h.row});return y?d:d.concat([h])};return Z(u,l,[]).sort(function(d,h){return d.row-h.row})},ug=function(u,l,d,h){var y=l[0].row,x=ig(l),O=Jr(x,function(M,U){var X=Hy(M.grid,y,U.row+M.delta,d,h.getOrInit);return{grid:X,delta:M.delta+1}},{grid:u,delta:0}).grid;return Ki(O,y,l[0].column)},e0=function(u,l,d,h){var y=ig(l),x=y[y.length-1],O=x.row+x.rowspan,M=Jr(y,function(U,X){return Hy(U,O,X.row,d,h.getOrInit)},u);return Ki(M,O,l[0].column)},TE=function(u,l,d,h){var y=l.details,x=eg(y),O=x[0].column,M=Jr(x,function(U,X){var ue=Vy(U.grid,O,X.column+U.delta,d,h.getOrInit);return{grid:ue,delta:U.delta+1}},{grid:u,delta:0}).grid;return Ki(M,y[0].row,O)},Yy=function(u,l,d,h){var y=l.details,x=y[y.length-1],O=x.column+x.colspan,M=eg(y),U=Jr(M,function(X,ue){return Vy(X,O,ue.column,d,h.getOrInit)},u);return Ki(U,y[0].row,O)},t0=function(u,l,d,h){var y=eg(l),x=at(y,function(M){return M.column}),O=jw(u,x,!0,d,h.replaceOrInit);return Ki(O,l[0].row,l[0].column)},Oi=function(u,l,d,h){var y=Gy(u,l,d,h.replaceOrInit);return Ki(y,l[0].row,l[0].column)},EE=function(u,l,d,h){var y=eg(l),x=at(y,function(M){return M.column}),O=jw(u,x,!1,d,h.replaceOrInit);return Ki(O,l[0].row,l[0].column)},ql=function(u,l,d,h){var y=Gy(u,l,d,h.replaceOrInit);return Ki(y,l[0].row,l[0].column)},n0=function(u,l){return function(d,h,y,x,O){var M=ig(h),U=at(M,function(ue){return ue.row}),X=wE(d,U,u,l,y,x.replaceOrInit,O);return Ki(X,h[0].row,h[0].column)}},Zy=n0("thead",!0),sg=n0("tbody",!1),Jy=n0("tfoot",!1),Hh=function(u,l,d,h){var y=eg(l.details),x=Hw(u,at(y,function(M){return M.column})),O=x.length>0?x[0].cells.length-1:0;return Ki(x,y[0].row,Math.min(y[0].column,O))},kE=function(u,l,d,h){var y=ig(l),x=Vw(u,y[0].row,y[y.length-1].row),O=x.length>0?x.length-1:0;return Ki(x,Math.min(l[0].row,O),l[0].column)},qw=function(u,l,d,h){var y=l.cells;J1(y);var x=Pw(u,l.bounds,d,h.merge(y));return rg(x,L.from(y[0]))},Kw=function(u,l,d,h){var y=function(O,M){return Xm(O,M,d,h.unmerge(M))},x=Jr(l,y,u);return rg(x,L.from(l[0]))},AE=function(u,l,d,h){var y=function(U,X){var ue=Xn.fromTable(U);return _v(ue,X,!0)},x=y(l.clipboard,l.generators),O=Nr(l.row,l.column),M=gE(O,u,x,l.generators,d);return M.fold(function(){return rg(u,L.some(l.element))},function(U){return Ki(U,l.row,l.column)})},cg=function(u,l,d){var h=ah(u,d.section),y=Xn.generate(h);return _v(y,l,!0)},lo=function(u,l,d,h){var y=mo(u).rows,x=l.cells[0].column,O=y[l.cells[0].row],M=cg(l.clipboard,l.generators,O),U=Zm(x,u,M,l.generators,d);return Ki(U,l.cells[0].row,l.cells[0].column)},r0=function(u,l,d,h){var y=mo(u).rows,x=l.cells[l.cells.length-1].column+l.cells[l.cells.length-1].colspan,O=y[l.cells[0].row],M=cg(l.clipboard,l.generators,O),U=Zm(x,u,M,l.generators,d);return Ki(U,l.cells[0].row,l.cells[0].column)},a0=function(u,l,d,h){var y=mo(u).rows,x=l.cells[0].row,O=y[x],M=cg(l.clipboard,l.generators,O),U=$w(x,u,M,l.generators,d);return Ki(U,l.cells[0].row,l.cells[0].column)},Qy=function(u,l,d,h){var y=mo(u).rows,x=l.cells[l.cells.length-1].row+l.cells[l.cells.length-1].rowspan,O=y[l.cells[0].row],M=cg(l.clipboard,l.generators,O),U=$w(x,u,M,l.generators,d);return Ki(U,l.cells[0].row,l.cells[0].column)},Xw=function(u,l){var d=Xn.fromTable(u),h=ll(d,l);return h.bind(function(y){var x=y[y.length-1],O=y[0].column,M=x.column+x.colspan,U=Eo(at(d.all,function(X){return In(X.cells,function(ue){return ue.column>=O&&ue.column<M})}));return Ny(U)}).getOr("")},e2=function(u,l){var d=Xn.fromTable(u),h=ll(d,l);return h.bind(Ny).getOr("")},Bd=function(u,l){var d=Xn.fromTable(u),h=ll(d,l);return h.bind(function(y){var x=y[y.length-1],O=y[0].row,M=x.row+x.rowspan,U=d.all.slice(O,M);return tE(U)}).getOr("")},o0=function(u,l,d,h){return il(u,l,d,h.sizing)},Wu=function(u,l,d,h){return fw(u,l,d,h.sizing,h.resize)},dl=function(u,l){return A(l,function(d){return d.column===0&&d.isLocked})},i0=function(u,l){return A(l,function(d){return d.column+d.colspan>=u.grid.columns&&d.isLocked})},$f=function(u,l){var d=id(u),h=eg(l);return Z(h,function(y,x){var O=d[x.column],M=O.map(Wi).getOr(0);return y+M},0)},_c=function(u){return function(l,d){return ll(l,d).filter(function(h){var y=u?dl:i0;return!y(l,h)}).map(function(h){return{details:h,pixelDelta:$f(l,h)}})}},ml=function(u,l){return zf(u,l).map(function(d){return{details:d,pixelDelta:-$f(u,d)}})},iu=function(u){return function(l,d){return Iy(l,d).filter(function(h){var y=u?dl:i0;return!y(l,h.cells)})}},ac=Uu.transform("th"),lg=Uu.transform("td"),Kl=ii(ug,ll,Mt,Mt,Uu.modification),Md=ii(e0,ll,Mt,Mt,Uu.modification),Yw=ii(TE,_c(!0),Wu,Mt,Uu.modification),Zw=ii(Yy,_c(!1),Wu,Mt,Uu.modification),OE=ii(Hh,ml,Wu,Xy,Uu.modification),DE=ii(kE,ll,Mt,Xy,Uu.modification),Jw=ii(t0,zf,Mt,Mt,ac),Qw=ii(EE,zf,Mt,Mt,lg),eS=ii(Zy,zf,Mt,Mt,ac),RE=ii(sg,zf,Mt,Mt,lg),tS=ii(Jy,zf,Mt,Mt,lg),_E=ii(Oi,zf,Mt,Mt,ac),nS=ii(ql,zf,Mt,Mt,lg),rS=ii(qw,zy,o0,Mt,Uu.merging),t2=ii(Kw,K1,o0,Mt,Uu.merging),aS=ii(AE,Rw,o0,Mt,Uu.modification),BE=ii(lo,iu(!0),Mt,Mt,Uu.modification),pr=ii(r0,iu(!1),Mt,Mt,Uu.modification),Nd=ii(a0,Iy,Mt,Mt,Uu.modification),fg=ii(Qy,Iy,Mt,Mt,Uu.modification),n2=Xw,ME=e2,ju=Bd,NE=function(u,l,d){var h=function(_i){return Dr(zl(_i))==="table"},y=function(_i){return h(u)===!1||ly(_i).rows>1},x=function(_i){return h(u)===!1||ly(_i).columns>1},O=z1(u),M=Ey(u)?Mt:Q3,U=function(_i){switch(Rc(u)){case"section":return Ph.section();case"sectionCells":return Ph.sectionCells();case"cells":return Ph.cells();default:return Ph.getTableSectionType(_i,"section")}},X=function(_i,dp){return dp.cursor.fold(function(){var Gv=Sf(_i);return xt(Gv).filter(Ys).map(function(hl){l.clear(_i);var lc=u.dom.createRng();return lc.selectNode(hl.dom),u.selection.setRng(lc),Io(hl,"data-mce-selected","1"),lc})},function(Gv){var hl=Aw(Gv),lc=u.dom.createRng();return lc.setStart(hl.element.dom,hl.offset),lc.setEnd(hl.element.dom,hl.offset),u.selection.setRng(lc),l.clear(_i),L.some(lc)})},ue=function(_i,dp,Gv,hl,lc){return function(Pc,mp,Yd){Yd===void 0&&(Yd=!1),bu(Pc);var gp=hl(),Zd=lt.fromDom(u.getDoc()),pl=zn(Gv,Zd,O),Rg={sizing:Dy(u,Pc),resize:Ey(u)?d1():gd(),section:U(Pc)};return dp(Pc)?_i(gp,Pc,mp,pl,Rg).bind(function(j0){Nt(j0.newRows,function(hp){_1(u,hp.dom)}),Nt(j0.newCells,function(hp){B1(u,hp.dom)});var yx=X(Pc,j0);return Ys(Pc)&&(bu(Pc),Yd||Wl(u,Pc.dom,lc)),yx.map(function(hp){return{rng:hp,effect:lc}})}):L.none()}},Pe=ue(DE,y,Mt,d,La),et=ue(OE,x,Mt,d,La),qe=ue(Kl,Ie,Mt,d,La),Ne=ue(Md,Ie,Mt,d,La),bt=ue(Yw,Ie,M,d,La),St=ue(Zw,Ie,M,d,La),an=ue(rS,Ie,Mt,d,La),yr=ue(t2,Ie,Mt,d,La),cn=ue(BE,Ie,Mt,d,La),Dn=ue(pr,Ie,Mt,d,La),cr=ue(Nd,Ie,Mt,d,La),or=ue(fg,Ie,Mt,d,La),Bo=ue(aS,Ie,Mt,d,j3),si=ue(_E,Ie,Mt,d,La),ku=ue(nS,Ie,Mt,d,La),Sr=ue(Jw,Ie,Mt,d,La),Mn=ue(Qw,Ie,Mt,d,La),mr=ue(eS,Ie,Mt,d,La),Yr=ue(RE,Ie,Mt,d,La),no=ue(tS,Ie,Mt,d,La),rf=ME,ea=n2,cc=ju;return{deleteRow:Pe,deleteColumn:et,insertRowsBefore:qe,insertRowsAfter:Ne,insertColumnsBefore:bt,insertColumnsAfter:St,mergeCells:an,unmergeCells:yr,pasteColsBefore:cn,pasteColsAfter:Dn,pasteRowsBefore:cr,pasteRowsAfter:or,pasteCells:Bo,makeCellsHeader:si,unmakeCellsHeader:ku,makeColumnsHeader:Sr,unmakeColumnsHeader:Mn,makeRowsHeader:mr,makeRowsBody:Yr,makeRowsFooter:no,getTableRowType:cc,getTableCellType:rf,getTableColType:ea}},Pd={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Pv=function(){return lt.fromTag("th")},u0=function(){return lt.fromTag("td")},s0=function(){return lt.fromTag("col")},PE=function(u,l,d,h){for(var y=lt.fromTag("tr"),x=0;x<u;x++){var O=h<l||x<d?Pv():u0();x<d&&Io(O,"scope","row"),h<l&&Io(O,"scope","col"),eo(O,lt.fromTag("br")),eo(y,O)}return y},oS=function(u){var l=lt.fromTag("colgroup");return Cr(u,function(){return eo(l,s0())}),l},c0=function(u,l,d,h){return Cr(u,function(y){return PE(l,d,h,y)})},r2=function(u,l,d,h,y,x){x===void 0&&(x=Pd);var O=lt.fromTag("table"),M=y!=="cells";Rl(O,x.styles),wo(O,x.attributes),x.colGroups&&eo(O,oS(l));var U=Math.min(u,d);if(M&&d>0){var X=lt.fromTag("thead");eo(O,X);var ue=y==="sectionCells"?U:0,Pe=c0(d,l,ue,h);tl(X,Pe)}var et=lt.fromTag("tbody");eo(O,et);var qe=M?u-U:u,Ne=M?0:d,bt=c0(qe,l,Ne,h);return tl(et,bt),O},vg=function(u){return u.dom.innerHTML},l0=function(u){var l=lt.fromTag("div"),d=lt.fromDom(u.dom.cloneNode(!0));return eo(l,d),vg(l)},FE=function(u,l){u.selection.select(l.dom,!0),u.selection.collapse(!0)},Xl=function(u,l){ns(l,"td,th").each(Lt(FE,u))},a2=function(u,l){Nt(ts(l,"tr"),function(d){_1(u,d.dom),Nt(ts(d,"th,td"),function(h){B1(u,h.dom)})})},o2=function(u){return Fn(u)&&u.indexOf("%")!==-1},dg=function(u,l,d,h,y){var x=P1(u),O={styles:x,attributes:Ah(u),colGroups:F1(u)};return u.undoManager.ignore(function(){var M=r2(d,l,y,h,Rc(u),O);Io(M,"data-mce-id","__mce");var U=l0(M);u.insertContent(U),u.addVisual()}),ns(zl(u),'table[data-mce-id="__mce"]').map(function(M){return If(u)?jm(M):Um(u)?$1(M):(Be(u)||o2(x.width))&&Wm(M),bu(M),Aa(M,"data-mce-id"),a2(u,M),Xl(u,M),M.dom}).getOr(null)},i2=function(u,l,d,h,y){h===void 0&&(h={});var x=function(U){return er(U)&&U>0};if(x(l)&&x(d)){var O=h.headerRows||0,M=h.headerColumns||0;return dg(u,d,l,M,O)}else return console.error(y),null},Vh=function(u){return function(){return u().fold(function(){return[]},function(l){return at(l,function(d){return d.dom})})}},iS=function(u){return function(l){var d=l.length>0?L.some(cs(l)):L.none();u(d)}},IE=function(u){return function(l,d,h){h===void 0&&(h={});var y=i2(u,d,l,h,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),y}},Yl=function(u,l,d,h){return{insertTable:IE(u),setClipboardRows:iS(l.setRows),getClipboardRows:Vh(l.getRows),setClipboardCols:iS(l.setColumns),getClipboardCols:Vh(l.getColumns),resizeHandler:d,selectionTargets:h}},fs=function(u,l,d){var h=Js(u,l,1);d===1||h<=1?Aa(u,l):Io(u,l,Math.min(d,h))},Di=function(u,l,d){if(Xn.hasColumns(u)){var h=In(Xn.justColumns(u),function(O){return O.column>=l&&O.column<d}),y=at(h,function(O){var M=Xr(O.element);return fs(M,"span",d-l),M}),x=lt.fromTag("colgroup");return tl(x,y),[x]}else return[]},zE=function(u,l,d){return at(u.all,function(h){var y=In(h.cells,function(M){return M.column>=l&&M.column<d}),x=at(y,function(M){var U=Xr(M.element);return fs(U,"colspan",d-l),U}),O=lt.fromTag("tr");return tl(O,x),O})},u2=function(u,l){var d=Xn.fromTable(u),h=zf(d,l);return h.map(function(y){var x=y[y.length-1],O=y[0].column,M=x.column+x.colspan,U=Di(d,O,M),X=zE(d,O,M);return jr(jr([],U,!0),X,!0)})},mg=function(u,l,d){var h=Xn.fromTable(u),y=ll(h,l);return y.bind(function(x){var O=_v(h,d,!1),M=mo(O).rows,U=M.slice(x[0].row,x[x.length-1].row+x[x.length-1].rowspan),X=st(U,function(Pe){var et=In(Pe.cells,function(qe){return!qe.isLocked});return et.length>0?[fn(fn({},Pe),{cells:et})]:[]}),ue=j1(X);return fa(ue.length>0,ue)}).map(function(x){return Fy(x)})},s2=tinymce.util.Tools.resolve("tinymce.util.Tools"),Uh=function(u,l,d){var h=u.select("td,th",l),y,x=function(O,M){for(var U=0;U<M.length;U++){var X=u.getStyle(M[U],d);if(typeof O>"u"&&(O=X),O!==X)return""}return O};return x(y,h)},c2=function(u,l,d){d&&u.formatter.apply("align"+d,{},l)},$E=function(u,l,d){d&&u.formatter.apply("valign"+d,{},l)},At=function(u,l){s2.each("left center right".split(" "),function(d){u.formatter.remove("align"+d,{},l)})},Go=function(u,l){s2.each("top middle bottom".split(" "),function(d){u.formatter.remove("valign"+d,{},l)})},gg=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ui=function(u){return{value:u}},oc=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,l2=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Wh=function(u){return oc.test(u)||l2.test(u)},f0=function(u){return vn(u,"#").toUpperCase()},v0=function(u){return Wh(u)?L.some({value:f0(u)}):L.none()},d0=function(u){var l=u.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},Fv=function(u){var l=d0(u.red)+d0(u.green)+d0(u.blue);return ui(l)},jh=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,f2=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,v2=function(u,l,d,h){return{red:u,green:l,blue:d,alpha:h}},d2=function(u,l,d,h){var y=parseInt(u,10),x=parseInt(l,10),O=parseInt(d,10),M=parseFloat(h);return v2(y,x,O,M)},LE=function(u){if(u==="transparent")return L.some(v2(0,0,0,0));var l=jh.exec(u);if(l!==null)return L.some(d2(l[1],l[2],l[3],"1"));var d=f2.exec(u);return d!==null?L.some(d2(d[1],d[2],d[3],d[4])):L.none()},uS=function(u){return v0(u).orThunk(function(){return LE(u).map(Fv)}).getOrThunk(function(){var l=document.createElement("canvas");l.height=1,l.width=1;var d=l.getContext("2d");d.clearRect(0,0,l.width,l.height),d.fillStyle="#FFFFFF",d.fillStyle=u,d.fillRect(0,0,1,1);var h=d.getImageData(0,0,1,1).data,y=h[0],x=h[1],O=h[2],M=h[3];return Fv(v2(y,x,O,M))})},Lf=function(u){var l=u,d=function(){return l},h=function(y){l=y};return{get:d,set:h}},Zl=function(u){var l=Lf(L.none()),d=function(){return l.get().each(u)},h=function(){d(),l.set(L.none())},y=function(){return l.get().isSome()},x=function(){return l.get()},O=function(M){d(),l.set(L.some(M))};return{clear:h,isSet:y,get:x,set:O}},Fd=function(){return Zl(function(u){return u.unbind()})},hg=function(){var u=Zl(Mt),l=function(d){return u.get().each(d)};return fn(fn({},u),{on:l})},m2=function(u,l,d,h){return function(y){var x=Fd(),O=Ea(h),M=function(){var U=Gi(l),X=function(ue){return u.formatter.match(d,{value:h},ue.dom,O)};O?(y.setActive(!A(U,X)),x.set(u.formatter.formatChanged(d,function(ue){return y.setActive(!ue)},!0))):(y.setActive(We(U,X)),x.set(u.formatter.formatChanged(d,y.setActive,!1,{value:h})))};return u.initialized?M():u.on("init",M),x.clear}},m0=function(u){return se(u,"menu")},Jl=function(u){return at(u,function(l){var d=l.text||l.title;return m0(l)?{text:d,items:Jl(l.menu)}:{text:d,value:l.value}})},Bc=function(u,l,d,h,y){return at(d,function(x){var O=x.text||x.title;return m0(x)?{type:"nestedmenuitem",text:O,getSubmenuItems:function(){return Bc(u,l,x.menu,h,y)}}:{text:O,type:"togglemenuitem",onAction:function(){return y(x.value)},onSetup:m2(u,l,h,x.value)}})},Iv=function(u,l){return function(d){var h;u.execCommand("mceTableApplyCellStyle",!1,(h={},h[l]=d,h))}},zv=function(u){return st(u,function(l){return m0(l)?[fn(fn({},l),{menu:zv(l.menu)})]:wr(l.value)?[l]:[]})},Id=function(u,l,d,h,y){return function(x){return x(Bc(u,l,d,h,y))}},pg=function(u,l,d){var h=at(l,function(y){return{text:y.title,value:"#"+uS(y.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:h.length>0?h:void 0,allowCustomColors:!1},onAction:function(y){var x,O=y.value==="remove"?"":y.value;u.execCommand("mceTableApplyCellStyle",!1,(x={},x[d]=O,x))}}]},g2=function(u){return function(){var l=u.queryCommandValue("mceTableRowType"),d=l==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:d})}},h2=function(u){return function(){var l=u.queryCommandValue("mceTableColType"),d=l==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:d})}},p2=function(u){var l=Jl(jl(u));return l.length>0?L.some({name:"class",type:"listbox",label:"Class",items:l}):L.none()},g0=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:gg}],Ri=function(u){return g0.concat(p2(u).toArray())},Vs=function(u,l){var d=[{text:"Select...",value:""}],h=[{name:"borderstyle",type:"listbox",label:"Border style",items:d.concat(Jl(ru(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],y={name:"borderwidth",type:"input",label:"Border width"},x=l==="cell"?[y].concat(h):h;return{title:"Advanced",name:"advanced",items:x}},ic=function(u){return function(l,d){var h=l.dom,y=function(M,U){(!u||U)&&h.setAttrib(d,M,U)},x=function(M,U){(!u||U)&&h.setStyle(d,M,U)},O=function(M,U){(!u||U)&&(U===""?l.formatter.remove(M,{value:null},d,!0):l.formatter.apply(M,{value:U},d))};return{setAttrib:y,setStyle:x,setFormat:O}}},Ql={normal:ic(!1),ifTruthy:ic(!0)},bg=function(u){return function(l){return gr(l,"rgb")?u.toHex(l):l}},h0=function(u,l){var d=lt.fromDom(l);return{borderwidth:mu(d,"border-width").getOr(""),borderstyle:mu(d,"border-style").getOr(""),bordercolor:mu(d,"border-color").map(bg(u)).getOr(""),backgroundcolor:mu(d,"background-color").map(bg(u)).getOr("")}},$v=function(u){var l=u[0],d=u.slice(1);return Nt(d,function(h){Nt($i(l),function(y){ha(h,function(x,O){var M=l[y];M!==""&&y===O&&M!==x&&(l[y]="")})})}),l},zd=function(u,l,d,h){return ut(u,function(y){return!wa(d.formatter.matchNode(h,l+y))}).getOr("")},$d=Lt(zd,["left","center","right"],"align"),HE=Lt(zd,["top","middle","bottom"],"valign"),b2=function(u,l){var d=P1(u),h=Ah(u),y=function(ue){return{borderstyle:Qi(d,"border-style").getOr(""),bordercolor:bg(ue)(Qi(d,"border-color").getOr("")),backgroundcolor:bg(ue)(Qi(d,"background-color").getOr(""))}},x={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},O=function(){var ue=d["border-width"];return au(u)&&ue?{border:ue}:Qi(h,"border").fold(function(){return{}},function(Pe){return{border:Pe}})},M=l?y(u.dom):{},U=function(){var ue=Qi(d,"border-spacing").or(Qi(h,"cellspacing")).fold(function(){return{}},function(et){return{cellspacing:et}}),Pe=Qi(d,"border-padding").or(Qi(h,"cellpadding")).fold(function(){return{}},function(et){return{cellpadding:et}});return fn(fn({},ue),Pe)},X=fn(fn(fn(fn(fn(fn({},x),d),h),M),O()),U());return X},sS=function(u){return za(lt.fromDom(u)).map(function(l){var d={selection:cs(u.cells)};return ju(l,d)}).getOr("")},cS=function(u,l,d){var h=function(M,U){var X=mu(lt.fromDom(U),"border-width");return au(u)&&X.isSome()?X.getOr(""):M.getAttrib(U,"border")||Uh(u.dom,U,"border-width")||Uh(u.dom,U,"border")},y=u.dom,x=au(u)?y.getStyle(l,"border-spacing")||y.getAttrib(l,"cellspacing"):y.getAttrib(l,"cellspacing")||y.getStyle(l,"border-spacing"),O=au(u)?Uh(y,l,"padding")||y.getAttrib(l,"cellpadding"):y.getAttrib(l,"cellpadding")||Uh(y,l,"padding");return fn({width:y.getStyle(l,"width")||y.getAttrib(l,"width"),height:y.getStyle(l,"height")||y.getAttrib(l,"height"),cellspacing:x,cellpadding:O,border:h(y,l),caption:!!y.select("caption",l)[0],class:y.getAttrib(l,"class",""),align:$d(u,l)},d?h0(y,l):{})},y2=function(u,l,d){var h=u.dom;return fn({height:h.getStyle(l,"height")||h.getAttrib(l,"height"),class:h.getAttrib(l,"class",""),type:sS(l),align:$d(u,l)},d?h0(h,l):{})},C2=function(u,l,d,h){var y=u.dom,x=h.getOr(l),O=function(M,U){return y.getStyle(M,U)||y.getAttrib(M,U)};return fn({width:O(x,"width"),height:O(l,"height"),scope:y.getAttrib(l,"scope"),celltype:ry(l),class:y.getAttrib(l,"class",""),halign:$d(u,l),valign:HE(u,l)},d?h0(y,l):{})},ua=function(u,l){var d=Xn.fromTable(u),h=Xn.justCells(d),y=In(h,function(x){return A(l,function(O){return fr(x.element,O)})});return at(y,function(x){return{element:x.element.dom,column:Xn.getColumnAt(d,x.column).map(function(O){return O.element.dom})}})},ef=function(u,l,d){u.setAttrib("scope",d.scope),u.setAttrib("class",d.class),u.setStyle("height",Ko(d.height)),l.setStyle("width",Ko(d.width))},lS=function(u,l){u.setFormat("tablecellbackgroundcolor",l.backgroundcolor),u.setFormat("tablecellbordercolor",l.bordercolor),u.setFormat("tablecellborderstyle",l.borderstyle),u.setFormat("tablecellborderwidth",Ko(l.borderwidth))},fS=function(u,l,d){var h=l.length===1;Nt(l,function(y){var x=y.element,O=h?Ql.normal(u,x):Ql.ifTruthy(u,x),M=y.column.map(function(U){return h?Ql.normal(u,U):Ql.ifTruthy(u,U)}).getOr(O);ef(O,M,d),Dh(u)&&lS(O,d),h&&(At(u,x),Go(u,x)),d.halign&&c2(u,x,d.halign),d.valign&&$E(u,x,d.valign)})},vS=function(u,l){u.execCommand("mceTableCellType",!1,{type:l.celltype,no_events:!0})},p0=function(u,l,d,h){var y=Es(h,function(x,O){return d[O]!==x});Nu(y)>0&&l.length>=1&&za(l[0]).each(function(x){var O=ua(x,l),M=Nu(Es(y,function(X,ue){return ue!=="scope"&&ue!=="celltype"}))>0,U=V(y,"celltype");(M||V(y,"scope"))&&fS(u,O,h),U&&vS(u,h),Wl(u,x.dom,{structure:U,style:M})})},w2=function(u,l,d,h){var y=h.getData();h.close(),u.undoManager.transact(function(){p0(u,l,d,y),u.focus()})},Gh=function(u,l){var d=za(l[0]).map(function(h){return at(ua(h,l),function(y){return C2(u,y.element,Dh(u),y.column)})});return $v(d.getOrDie())},wn=function(u,l){var d=Gi(l);if(d.length!==0){var h=Gh(u,d),y={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ri(u)},Vs(u,"cell")]},x={type:"panel",items:[{type:"grid",columns:2,items:Ri(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Dh(u)?y:x,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:Lt(w2,u,d,h)})}},VE=function(u){var l=Jl(Dv(u));return l.length>0?L.some({name:"class",type:"listbox",label:"Class",items:l}):L.none()},S2=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],dS=function(u){return S2.concat(VE(u).toArray())},x2=function(u,l){u.setAttrib("class",l.class),u.setStyle("height",Ko(l.height))},UE=function(u,l){u.setStyle("background-color",l.backgroundcolor),u.setStyle("border-color",l.bordercolor),u.setStyle("border-style",l.borderstyle)},mS=function(u,l,d,h){var y=l.length===1;Nt(l,function(x){var O=y?Ql.normal(u,x):Ql.ifTruthy(u,x);x2(O,d),Rh(u)&&UE(O,d),d.align!==h.align&&(At(u,x),c2(u,x,d.align))})},T2=function(u,l){u.execCommand("mceTableRowType",!1,{type:l.type,no_events:!0})},E2=function(u,l,d,h){var y=Es(h,function(M,U){return d[U]!==M});if(Nu(y)>0){var x=V(y,"type"),O=x?Nu(y)>1:!0;O&&mS(u,l,h,d),x&&T2(u,h),za(lt.fromDom(l[0])).each(function(M){return Wl(u,M.dom,{structure:x,style:O})})}},WE=function(u,l,d,h){var y=h.getData();h.close(),u.undoManager.transact(function(){E2(u,l,d,y),u.focus()})},Us=function(u){var l=sw(dd(u),$s.selected);if(l.length!==0){var d=at(l,function(O){return y2(u,O.dom,Rh(u))}),h=$v(d),y={type:"tabpanel",tabs:[{title:"General",name:"general",items:dS(u)},Vs(u,"row")]},x={type:"panel",items:[{type:"grid",columns:2,items:dS(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Rh(u)?y:x,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:Lt(WE,u,at(l,function(O){return O.dom}),h)})}},Eu=function(u,l,d){var h=d?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],y=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],x=cl(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],O=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],M=l.length>0?[{type:"listbox",name:"class",label:"Class",items:l}]:[];return h.concat(y).concat(x).concat(O).concat(M)},tf=function(u,l,d,h){if(l.tagName==="TD"||l.tagName==="TH")Fn(d)?u.setStyle(l,d,h):u.setStyle(l,d);else if(l.children)for(var y=0;y<l.children.length;y++)tf(u,l.children[y],d,h)},jE=function(u,l,d){var h=u.dom,y={},x={};if(y.class=d.class,x.height=Ko(d.height),h.getAttrib(l,"width")&&!au(u)?y.width=pv(d.width):x.width=Ko(d.width),au(u)?(x["border-width"]=Ko(d.border),x["border-spacing"]=Ko(d.cellspacing)):(y.border=d.border,y.cellpadding=d.cellpadding,y.cellspacing=d.cellspacing),au(u)&&l.children)for(var O=0;O<l.children.length;O++)tf(h,l.children[O],{"border-width":Ko(d.border),padding:Ko(d.cellpadding)}),Tu(u)&&tf(h,l.children[O],{"border-color":d.bordercolor});Tu(u)&&(x["background-color"]=d.backgroundcolor,x["border-color"]=d.bordercolor,x["border-style"]=d.borderstyle),y.style=h.serializeStyle(fn(fn({},P1(u)),x)),h.setAttribs(l,fn(fn({},Ah(u)),y))},GE=function(u,l,d,h){var y=u.dom,x=h.getData(),O=Es(x,function(M,U){return d[U]!==M});h.close(),x.class===""&&delete x.class,u.undoManager.transact(function(){if(!l){var M=parseInt(x.cols,10)||1,U=parseInt(x.rows,10)||1;l=dg(u,M,U,0,0)}if(Nu(O)>0){jE(u,l,x);var X=y.select("caption",l)[0];(X&&!x.caption||!X&&x.caption)&&u.execCommand("mceTableToggleCaption"),x.align===""?At(u,l):c2(u,l,x.align)}if(u.focus(),u.addVisual(),Nu(O)>0){var ue=V(O,"caption"),Pe=ue?Nu(O)>1:!0;Wl(u,l,{structure:ue,style:Pe})}})},k2=function(u,l){var d=u.dom,h,y=b2(u,Tu(u));l===!1?(h=d.getParent(u.selection.getStart(),"table",u.getBody()),h?y=cS(u,h,Tu(u)):Tu(u)&&(y.borderstyle="",y.bordercolor="",y.backgroundcolor="")):(y.cols="1",y.rows="1",Tu(u)&&(y.borderstyle="",y.bordercolor="",y.backgroundcolor=""));var x=Jl(_h(u));x.length>0&&y.class&&(y.class=y.class.replace(/\s*mce\-item\-table\s*/g,""));var O={type:"grid",columns:2,items:Eu(u,x,l)},M=function(){return{type:"panel",items:[O]}},U=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[O]},Vs(u,"table")]}},X=Tu(u)?U():M();u.windowManager.open({title:"Table Properties",size:"normal",body:X,onSubmit:Lt(GE,u,h,y),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:y})},sr=function(u){return ja(dd(u),zs(u))},qE=function(u){return Ti(dd(u),zs(u))},b0=function(u,l,d,h,y){var x=zs(u),O=function(){return sr(u).each(function(cn){za(cn,x).filter(Rt(x)).each(function(Dn){var cr=lt.fromText("");if(ba(Dn,cr),Iu(Dn),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var or=u.dom.createRng();or.setStart(cr.dom,0),or.setEnd(cr.dom,0),u.selection.setRng(or),u.nodeChanged()}})})},M=function(cn){return sr(u).each(function(Dn){var cr=Um(u)||If(u)||Be(u);cr||za(Dn,x).each(function(or){cn==="relative"&&!p1(or)?Wm(or):cn==="fixed"&&!Ei(or)?jm(or):cn==="responsive"&&!b1(or)&&$1(or),bu(or),Wl(u,or.dom,La)})})},U=function(cn){return za(cn,x)},X=function(cn){return qE(u).bind(function(Dn){return U(Dn).map(function(cr){return cn(cr,Dn)})})},ue=function(cn,Dn){X(function(cr){u.formatter.toggle("tableclass",{value:Dn},cr.dom),Wl(u,cr.dom,Td)})},Pe=function(cn,Dn){X(function(cr){var or=Gi(h),Bo=We(or,function(ku){return u.formatter.match("tablecellclass",{value:Dn},ku.dom)}),si=Bo?u.formatter.remove:u.formatter.apply;Nt(or,function(ku){return si("tablecellclass",{value:Dn},ku.dom)}),Wl(u,cr.dom,Td)})},et=function(){sr(u).each(function(cn){za(cn,x).each(function(Dn){xn(Dn,"caption").fold(function(){var cr=lt.fromTag("caption");eo(cr,lt.fromText("Caption")),d3(Dn,cr,0),u.selection.setCursorLocation(cr.dom,0)},function(cr){vo("caption")(cn)&&jc("td",Dn).each(function(or){return u.selection.setCursorLocation(or.dom,0)}),Iu(cr)}),Wl(u,Dn.dom,La)})})},qe=function(cn){u.focus()},Ne=function(cn,Dn){return Dn===void 0&&(Dn=!1),X(function(cr,or){var Bo=md(h,cr,or);cn(cr,Bo,Dn).each(qe)})},bt=function(){return X(function(cn,Dn){var cr=md(h,cn,Dn),or=zn(Mt,lt.fromDom(u.getDoc()),L.none());return mg(cn,cr,or)})},St=function(){return X(function(cn,Dn){var cr=md(h,cn,Dn);return u2(cn,cr)})},an=function(cn,Dn){return Dn().each(function(cr){var or=at(cr,function(Bo){return Xr(Bo)});X(function(Bo,si){var ku=Is(lt.fromDom(u.getDoc())),Sr=oy(h,si,or,ku);cn(Bo,Sr).each(qe)})})},yr=function(cn){return function(Dn,cr){return Qi(cr,"type").each(function(or){Ne(cn(or),cr.no_events)})}};ha({mceTableSplitCells:function(){return Ne(l.unmergeCells)},mceTableMergeCells:function(){return Ne(l.mergeCells)},mceTableInsertRowBefore:function(){return Ne(l.insertRowsBefore)},mceTableInsertRowAfter:function(){return Ne(l.insertRowsAfter)},mceTableInsertColBefore:function(){return Ne(l.insertColumnsBefore)},mceTableInsertColAfter:function(){return Ne(l.insertColumnsAfter)},mceTableDeleteCol:function(){return Ne(l.deleteColumn)},mceTableDeleteRow:function(){return Ne(l.deleteRow)},mceTableCutCol:function(){return St().each(function(cn){y.setColumns(cn),Ne(l.deleteColumn)})},mceTableCutRow:function(){return bt().each(function(cn){y.setRows(cn),Ne(l.deleteRow)})},mceTableCopyCol:function(){return St().each(function(cn){return y.setColumns(cn)})},mceTableCopyRow:function(){return bt().each(function(cn){return y.setRows(cn)})},mceTablePasteColBefore:function(){return an(l.pasteColsBefore,y.getColumns)},mceTablePasteColAfter:function(){return an(l.pasteColsAfter,y.getColumns)},mceTablePasteRowBefore:function(){return an(l.pasteRowsBefore,y.getRows)},mceTablePasteRowAfter:function(){return an(l.pasteRowsAfter,y.getRows)},mceTableDelete:O,mceTableCellToggleClass:Pe,mceTableToggleClass:ue,mceTableToggleCaption:et,mceTableSizingMode:function(cn,Dn){return M(Dn)},mceTableCellType:yr(function(cn){return cn==="th"?l.makeCellsHeader:l.unmakeCellsHeader}),mceTableColType:yr(function(cn){return cn==="th"?l.makeColumnsHeader:l.unmakeColumnsHeader}),mceTableRowType:yr(function(cn){switch(cn){case"header":return l.makeRowsHeader;case"footer":return l.makeRowsFooter;default:return l.makeRowsBody}})},function(cn,Dn){return u.addCommand(Dn,cn)}),ha({mceTableProps:Lt(k2,u,!1),mceTableRowProps:Lt(Us,u),mceTableCellProps:Lt(wn,u,h)},function(cn,Dn){return u.addCommand(Dn,function(){return cn()})}),u.addCommand("mceInsertTable",function(cn,Dn){Wr(Dn)&&$i(Dn).length>0?i2(u,Dn.rows,Dn.columns,Dn.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):k2(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(cn,Dn){var cr=function(si){return"tablecell"+si.toLowerCase().replace("-","")};if(Wr(Dn)){var or=Gi(h);if(or.length!==0){var Bo=Es(Dn,function(si,ku){return u.formatter.has(cr(ku))&&Fn(si)});we(Bo)||(ha(Bo,function(si,ku){Nt(or,function(Sr){Ql.normal(u,Sr.dom).setFormat(cr(ku),si)})}),U(or[0]).each(function(si){return Wl(u,si.dom,Td)}))}}})},y0=function(u,l,d){var h=zs(u),y=function(x){return Ti(dd(u)).bind(function(O){return za(O,h).map(function(M){var U=md(d,M,O);return x(M,U)})}).getOr("")};ha({mceTableRowType:function(){return y(l.getTableRowType)},mceTableCellType:function(){return y(l.getTableCellType)},mceTableColType:function(){return y(l.getTableColType)}},function(x,O){return u.addQueryValueHandler(O,x)})},C0=function(){var u=hg(),l=hg();return{getRows:u.get,setRows:function(d){d.fold(u.clear,u.set),l.clear()},clearRows:u.clear,getColumns:l.get,setColumns:function(d){d.fold(l.clear,l.set),u.clear()},clearColumns:l.clear}},qh={remove_similar:!0,inherit:!1},Hf=fn({selector:"td,th"},qh),Kh={tablecellbackgroundcolor:fn({styles:{backgroundColor:"%value"}},Hf),tablecellverticalalign:fn({styles:{"vertical-align":"%value"}},Hf),tablecellbordercolor:fn({styles:{borderColor:"%value"}},Hf),tablecellclass:fn({classes:["%value"]},Hf),tableclass:fn({selector:"table",classes:["%value"]},qh),tablecellborderstyle:fn({styles:{borderStyle:"%value"}},Hf),tablecellborderwidth:fn({styles:{borderWidth:"%value"}},Hf)},KE=function(u){u.formatter.register(Kh)},gS=Ml.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),A2=function(u){return u===void 0&&(u=void 0),gS.none(u)},Lv=fn(fn({},gS),{none:A2}),w0=function(u,l,d,h,y){y===void 0&&(y=Ie);var x=h===1;if(!x&&d<=0)return Lv.first(u[0]);if(x&&d>=u.length-1)return Lv.last(u[u.length-1]);var O=d+h,M=u[O];return y(M)?Lv.middle(l,M):w0(u,l,O,h,y)},hS=function(u,l){return za(u,l).bind(function(d){var h=Sf(d),y=Ut(h,function(x){return fr(u,x)});return y.map(function(x){return{index:x,all:h}})})},XE=function(u,l,d){var h=hS(u,d);return h.fold(function(){return Lv.none(u)},function(y){return w0(y.all,u,y.index,1,l)})},YE=function(u,l,d){var h=hS(u,d);return h.fold(function(){return Lv.none()},function(y){return w0(y.all,u,y.index,-1,l)})},ZE=function(u,l,d,h){return{start:u,soffset:l,finish:d,foffset:h}},Ld={create:ZE},O2=Ml.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),mn=function(u,l,d,h){return u.fold(l,d,h)},pS=function(u){return u.fold(dn,dn,dn)},bS=O2.before,JE=O2.on,Xh=O2.after,uu={before:bS,on:JE,after:Xh,cata:mn,getStart:pS},Yh=Ml.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),QE=function(u){return Yh.exact(u.start,u.soffset,u.finish,u.foffset)},yS=function(u){return u.match({domRange:function(l){return lt.fromDom(l.startContainer)},relative:function(l,d){return uu.getStart(l)},exact:function(l,d,h,y){return l}})},D2=Yh.domRange,R2=Yh.relative,CS=Yh.exact,_2=function(u){var l=yS(u);return gf(l)},B2=Ld.create,Vf={domRange:D2,relative:R2,exact:CS,exactFromRange:QE,getWin:_2,range:B2},ek=function(u,l){var d=u.document.createRange();return d.selectNode(l.dom),d},tk=function(u,l){var d=u.document.createRange();return wS(d,l),d},wS=function(u,l){return u.selectNodeContents(l.dom)},nk=function(u,l){l.fold(function(d){u.setStartBefore(d.dom)},function(d,h){u.setStart(d.dom,h)},function(d){u.setStartAfter(d.dom)})},Zh=function(u,l){l.fold(function(d){u.setEndBefore(d.dom)},function(d,h){u.setEnd(d.dom,h)},function(d){u.setEndAfter(d.dom)})},Hr=function(u,l,d){var h=u.document.createRange();return nk(h,l),Zh(h,d),h},S0=function(u,l,d,h,y){var x=u.document.createRange();return x.setStart(l.dom,d),x.setEnd(h.dom,y),x},Uf=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},Mc=function(u){var l=u.getClientRects(),d=l.length>0?l[0]:u.getBoundingClientRect();return d.width>0||d.height>0?L.some(d).map(Uf):L.none()},Hv=Ml.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Gu=function(u,l,d){return l(lt.fromDom(d.startContainer),d.startOffset,lt.fromDom(d.endContainer),d.endOffset)},x0=function(u,l){return l.match({domRange:function(d){return{ltr:vt(d),rtl:L.none}},relative:function(d,h){return{ltr:ko(function(){return Hr(u,d,h)}),rtl:ko(function(){return L.some(Hr(u,h,d))})}},exact:function(d,h,y,x){return{ltr:ko(function(){return S0(u,d,h,y,x)}),rtl:ko(function(){return L.some(S0(u,y,x,d,h))})}}})},Hd=function(u,l){var d=l.ltr();if(d.collapsed){var h=l.rtl().filter(function(y){return y.collapsed===!1});return h.map(function(y){return Hv.rtl(lt.fromDom(y.endContainer),y.endOffset,lt.fromDom(y.startContainer),y.startOffset)}).getOrThunk(function(){return Gu(u,Hv.ltr,d)})}else return Gu(u,Hv.ltr,d)},yg=function(u,l){var d=x0(u,l);return Hd(u,d)},Vv=function(u,l){var d=yg(u,l);return d.match({ltr:function(h,y,x,O){var M=u.document.createRange();return M.setStart(h.dom,y),M.setEnd(x.dom,O),M},rtl:function(h,y,x,O){var M=u.document.createRange();return M.setStart(x.dom,O),M.setEnd(h.dom,y),M}})};Hv.ltr,Hv.rtl;var rk=function(u,l,d,h,y){if(y===0)return 0;if(l===h)return y-1;for(var x=h,O=1;O<y;O++){var M=u(O),U=Math.abs(l-M.left);if(d<=M.bottom){if(d<M.top||U>x)return O-1;x=U}}return 0},SS=function(u,l,d){return l>=u.left&&l<=u.right&&d>=u.top&&d<=u.bottom},ak=function(u,l,d,h,y){var x=function(X){var ue=u.dom.createRange();return ue.setStart(l.dom,X),ue.collapse(!0),ue},O=function(X){var ue=x(X);return ue.getBoundingClientRect()},M=Kp(l).length,U=rk(O,d,h,y.right,M);return x(U)},ok=function(u,l,d,h){var y=u.dom.createRange();y.selectNode(l.dom);var x=y.getClientRects(),O=rr(x,function(M){return SS(M,d,h)?L.some(M):L.none()});return O.map(function(M){return ak(u,l,d,h,M)})},ar=function(u,l,d,h){var y=u.dom.createRange(),x=te(l);return rr(x,function(O){return y.selectNode(O.dom),SS(y.getBoundingClientRect(),d,h)?Nc(u,O,d,h):L.none()})},Nc=function(u,l,d,h){return es(l)?ok(u,l,d,h):ar(u,l,d,h)},Cg=function(u,l,d,h){var y=u.dom.createRange();y.selectNode(l.dom);var x=y.getBoundingClientRect(),O=Math.max(x.left,Math.min(x.right,d)),M=Math.max(x.top,Math.min(x.bottom,h));return Nc(u,l,O,M)},xS=!0,Jh=!1,br=function(u,l){return l-u.left<u.right-l?xS:Jh},TS=function(u,l,d){var h=u.dom.createRange();return h.selectNode(l.dom),h.collapse(d),h},ES=function(u,l,d){var h=u.dom.createRange();h.selectNode(l.dom);var y=h.getBoundingClientRect(),x=br(y,d),O=x===xS?o1:i1;return O(l).map(function(M){return TS(u,M,x)})},Qh=function(u,l,d){var h=l.dom.getBoundingClientRect(),y=br(h,d);return L.some(TS(u,l,y))},kS=function(u,l,d){var h=te(l).length===0?Qh:ES;return h(u,l,d)},ep=function(u,l,d){var h,y;return L.from((y=(h=u.dom).caretPositionFromPoint)===null||y===void 0?void 0:y.call(h,l,d)).bind(function(x){if(x.offsetNode===null)return L.none();var O=u.dom.createRange();return O.setStart(x.offsetNode,x.offset),O.collapse(),L.some(O)})},Vd=function(u,l,d){var h,y;return L.from((y=(h=u.dom).caretRangeFromPoint)===null||y===void 0?void 0:y.call(h,l,d))},M2=function(u,l,d,h){var y=u.dom.createRange();y.selectNode(l.dom);var x=y.getBoundingClientRect(),O=Math.max(x.left,Math.min(x.right,d)),M=Math.max(x.top,Math.min(x.bottom,h));return Cg(u,l,O,M)},N2=function(u,l,d){return lt.fromPoint(u,l,d).bind(function(h){var y=function(){return kS(u,h,l)};return te(h).length===0?y():M2(u,h,l,d).orThunk(y)})},AS=function(){return document.caretPositionFromPoint?ep:document.caretRangeFromPoint?Vd:N2}(),OS=function(u,l,d){var h=lt.fromDom(u.document);return AS(h,l,d).map(function(y){return Ld.create(lt.fromDom(y.startContainer),y.startOffset,lt.fromDom(y.endContainer),y.endOffset)})},Uv=function(u,l){var d=Dr(u);return d==="input"?uu.after(u):Rn(["br","img"],d)?l===0?uu.before(u):uu.after(u):uu.on(u,l)},Ud=function(u,l){var d=u.fold(uu.before,Uv,uu.after),h=l.fold(uu.before,Uv,uu.after);return Vf.relative(d,h)},P2=function(u,l,d,h){var y=Uv(u,l),x=Uv(d,h);return Vf.relative(y,x)},DS=function(u){return u.match({domRange:function(l){var d=lt.fromDom(l.startContainer),h=lt.fromDom(l.endContainer);return P2(d,l.startOffset,h,l.endOffset)},relative:Ud,exact:P2})},T0=function(u,l,d,h){var y=Xc(u),x=y.dom.createRange();return x.setStart(u.dom,l),x.setEnd(d.dom,h),x},ik=function(u,l,d,h){var y=T0(u,l,d,h),x=fr(u,d)&&l===h;return y.collapsed&&!x},wg=function(u){return L.from(u.getSelection())},F2=function(u,l){wg(u).each(function(d){d.removeAllRanges(),d.addRange(l)})},I2=function(u,l,d,h,y){var x=S0(u,l,d,h,y);F2(u,x)},RS=function(u,l,d,h,y,x){l.collapse(d.dom,h),l.extend(y.dom,x)},z2=function(u,l){return yg(u,l).match({ltr:function(d,h,y,x){I2(u,d,h,y,x)},rtl:function(d,h,y,x){wg(u).each(function(O){if(O.setBaseAndExtent)O.setBaseAndExtent(d.dom,h,y.dom,x);else if(O.extend)try{RS(u,O,d,h,y,x)}catch{I2(u,y,x,d,h)}else I2(u,y,x,d,h)})}})},E0=function(u,l,d,h,y){var x=P2(l,d,h,y);z2(u,x)},k0=function(u,l,d){var h=Ud(l,d);z2(u,h)},$2=function(u){var l=Vf.getWin(u).dom,d=function(y,x,O,M){return S0(l,y,x,O,M)},h=DS(u);return yg(l,h).match({ltr:d,rtl:d})},L2=function(u){if(u.rangeCount>0){var l=u.getRangeAt(0),d=u.getRangeAt(u.rangeCount-1);return L.some(Ld.create(lt.fromDom(l.startContainer),l.startOffset,lt.fromDom(d.endContainer),d.endOffset))}else return L.none()},_S=function(u){if(u.anchorNode===null||u.focusNode===null)return L2(u);var l=lt.fromDom(u.anchorNode),d=lt.fromDom(u.focusNode);return ik(l,u.anchorOffset,d,u.focusOffset)?L.some(Ld.create(l,u.anchorOffset,d,u.focusOffset)):L2(u)},Wd=function(u,l,d){d===void 0&&(d=!0);var h=d?tk:ek,y=h(u,l);F2(u,y)},Sg=function(u){return wg(u).filter(function(l){return l.rangeCount>0}).bind(_S)},BS=function(u){return Sg(u).map(function(l){return Vf.exact(l.start,l.soffset,l.finish,l.foffset)})},MS=function(u,l){var d=Vv(u,l);return Mc(d)},A0=function(u,l,d){return OS(u,l,d)},NS=function(u){wg(u).each(function(l){return l.removeAllRanges()})},PS=tinymce.util.Tools.resolve("tinymce.util.VK"),H2=function(u,l,d){return zS(u,l,XE(d,Th))},FS=function(u,l,d){return zS(u,l,YE(d,Th))},IS=function(u,l){var d=Vf.exact(l,0,l,0);return $2(d)},zS=function(u,l,d){return d.fold(L.none,L.none,function(h,y){return o1(y).map(function(x){return IS(u,x)})},function(h){return u.execCommand("mceTableInsertRowAfter"),H2(u,l,h)})},uk=["table","li","dl"],$S=function(u,l,d){if(u.keyCode===PS.TAB){var h=zl(l),y=function(M){var U=Dr(M);return fr(M,h)||Rn(uk,U)},x=l.selection.getRng(),O=lt.fromDom(u.shiftKey?x.startContainer:x.endContainer);Qc(O,y).each(function(M){u.preventDefault(),za(M,y).each(d.clear),l.selection.collapse(u.shiftKey);var U=u.shiftKey?FS:H2,X=U(l,y,M);X.each(function(ue){l.selection.setRng(ue)})})}},V2=function(u,l){return{selection:u,kill:l}},xg={create:V2},sk=function(u,l,d,h){return{start:uu.on(u,l),finish:uu.on(d,h)}},LS={create:sk},HS=function(u,l){var d=Vv(u,l);return Ld.create(lt.fromDom(d.startContainer),d.startOffset,lt.fromDom(d.endContainer),d.endOffset)},uc=LS.create,VS=function(u,l,d,h,y,x,O){return fr(d,y)&&h===x?L.none():Za(d,"td,th",l).bind(function(M){return Za(y,"td,th",l).bind(function(U){return US(u,l,M,U,O)})})},US=function(u,l,d,h,y){return fr(d,h)?L.none():cv(d,h,l).bind(function(x){var O=x.boxes.getOr([]);return O.length>1?(y(u,O,x.start,x.finish),L.some(xg.create(L.some(uc(d,0,d,Oc(d))),!0))):L.none()})},O0=function(u,l,d,h,y){var x=function(O){return y.clearBeforeUpdate(d),y.selectRange(d,O.boxes,O.start,O.finish),O.boxes};return wm(h,u,l,y.firstSelectedSelector,y.lastSelectedSelector).map(x)},D0=function(u,l){return{item:u,mode:l}},U2=function(u,l,d,h){return h===void 0&&(h=jd),u.property().parent(l).map(function(y){return D0(y,h)})},jd=function(u,l,d,h){return h===void 0&&(h=Tg),d.sibling(u,l).map(function(y){return D0(y,h)})},Tg=function(u,l,d,h){h===void 0&&(h=Tg);var y=u.property().children(l),x=d.first(y);return x.map(function(O){return D0(O,h)})},WS=[{current:U2,next:jd,fallback:L.none()},{current:jd,next:Tg,fallback:L.some(U2)},{current:Tg,next:Tg,fallback:L.some(jd)}],jS=function(u,l,d,h,y){y===void 0&&(y=WS);var x=ut(y,function(O){return O.current===d});return x.bind(function(O){return O.current(u,l,h,O.next).orThunk(function(){return O.fallback.bind(function(M){return jS(u,l,M,h)})})})},R0=function(){var u=function(d,h){return d.query().prevSibling(h)},l=function(d){return d.length>0?L.some(d[d.length-1]):L.none()};return{sibling:u,first:l}},ck=function(){var u=function(d,h){return d.query().nextSibling(h)},l=function(d){return d.length>0?L.some(d[0]):L.none()};return{sibling:u,first:l}},_0={left:R0,right:ck},tp=function(u,l,d,h,y,x){var O=jS(u,l,h,y);return O.bind(function(M){return x(M.item)?L.none():d(M.item)?L.some(M.item):tp(u,M.item,d,M.mode,y,x)})},B0=function(u,l,d,h){return tp(u,l,d,jd,_0.left(),h)},GS=function(u,l,d,h){return tp(u,l,d,jd,_0.right(),h)},M0=function(u){return function(l){return u.property().children(l).length===0}},sc=function(u,l,d){return W2(u,l,M0(u),d)},lk=function(u,l,d){return j2(u,l,M0(u),d)},W2=B0,j2=GS,N0=sh(),Eg=function(u,l){return sc(N0,u,l)},P0=function(u,l){return lk(N0,u,l)},G2=function(u,l,d){return W2(N0,u,l,d)},qS=function(u,l,d){return j2(N0,u,l,d)},KS=function(u,l,d){return Ua(u,l,d).isSome()},F0=Ml.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),fk=function(u,l,d){var h=u.getRect(l),y=u.getRect(d);return y.right>h.left&&y.left<h.right},XS=function(u){return Za(u,"tr")},vk=function(u,l,d,h,y,x,O){return Za(h,"td,th",O).bind(function(M){return Za(l,"td,th",O).map(function(U){return fr(M,U)?fr(h,M)&&Oc(M)===y?x(U):F0.none("in same cell"):sn(XS,[M,U]).fold(function(){return fk(u,U,M)?F0.success():x(U)},function(X){return x(U)})})}).getOr(F0.none("default"))},dk=function(u,l,d,h,y){return u.fold(l,d,h,y)},Gd=fn(fn({},F0),{verify:vk,cata:dk}),mk=function(u,l,d,h){return{parent:u,children:l,element:d,index:h}},gk=function(u){return oo(u).bind(function(l){var d=te(l);return hk(d,u).map(function(h){return mk(l,d,u,h)})})},hk=function(u,l){return Ut(u,Lt(fr,l))},q2=function(u){return Dr(u)==="br"},K2=function(u,l,d){return l(u,d).bind(function(h){return es(h)&&Kp(h).trim().length===0?K2(h,l,d):L.some(h)})},YS=function(u,l,d){return d.traverse(l).orThunk(function(){return K2(l,d.gather,u)}).map(d.relative)},np=function(u,l){return Ae(u,l).filter(q2).orThunk(function(){return Ae(u,l-1).filter(q2)})},X2=function(u,l,d,h){return np(l,d).bind(function(y){return h.traverse(y).fold(function(){return K2(y,h.gather,u).map(h.relative)},function(x){return gk(x).map(function(O){return uu.on(O.parent,O.index)})})})},qd=function(u,l,d,h){var y=q2(l)?YS(u,l,h):X2(u,l,d,h);return y.map(function(x){return{start:x,finish:x}})},ZS=function(u){return Gd.cata(u,function(l){return L.none()},function(){return L.none()},function(l){return L.some(Ad(l,0))},function(l){return L.some(Ad(l,Oc(l)))})},rp=function(u,l){return{left:u.left,top:u.top+l,right:u.right,bottom:u.bottom+l}},kg=function(u,l){return{left:u.left,top:u.top-l,right:u.right,bottom:u.bottom-l}},JS=function(u,l,d){return{left:u.left+l,top:u.top+d,right:u.right+l,bottom:u.bottom+d}},pk=function(u){return u.top},bk=function(u){return u.bottom},QS=function(u,l,d){return d>=0&&d<Oc(l)?u.getRangedRect(l,d,l,d+1):d>0?u.getRangedRect(l,d-1,l,d):L.none()},ap=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},op=function(u,l){return L.some(u.getRect(l))},ip=function(u,l,d){return oa(l)?op(u,l).map(ap):es(l)?QS(u,l,d).map(ap):L.none()},ex=function(u,l){return oa(l)?op(u,l).map(ap):es(l)?u.getRangedRect(l,0,l,Oc(l)).map(ap):L.none()},qu=5,tx=100,gl=Ml.generate([{none:[]},{retry:["caret"]}]),yk=function(u,l){return u.left<l.left||Math.abs(l.right-u.left)<1||u.left>l.right},nx=function(u,l,d){return Wp(l,Nv).fold(Sn,function(h){return ex(u,h).exists(function(y){return yk(d,y)})})},Ag=function(u,l,d,h,y){var x=rp(y,qu);return Math.abs(d.bottom-h.bottom)<1||d.top>y.bottom?gl.retry(x):d.top===y.bottom?gl.retry(rp(y,1)):nx(u,l,y)?gl.retry(JS(x,qu,0)):gl.none()},Og=function(u,l,d,h,y){var x=kg(y,qu);return Math.abs(d.top-h.top)<1||d.bottom<y.top?gl.retry(x):d.bottom===y.top?gl.retry(kg(y,1)):nx(u,l,y)?gl.retry(JS(x,qu,0)):gl.none()},rx={point:pk,adjuster:Og,move:kg,gather:Eg},ax={point:bk,adjuster:Ag,move:rp,gather:P0},Wv=function(u,l,d){return u.elementFromPoint(l,d).filter(function(h){return Dr(h)==="table"}).isSome()},jv=function(u,l,d,h,y){return Y2(u,l,d,l.move(h,qu),y)},Y2=function(u,l,d,h,y){return y===0?L.some(h):Wv(u,h.left,l.point(h))?jv(u,l,d,h,y-1):u.situsFromPoint(h.left,l.point(h)).bind(function(x){return x.start.fold(L.none,function(O){return ex(u,O).bind(function(M){return l.adjuster(u,O,M,d,h).fold(L.none,function(U){return Y2(u,l,d,U,y-1)})}).orThunk(function(){return L.some(h)})},L.none)})},Ck=function(u,l){return u.situsFromPoint(l.left,l.bottom+qu)},Kd=function(u,l){return u.situsFromPoint(l.left,l.top-qu)},wk=function(u,l,d){return u.point(l)>d.getInnerHeight()?L.some(u.point(l)-d.getInnerHeight()):u.point(l)<0?L.some(-u.point(l)):L.none()},ox=function(u,l,d){var h=u.move(d,qu),y=Y2(l,u,d,h,tx).getOr(h);return wk(u,y,l).fold(function(){return l.situsFromPoint(y.left,u.point(y))},function(x){return l.scrollBy(0,x),l.situsFromPoint(y.left,u.point(y)-x)})},up={tryUp:Lt(ox,rx),tryDown:Lt(ox,ax),ieTryUp:Kd,ieTryDown:Ck,getJumpSize:vt(qu)},ix=20,nn=function(u,l,d){return u.getSelection().bind(function(h){return qd(l,h.finish,h.foffset,d).fold(function(){return L.some(Ad(h.finish,h.foffset))},function(y){var x=u.fromSitus(y),O=Gd.verify(u,h.finish,h.foffset,x.finish,x.foffset,d.failure,l);return ZS(O)})})},sp=function(u,l,d,h,y,x){return x===0?L.none():ux(u,l,d,h,y).bind(function(O){var M=u.fromSitus(O),U=Gd.verify(u,d,h,M.finish,M.foffset,y.failure,l);return Gd.cata(U,function(){return L.none()},function(){return L.some(O)},function(X){return fr(d,X)&&h===0?cp(u,d,h,kg,y):sp(u,l,X,0,y,x-1)},function(X){return fr(d,X)&&h===Oc(X)?cp(u,d,h,rp,y):sp(u,l,X,Oc(X),y,x-1)})})},cp=function(u,l,d,h,y){return ip(u,l,d).bind(function(x){return Z2(u,y,h(x,up.getJumpSize()))})},Z2=function(u,l,d){var h=Tn().browser;return h.isChrome()||h.isSafari()||h.isFirefox()||h.isEdge()?l.otherRetry(u,d):h.isIE()?l.ieRetry(u,d):L.none()},ux=function(u,l,d,h,y){return ip(u,d,h).bind(function(x){return Z2(u,y,x)})},I0=function(u,l,d){return nn(u,l,d).bind(function(h){return sp(u,l,h.element,h.offset,d,ix).map(u.fromSitus)})},lp=function(u,l){return KS(u,function(d){return oo(d).exists(function(h){return fr(h,l)})})},J2=function(u,l,d,h,y){return Za(h,"td,th",l).bind(function(x){return Za(x,"table",l).bind(function(O){return lp(y,O)?I0(u,l,d).bind(function(M){return Za(M.finish,"td,th",l).map(function(U){return{start:x,finish:U,range:M}})}):L.none()})})},sx=function(u,l,d,h,y,x){return Tn().browser.isIE()?L.none():x(h,l).orThunk(function(){return J2(u,l,d,h,y).map(function(O){var M=O.range;return xg.create(L.some(uc(M.start,M.soffset,M.finish,M.foffset)),!0)})})},Sk=function(u,l){return Za(u,"tr",l).bind(function(d){return Za(d,"table",l).bind(function(h){var y=ts(h,"tr");return fr(d,y[0])?G2(h,function(x){return i1(x).isSome()},l).map(function(x){var O=Oc(x);return xg.create(L.some(uc(x,O,x,O)),!0)}):L.none()})})},An=function(u,l){return Za(u,"tr",l).bind(function(d){return Za(d,"table",l).bind(function(h){var y=ts(h,"tr");return fr(d,y[y.length-1])?qS(h,function(x){return o1(x).isSome()},l).map(function(x){return xg.create(L.some(uc(x,0,x,0)),!0)}):L.none()})})},z0=function(u,l,d,h,y,x,O){return J2(u,d,h,y,x).bind(function(M){return US(l,d,M.start,M.finish,O)})},$n=function(u,l){return Za(u,"td,th",l)},cx=function(u,l,d,h){var y=hg(),x=y.clear,O=function(ue){y.on(function(Pe){h.clearBeforeUpdate(l),$n(ue.target,d).each(function(et){cv(Pe,et,d).each(function(qe){var Ne=qe.boxes.getOr([]);if(Ne.length===1){var bt=Ne[0],St=py(bt)==="false",an=Zc(Sd(ue.target),bt,fr);St&&an&&(h.selectRange(l,Ne,bt,bt),u.selectContents(bt))}else Ne.length>1&&(h.selectRange(l,Ne,qe.start,qe.finish),u.selectContents(et))})})})},M=function(ue){h.clear(l),$n(ue.target,d).each(y.set)},U=function(ue){O(ue)},X=function(ue){O(ue),x()};return{clearstate:x,mousedown:M,mouseover:U,mouseup:X}},lx={traverse:B,gather:P0,relative:uu.before,otherRetry:up.tryDown,ieRetry:up.ieTryDown,failure:Gd.failedDown},Q2={traverse:R,gather:Eg,relative:uu.before,otherRetry:up.tryUp,ieRetry:up.ieTryUp,failure:Gd.failedUp},Xd=function(u){return function(l){return l===u}},$0=Xd(38),fp=Xd(40),L0=function(u){return u>=37&&u<=40},eC={isBackward:Xd(37),isForward:Xd(39)},On={isBackward:Xd(39),isForward:Xd(37)},xk=function(u){var l=u!==void 0?u.dom:document,d=l.body.scrollLeft||l.documentElement.scrollLeft,h=l.body.scrollTop||l.documentElement.scrollTop;return da(d,h)},fx=function(u,l,d){var h=d!==void 0?d.dom:document,y=h.defaultView;y&&y.scrollBy(u,l)},H0=function(u){var l=function(St,an){return lt.fromPoint(lt.fromDom(u.document),St,an)},d=function(St){return St.dom.getBoundingClientRect()},h=function(St,an,yr,cn){var Dn=Vf.exact(St,an,yr,cn);return MS(u,Dn)},y=function(){return BS(u).map(function(St){return HS(u,St)})},x=function(St){var an=Vf.relative(St.start,St.finish);return HS(u,an)},O=function(St,an){return A0(u,St,an).map(function(yr){return LS.create(yr.start,yr.soffset,yr.finish,yr.foffset)})},M=function(){NS(u)},U=function(St){St===void 0&&(St=!1),BS(u).each(function(an){return an.fold(function(yr){return yr.collapse(St)},function(yr,cn){var Dn=St?yr:cn;k0(u,Dn,Dn)},function(yr,cn,Dn,cr){var or=St?yr:Dn,Bo=St?cn:cr;E0(u,or,Bo,or,Bo)})})},X=function(St){Wd(u,St,!1)},ue=function(St){Wd(u,St)},Pe=function(St){E0(u,St.start,St.soffset,St.finish,St.foffset)},et=function(St,an){k0(u,St,an)},qe=function(){return u.innerHeight},Ne=function(){var St=xk(lt.fromDom(u.document));return St.top},bt=function(St,an){fx(St,an,lt.fromDom(u.document))};return{elementFromPoint:l,getRect:d,getRangedRect:h,getSelection:y,fromSitus:x,situsFromPoint:O,clearSelection:M,collapseSelection:U,setSelection:Pe,setRelativeSelection:et,selectNode:X,selectContents:ue,getInnerHeight:qe,getScrollY:Ne,scrollBy:bt}},nf=function(u,l){return{rows:u,cols:l}},vx=function(u,l,d,h){var y=H0(u),x=cx(y,l,d,h);return{clearstate:x.clearstate,mousedown:x.mousedown,mouseover:x.mouseover,mouseup:x.mouseup}},vp=function(u,l,d,h){var y=H0(u),x=function(){return h.clear(l),L.none()},O=function(U,X,ue,Pe,et,qe){var Ne=U.raw,bt=Ne.which,St=Ne.shiftKey===!0,an=Cm(l,h.selectedSelector).fold(function(){return L0(bt)&&!St&&h.clearBeforeUpdate(l),fp(bt)&&St?Lt(z0,y,l,d,lx,Pe,X,h.selectRange):$0(bt)&&St?Lt(z0,y,l,d,Q2,Pe,X,h.selectRange):fp(bt)?Lt(sx,y,d,lx,Pe,X,An):$0(bt)?Lt(sx,y,d,Q2,Pe,X,Sk):L.none},function(yr){var cn=function(Dn){return function(){var cr=rr(Dn,function(or){return O0(or.rows,or.cols,l,yr,h)});return cr.fold(function(){return Sc(l,h.firstSelectedSelector,h.lastSelectedSelector).map(function(or){var Bo=fp(bt)||qe.isForward(bt)?uu.after:uu.before;return y.setRelativeSelection(uu.on(or.first,0),Bo(or.table)),h.clear(l),xg.create(L.none(),!0)})},function(or){return L.some(xg.create(L.none(),!0))})}};return fp(bt)&&St?cn([nf(1,0)]):$0(bt)&&St?cn([nf(-1,0)]):qe.isBackward(bt)&&St?cn([nf(0,-1),nf(-1,0)]):qe.isForward(bt)&&St?cn([nf(0,1),nf(1,0)]):L0(bt)&&!St?x:L.none});return an()},M=function(U,X,ue,Pe,et){return Cm(l,h.selectedSelector).fold(function(){var qe=U.raw,Ne=qe.which,bt=qe.shiftKey===!0;return bt&&L0(Ne)?VS(l,d,X,ue,Pe,et,h.selectRange):L.none()},L.none)};return{keydown:O,keyup:M}},V0=function(u,l,d,h){var y=H0(u);return function(x,O){h.clearBeforeUpdate(l),cv(x,O,d).each(function(M){var U=M.boxes.getOr([]);h.selectRange(l,U,M.start,M.finish),y.selectContents(O),y.collapseSelection()})}},dx=function(u,l){Nt(l,function(d){Hu(u,d)})},mx=function(u){return function(l){Uo(l,u)}},Tk=function(u){return function(l){dx(l,u)}},Ek=function(u){var l=mx(u.selected),d=Tk([u.selected,u.lastSelected,u.firstSelected]),h=function(x){var O=ts(x,u.selectedSelector);Nt(O,d)},y=function(x,O,M,U){h(x),Nt(O,l),Uo(M,u.firstSelected),Uo(U,u.lastSelected)};return{clearBeforeUpdate:h,clear:h,selectRange:y,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},kk=function(u,l,d){var h=function(U){Aa(U,u.selected),Aa(U,u.firstSelected),Aa(U,u.lastSelected)},y=function(U){Io(U,u.selected,"1")},x=function(U){O(U),d()},O=function(U){var X=ts(U,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);Nt(X,h)},M=function(U,X,ue,Pe){x(U),Nt(X,y),Io(ue,u.firstSelected,"1"),Io(Pe,u.lastSelected,"1"),l(X,ue,Pe)};return{clearBeforeUpdate:O,clear:x,selectRange:M,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},Ak={byClass:Ek,byAttr:kk},Ok=function(u,l){var d=u.slice(0,l[l.length-1].row+1),h=j1(d);return st(h,function(y){var x=y.cells.slice(0,l[l.length-1].column+1);return at(x,function(O){return O.element})})},gx=function(u,l){var d=u.slice(l[0].row+l[0].rowspan-1,u.length),h=j1(d);return st(h,function(y){var x=y.cells.slice(l[0].column+l[0].colspan-1,y.cells.length);return at(x,function(O){return O.element})})},Dk=function(u,l,d){var h=Xn.fromTable(u),y=ll(h,l);return y.map(function(x){var O=_v(h,d,!1),M=Ok(O,x),U=gx(O,x);return{upOrLeftCells:M,downOrRightCells:U}})},tC=tinymce.util.Tools.resolve("tinymce.Env"),Dg=function(u){return ya(lt.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function dr(u,l,d){var h=function(O,M,U){d.targets().each(function(X){var ue=za(M);ue.each(function(Pe){var et=z1(u),qe=zn(Mt,lt.fromDom(u.getDoc()),et),Ne=Dk(Pe,X,qe);Vm(u,O,M,U,Ne)})})},y=function(){return ww(u)},x=Ak.byAttr($s,h,y);return u.on("init",function(O){var M=u.getWin(),U=zl(u),X=zs(u),ue=function(){var Sr=u.selection,Mn=lt.fromDom(Sr.getStart()),mr=lt.fromDom(Sr.getEnd()),Yr=sn(za,[Mn,mr]);Yr.fold(function(){return x.clear(U)},Mt)},Pe=vx(M,U,X,x),et=vp(M,U,X,x),qe=V0(M,U,X,x),Ne=function(Sr){return Sr.raw.shiftKey===!0};u.on("TableSelectorChange",function(Sr){return qe(Sr.start,Sr.finish)});var bt=function(Sr,Mn){Ne(Sr)&&(Mn.kill&&Sr.kill(),Mn.selection.each(function(mr){var Yr=Vf.relative(mr.start,mr.finish),no=Vv(M,Yr);u.selection.setRng(no)}))},St=function(Sr){var Mn=Pf(Sr);if(Mn.raw.shiftKey&&L0(Mn.raw.which)){var mr=u.selection.getRng(),Yr=lt.fromDom(mr.startContainer),no=lt.fromDom(mr.endContainer);et.keyup(Mn,Yr,mr.startOffset,no,mr.endOffset).each(function(rf){bt(Mn,rf)})}},an=function(Sr){var Mn=Pf(Sr);l().each(function(ea){return ea.hideBars()});var mr=u.selection.getRng(),Yr=lt.fromDom(mr.startContainer),no=lt.fromDom(mr.endContainer),rf=us(eC,On)(lt.fromDom(u.selection.getStart()));et.keydown(Mn,Yr,mr.startOffset,no,mr.endOffset,rf).each(function(ea){bt(Mn,ea)}),l().each(function(ea){return ea.showBars()})},yr=function(Sr){return Sr.button===0},cn=function(Sr){return Sr.buttons===void 0||tC.browser.isEdge()&&Sr.buttons===0?!0:(Sr.buttons&1)!==0},Dn=function(Sr){Pe.clearstate()},cr=function(Sr){yr(Sr)&&Dg(Sr)&&Pe.mousedown(Pf(Sr))},or=function(Sr){cn(Sr)&&Dg(Sr)&&Pe.mouseover(Pf(Sr))},Bo=function(Sr){yr(Sr)&&Dg(Sr)&&Pe.mouseup(Pf(Sr))},si=function(){var Sr=Lf(lt.fromDom(U)),Mn=Lf(0),mr=function(Yr){var no=lt.fromDom(Yr.target);if(Dr(no)==="td"||Dr(no)==="th"){var rf=Sr.get(),ea=Mn.get();fr(rf,no)&&Yr.timeStamp-ea<300&&(Yr.preventDefault(),qe(no,no))}Sr.set(no),Mn.set(Yr.timeStamp)};return{touchEnd:mr}},ku=si();u.on("dragstart",Dn),u.on("mousedown",cr),u.on("mouseover",or),u.on("mouseup",Bo),u.on("touchend",ku.touchEnd),u.on("keyup",St),u.on("keydown",an),u.on("NodeChange",ue)}),{clear:x.clear}}var U0=function(u,l){return xn(u,l).isSome()},W0=function(u,l){var d=Lf(L.none()),h=Lf([]),y=L.none(),x=vo("caption"),O=function(Mn){return y.forall(function(mr){return!mr[Mn]})},M=function(){return ja(dd(u),zs(u))},U=function(){return ja(qt(u),zs(u))},X=function(){return M().bind(function(Mn){return pf(rs(za(Mn),U().bind(za),function(mr,Yr){return fr(mr,Yr)?x(Mn)?L.some(ay(Mn)):L.some(md(l,mr,Mn)):L.none()}))})},ue=function(Mn){var mr=za(Mn.element);return mr.map(function(Yr){var no=Xn.fromTable(Yr),rf=ll(no,Mn).getOr([]),ea=Z(rf,function(cc,_i){return _i.isLocked&&(cc.onAny=!0,_i.column===0?cc.onFirst=!0:_i.column+_i.colspan>=no.grid.columns&&(cc.onLast=!0)),cc},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:zy(no,Mn).isSome(),unmergeable:K1(no,Mn).isSome(),locked:ea}})},Pe=function(){d.set(ko(X)()),y=d.get().bind(ue),Nt(h.get(),function(Mn){return Mn()})},et=function(Mn){return Mn(),h.set(h.get().concat([Mn])),function(){h.set(In(h.get(),function(mr){return mr!==Mn}))}},qe=function(Mn,mr){return et(function(){return d.get().fold(function(){Mn.setDisabled(!0)},function(Yr){Mn.setDisabled(mr(Yr))})})},Ne=function(Mn,mr,Yr){return et(function(){return d.get().fold(function(){Mn.setDisabled(!0),Mn.setActive(!1)},function(no){Mn.setDisabled(mr(no)),Mn.setActive(Yr(no))})})},bt=function(Mn){return y.exists(function(mr){return mr.locked[Mn]})},St=function(Mn){return qe(Mn,function(mr){return!1})},an=function(Mn){return qe(Mn,function(mr){return x(mr.element)})},yr=function(Mn){return function(mr){return qe(mr,function(Yr){return x(Yr.element)||bt(Mn)})}},cn=function(Mn){return function(mr){return qe(mr,function(Yr){return x(Yr.element)||Mn().isNone()})}},Dn=function(Mn,mr){return function(Yr){return qe(Yr,function(no){return x(no.element)||Mn().isNone()||bt(mr)})}},cr=function(Mn){return qe(Mn,function(mr){return O("mergeable")})},or=function(Mn){return qe(Mn,function(mr){return O("unmergeable")})},Bo=function(Mn){return Ne(Mn,Sn,function(mr){var Yr=za(mr.element,zs(u));return Yr.exists(function(no){return U0(no,"caption")})})},si=function(Mn,mr){return function(Yr){return Ne(Yr,function(no){return x(no.element)},function(){return u.queryCommandValue(Mn)===mr})}},ku=si("mceTableRowType","header"),Sr=si("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",Pe),{onSetupTable:St,onSetupCellOrRow:an,onSetupColumn:yr,onSetupPasteable:cn,onSetupPasteableColumn:Dn,onSetupMergeable:cr,onSetupUnmergeable:or,resetTargets:Pe,onSetupTableWithCaption:Bo,onSetupTableRowHeaders:ku,onSetupTableColumnHeaders:Sr,targets:d.get}},hx=function(u,l,d,h){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(M){return M("inserttable | cell row column | advtablesort | tableprops deletetable")}});var y=function(M){return function(){return u.execCommand(M)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:y("mceTableProps"),icon:"table",onSetup:d.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:y("mceTableDelete"),icon:"table-delete-table",onSetup:d.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:y("mceTableCellProps"),icon:"table-cell-properties",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:y("mceTableMergeCells"),icon:"table-merge-cells",onSetup:d.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:y("mceTableSplitCells"),icon:"table-split-cells",onSetup:d.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:y("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:y("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:y("mceTableDeleteRow"),icon:"table-delete-row",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:y("mceTableRowProps"),icon:"table-row-properties",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:y("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:d.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:y("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:d.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:y("mceTableDeleteCol"),icon:"table-delete-column",onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:y("mceTableCutRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:y("mceTableCopyRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:y("mceTablePasteRowBefore"),onSetup:d.onSetupPasteable(h.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:y("mceTablePasteRowAfter"),onSetup:d.onSetupPasteable(h.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:y("mceTableCutCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:y("mceTableCopyCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:y("mceTablePasteColBefore"),onSetup:d.onSetupPasteableColumn(h.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:y("mceTablePasteColAfter"),onSetup:d.onSetupPasteableColumn(h.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:y("mceInsertTable"),icon:"table"});var x=zv(_h(u));x.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Id(u,l,x,"tableclass",function(M){return u.execCommand("mceTableToggleClass",!1,M)}),onSetup:d.onSetupTable});var O=zv(jl(u));O.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Id(u,l,O,"tablecellclass",function(M){return u.execCommand("mceTableCellToggleClass",!1,M)}),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Id(u,l,gg,"tablecellverticalalign",Iv(u,"vertical-align")),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Id(u,l,xw(u),"tablecellborderwidth",Iv(u,"border-width")),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Id(u,l,ru(u),"tablecellborderstyle",Iv(u,"border-style")),onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:y("mceTableToggleCaption"),icon:"table-caption",onSetup:d.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(M){return M(pg(u,Ay(u),"background-color"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(M){return M(pg(u,Oy(u),"border-color"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:g2(u),onSetup:d.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:h2(u),onSetup:d.onSetupTableColumnHeaders})},px=function(u){var l=function(h){return u.dom.is(h,"table")&&u.getBody().contains(h)},d=X3(u);d.length>0&&u.ui.registry.addContextToolbar("table",{predicate:l,items:d,scope:"node",position:"node"})},bx=function(u,l,d,h){var y=function(qe){return function(){return u.execCommand(qe)}},x=function(qe){u.execCommand("mceInsertTable",!1,{rows:qe.numRows,columns:qe.numColumns})},O={text:"Table properties",onSetup:d.onSetupTable,onAction:y("mceTableProps")},M={text:"Delete table",icon:"table-delete-table",onSetup:d.onSetupTable,onAction:y("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:y("mceTableInsertRowBefore"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:y("mceTableInsertRowAfter"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:y("mceTableDeleteRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:y("mceTableRowProps"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:y("mceTableCutRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:y("mceTableCopyRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:y("mceTablePasteRowBefore"),onSetup:d.onSetupPasteable(h.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:y("mceTablePasteRowAfter"),onSetup:d.onSetupPasteable(h.getRows)});var U={type:"nestedmenuitem",text:"Row",getSubmenuItems:vt("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:y("mceTableInsertColBefore"),onSetup:d.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:y("mceTableInsertColAfter"),onSetup:d.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:y("mceTableDeleteCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:y("mceTableCutCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:y("mceTableCopyCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:y("mceTablePasteColBefore"),onSetup:d.onSetupPasteableColumn(h.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:y("mceTablePasteColAfter"),onSetup:d.onSetupPasteableColumn(h.getColumns,"onLast")});var X={type:"nestedmenuitem",text:"Column",getSubmenuItems:vt("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:y("mceTableCellProps"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:y("mceTableMergeCells"),onSetup:d.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:y("mceTableSplitCells"),onSetup:d.onSetupUnmergeable});var ue={type:"nestedmenuitem",text:"Cell",getSubmenuItems:vt("tablecellprops tablemergecells tablesplitcells")};Tw(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:y("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:x}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:y("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",O),u.ui.registry.addMenuItem("deletetable",M),u.ui.registry.addNestedMenuItem("row",U),u.ui.registry.addNestedMenuItem("column",X),u.ui.registry.addNestedMenuItem("cell",ue),u.ui.registry.addContextMenu("table",{update:function(){return d.resetTargets(),d.targets().fold(vt(""),function(qe){return Dr(qe.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var Pe=zv(_h(u));Pe.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Bc(u,l,Pe,"tableclass",function(qe){return u.execCommand("mceTableToggleClass",!1,qe)})},onSetup:d.onSetupTable});var et=zv(jl(u));et.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Bc(u,l,et,"tablecellclass",function(qe){return u.execCommand("mceTableCellToggleClass",!1,qe)})},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Bc(u,l,gg,"tablecellverticalalign",Iv(u,"vertical-align"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Bc(u,l,xw(u),"tablecellborderwidth",Iv(u,"border-width"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Bc(u,l,ru(u),"tablecellborderstyle",Iv(u,"border-style"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:y("mceTableToggleCaption"),onSetup:d.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return pg(u,Ay(u),"background-color")},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return pg(u,Oy(u),"border-color")},onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:g2(u),onSetup:d.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:h2(u),onSetup:d.onSetupTableColumnHeaders})},nC=function(u){var l=Ui(function(){return zl(u)},function(){return Ti(dd(u),zs(u))},$s.selectedSelector),d=W0(u,l),h=L1(u),y=dr(u,h.lazyResize,d),x=NE(u,y,h.lazyWire),O=C0();return b0(u,x,y,l,O),y0(u,x,l),Dc(u,l,x),bx(u,l,d,O),hx(u,l,d,O),px(u),u.on("PreInit",function(){u.serializer.addTempAttr($s.firstSelected),u.serializer.addTempAttr($s.lastSelected),KE(u)}),sl(u)&&u.on("keydown",function(M){$S(M,u,y)}),u.on("remove",function(){h.destroy()}),Yl(u,O,h,d)};function rC(){YC.add("table",nC)}rC()})();(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager");function Gn(){bo.add("contextmenu",function(){})}Gn()})();(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gn=function(Me){var Pt=typeof Me;return Me===null?"null":Pt==="object"&&(Array.prototype.isPrototypeOf(Me)||Me.constructor&&Me.constructor.name==="Array")?"array":Pt==="object"&&(String.prototype.isPrototypeOf(Me)||Me.constructor&&Me.constructor.name==="String")?"string":Pt},Ta=function(Me){return function(Pt){return Gn(Pt)===Me}},ra=function(Me){return function(Pt){return typeof Pt===Me}},Fn=Ta("string"),Wr=ra("boolean"),tr=function(Me){return Me==null},kr=function(Me){return!tr(Me)},en=ra("function"),wa=ra("number"),sa=function(){},it=function(Me,Pt){return function(vn){return Me(Pt(vn))}},Zt=function(Me){return function(){return Me}},er=function(Me){return Me},Mt=Zt(!1),Ye=Zt(!0),Nn=function(){return vt},vt=function(){var Me=function(zt){return zt()},Pt=er,vn={fold:function(zt,gr){return zt()},isSome:Mt,isNone:Ye,getOr:Pt,getOrThunk:Me,getOrDie:function(zt){throw new Error(zt||"error: getOrDie called on none.")},getOrNull:Zt(null),getOrUndefined:Zt(void 0),or:Pt,orThunk:Me,map:Nn,each:sa,bind:Nn,exists:Mt,forall:Ye,filter:function(){return Nn()},toArray:function(){return[]},toString:Zt("none()")};return vn}(),dn=function(Me){var Pt=Zt(Me),vn=function(){return gr},zt=function(Ar){return Ar(Me)},gr={fold:function(Ar,Ha){return Ha(Me)},isSome:Ye,isNone:Mt,getOr:Pt,getOrThunk:Pt,getOrDie:Pt,getOrNull:Pt,getOrUndefined:Pt,or:vn,orThunk:vn,map:function(Ar){return dn(Ar(Me))},each:function(Ar){Ar(Me)},bind:zt,exists:zt,forall:zt,filter:function(Ar){return Ar(Me)?gr:vt},toArray:function(){return[Me]},toString:function(){return"some("+Me+")"}};return gr},ve=function(Me){return Me==null?vt:dn(Me)},Lt={some:dn,none:Nn,from:ve},Rt=function(Me,Pt){for(var vn=Me.length,zt=new Array(vn),gr=0;gr<vn;gr++){var Ar=Me[gr];zt[gr]=Pt(Ar,gr)}return zt},Tr=function(Me,Pt){for(var vn=0,zt=Me.length;vn<zt;vn++){var gr=Me[vn];Pt(gr,vn)}},Sn=function(Me,Pt){for(var vn=[],zt=0,gr=Me.length;zt<gr;zt++){var Ar=Me[zt];Pt(Ar,zt)&&vn.push(Ar)}return vn},Ie=9,Bt=11,Qe=1,Jn=3,oe=function(Me,Pt){var vn=Pt||document,zt=vn.createElement("div");if(zt.innerHTML=Me,!zt.hasChildNodes()||zt.childNodes.length>1)throw console.error("HTML does not have a single root node",Me),new Error("HTML must have a single root node");return Hn(zt.childNodes[0])},L=function(Me,Pt){var vn=Pt||document,zt=vn.createElement(Me);return Hn(zt)},mt=function(Me,Pt){var vn=Pt||document,zt=vn.createTextNode(Me);return Hn(zt)},Hn=function(Me){if(Me==null)throw new Error("Node cannot be null or undefined");return{dom:Me}},Ze=function(Me,Pt,vn){return Lt.from(Me.dom.elementFromPoint(Pt,vn)).map(Hn)},nr={fromHtml:oe,fromTag:L,fromText:mt,fromDom:Hn,fromPoint:Ze},Rn=function(Me,Pt){var vn=Me.dom;if(vn.nodeType!==Qe)return!1;var zt=vn;if(zt.matches!==void 0)return zt.matches(Pt);if(zt.msMatchesSelector!==void 0)return zt.msMatchesSelector(Pt);if(zt.webkitMatchesSelector!==void 0)return zt.webkitMatchesSelector(Pt);if(zt.mozMatchesSelector!==void 0)return zt.mozMatchesSelector(Pt);throw new Error("Browser lacks native selectors")};typeof window<"u"||Function("return this;")();var A=function(Me){var Pt=Me.dom.nodeName;return Pt.toLowerCase()},Cr=function(Me){return Me.dom.nodeType},at=function(Me){return function(Pt){return Cr(Pt)===Me}},Nt=at(Qe),ca=at(Jn),yo=at(Ie),In=at(Bt),Jr=function(Me){return function(Pt){return Nt(Pt)&&A(Pt)===Me}},Z=function(Me){return nr.fromDom(Me.dom.ownerDocument)},Co=function(Me){return yo(Me)?Me:Z(Me)},ut=function(Me){return Lt.from(Me.dom.parentNode).map(nr.fromDom)},Ut=function(Me){return Rt(Me.dom.childNodes,nr.fromDom)},Eo=function(Me,Pt,vn){if(Fn(vn)||Wr(vn)||wa(vn))Me.setAttribute(Pt,vn+"");else throw console.error("Invalid call to Attribute.set. Key ",Pt,":: Value ",vn,":: Element ",Me),new Error("Attribute value was not simple")},st=function(Me,Pt,vn){Eo(Me.dom,Pt,vn)},We=function(Me,Pt){Me.dom.removeAttribute(Pt)},be=function(Me){return In(Me)&&kr(Me.dom.host)},Ee=en(Element.prototype.attachShadow)&&en(Node.prototype.getRootNode),Ce=Ee?function(Me){return nr.fromDom(Me.dom.getRootNode())}:Co,Ct=function(Me){var Pt=Ce(Me);return be(Pt)?Lt.some(Pt):Lt.none()},Xt=function(Me){return nr.fromDom(Me.dom.host)},xt=function(Me){var Pt=ca(Me)?Me.dom.parentNode:Me.dom;if(Pt==null||Pt.ownerDocument===null)return!1;var vn=Pt.ownerDocument;return Ct(nr.fromDom(Pt)).fold(function(){return vn.body.contains(Pt)},it(xt,Xt))},Qn=function(Me,Pt,vn){for(var zt=Me.dom,gr=en(vn)?vn:Mt;zt.parentNode;){zt=zt.parentNode;var Ar=nr.fromDom(zt);if(Pt(Ar))return Lt.some(Ar);if(gr(Ar))break}return Lt.none()},rr=function(Me,Pt,vn){return Qn(Me,function(zt){return Rn(zt,Pt)},vn)},fn=function(Me){return Me.style!==void 0&&en(Me.style.getPropertyValue)},jr=function(Me,Pt){var vn=Me.dom,zt=window.getComputedStyle(vn),gr=zt.getPropertyValue(Pt);return gr===""&&!xt(Me)?ko(vn,Pt):gr},ko=function(Me,Pt){return fn(Me)?Me.style.getPropertyValue(Pt):""},Yi=function(Me){return jr(Me,"direction")==="rtl"?"rtl":"ltr"},Pi=function(Me,Pt){return Sn(Ut(Me),Pt)},mi=function(Me,Pt){return Pi(Me,function(vn){return Rn(vn,Pt)})},ta=function(Me){return ut(Me).filter(Nt)},Ka=function(Me,Pt){var vn=Pt?rr(Me,"ol,ul"):Lt.some(Me);return vn.getOr(Me)},fo=Jr("li"),na=function(Me,Pt){var vn=Me.selection.getSelectedBlocks();vn.length>0&&(Tr(vn,function(zt){var gr=nr.fromDom(zt),Ar=fo(gr),Ha=Ka(gr,Ar),rn=ta(Ha);rn.each(function(wr){var Ea=Yi(wr);if(Ea!==Pt?st(Ha,"dir",Pt):Yi(Ha)!==Pt&&We(Ha,"dir"),Ar){var gi=mi(Ha,"li[dir]");Tr(gi,function(ys){return We(ys,"dir")})}})}),Me.nodeChanged())},la=function(Me){Me.addCommand("mceDirectionLTR",function(){na(Me,"ltr")}),Me.addCommand("mceDirectionRTL",function(){na(Me,"rtl")})},Xa=function(Me,Pt){return function(vn){var zt=function(gr){var Ar=nr.fromDom(gr.element);vn.setActive(Yi(Ar)===Pt)};return Me.on("NodeChange",zt),function(){return Me.off("NodeChange",zt)}}},aa=function(Me){Me.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return Me.execCommand("mceDirectionLTR")},onSetup:Xa(Me,"ltr")}),Me.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return Me.execCommand("mceDirectionRTL")},onSetup:Xa(Me,"rtl")})};function Br(){bo.add("directionality",function(Me){la(Me),aa(Me)})}Br()})();(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gn=function(it){var Zt=it.getParam("nonbreaking_force_tab",0);return typeof Zt=="boolean"?Zt===!0?3:0:Zt},Ta=function(it){return it.getParam("nonbreaking_wrap",!0,"boolean")},ra=function(it,Zt){for(var er="",Mt=0;Mt<Zt;Mt++)er+=it;return er},Fn=function(it){return it.plugins.visualchars?it.plugins.visualchars.isEnabled():!1},Wr=function(it,Zt){var er=function(){return Fn(it)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},Mt=function(){return'<span class="'+er()+'" contenteditable="false">'+ra("&nbsp;",Zt)+"</span>"},Ye=Ta(it),Nn=Ye||it.plugins.visualchars?Mt():ra("&nbsp;",Zt);it.undoManager.transact(function(){return it.insertContent(Nn)})},tr=function(it){it.addCommand("mceNonBreaking",function(){Wr(it,1)})},kr=tinymce.util.Tools.resolve("tinymce.util.VK"),en=function(it){var Zt=Gn(it);Zt>0&&it.on("keydown",function(er){if(er.keyCode===kr.TAB&&!er.isDefaultPrevented()){if(er.shiftKey)return;er.preventDefault(),er.stopImmediatePropagation(),Wr(it,Zt)}})},wa=function(it){var Zt=function(){return it.execCommand("mceNonBreaking")};it.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:Zt}),it.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:Zt})};function sa(){bo.add("nonbreaking",function(it){tr(it),wa(it),en(it)})}sa()})();(function(){var bo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gn=tinymce.util.Tools.resolve("tinymce.Env"),Ta=function(it){return it.getParam("pagebreak_separator","<!-- pagebreak -->")},ra=function(it){return it.getParam("pagebreak_split_block",!1)},Fn="mce-pagebreak",Wr=function(it){var Zt='<img src="'+Gn.transparentSrc+'" class="'+Fn+'" data-mce-resize="false" data-mce-placeholder />';return it?"<p>"+Zt+"</p>":Zt},tr=function(it){var Zt=Ta(it),er=function(){return ra(it)},Mt=new RegExp(Zt.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(Ye){return"\\"+Ye}),"gi");it.on("BeforeSetContent",function(Ye){Ye.content=Ye.content.replace(Mt,Wr(er()))}),it.on("PreInit",function(){it.serializer.addNodeFilter("img",function(Ye){for(var Nn=Ye.length,vt,dn;Nn--;)if(vt=Ye[Nn],dn=vt.attr("class"),dn&&dn.indexOf(Fn)!==-1){var ve=vt.parent;if(it.schema.getBlockElements()[ve.name]&&er()){ve.type=3,ve.value=Zt,ve.raw=!0,vt.remove();continue}vt.type=3,vt.value=Zt,vt.raw=!0}})})},kr=function(it){it.addCommand("mcePageBreak",function(){it.insertContent(Wr(ra(it)))})},en=function(it){it.on("ResolveName",function(Zt){Zt.target.nodeName==="IMG"&&it.dom.hasClass(Zt.target,Fn)&&(Zt.name="pagebreak")})},wa=function(it){var Zt=function(){return it.execCommand("mcePageBreak")};it.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:Zt}),it.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:Zt})};function sa(){bo.add("pagebreak",function(it){kr(it),wa(it),tr(it),en(it)})}sa()})();export{cj as t};
