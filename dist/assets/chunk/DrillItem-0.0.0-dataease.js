import{o as V,n as E,j as $}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./index-0.0.0-dataease.js";import{E as F,a as Z,b as W}from"./el-dropdown-menu-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import"./el-dropdown-item-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import{d as G,r as H,t as J,w as K,o as L,f as u,O as q,j as t,i as o,S as _,g as p,P as s,a3 as k,a4 as i,u as e,_ as f,a8 as Q,T as U,W as X,l as Y}from"./vue-0.0.0-dataease.js";import{i as z}from"./icon_delete-trash_outlined-0.0.0-dataease.js";import{i as ee}from"./icon_down_outlined-1-0.0.0-dataease.js";import{i as j,a as te,b as oe}from"./icon_sort_outlined-0.0.0-dataease.js";import{i as ne}from"./icon_right_outlined-0.0.0-dataease.js";import{i as x}from"./icon_done_outlined-0.0.0-dataease.js";import{i as se}from"./icon_edit_outlined-0.0.0-dataease.js";import{g as ae}from"./utils-0.0.0-dataease.js";import{f as w}from"./attr-0.0.0-dataease23.js";import{i as ie}from"./field-list-0.0.0-dataease.js";import{E as ce}from"./index-0.0.0-dataease4.js";import{E as le}from"./index-0.0.0-dataease6.js";import{_ as re}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";import"./index-0.0.0-dataease3.js";const de={class:"item-style"},me={style:{display:"flex",color:"#646a73"}},ue={class:"item-name"},_e={class:"inner-dropdown-menu menu-item-padding"},pe={class:"menu-item-content"},fe={class:"summary-span-item"},ye=G({__name:"DrillItem",props:{param:{type:Object,required:!1},item:{type:Object,required:!0},chart:{type:Object,required:!0},index:{type:Number,required:!0},dimensionData:{type:Array,required:!0},quotaData:{type:Array,required:!0},themes:{type:String,default:"dark"}},emits:["onDimensionItemRemove","onCustomSort","onDimensionItemChange","onNameEdit","editSortPriority"],setup(l,{emit:A}){const{t:d}=V(),b=H("success"),c=l,g=A,{item:n}=J(c);K([()=>c.dimensionData,()=>c.item,()=>c.chart.type],()=>{T()},{deep:!0});const B=m=>{if(m)switch(m.type){case"rename":M();break;case"remove":I();break;case"sortPriority":g("editSortPriority");break}},D=m=>({type:m}),I=()=>{n.value.index=c.index,g("onDimensionItemRemove",n.value)},T=()=>{b.value=ae(c.dimensionData,c.quotaData,c.item)},M=()=>{n.value.index=c.index,n.value.renameType="drillFields",g("onNameEdit",n.value)},O=m=>{if(m.type==="custom_sort"){const y={index:c.index,sort:m.type};g("onCustomSort",y)}else n.value.index=c.index,n.value.sort=m.type,n.value.customSort=[],delete n.value.axisType,g("onDimensionItemChange",n.value)},v=m=>({type:m});return L(()=>{T()}),(m,y)=>{const r=E,a=$,P=ce,R=le,h=F,C=Z,S=W,N=E;return u(),q("span",de,[t(S,{effect:l.themes,trigger:"click",size:"mini",onCommand:B},{dropdown:o(()=>[t(C,{effect:l.themes,class:_(["drop-style",l.themes==="dark"?"dark-dimension-quota":""])},{default:o(()=>[l.index!==0?(u(),p(h,{key:0,onClick:y[0]||(y[0]=Q(()=>{},["prevent"]))},{default:o(()=>[t(S,{effect:l.themes,"popper-class":"data-dropdown_popper_mr9",placement:"right-start",style:{width:"100%",height:"100%"},onCommand:O},{dropdown:o(()=>[t(C,{effect:l.themes,class:_(["drop-style sub",l.themes==="dark"?"dark-dimension-quota":""])},{default:o(()=>[t(h,{class:"menu-item-padding",command:v("none")},{default:o(()=>[s("span",{class:_(["sub-menu-content",e(n).sort==="none"?"content-active":""])},[k(i(e(d)("chart.none"))+" ",1),t(a,{class:"sub-menu-content--icon"},{default:o(()=>[e(n).sort==="none"?(u(),p(r,{key:0,name:"icon_done_outlined"},{default:o(()=>[t(e(x),{class:"svg-icon"})]),_:1})):f("",!0)]),_:1})],2)]),_:1},8,["command"]),t(h,{class:"menu-item-padding",command:v("asc")},{default:o(()=>[s("span",{class:_(["sub-menu-content",e(n).sort==="asc"?"content-active":""])},[k(i(e(d)("chart.asc"))+" ",1),t(a,{class:"sub-menu-content--icon"},{default:o(()=>[e(n).sort==="asc"?(u(),p(r,{key:0,name:"icon_done_outlined"},{default:o(()=>[t(e(x),{class:"svg-icon"})]),_:1})):f("",!0)]),_:1})],2)]),_:1},8,["command"]),t(h,{class:"menu-item-padding",command:v("desc")},{default:o(()=>[s("span",{class:_(["sub-menu-content",e(n).sort==="desc"?"content-active":""])},[k(i(e(d)("chart.desc"))+" ",1),t(a,{class:"sub-menu-content--icon"},{default:o(()=>[e(n).sort==="desc"?(u(),p(r,{key:0,name:"icon_done_outlined"},{default:o(()=>[t(e(x),{class:"svg-icon"})]),_:1})):f("",!0)]),_:1})],2)]),_:1},8,["command"]),t(h,{class:"menu-item-padding",command:v("custom_sort")},{default:o(()=>[s("span",{class:_(["sub-menu-content",e(n).sort==="custom_sort"?"content-active":""])},[k(i(e(d)("chart.custom_sort"))+i(e(d)("chart.sort"))+" ",1),t(a,{class:"sub-menu-content--icon"},{default:o(()=>[e(n).sort==="custom_sort"?(u(),p(r,{key:0,name:"icon_done_outlined"},{default:o(()=>[t(e(x),{class:"svg-icon"})]),_:1})):f("",!0)]),_:1})],2)]),_:1},8,["command"])]),_:1},8,["effect","class"])]),default:o(()=>[s("span",_e,[s("span",pe,[t(a,null,{default:o(()=>[t(r,{name:"icon_sort_outlined"},{default:o(()=>[t(e(j),{class:"svg-icon"})]),_:1})]),_:1}),s("span",null,i(e(d)("chart.sort")),1),s("span",fe,"("+i(e(d)("chart."+c.item.sort))+")",1)]),t(a,null,{default:o(()=>[t(r,{name:"icon_right_outlined"},{default:o(()=>[t(e(ne),{class:"svg-icon"})]),_:1})]),_:1})])]),_:1},8,["effect"])]),_:1})):f("",!0),t(h,{class:"menu-item-padding",command:D("rename")},{default:o(()=>[t(a,null,{default:o(()=>[t(N,{name:"icon_edit_outlined"},{default:o(()=>[t(e(se),{class:"svg-icon"})]),_:1})]),_:1}),s("span",null,i(e(d)("chart.show_name_set")),1)]),_:1},8,["command"]),t(h,{class:"menu-item-padding",divided:"",command:D("remove")},{default:o(()=>[t(a,null,{default:o(()=>[t(N,{name:"icon_delete-trash_outlined"},{default:o(()=>[t(e(z),{class:"svg-icon"})]),_:1})]),_:1}),s("span",null,i(e(d)("chart.delete")),1)]),_:1},8,["command"])]),_:1},8,["effect","class"])]),default:o(()=>[t(R,{class:_(["item-axis father",["editor-"+c.themes,`${l.themes}_icon-right`]]),style:U({backgroundColor:b.value+"0a",border:"1px solid "+b.value})},{default:o(()=>[s("span",me,[l.index!==0?(u(),q(X,{key:0},[e(n).sort==="asc"?(u(),p(a,{key:0},{default:o(()=>[t(r,{name:"icon_sort-a-to-z_outlined"},{default:o(()=>[t(e(te),{class:"svg-icon"})]),_:1})]),_:1})):f("",!0),e(n).sort==="desc"?(u(),p(a,{key:1},{default:o(()=>[t(r,{name:"icon_sort-z-to-a_outlined"},{default:o(()=>[t(e(oe),{class:"svg-icon"})]),_:1})]),_:1})):f("",!0),e(n).sort==="custom_sort"?(u(),p(a,{key:2},{default:o(()=>[t(r,{name:"icon_sort_outlined"},{default:o(()=>[t(e(j),{class:"svg-icon"})]),_:1})]),_:1})):f("",!0)],64)):f("",!0),t(a,null,{default:o(()=>[t(r,{className:`field-icon-${e(w)[[2,3].includes(e(n).deType)?2:0]}`},{default:o(()=>[(u(),p(Y(e(ie)[e(w)[e(n).deType]]),{class:_(["svg-icon",`field-icon-${e(w)[[2,3].includes(e(n).deType)?2:0]}`])},null,8,["class"]))]),_:1},8,["className"])]),_:1})]),t(P,{effect:l.themes||"dark",placement:"top"},{content:o(()=>[s("table",null,[s("tbody",null,[s("tr",null,[s("td",null,i(e(d)("dataset.field_origin_name")),1),y[1]||(y[1]=s("td",null,":",-1)),s("td",null,i(e(n).name),1)]),s("tr",null,[s("td",null,i(e(d)("chart.show_name")),1),y[2]||(y[2]=s("td",null,":",-1)),s("td",null,i(e(n).chartShowName?e(n).chartShowName:e(n).name),1)])])])]),default:o(()=>[s("span",{class:_(["item-span-style",{"sort-status":l.index!==0&&e(n).sort!=="none"}])},[s("span",ue,i(e(n).chartShowName?e(n).chartShowName:e(n).name),1)],2)]),_:1},8,["effect"]),t(a,{class:"child remove-icon",size:"14px"},{default:o(()=>[t(r,{name:"icon_delete-trash_outlined","class-name":"inner-class"},{default:o(()=>[t(e(z),{onClick:I,class:"svg-icon inner-class"})]),_:1})]),_:1}),t(a,{class:"child",style:{position:"absolute",top:"7px",right:"10px",color:"#a6a6a6",cursor:"pointer"}},{default:o(()=>[t(r,{name:"icon_down_outlined-1"},{default:o(()=>[t(e(ee),{class:"svg-icon"})]),_:1})]),_:1})]),_:1},8,["class","style"])]),_:1},8,["effect"])])}}});const Ge=re(ye,[["__scopeId","data-v-5d20d9c7"]]);export{Ge as default};
