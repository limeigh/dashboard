import{o as v}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";function M(e,s,t){for(var l=[],a=Math.max(e.length,s.length),n=0,r=0;r<a||n;){var i=r<e.length?e[r]:0,u=r<s.length?s[r]:0,Y=n+i+u;l.push(Y%t),n=Math.floor(Y/t),r++}return l}function d(e,s,t){if(e<0)return null;if(e==0)return[];for(var l=[],a=s;e&1&&(l=M(l,a,t)),e=e>>1,e!==0;)a=M(a,a,t);return l}function c(e,s){for(var t=e.split(""),l=[],a=t.length-1;a>=0;a--){var n=parseInt(t[a],s);if(isNaN(n))return null;l.push(n)}return l}function h(e,s,t){var l=c(e,s);if(l===null)return null;for(var a=[],n=[1],r=0;r<l.length;r++)l[r]&&(a=M(a,d(l[r],n,t),t)),n=d(s,n,t);for(var i="",r=a.length-1;r>=0;r--)i+=a[r].toString(t);return i}function g(e){return e.substring(0,2)==="0x"&&(e=e.substring(2)),e=e.toLowerCase(),h(e,16,10)}class D{constructor(s){s=s||{},this.seq=0,this.mid=(s.mid||1)%1023,this.offset=s.offset||0,this.lastTime=0}generate(){const s=Date.now(),t=(s-this.offset).toString(2);this.lastTime==s?(this.seq++,this.seq>4095&&(this.seq=0)):this.seq=0,this.lastTime=s;let l=this.seq.toString(2),a=this.mid.toString(2);for(;l.length<12;)l="0"+l;for(;a.length<10;)a="0"+a;const n=t+a+l;let r="";for(let i=n.length;i>0;i-=4)r=parseInt(n.substring(i-4,i),2).toString(16)+r;return g(r)}}const m=new D,{t:o}=v(),T=()=>m.generate(),E=(e,s)=>{if(!e||e===-1)return"-";const t=new Date(e),l=t.getFullYear();let a=t.getMonth()+1;a=a<10?"0"+a:a;let n=t.getDate();n=n<10?"0"+n:n;let r=t.getHours();r=r<10?"0"+r:r;let i=t.getMinutes();i=i<10?"0"+i:i;let u=t.getSeconds();u=u<10?"0"+u:u;let Y=l+"-"+a+"-"+n+" "+r+":"+i+":"+u;if(s===!0){const f=t.getMilliseconds();Y+=":"+f}return Y},H=[{label:o("dataset.scope_edit"),value:"EDIT"},{label:o("dataset.scope_all"),value:"ALLSCOPE"}],p=[{label:o("dataset.text"),value:"TEXT"},{label:o("dataset.value"),value:"LONG"},{label:o("dataset.value")+"("+o("dataset.float")+")",value:"DOUBLE"},{label:o("dataset.time_year"),value:"DATETIME-YEAR"},{label:o("dataset.time_year_month"),value:"DATETIME-YEAR-MONTH",children:[{value:"YYYY-MM",label:"YYYY-MM"},{value:"YYYY/MM",label:"YYYY/MM"}]},{label:o("dataset.time_year_month_day"),value:"DATETIME-YEAR-MONTH-DAY",children:[{value:"YYYY-MM-DD",label:"YYYY-MM-DD"},{value:"YYYY/MM/DD",label:"YYYY/MM/DD"}]},{label:o("dataset.time_all"),value:"DATETIME",children:[{value:"YYYY-MM-DD HH:mm:ss",label:"YYYY-MM-DD HH:MI:SS"},{value:"YYYY/MM/DD HH:mm:ss",label:"YYYY/MM/DD HH:MI:SS"}]}],y=(e,s)=>{let t=s;t=t+"_copy";for(let l=0;l<e.length;l++)e[l].name===t&&(t=y(e,t));return t},w=["yyyy-MM-dd","yyyy/MM/dd","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss","custom"];export{w as a,y as b,H as d,p as f,T as g,E as t};
