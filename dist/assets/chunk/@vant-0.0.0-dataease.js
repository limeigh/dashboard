import{u as g,i as N,j as k,k as L,r as v,l as E,b as C,n as R,f as P,g as _,m as A,w as M,p as O,q as S,s as D}from"./@vue-0.0.0-dataease.js";var l=typeof window<"u";function x(e){return l?requestAnimationFrame(e):-1}function q(e){l&&cancelAnimationFrame(e)}function z(e){x(()=>x(e))}var I=e=>e===window,y=(e,n)=>({top:0,left:0,right:e,bottom:n,width:e,height:n}),U=e=>{const n=g(e);if(I(n)){const t=n.innerWidth,i=n.innerHeight;return y(t,i)}return n!=null&&n.getBoundingClientRect?n.getBoundingClientRect():y(0,0)};function J(e){const n=N(e,null);if(n){const t=O(),{link:i,unlink:r,internalChildren:o}=n;i(t),k(()=>r(t));const s=L(()=>o.indexOf(t));return{parent:n,index:s}}return{parent:null,index:v(-1)}}function B(e){const n=[],t=i=>{Array.isArray(i)&&i.forEach(r=>{var o;D(r)&&(n.push(r),(o=r.component)!=null&&o.subTree&&(n.push(r.component.subTree),t(r.component.subTree.children)),r.children&&t(r.children))})};return t(e),n}var b=(e,n)=>{const t=e.indexOf(n);return t===-1?e.findIndex(i=>n.key!==void 0&&n.key!==null&&i.type===n.type&&i.key===n.key):t};function W(e,n,t){const i=B(e.subTree.children);t.sort((o,s)=>b(i,o.vnode)-b(i,s.vnode));const r=t.map(o=>o.proxy);n.sort((o,s)=>{const u=r.indexOf(o),a=r.indexOf(s);return u-a})}function K(e){const n=E([]),t=E([]),i=O();return{children:n,linkChildren:o=>{S(e,Object.assign({link:a=>{a.proxy&&(t.push(a),n.push(a.proxy),W(i,n,t))},unlink:a=>{const c=t.indexOf(a);n.splice(c,1),t.splice(c,1)},children:n,internalChildren:t},o))}}}function Y(e){let n;C(()=>{e(),R(()=>{n=!0})}),P(()=>{n&&e()})}function G(e,n,t={}){if(!l)return;const{target:i=window,passive:r=!1,capture:o=!1}=t;let s=!1,u;const a=f=>{if(s)return;const d=g(f);d&&!u&&(d.addEventListener(e,n,{capture:o,passive:r}),u=!0)},c=f=>{if(s)return;const d=g(f);d&&u&&(d.removeEventListener(e,n,o),u=!1)};k(()=>c(i)),_(()=>c(i)),Y(()=>a(i));let h;return A(i)&&(h=M(i,(f,d)=>{c(d),a(f)})),()=>{h==null||h(),c(i),s=!0}}var p,m;function Q(){if(!p&&(p=v(0),m=v(0),l)){const e=()=>{p.value=window.innerWidth,m.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:p,height:m}}var V=/scroll|auto|overlay/i,T=l?window:void 0;function j(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function F(e,n=T){let t=e;for(;t&&t!==n&&j(t);){const{overflowY:i}=window.getComputedStyle(t);if(V.test(i))return t;t=t.parentNode}return n}function X(e,n=T){const t=v();return C(()=>{e.value&&(t.value=F(e.value,n))}),t}var w;function Z(){if(!w&&(w=v("visible"),l)){const e=()=>{w.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return w}var $=Symbol("van-field");export{$ as C,U as a,G as b,J as c,q as d,X as e,K as f,F as g,Z as h,z as i,Y as o,x as r,Q as u};
