import{t as f,b,s as y}from"./translate-0.0.0-dataease.js";import{i as n}from"./imgUtils-0.0.0-dataease.js";import"./chart-0.0.0-dataease.js";import{d as E}from"./dvMain-0.0.0-dataease.js";import{u as v,n as T}from"./canvasUtils-0.0.0-dataease.js";const u=E();function X(t,{dvModel:e,cellWidth:o,cellHeight:i,curGap:a,showPosition:h="preview"}){let r={};return e==="dashboard"&&!t.isPlayer?r={padding:a+"px!important",width:o*t.sizeX+"px",height:i*t.sizeY+"px",left:o*(t.x-1)+"px",top:i*(t.y-1)+"px"}:e==="dataV"&&T(t.canvasId)&&h==="preview"?r={padding:a+"px!important",width:f(t.groupStyle.width),height:f(t.groupStyle.height),top:f(t.groupStyle.top),left:f(t.groupStyle.left)}:r={padding:a+"px!important",width:t.style.width+"px",height:t.style.height+"px",left:t.style.left+"px",top:t.style.top+"px"},r}function Y(t,e,o){t.style.left=e*(t.x-1),t.style.top=o*(t.y-1),t.style.width=e*t.sizeX,t.style.height=o*t.sizeY}const z=["fontSize","width","height","top","left","borderWidth","letterSpacing","borderRadius"];function B(t,e=[]){const o={};return Object.keys(t).forEach(i=>{e.includes(i)||(i!="rotate"?t[i]!==""&&(o[i]=t[i],z.includes(i)&&(o[i]+="px")):o.transform=i+"("+t[i]+"deg)")}),o}function D(t){if(t={...t},t.rotate!=0){const e=t.width*b(t.rotate)+t.height*y(t.rotate),o=(t.width-e)/2;t.left+=o,t.right=t.left+e;const i=t.height*b(t.rotate)+t.width*y(t.rotate),a=(i-t.height)/2;t.top-=a,t.bottom=t.top+i,t.width=e,t.height=i}else t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function G(t,e="canvas-main"){const{backgroundColorSelect:o,background:i,backgroundColor:a,backgroundImageEnable:h,fontSize:r,mobileSetting:d,fontFamily:s}=t,l={fontSize:r+"px",color:t.color};if(v(e)){let g=u.dvInfo.type==="dashboard"?"#f5f6f7":"#1a1a1a";if(o&&a&&(g=a),h?l.background=`url(${n(i)}) no-repeat ${g}`:l["background-color"]=g,u.mobileInPc&&(d!=null&&d.customSetting)){const{backgroundColorSelect:p,color:S,backgroundImageEnable:w,background:c}=d;p&&w&&typeof c=="string"?l.background=`url(${n(c)}) no-repeat ${S}`:p?l["background-color"]=S:w&&(l.background=`url(${n(c)}) no-repeat`)}l["font-family"]=s+"!important"}return l}function U(t){const e=t.style;t.propValue.forEach(o=>{const i={...o.style};o.groupStyle.left=(i.left-e.left)/e.width,o.groupStyle.top=(i.top-e.top)/e.height,o.groupStyle.width=i.width/e.width,o.groupStyle.height=i.height/e.height,o.style.left=o.style.left-e.left,o.style.top=o.style.top-e.top})}function k(t){var h;const e={...t.style},o=e.showTabTitle?46:0,i=u.editMode==="edit"?"component"+t.id:"enlarge-inner-content"+t.id,a=document.getElementById(i);a?(e.height=a.clientHeight-o,e.width=a.clientWidth):e.height=e.height-o,(h=t.propValue)==null||h.forEach(r=>{var d;(d=r.componentData)==null||d.forEach(s=>{x(s,e),["Group"].includes(s.component)&&A(s)})})}function x(t,e){const o=t.groupStyle;t.style.left=e.width*o.left,t.style.top=e.height*o.top,t.style.width=e.width*o.width,t.style.height=e.height*o.height}function W(t){var o;const e={width:t.style.width,height:t.style.height-(t.style.showTabTitle?46:0)};(o=t.propValue)==null||o.forEach(i=>{var a;(a=i.componentData)==null||a.forEach(h=>{I(h,e)})})}function I(t,e){const o={...t.style};t.groupStyle.left=o.left/e.width,t.groupStyle.top=o.top/e.height,t.groupStyle.width=o.width/e.width,t.groupStyle.height=o.height/e.height}function A(t){if(t.component==="Group"){const e=t.style;t.propValue.forEach(o=>{x(o,e)})}else k(t)}function j(t,e){t.style.top=0,t.style.left=0;const o={...e.style};o.height=o.height-(e.showTabTitle?46:0),I(t,o)}export{I as a,A as b,U as c,x as d,G as e,X as f,D as g,B as h,j as i,Y as s,W as t};
