import{l as x,q as B,ae as q,F as U,a9 as $,ay as Z,V as j,n as S,O as G}from"./index-0.0.0-dataease.js";import{k as H,a3 as E,ac as D,ai as J}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{o as K}from"./lodash-0.0.0-dataease.js";import{r as c,y as T,w as h,n as Q,o as W,q as X}from"./vue-0.0.0-dataease.js";const Y=x({center:Boolean,alignCenter:Boolean,closeIcon:{type:H},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),te={close:()=>!0},ae=x({...Y,appendToBody:Boolean,appendTo:{type:B([String,Object]),default:"body"},beforeClose:{type:B(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),se={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[E]:e=>q(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ue=(e,l)=>{var m;const n=X().emit,{nextZIndex:C}=U();let p="";const F=D(),I=D(),t=c(!1),r=c(!1),i=c(!1),d=c((m=e.zIndex)!=null?m:C());let s,u;const O=$("namespace",Z),P=T(()=>{const o={},a=`--${O.value}-dialog`;return e.fullscreen||(e.top&&(o[`${a}-margin-top`]=e.top),e.width&&(o[`${a}-width`]=j(e.width))),o}),k=T(()=>e.alignCenter?{display:"flex"}:{});function w(){n("opened")}function A(){n("closed"),n(E,!1),e.destroyOnClose&&(i.value=!1)}function L(){n("close")}function g(){u==null||u(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=S(()=>b(),e.openDelay):b()}function f(){s==null||s(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=S(()=>v(),e.closeDelay):v()}function y(){function o(a){a||(r.value=!0,t.value=!1)}e.beforeClose?e.beforeClose(o):f()}function N(){e.closeOnClickModal&&y()}function b(){G&&(t.value=!0)}function v(){t.value=!1}function M(){n("openAutoFocus")}function V(){n("closeAutoFocus")}function z(o){var a;((a=o.detail)==null?void 0:a.focusReason)==="pointer"&&o.preventDefault()}e.lockScroll&&J(t);function _(){e.closeOnPressEscape&&y()}return h(()=>e.modelValue,o=>{o?(r.value=!1,g(),i.value=!0,d.value=K(e.zIndex)?C():d.value++,Q(()=>{n("open"),l.value&&(l.value.parentElement.scrollTop=0,l.value.parentElement.scrollLeft=0,l.value.scrollTop=0)})):t.value&&f()}),h(()=>e.fullscreen,o=>{l.value&&(o?(p=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=p)}),W(()=>{e.modelValue&&(t.value=!0,i.value=!0,g())}),{afterEnter:w,afterLeave:A,beforeLeave:L,handleClose:y,onModalClick:N,close:f,doClose:v,onOpenAutoFocus:M,onCloseAutoFocus:V,onCloseRequested:_,onFocusoutPrevented:z,titleId:F,bodyId:I,closed:r,style:P,overlayDialogStyle:k,rendered:i,visible:t,zIndex:d}};export{te as a,ae as b,se as c,Y as d,ue as u};
