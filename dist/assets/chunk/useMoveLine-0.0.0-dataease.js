import{a as b,g as l,u as p}from"./index-0.0.0-dataease.js";import{r as v,b as y,e as f}from"./@vue-0.0.0-dataease.js";const E=r=>{const{wsCache:a}=b("localStorage"),t=v(a.get(l(r))||280);a.set(l("current-collapse_bar"),t.value);const u=()=>{document.querySelector(".sidebar-move-line")&&(document.querySelector(".sidebar-move-line").className="sidebar-move-line dragging"),document.addEventListener("mousemove",m),document.addEventListener("mouseup",i),document.querySelector("body").style["user-select"]="none"},c=()=>{a.set(l("current-collapse_bar"),t.value),p().emitter.emit("current-collapse_bar")},m=s=>{const e=s.clientX;if(e>401||e<279){t.value=Math.max(Math.min(401,e),279),o.style.left=t.value-5+"px",c();return}o.style.left=t.value-5+"px",t.value=e,c()},i=()=>{document.querySelector(".sidebar-move-line")&&(document.querySelector(".sidebar-move-line").className="sidebar-move-line"),document.querySelector("body").style["user-select"]="auto",a.set(l(r),t.value),document.removeEventListener("mousemove",m)},n=v(),o=document.createElement("div");return o.className="sidebar-move-line",o.style.top="0",o.style.left=t.value-5+"px",o.addEventListener("mousedown",u),y(()=>{var s,e;(e=((s=n.value)==null?void 0:s.$el)||n.value)==null||e.appendChild(o)}),f(()=>{var s,e,d;i(),o.removeEventListener("mousedown",u),(d=(e=((s=n.value)==null?void 0:s.$el)||n.value)==null?void 0:e.removeChild)==null||d.call(e,o),t.value=null}),{width:t,node:n}};export{E as u};
