import{r as z,aG as He,d as j,X as be,y as x,w as P,o as me,b as ke,c as Ne,a as We,j as S,n as N,L as we,x as Ye,G as Xe,S as Ue,aH as Fe,T as Ke,R as Ve,U as Ze,a2 as je,q as Ge}from"./vue-0.0.0-dataease.js";import{J as Re,K as ve,H as qe,L as Je,c as G,t as M,n as W,f as V,g as $e,F as Be,G as Qe,M as pe,d as _e,N as Q,D as he,p as et,a as ue,w as le,m as de,k as tt,C as at,l as nt,v as lt,A as ye,i as ge,O as it,P as Te,E as Se,Q as ot,u as Ae,e as st,s as ct,j as Ce}from"./index-0.0.0-dataease29.js";import{u as rt,a as p,b as Pe,c as ut,r as dt,d as ft}from"./use-route-0.0.0-dataease.js";import{o as ze,a as vt}from"./index-0.0.0-dataease30.js";import{u as ht,S as gt}from"./index-0.0.0-dataease33.js";function bt(e,i,c){let s,r=0;const t=e.scrollLeft,d=c===0?1:Math.round(c*1e3/16);let u=t;function f(){Re(s)}function v(){u+=(i-t)/d,e.scrollLeft=u,++r<d&&(s=ve(v))}return v(),f}function mt(e,i,c,s){let r,t=qe(e);const d=t<i,u=c===0?1:Math.round(c*1e3/16),f=(i-t)/u;function v(){Re(r)}function l(){t+=f,(d&&t>i||!d&&t<i)&&(t=i),Je(e,t),d&&t<i||!d&&t>i?r=ve(l):s&&(r=ve(s))}return l(),v}function wt(){const e=z([]),i=[];return He(()=>{e.value=[]}),[e,s=>(i[s]||(i[s]=r=>{e.value[s]=r}),i[s])]}const[Ee,ae]=G("swipe"),yt={loop:M,width:W,height:W,vertical:Boolean,autoplay:V(0),duration:V(500),touchable:M,lazyRender:Boolean,initialSwipe:V(0),indicatorColor:String,showIndicators:M,stopPropagation:M},Oe=Symbol(Ee);var Tt=j({name:Ee,props:yt,emits:["change","dragStart","dragEnd"],setup(e,{emit:i,slots:c}){const s=z(),r=z(),t=be({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let d=!1;const u=rt(),{children:f,linkChildren:v}=$e(Oe),l=x(()=>f.length),m=x(()=>t[e.vertical?"height":"width"]),C=x(()=>e.vertical?u.deltaY.value:u.deltaX.value),I=x(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-m.value*l.value:0),w=x(()=>m.value?Math.ceil(Math.abs(I.value)/m.value):l.value),k=x(()=>l.value*m.value),g=x(()=>(t.active+l.value)%l.value),Z=x(()=>{const n=e.vertical?"vertical":"horizontal";return u.direction.value===n}),b=x(()=>{const n={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(m.value){const y=e.vertical?"height":"width",T=e.vertical?"width":"height";n[y]=`${k.value}px`,n[T]=e[T]?`${e[T]}px`:""}return n}),Y=n=>{const{active:y}=t;return n?e.loop?ue(y+n,-1,l.value):ue(y+n,0,w.value):y},X=(n,y=0)=>{let T=n*m.value;e.loop||(T=Math.min(T,-I.value));let _=y-T;return e.loop||(_=ue(_,I.value,0)),_},$=({pace:n=0,offset:y=0,emitChange:T})=>{if(l.value<=1)return;const{active:_}=t,a=Y(n),o=X(a,y);if(e.loop){if(f[0]&&o!==I.value){const h=o<I.value;f[0].setOffset(h?k.value:0)}if(f[l.value-1]&&o!==0){const h=o>0;f[l.value-1].setOffset(h?-k.value:0)}}t.active=a,t.offset=o,T&&a!==_&&i("change",g.value)},O=()=>{t.swiping=!0,t.active<=-1?$({pace:l.value}):t.active>=l.value&&$({pace:-l.value})},D=()=>{O(),u.reset(),Q(()=>{t.swiping=!1,$({pace:-1,emitChange:!0})})},q=()=>{O(),u.reset(),Q(()=>{t.swiping=!1,$({pace:1,emitChange:!0})})};let H;const B=()=>clearTimeout(H),U=()=>{B(),+e.autoplay>0&&l.value>1&&(H=setTimeout(()=>{q(),U()},+e.autoplay))},E=(n=+e.initialSwipe)=>{if(!s.value)return;const y=()=>{var T,_;if(!he(s)){const a={width:s.value.offsetWidth,height:s.value.offsetHeight};t.rect=a,t.width=+((T=e.width)!=null?T:a.width),t.height=+((_=e.height)!=null?_:a.height)}l.value&&(n=Math.min(l.value-1,n),n===-1&&(n=l.value-1)),t.active=n,t.swiping=!0,t.offset=X(n),f.forEach(a=>{a.setOffset(0)}),U()};he(s)?N().then(y):y()},F=()=>E(t.active);let J;const ie=n=>{!e.touchable||n.touches.length>1||(u.start(n),d=!1,J=Date.now(),B(),O())},oe=n=>{e.touchable&&t.swiping&&(u.move(n),Z.value&&(!e.loop&&(t.active===0&&C.value>0||t.active===l.value-1&&C.value<0)||(et(n,e.stopPropagation),$({offset:C.value}),d||(i("dragStart",{index:g.value}),d=!0))))},ee=()=>{if(!e.touchable||!t.swiping)return;const n=Date.now()-J,y=C.value/n;if((Math.abs(y)>.25||Math.abs(C.value)>m.value/2)&&Z.value){const _=e.vertical?u.offsetY.value:u.offsetX.value;let a=0;e.loop?a=_>0?C.value>0?-1:1:0:a=-Math[C.value>0?"ceil":"floor"](C.value/m.value),$({pace:a,emitChange:!0})}else C.value&&$({pace:0});d=!1,t.swiping=!1,i("dragEnd",{index:g.value}),U()},se=(n,y={})=>{O(),u.reset(),Q(()=>{let T;e.loop&&n===l.value?T=t.active===0?0:n:T=n%l.value,y.immediate?Q(()=>{t.swiping=!1}):t.swiping=!1,$({pace:T-t.active,emitChange:!0})})},ce=(n,y)=>{const T=y===g.value,_=T?{backgroundColor:e.indicatorColor}:void 0;return S("i",{style:_,class:ae("indicator",{active:T})},null)},re=()=>{if(c.indicator)return c.indicator({active:g.value,total:l.value});if(e.showIndicators&&l.value>1)return S("div",{class:ae("indicators",{vertical:e.vertical})},[Array(l.value).fill("").map(ce)])};return p({prev:D,next:q,state:t,resize:F,swipeTo:se}),v({size:m,props:e,count:l,activeIndicator:g}),P(()=>e.initialSwipe,n=>E(+n)),P(l,()=>E(t.active)),P(()=>e.autoplay,U),P([Be,Qe,()=>e.width,()=>e.height],F),P(pe(),n=>{n==="visible"?U():B()}),me(E),ke(()=>E(t.active)),ze(()=>E(t.active)),Ne(B),We(B),_e("touchmove",oe,{target:r}),()=>{var n;return S("div",{ref:s,class:ae()},[S("div",{ref:r,style:b.value,class:ae("track",{vertical:e.vertical}),onTouchstartPassive:ie,onTouchend:ee,onTouchcancel:ee},[(n=c.default)==null?void 0:n.call(c)]),re()])}}});const St=le(Tt),[Ct,xe]=G("tabs");var xt=j({name:Ct,props:{count:de(Number),inited:Boolean,animated:Boolean,duration:de(W),swipeable:Boolean,lazyRender:Boolean,currentIndex:de(Number)},emits:["change"],setup(e,{emit:i,slots:c}){const s=z(),r=u=>i("change",u),t=()=>{var u;const f=(u=c.default)==null?void 0:u.call(c);return e.animated||e.swipeable?S(St,{ref:s,loop:!1,class:xe("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[f]}):f},d=u=>{const f=s.value;f&&f.state.active!==u&&f.swipeTo(u,{immediate:!e.inited})};return P(()=>e.currentIndex,d),me(()=>{d(e.currentIndex)}),p({swipeRef:s}),()=>S("div",{class:xe("content",{animated:e.animated||e.swipeable})},[t()])}});const[Le,ne]=G("tabs"),It={type:tt("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:V(0),duration:V(.3),animated:Boolean,ellipsis:M,swipeable:Boolean,scrollspy:Boolean,offsetTop:V(0),background:String,lazyRender:M,showHeader:M,lineWidth:W,lineHeight:W,beforeChange:Function,swipeThreshold:V(5),titleActiveColor:String,titleInactiveColor:String},Me=Symbol(Le);var kt=j({name:Le,props:It,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:i,slots:c}){let s,r,t,d,u;const f=z(),v=z(),l=z(),m=z(),C=Pe(),I=at(f),[w,k]=wt(),{children:g,linkChildren:Z}=$e(Me),b=be({inited:!1,position:"",lineStyle:{},currentIndex:-1}),Y=x(()=>g.length>+e.swipeThreshold||!e.ellipsis||e.shrink),X=x(()=>({borderColor:e.color,background:e.background})),$=(a,o)=>{var h;return(h=a.name)!=null?h:o},O=x(()=>{const a=g[b.currentIndex];if(a)return $(a,b.currentIndex)}),D=x(()=>nt(e.offsetTop)),q=x(()=>e.sticky?D.value+s:0),H=a=>{const o=v.value,h=w.value;if(!Y.value||!o||!h||!h[b.currentIndex])return;const A=h[b.currentIndex].$el,R=A.offsetLeft-(o.offsetWidth-A.offsetWidth)/2;d&&d(),d=bt(o,R,a?0:+e.duration)},B=()=>{const a=b.inited;N(()=>{const o=w.value;if(!o||!o[b.currentIndex]||e.type!=="line"||he(f.value))return;const h=o[b.currentIndex].$el,{lineWidth:A,lineHeight:R}=e,L=h.offsetLeft+h.offsetWidth/2,K={width:ye(A),backgroundColor:e.color,transform:`translateX(${L}px) translateX(-50%)`};if(a&&(K.transitionDuration=`${e.duration}s`),ge(R)){const te=ye(R);K.height=te,K.borderRadius=te}b.lineStyle=K})},U=a=>{const o=a<b.currentIndex?-1:1;for(;a>=0&&a<g.length;){if(!g[a].disabled)return a;a+=o}},E=(a,o)=>{const h=U(a);if(!ge(h))return;const A=g[h],R=$(A,h),L=b.currentIndex!==null;b.currentIndex!==h&&(b.currentIndex=h,o||H(),B()),R!==e.active&&(i("update:active",R),L&&i("change",R,A.title)),t&&!e.scrollspy&&it(Math.ceil(Te(f.value)-D.value))},F=(a,o)=>{const h=g.findIndex((A,R)=>$(A,R)===a);E(h===-1?0:h,o)},J=(a=!1)=>{if(e.scrollspy){const o=g[b.currentIndex].$el;if(o&&I.value){const h=Te(o,I.value)-q.value;r=!0,u&&u(),u=mt(I.value,h,a?0:+e.duration,()=>{r=!1})}}},ie=(a,o,h)=>{const{title:A,disabled:R}=g[o],L=$(g[o],o);R||(ut(e.beforeChange,{args:[L],done:()=>{E(o),J()}}),dt(a)),i("clickTab",{name:L,title:A,event:h,disabled:R})},oe=a=>{t=a.isFixed,i("scroll",a)},ee=a=>{N(()=>{F(a),J(!0)})},se=()=>{for(let a=0;a<g.length;a++){const{top:o}=Se(g[a].$el);if(o>q.value)return a===0?0:a-1}return g.length-1},ce=()=>{if(e.scrollspy&&!r){const a=se();E(a)}},re=()=>{if(e.type==="line"&&g.length)return S("div",{class:ne("line"),style:b.lineStyle},null)},n=()=>{var a,o,h;const{type:A,border:R,sticky:L}=e,K=[S("div",{ref:L?void 0:l,class:[ne("wrap"),{[vt]:A==="line"&&R}]},[S("div",{ref:v,role:"tablist",class:ne("nav",[A,{shrink:e.shrink,complete:Y.value}]),style:X.value,"aria-orientation":"horizontal"},[(a=c["nav-left"])==null?void 0:a.call(c),g.map(te=>te.renderTitle(ie)),re(),(o=c["nav-right"])==null?void 0:o.call(c)])]),(h=c["nav-bottom"])==null?void 0:h.call(c)];return L?S("div",{ref:l},[K]):K},y=()=>{B(),N(()=>{var a,o;H(!0),(o=(a=m.value)==null?void 0:a.swipeRef.value)==null||o.resize()})};P(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],B),P(Be,y),P(()=>e.active,a=>{a!==O.value&&F(a)}),P(()=>g.length,()=>{b.inited&&(F(e.active),B(),N(()=>{H(!0)}))});const T=()=>{F(e.active,!0),N(()=>{b.inited=!0,l.value&&(s=Se(l.value).height),H(!0)})},_=(a,o)=>i("rendered",a,o);return p({resize:y,scrollTo:ee}),ke(B),ze(B),lt(T),ht(f,B),_e("scroll",ce,{target:I,passive:!0}),Z({id:C,props:e,setLine:B,scrollable:Y,onRendered:_,currentName:O,setTitleRefs:k,scrollIntoView:H}),()=>S("div",{ref:f,class:ne([e.type])},[e.showHeader?e.sticky?S(gt,{container:f.value,offsetTop:D.value,onScroll:oe},{default:()=>[n()]}):n():null,S(xt,{ref:m,count:g.length,inited:b.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:b.currentIndex,onChange:E},{default:()=>{var a;return[(a=c.default)==null?void 0:a.call(c)]}})])}});const Rt=Symbol(),De=Symbol(),$t=()=>Ye(De,null),Bt=e=>{const i=$t();we(Rt,e),we(De,x(()=>(i==null||i.value)&&e.value))},[_t,Ie]=G("tab"),At=j({name:_t,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:W,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:M},setup(e,{slots:i}){const c=x(()=>{const r={},{type:t,color:d,disabled:u,isActive:f,activeColor:v,inactiveColor:l}=e;d&&t==="card"&&(r.borderColor=d,u||(f?r.backgroundColor=d:r.color=d));const C=f?v:l;return C&&(r.color=C),r}),s=()=>{const r=S("span",{class:Ie("text",{ellipsis:!e.scrollable})},[i.title?i.title():e.title]);return e.dot||ge(e.badge)&&e.badge!==""?S(ot,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[r]}):r};return()=>S("div",{id:e.id,role:"tab",class:[Ie([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:c.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[s()])}}),[Pt,zt]=G("swipe-item");var Et=j({name:Pt,setup(e,{slots:i}){let c;const s=be({offset:0,inited:!1,mounted:!1}),{parent:r,index:t}=Ae(Oe);if(!r)return;const d=x(()=>{const v={},{vertical:l}=r.props;return r.size.value&&(v[l?"height":"width"]=`${r.size.value}px`),s.offset&&(v.transform=`translate${l?"Y":"X"}(${s.offset}px)`),v}),u=x(()=>{const{loop:v,lazyRender:l}=r.props;if(!l||c)return!0;if(!s.mounted)return!1;const m=r.activeIndicator.value,C=r.count.value-1,I=m===0&&v?C:m-1,w=m===C&&v?0:m+1;return c=t.value===m||t.value===I||t.value===w,c}),f=v=>{s.offset=v};return me(()=>{N(()=>{s.mounted=!0})}),p({setOffset:f}),()=>{var v;return S("div",{class:zt(),style:d.value},[u.value?(v=i.default)==null?void 0:v.call(i):null])}}});const Ot=le(Et),[Lt,fe]=G("tab"),Mt=st({},ft,{dot:Boolean,name:W,badge:W,title:String,disabled:Boolean,titleClass:ct,titleStyle:[String,Object],showZeroBadge:M});var Dt=j({name:Lt,props:Mt,setup(e,{slots:i}){const c=Pe(),s=z(!1),r=Ge(),{parent:t,index:d}=Ae(Me);if(!t)return;const u=()=>{var w;return(w=e.name)!=null?w:d.value},f=()=>{s.value=!0,t.props.lazyRender&&N(()=>{t.onRendered(u(),e.title)})},v=x(()=>{const w=u()===t.currentName.value;return w&&!s.value&&f(),w}),l=z(""),m=z("");Xe(()=>{const{titleClass:w,titleStyle:k}=e;l.value=w?Ue(w):"",m.value=k&&typeof k!="string"?Fe(Ke(k)):k});const C=w=>S(At,je({key:c,id:`${t.id}-${d.value}`,ref:t.setTitleRefs(d.value),style:m.value,class:l.value,isActive:v.value,controls:c,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:k=>w(r.proxy,d.value,k)},Ce(t.props,["type","color","shrink"]),Ce(e,["dot","badge","title","disabled","showZeroBadge"])),{title:i.title}),I=z(!v.value);return P(v,w=>{w?I.value=!1:Q(()=>{I.value=!0})}),P(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),Bt(v),p({id:c,renderTitle:C}),()=>{var w;const k=`${t.id}-${d.value}`,{animated:g,swipeable:Z,scrollspy:b,lazyRender:Y}=t.props;if(!i.default&&!g)return;const X=b||v.value;if(g||Z)return S(Ot,{id:c,role:"tabpanel",class:fe("panel-wrapper",{inactive:I.value}),tabindex:v.value?0:-1,"aria-hidden":!v.value,"aria-labelledby":k,"data-allow-mismatch":"attribute"},{default:()=>{var D;return[S("div",{class:fe("panel")},[(D=i.default)==null?void 0:D.call(i)])]}});const O=s.value||b||!Y?(w=i.default)==null?void 0:w.call(i):null;return Ve(S("div",{id:c,role:"tabpanel",class:fe("panel"),tabindex:X?0:-1,"aria-labelledby":k,"data-allow-mismatch":"attribute"},[O]),[[Ze,X]])}}});const Ht=le(Dt);var Kt=Ht;const Nt=le(kt);var Vt=Nt;export{Nt as T,Ht as a,Kt as b,Vt as s};
