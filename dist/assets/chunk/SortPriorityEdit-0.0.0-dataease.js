import{R as E,z as w}from"./index-0.0.0-dataease.js";import{n as L,j as S}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{i as v}from"./icon_drag_outlined-0.0.0-dataease.js";import{d as P}from"./vuedraggable-es-0.0.0-dataease.js";import{c as A}from"./index-0.0.0-dataease21.js";import{d as C,r as N,X as B,w as M,f as l,g as h,i as m,R as j,u as x,O as I,j as d,P as V,a4 as O}from"./vue-0.0.0-dataease.js";import{_ as D}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./chart-0.0.0-dataease.js";import"./chart-0.0.0-dataease2.js";import"./dataset-0.0.0-dataease.js";import"./app-0.0.0-dataease.js";import"./decimal-0.0.0-dataease.js";import"./antv-0.0.0-dataease.js";import"./index-0.0.0-dataease22.js";import"./pureFunctionsAny.generated-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./tslib.es6-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./el-col-0.0.0-dataease.js";import"./constants-0.0.0-dataease.js";import"./el-row-0.0.0-dataease.js";import"./_commonjs-dynamic-modules-0.0.0-dataease.js";const R=["title"],q={class:"item-span"},z=C({__name:"SortPriorityEdit",props:{chart:{type:Object,required:!0}},emits:["onPriorityChange"],setup(b,{emit:u}){const g=N(!1),r=B({sortList:[]}),_=b,y=u;M(()=>_.chart,()=>{f()},{deep:!0});const f=()=>{var c;const t=_.chart;(c=t.sortPriority)!=null&&c.length?r.sortList.splice(0,r.sortList.length,...t.sortPriority):r.sortList.splice(0,r.sortList.length);const p=A.getChartView(t.render,t.type);if(p){const s=p.axis,a=s==null?void 0:s.reduce((o,e)=>{let i;switch(e){case"xAxis":i=t.xAxis;break;case"yAxis":i=t.yAxis;break;case"xAxisExt":i=t.xAxisExt;break;case"yAxisExt":i=t.yAxisExt;break;case"extBubble":i=t.extBubble;break;case"flowMapEndName":i=t.flowMapEndName;break;case"flowMapStartName":i=t.flowMapStartName;break;case"extColor":i=t.extColor;break;case"extStack":i=t.extStack;break;case"drill":i=t.drillFields;break}return i==null||i.forEach(n=>{o[n.id]||(o[n.id]=n.chartShowName??n.name)}),o},{});r.sortList=r.sortList.reduce((o,e)=>(a[e.id]&&(e.name=a[e.id],o.push(e)),o),[]),Object.entries(a).forEach(([o,e])=>{r.sortList.find(i=>i.id===o)||r.sortList.push({id:o,name:e})})}},k=()=>{y("onPriorityChange",r.sortList)};return f(),(t,p)=>{const c=L,s=S,a=E,o=w;return l(),h(a,{height:"100%","max-height":"599px"},{default:m(()=>[j((l(),h(x(P),{list:r.sortList,animation:"300",class:"drag-list","item-key":"id",onUpdate:k},{item:m(({element:e})=>[(l(),I("span",{key:e.id,class:"item-dimension",title:e.name},[d(s,{class:"item-icon"},{default:m(()=>[d(c,{name:"icon_drag_outlined"},{default:m(()=>[d(x(v),{class:"svg-icon"})]),_:1})]),_:1}),V("span",q,O(e.name),1)],8,R))]),_:1},8,["list"])),[[o,g.value]])]),_:1})}}});const ht=D(z,[["__scopeId","data-v-1bb9f0bb"]]);export{ht as default};
