import{i as mt,B as K,G as St,O as vt}from"./index-0.0.0-dataease.js";import{H as dt,V as gt,a as Ot,I as ot,S as nt,u as Tt,l as et,R as p,c as ct,d as wt,e as rt,f as Et,B as yt,F as Mt,g as tt,A as st,h as Rt,C as it,E as It,j as Lt,k as xt}from"./el-virtual-list-0.0.0-dataease.js";import{c as bt,r as At}from"./raf-0.0.0-dataease.js";import{ao as _t}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{d as zt,r as $,y,u as a,o as Ct,Y as Ft,b as Nt,l as ft,h as H,W as Dt,C as ut,q as kt,n as Y,I as Wt}from"./vue-0.0.0-dataease.js";const $t={[dt]:"deltaX",[gt]:"deltaY"},Ht=({atEndEdge:r,atStartEdge:d,layout:S},b)=>{let M,h=0;const v=c=>c<0&&d.value||c>0&&r.value;return{hasReachedEdge:v,onWheel:c=>{bt(M);const O=c[$t[S.value]];v(h)&&v(h+O)||(h+=O,_t()||c.preventDefault(),M=At(()=>{b(h),h=0}))}}},qt=({name:r,getOffset:d,getItemSize:S,getItemOffset:b,getEstimatedTotalSize:M,getStartIndexForOffset:h,getStopIndexForStartIndex:v,initCache:g,clearCache:c,validateProps:O})=>zt({name:r??"ElVirtualList",props:Ot,emits:[ot,nt],setup(e,{emit:m,expose:R}){O(e);const j=kt(),C=mt("vl"),I=$(g(e,j)),F=Tt(),T=$(),q=$(),G=$(),n=$({isScrolling:!1,scrollDir:"forward",scrollOffset:K(e.initScrollOffset)?e.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:e.scrollbarAlwaysOn}),V=y(()=>{const{total:t,cache:s}=e,{isScrolling:l,scrollDir:u,scrollOffset:o}=a(n);if(t===0)return[0,0,0,0];const i=h(e,o,a(I)),f=v(e,i,o,a(I)),_=!l||u===yt?Math.max(1,s):1,z=!l||u===Mt?Math.max(1,s):1;return[Math.max(0,i-_),Math.max(0,Math.min(t-1,f+z)),i,f]}),w=y(()=>M(e,a(I))),L=y(()=>et(e.layout)),X=y(()=>[{position:"relative",[`overflow-${L.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:e.direction,height:K(e.height)?`${e.height}px`:e.height,width:K(e.width)?`${e.width}px`:e.width},e.style]),N=y(()=>{const t=a(w),s=a(L);return{height:s?"100%":`${t}px`,pointerEvents:a(n).isScrolling?"none":void 0,width:s?`${t}px`:"100%"}}),A=y(()=>L.value?e.width:e.height),{onWheel:B}=Ht({atStartEdge:y(()=>n.value.scrollOffset<=0),atEndEdge:y(()=>n.value.scrollOffset>=w.value),layout:y(()=>e.layout)},t=>{var s,l;(l=(s=G.value).onMouseUp)==null||l.call(s),E(Math.min(n.value.scrollOffset+t,w.value-A.value))});St(T,"wheel",B,{passive:!1});const D=()=>{const{total:t}=e;if(t>0){const[o,i,f,_]=a(V);m(ot,o,i,f,_)}const{scrollDir:s,scrollOffset:l,updateRequested:u}=a(n);m(nt,s,l,u)},Z=t=>{const{clientHeight:s,scrollHeight:l,scrollTop:u}=t.currentTarget,o=a(n);if(o.scrollOffset===u)return;const i=Math.max(0,Math.min(u,l-s));n.value={...o,isScrolling:!0,scrollDir:tt(o.scrollOffset,i),scrollOffset:i,updateRequested:!1},Y(W)},J=t=>{const{clientWidth:s,scrollLeft:l,scrollWidth:u}=t.currentTarget,o=a(n);if(o.scrollOffset===l)return;const{direction:i}=e;let f=l;if(i===p)switch(ct()){case rt:{f=-l;break}case Rt:{f=u-s-l;break}}f=Math.max(0,Math.min(f,u-s)),n.value={...o,isScrolling:!0,scrollDir:tt(o.scrollOffset,f),scrollOffset:f,updateRequested:!1},Y(W)},P=t=>{a(L)?J(t):Z(t),D()},U=(t,s)=>{const l=(w.value-A.value)/s*t;E(Math.min(w.value-A.value,l))},E=t=>{t=Math.max(t,0),t!==a(n).scrollOffset&&(n.value={...a(n),scrollOffset:t,scrollDir:tt(a(n).scrollOffset,t),updateRequested:!0},Y(W))},k=(t,s=st)=>{const{scrollOffset:l}=a(n);t=Math.max(0,Math.min(t,e.total-1)),E(d(e,t,s,l,a(I)))},Q=t=>{const{direction:s,itemSize:l,layout:u}=e,o=F.value(c&&l,c&&u,c&&s);let i;if(Wt(o,String(t)))i=o[t];else{const f=b(e,t,a(I)),_=S(e,t,a(I)),z=a(L),lt=s===p,at=z?f:0;o[t]=i={position:"absolute",left:lt?void 0:`${at}px`,right:lt?`${at}px`:void 0,top:z?0:`${f}px`,height:z?"100%":`${_}px`,width:z?`${_}px`:"100%"}}return i},W=()=>{n.value.isScrolling=!1,Y(()=>{F.value(-1,null,null)})},x=()=>{const t=T.value;t&&(t.scrollTop=0)};Ct(()=>{if(!vt)return;const{initScrollOffset:t}=e,s=a(T);K(t)&&s&&(a(L)?s.scrollLeft=t:s.scrollTop=t),D()}),Ft(()=>{const{direction:t,layout:s}=e,{scrollOffset:l,updateRequested:u}=a(n),o=a(T);if(u&&o)if(s===dt)if(t===p)switch(ct()){case rt:{o.scrollLeft=-l;break}case wt:{o.scrollLeft=l;break}default:{const{clientWidth:i,scrollWidth:f}=o;o.scrollLeft=f-i-l;break}}else o.scrollLeft=l;else o.scrollTop=l}),Nt(()=>{a(T).scrollTop=a(n).scrollOffset});const ht={ns:C,clientSize:A,estimatedTotalSize:w,windowStyle:X,windowRef:T,innerRef:q,innerStyle:N,itemsToRender:V,scrollbarRef:G,states:n,getItemStyle:Q,onScroll:P,onScrollbarScroll:U,onWheel:B,scrollTo:E,scrollToItem:k,resetScrollTop:x};return R({windowRef:T,innerRef:q,getItemStyleCache:F,scrollTo:E,scrollToItem:k,resetScrollTop:x,states:n}),ht},render(e){var m;const{$slots:R,className:j,clientSize:C,containerElement:I,data:F,getItemStyle:T,innerElement:q,itemsToRender:G,innerStyle:n,layout:V,total:w,onScroll:L,onScrollbarScroll:X,states:N,useIsScrolling:A,windowStyle:B,ns:D}=e,[Z,J]=G,P=ft(I),U=ft(q),E=[];if(w>0)for(let x=Z;x<=J;x++)E.push(H(Dt,{key:x},(m=R.default)==null?void 0:m.call(R,{data:F,index:x,isScrolling:A?N.isScrolling:void 0,style:T(x)})));const k=[H(U,{style:n,ref:"innerRef"},ut(U)?E:{default:()=>E})],Q=H(Et,{ref:"scrollbarRef",clientSize:C,layout:V,onScroll:X,ratio:C*100/this.estimatedTotalSize,scrollFrom:N.scrollOffset/(this.estimatedTotalSize-C),total:w}),W=H(P,{class:[D.e("window"),j],style:B,onScroll:L,ref:"windowRef",key:0},ut(P)?[k]:{default:()=>[k]});return H("div",{key:0,class:[D.e("wrapper"),N.scrollbarAlwaysOn?"always-on":""]},[W,Q])}}),Kt=qt({name:"ElFixedSizeList",getItemOffset:({itemSize:r},d)=>d*r,getItemSize:({itemSize:r})=>r,getEstimatedTotalSize:({total:r,itemSize:d})=>d*r,getOffset:({height:r,total:d,itemSize:S,layout:b,width:M},h,v,g)=>{const c=et(b)?M:r,O=Math.max(0,d*S-c),e=Math.min(O,h*S),m=Math.max(0,(h+1)*S-c);switch(v===xt&&(g>=m-c&&g<=e+c?v=st:v=it),v){case Lt:return e;case It:return m;case it:{const R=Math.round(m+(e-m)/2);return R<Math.ceil(c/2)?0:R>O+Math.floor(c/2)?O:R}case st:default:return g>=m&&g<=e?g:g<m?m:e}},getStartIndexForOffset:({total:r,itemSize:d},S)=>Math.max(0,Math.min(r-1,Math.floor(S/d))),getStopIndexForStartIndex:({height:r,total:d,itemSize:S,layout:b,width:M},h,v)=>{const g=h*S,c=et(b)?M:r,O=Math.ceil((c+v-g)/S);return Math.max(0,Math.min(d-1,h+O-1))},initCache(){},clearCache:!0,validateProps(){}});export{Kt as F,qt as c};
