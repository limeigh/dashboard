import{m as b}from"./d3-collection-0.0.0-dataease.js";import{f as An,p as qn,a as Dn,b as $n,c as In,d as hn}from"./d3-format-0.0.0-dataease.js";import{t as En}from"./d3-time-format-0.0.0-dataease.js";import{u as Fn,a as Sn,t as jn,b as Rn,c as Ln,s as zn,d as Bn,e as On}from"./d3-time-0.0.0-dataease.js";import{r as _,c as nn}from"./d3-color-0.0.0-dataease.js";function K(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}function sn(n){return n.length===1&&(n=Yn(n)),{left:function(r,u,t,e){for(t==null&&(t=0),e==null&&(e=r.length);t<e;){var i=t+e>>>1;n(r[i],u)<0?t=i+1:e=i}return t},right:function(r,u,t,e){for(t==null&&(t=0),e==null&&(e=r.length);t<e;){var i=t+e>>>1;n(r[i],u)>0?e=i:t=i+1}return t}}}function Yn(n){return function(r,u){return K(n(r),u)}}var Hn=sn(K),O=Hn.right;function Pn(n){return n===null?NaN:+n}var V=Math.sqrt(50),W=Math.sqrt(10),C=Math.sqrt(2);function gn(n,r,u){var t,e=-1,i,a,o;if(r=+r,n=+n,u=+u,n===r&&u>0)return[n];if((t=r<n)&&(i=n,n=r,r=i),(o=z(n,r,u))===0||!isFinite(o))return[];if(o>0)for(n=Math.ceil(n/o),r=Math.floor(r/o),a=new Array(i=Math.ceil(r-n+1));++e<i;)a[e]=(n+e)*o;else for(n=Math.floor(n*o),r=Math.ceil(r*o),a=new Array(i=Math.ceil(n-r+1));++e<i;)a[e]=(n-e)/o;return t&&a.reverse(),a}function z(n,r,u){var t=(r-n)/Math.max(0,u),e=Math.floor(Math.log(t)/Math.LN10),i=t/Math.pow(10,e);return e>=0?(i>=V?10:i>=W?5:i>=C?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(i>=V?10:i>=W?5:i>=C?2:1)}function G(n,r,u){var t=Math.abs(r-n)/Math.max(0,u),e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return i>=V?e*=10:i>=W?e*=5:i>=C&&(e*=2),r<n?-e:e}function Vn(n,r,u){if(u==null&&(u=Pn),!!(t=n.length)){if((r=+r)<=0||t<2)return+u(n[0],0,n);if(r>=1)return+u(n[t-1],t-1,n);var t,e=(t-1)*r,i=Math.floor(e),a=+u(n[i],i,n),o=+u(n[i+1],i+1,n);return a+(o-a)*(e-i)}}function A(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n);break}return this}function mn(n,r){switch(arguments.length){case 0:break;case 1:this.interpolator(n);break;default:this.interpolator(r).domain(n);break}return this}var pn=Array.prototype,Mn=pn.map,D=pn.slice,rn={name:"implicit"};function Wn(){var n=b(),r=[],u=[],t=rn;function e(i){var a=i+"",o=n.get(a);if(!o){if(t!==rn)return t;n.set(a,o=r.push(i))}return u[(o-1)%u.length]}return e.domain=function(i){if(!arguments.length)return r.slice();r=[],n=b();for(var a=-1,o=i.length,c,f;++a<o;)n.has(f=(c=i[a])+"")||n.set(f,r.push(c));return e},e.range=function(i){return arguments.length?(u=D.call(i),e):u.slice()},e.unknown=function(i){return arguments.length?(t=i,e):t},e.copy=function(){return Wn(r,u).unknown(t)},A.apply(e,arguments),e}function Q(n){return function(){return n}}function Cn(n,r){return function(u){return n+u*r}}function Gn(n,r,u){return n=Math.pow(n,u),r=Math.pow(r,u)-n,u=1/u,function(t){return Math.pow(n+t*r,u)}}function Tn(n){return(n=+n)==1?wn:function(r,u){return u-r?Gn(r,u,n):Q(isNaN(r)?u:r)}}function wn(n,r){var u=r-n;return u?Cn(n,u):Q(isNaN(n)?r:n)}const tn=function n(r){var u=Tn(r);function t(e,i){var a=u((e=_(e)).r,(i=_(i)).r),o=u(e.g,i.g),c=u(e.b,i.b),f=wn(e.opacity,i.opacity);return function(l){return e.r=a(l),e.g=o(l),e.b=c(l),e.opacity=f(l),e+""}}return t.gamma=n,t}(1);function Jn(n,r){r||(r=[]);var u=n?Math.min(r.length,n.length):0,t=r.slice(),e;return function(i){for(e=0;e<u;++e)t[e]=n[e]*(1-i)+r[e]*i;return t}}function Kn(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Qn(n,r){var u=r?r.length:0,t=n?Math.min(u,n.length):0,e=new Array(t),i=new Array(u),a;for(a=0;a<t;++a)e[a]=U(n[a],r[a]);for(;a<u;++a)i[a]=r[a];return function(o){for(a=0;a<t;++a)i[a]=e[a](o);return i}}function Un(n,r){var u=new Date;return n=+n,r=+r,function(t){return u.setTime(n*(1-t)+r*t),u}}function B(n,r){return n=+n,r=+r,function(u){return n*(1-u)+r*u}}function Xn(n,r){var u={},t={},e;(n===null||typeof n!="object")&&(n={}),(r===null||typeof r!="object")&&(r={});for(e in r)e in n?u[e]=U(n[e],r[e]):t[e]=r[e];return function(i){for(e in u)t[e]=u[e](i);return t}}var T=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H=new RegExp(T.source,"g");function Zn(n){return function(){return n}}function bn(n){return function(r){return n(r)+""}}function _n(n,r){var u=T.lastIndex=H.lastIndex=0,t,e,i,a=-1,o=[],c=[];for(n=n+"",r=r+"";(t=T.exec(n))&&(e=H.exec(r));)(i=e.index)>u&&(i=r.slice(u,i),o[a]?o[a]+=i:o[++a]=i),(t=t[0])===(e=e[0])?o[a]?o[a]+=e:o[++a]=e:(o[++a]=null,c.push({i:a,x:B(t,e)})),u=H.lastIndex;return u<r.length&&(i=r.slice(u),o[a]?o[a]+=i:o[++a]=i),o.length<2?c[0]?bn(c[0].x):Zn(r):(r=c.length,function(f){for(var l=0,m;l<r;++l)o[(m=c[l]).i]=m.x(f);return o.join("")})}function U(n,r){var u=typeof r,t;return r==null||u==="boolean"?Q(r):(u==="number"?B:u==="string"?(t=nn(r))?(r=t,tn):_n:r instanceof nn?tn:r instanceof Date?Un:Kn(r)?Jn:Array.isArray(r)?Qn:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Xn:B)(n,r)}function nr(n,r){return n=+n,r=+r,function(u){return Math.round(n*(1-u)+r*u)}}function rr(n){return function(){return n}}function tr(n){return+n}var en=[0,1];function p(n){return n}function J(n,r){return(r-=n=+n)?function(u){return(u-n)/r}:rr(isNaN(r)?NaN:.5)}function un(n){var r=n[0],u=n[n.length-1],t;return r>u&&(t=r,r=u,u=t),function(e){return Math.max(r,Math.min(u,e))}}function er(n,r,u){var t=n[0],e=n[1],i=r[0],a=r[1];return e<t?(t=J(e,t),i=u(a,i)):(t=J(t,e),i=u(i,a)),function(o){return i(t(o))}}function ur(n,r,u){var t=Math.min(n.length,r.length)-1,e=new Array(t),i=new Array(t),a=-1;for(n[t]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++a<t;)e[a]=J(n[a],n[a+1]),i[a]=u(r[a],r[a+1]);return function(o){var c=O(n,o,1,t)-1;return i[c](e[c](o))}}function Y(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function X(){var n=en,r=en,u=U,t,e,i,a=p,o,c,f;function l(){return o=Math.min(n.length,r.length)>2?ur:er,c=f=null,m}function m(h){return isNaN(h=+h)?i:(c||(c=o(n.map(t),r,u)))(t(a(h)))}return m.invert=function(h){return a(e((f||(f=o(r,n.map(t),B)))(h)))},m.domain=function(h){return arguments.length?(n=Mn.call(h,tr),a===p||(a=un(n)),l()):n.slice()},m.range=function(h){return arguments.length?(r=D.call(h),l()):r.slice()},m.rangeRound=function(h){return r=D.call(h),u=nr,l()},m.clamp=function(h){return arguments.length?(a=h?un(n):p,m):a!==p},m.interpolate=function(h){return arguments.length?(u=h,l()):u},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,g){return t=h,e=g,l()}}function vn(n,r){return X()(n,r)}function ir(n,r,u,t){var e=G(n,r,u),i;switch(t=An(t??",f"),t.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(r));return t.precision==null&&!isNaN(i=$n(e,a))&&(t.precision=i),In(t,a)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(i=Dn(e,Math.max(Math.abs(n),Math.abs(r))))&&(t.precision=i-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(i=qn(e))&&(t.precision=i-(t.type==="%")*2);break}}return hn(t)}function R(n){var r=n.domain;return n.ticks=function(u){var t=r();return gn(t[0],t[t.length-1],u??10)},n.tickFormat=function(u,t){var e=r();return ir(e[0],e[e.length-1],u??10,t)},n.nice=function(u){u==null&&(u=10);var t=r(),e=0,i=t.length-1,a=t[e],o=t[i],c;return o<a&&(c=a,a=o,o=c,c=e,e=i,i=c),c=z(a,o,u),c>0?(a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c,c=z(a,o,u)):c<0&&(a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c,c=z(a,o,u)),c>0?(t[e]=Math.floor(a/c)*c,t[i]=Math.ceil(o/c)*c,r(t)):c<0&&(t[e]=Math.ceil(a*c)/c,t[i]=Math.floor(o*c)/c,r(t)),n},n}function ar(){var n=vn(p,p);return n.copy=function(){return Y(n,ar())},A.apply(n,arguments),R(n)}function kn(n,r){n=n.slice();var u=0,t=n.length-1,e=n[u],i=n[t],a;return i<e&&(a=u,u=t,t=a,a=e,e=i,i=a),n[u]=r.floor(e),n[t]=r.ceil(i),n}function an(n){return Math.log(n)}function on(n){return Math.exp(n)}function or(n){return-Math.log(-n)}function cr(n){return-Math.exp(-n)}function fr(n){return isFinite(n)?+("1e"+n):n<0?0:n}function lr(n){return n===10?fr:n===Math.E?Math.exp:function(r){return Math.pow(n,r)}}function hr(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),function(r){return Math.log(r)/n})}function cn(n){return function(r){return-n(-r)}}function sr(n){var r=n(an,on),u=r.domain,t=10,e,i;function a(){return e=hr(t),i=lr(t),u()[0]<0?(e=cn(e),i=cn(i),n(or,cr)):n(an,on),r}return r.base=function(o){return arguments.length?(t=+o,a()):t},r.domain=function(o){return arguments.length?(u(o),a()):u()},r.ticks=function(o){var c=u(),f=c[0],l=c[c.length-1],m;(m=l<f)&&(h=f,f=l,l=h);var h=e(f),g=e(l),$,k,y,L=o==null?10:+o,q=[];if(!(t%1)&&g-h<L){if(h=Math.round(h)-1,g=Math.round(g)+1,f>0){for(;h<g;++h)for(k=1,$=i(h);k<t;++k)if(y=$*k,!(y<f)){if(y>l)break;q.push(y)}}else for(;h<g;++h)for(k=t-1,$=i(h);k>=1;--k)if(y=$*k,!(y<f)){if(y>l)break;q.push(y)}}else q=gn(h,g,Math.min(g-h,L)).map(i);return m?q.reverse():q},r.tickFormat=function(o,c){if(c==null&&(c=t===10?".0e":","),typeof c!="function"&&(c=hn(c)),o===1/0)return c;o==null&&(o=10);var f=Math.max(1,t*o/r.ticks().length);return function(l){var m=l/i(Math.round(e(l)));return m*t<t-.5&&(m*=t),m<=f?c(l):""}},r.nice=function(){return u(kn(u(),{floor:function(o){return i(Math.floor(e(o)))},ceil:function(o){return i(Math.ceil(e(o)))}}))},r}function gr(){var n=sr(X()).domain([1,10]);return n.copy=function(){return Y(n,gr()).base(n.base())},A.apply(n,arguments),n}function fn(n){return function(r){return r<0?-Math.pow(-r,n):Math.pow(r,n)}}function mr(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function pr(n){return n<0?-n*n:n*n}function Mr(n){var r=n(p,p),u=1;function t(){return u===1?n(p,p):u===.5?n(mr,pr):n(fn(u),fn(1/u))}return r.exponent=function(e){return arguments.length?(u=+e,t()):u},R(r)}function wr(){var n=Mr(X());return n.copy=function(){return Y(n,wr()).exponent(n.exponent())},A.apply(n,arguments),n}function vr(){var n=[],r=[],u=[],t;function e(){var a=0,o=Math.max(1,r.length);for(u=new Array(o-1);++a<o;)u[a-1]=Vn(n,a/o);return i}function i(a){return isNaN(a=+a)?t:r[O(u,a)]}return i.invertExtent=function(a){var o=r.indexOf(a);return o<0?[NaN,NaN]:[o>0?u[o-1]:n[0],o<u.length?u[o]:n[n.length-1]]},i.domain=function(a){if(!arguments.length)return n.slice();n=[];for(var o=0,c=a.length,f;o<c;++o)f=a[o],f!=null&&!isNaN(f=+f)&&n.push(f);return n.sort(K),e()},i.range=function(a){return arguments.length?(r=D.call(a),e()):r.slice()},i.unknown=function(a){return arguments.length?(t=a,i):t},i.quantiles=function(){return u.slice()},i.copy=function(){return vr().domain(n).range(r).unknown(t)},A.apply(i,arguments)}function kr(){var n=0,r=1,u=1,t=[.5],e=[0,1],i;function a(c){return c<=c?e[O(t,c,0,u)]:i}function o(){var c=-1;for(t=new Array(u);++c<u;)t[c]=((c+1)*r-(c-u)*n)/(u+1);return a}return a.domain=function(c){return arguments.length?(n=+c[0],r=+c[1],o()):[n,r]},a.range=function(c){return arguments.length?(u=(e=D.call(c)).length-1,o()):e.slice()},a.invertExtent=function(c){var f=e.indexOf(c);return f<0?[NaN,NaN]:f<1?[n,t[0]]:f>=u?[t[u-1],r]:[t[f-1],t[f]]},a.unknown=function(c){return arguments.length&&(i=c),a},a.thresholds=function(){return t.slice()},a.copy=function(){return kr().domain([n,r]).range(e).unknown(i)},A.apply(R(a),arguments)}function yr(){var n=[.5],r=[0,1],u,t=1;function e(i){return i<=i?r[O(n,i,0,t)]:u}return e.domain=function(i){return arguments.length?(n=D.call(i),t=Math.min(n.length,r.length-1),e):n.slice()},e.range=function(i){return arguments.length?(r=D.call(i),t=Math.min(n.length,r.length-1),e):r.slice()},e.invertExtent=function(i){var a=r.indexOf(i);return[n[a-1],n[a]]},e.unknown=function(i){return arguments.length?(u=i,e):u},e.copy=function(){return yr().domain(n).range(r).unknown(u)},A.apply(e,arguments)}var E=1e3,F=E*60,S=F*60,j=S*24,Nr=j*7,ln=j*30,P=j*365;function dr(n){return new Date(n)}function xr(n){return n instanceof Date?+n:+new Date(+n)}function yn(n,r,u,t,e,i,a,o,c){var f=vn(p,p),l=f.invert,m=f.domain,h=c(".%L"),g=c(":%S"),$=c("%I:%M"),k=c("%I %p"),y=c("%a %d"),L=c("%b %d"),q=c("%B"),dn=c("%Y"),I=[[a,1,E],[a,5,5*E],[a,15,15*E],[a,30,30*E],[i,1,F],[i,5,5*F],[i,15,15*F],[i,30,30*F],[e,1,S],[e,3,3*S],[e,6,6*S],[e,12,12*S],[t,1,j],[t,2,2*j],[u,1,Nr],[r,1,ln],[r,3,3*ln],[n,1,P]];function xn(s){return(a(s)<s?h:i(s)<s?g:e(s)<s?$:t(s)<s?k:r(s)<s?u(s)<s?y:L:n(s)<s?q:dn)(s)}function Z(s,N,M,v){if(s==null&&(s=10),typeof s=="number"){var x=Math.abs(M-N)/s,w=sn(function(d){return d[2]}).right(I,x);w===I.length?(v=G(N/P,M/P,s),s=n):w?(w=I[x/I[w-1][2]<I[w][2]/x?w-1:w],v=w[1],s=w[0]):(v=Math.max(G(N,M,s),1),s=o)}return v==null?s:s.every(v)}return f.invert=function(s){return new Date(l(s))},f.domain=function(s){return arguments.length?m(Mn.call(s,xr)):m().map(dr)},f.ticks=function(s,N){var M=m(),v=M[0],x=M[M.length-1],w=x<v,d;return w&&(d=v,v=x,x=d),d=Z(s,v,x,N),d=d?d.range(v,x+1):[],w?d.reverse():d},f.tickFormat=function(s,N){return N==null?xn:c(N)},f.nice=function(s,N){var M=m();return(s=Z(s,M[0],M[M.length-1],N))?m(kn(M,s)):f},f.copy=function(){return Y(f,yn(n,r,u,t,e,i,a,o,c))},f}function Rr(){return A.apply(yn(On,Bn,zn,Ln,Rn,jn,Sn,Fn,En).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ar(){var n=0,r=1,u,t,e,i,a=p,o=!1,c;function f(l){return isNaN(l=+l)?c:a(e===0?.5:(l=(i(l)-u)*e,o?Math.max(0,Math.min(1,l)):l))}return f.domain=function(l){return arguments.length?(u=i(n=+l[0]),t=i(r=+l[1]),e=u===t?0:1/(t-u),f):[n,r]},f.clamp=function(l){return arguments.length?(o=!!l,f):o},f.interpolator=function(l){return arguments.length?(a=l,f):a},f.unknown=function(l){return arguments.length?(c=l,f):c},function(l){return i=l,u=l(n),t=l(r),e=u===t?0:1/(t-u),f}}function Nn(n,r){return r.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function qr(){var n=R(Ar()(p));return n.copy=function(){return Nn(n,qr())},mn.apply(n,arguments)}function Dr(){var n=0,r=.5,u=1,t,e,i,a,o,c=p,f,l=!1,m;function h(g){return isNaN(g=+g)?m:(g=.5+((g=+f(g))-e)*(g<e?a:o),c(l?Math.max(0,Math.min(1,g)):g))}return h.domain=function(g){return arguments.length?(t=f(n=+g[0]),e=f(r=+g[1]),i=f(u=+g[2]),a=t===e?0:.5/(e-t),o=e===i?0:.5/(i-e),h):[n,r,u]},h.clamp=function(g){return arguments.length?(l=!!g,h):l},h.interpolator=function(g){return arguments.length?(c=g,h):c},h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return f=g,t=g(n),e=g(r),i=g(u),a=t===e?0:.5/(e-t),o=e===i?0:.5/(i-e),h}}function $r(){var n=R(Dr()(p));return n.copy=function(){return Nn(n,$r())},mn.apply(n,arguments)}export{gr as a,kr as b,yr as c,$r as d,ar as l,Wn as o,wr as p,vr as q,qr as s,Rr as t};
