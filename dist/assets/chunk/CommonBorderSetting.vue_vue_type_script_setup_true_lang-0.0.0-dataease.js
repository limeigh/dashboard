import"./index-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import{E as oe}from"./el-checkbox-0.0.0-dataease.js";import{E as F}from"./el-row-0.0.0-dataease.js";import{E as ae}from"./el-col-0.0.0-dataease.js";import{E as _,a as G}from"./el-form-item-0.0.0-dataease.js";import{o as X}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import{p as se}from"./attr-0.0.0-dataease23.js";import{d as q,r as A,af as H,y as L,w as Y,f as c,g as y,i as s,O as x,a6 as K,W as U,u as t,S as v,j as o,a3 as N,a4 as T,_ as M,t as ie,X as ne}from"./vue-0.0.0-dataease.js";import{d as Z}from"./dvMain-0.0.0-dataease.js";import{_ as re}from"./lodash-0.0.0-dataease.js";import{s as J}from"./snapshot-0.0.0-dataease.js";import{a as de,b as ue}from"./style-0.0.0-dataease.js";import{t as me,n as fe}from"./canvasUtils-0.0.0-dataease.js";import{E as O}from"./index-0.0.0-dataease20.js";import{_ as pe}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{E as ce,a as ve}from"./el-select-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import{E as he}from"./el-color-picker-0.0.0-dataease.js";import{a as be}from"./chart-0.0.0-dataease.js";const ge=q({__name:"ComponentPosition",props:{themes:{default:"dark"}},setup(j){const R=A(null),C=A("canvas-main"),V=J(),{t:z}=X(),W=Z(),{curComponent:e,canvasStyleData:k}=H(W),r=A({width:0,height:0,top:0,left:0}),f=L(()=>{if(e.value){const l=Object.keys(e.value.style);return se.filter(n=>l.includes(n.key))}else return[]}),g=L(()=>{const l=[];return re.forEach(f.value,(n,b)=>{const p=b%2;l[p]===void 0&&(l[p]=[]),l[p].push(n)}),l}),I=l=>{r.value[l]||(r.value[l]=0),e.value.maintainRadio?(e.value.style[l]=Math.ceil(r.value[l]*k.value.scale/100),l==="width"?(e.value.style.height=e.value.style.width/e.value.aspectRatio,r.value.height=Math.round(r.value.width/e.value.aspectRatio)):l==="height"&&(e.value.style.width=e.value.style.height*e.value.aspectRatio,r.value.width=Math.round(r.value.height*e.value.aspectRatio))):e.value.style[l]=r.value[l]*k.value.scale/100,(me(C.value)||fe(C.value))&&de(e.value,{width:R.value.offsetWidth,height:R.value.offsetHeight}),["Group","DeTabs"].includes(e.value.component)&&ue(e.value),V.recordSnapshotCache("onPositionChange")},h=()=>{e.value.aspectRatio=e.value.style.width/e.value.style.height,V.recordSnapshotCache("maintainRadioChange")},S=()=>{V.recordSnapshotCache("multiDimensionalChange")},P=()=>{V.recordSnapshotCache("snapshotChange")},m=()=>{e.value&&(C.value=e.value.canvasId,R.value=document.querySelector("#editor-"+C.value),Object.keys(r.value).forEach(l=>{r.value[l]=Math.round(e.value.style[l]*100/k.value.scale)}),e.value.maintainRadio&&(r.value.width=Math.round(r.value.height*e.value.aspectRatio)))};return Y(()=>e.value,()=>{m()},{deep:!0,immediate:!0}),(l,n)=>{const b=O,p=_,d=ae,a=F,w=oe,E=G;return c(),y(E,{size:"small","label-position":"left","label-width":14},{default:s(()=>[(c(!0),x(U,null,K(g.value,(u,$)=>(c(),y(a,{gutter:8,key:$},{default:s(()=>[(c(!0),x(U,null,K(u,({key:D,label:i,min:Q,max:ee,step:te},le)=>(c(),y(d,{span:12,key:le},{default:s(()=>[o(p,{class:v(["form-item","form-item-"+l.themes]),label:i},{default:s(()=>[o(b,{effect:l.themes,size:"middle",disabled:t(e).isLock,min:Q,max:ee,step:te,modelValue:r.value[D],"onUpdate:modelValue":B=>r.value[D]=B,onChange:B=>I(D),"controls-position":"right"},null,8,["effect","disabled","min","max","step","modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["class","label"])]),_:2},1024))),128))]),_:2},1024))),128)),t(e)&&t(e).component==="DeTabs"?(c(),y(p,{key:0,class:v(["form-item","form-item-"+l.themes])},{default:s(()=>[o(w,{size:"small",effect:l.themes,modelValue:t(e).resizeInnerKeep,"onUpdate:modelValue":n[0]||(n[0]=u=>t(e).resizeInnerKeep=u),onChange:P},{default:s(()=>[N(T(t(z)("visualization.keep_size")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"])):M("",!0),o(p,{class:v(["form-item","form-item-"+l.themes])},{default:s(()=>[t(e)?(c(),y(w,{key:0,size:"small",effect:l.themes,modelValue:t(e).maintainRadio,"onUpdate:modelValue":n[1]||(n[1]=u=>t(e).maintainRadio=u),onChange:h},{default:s(()=>[N(T(t(z)("visualization.keep_ratio")),1)]),_:1},8,["effect","modelValue"])):M("",!0)]),_:1},8,["class"]),t(e)&&t(e).multiDimensional?(c(),y(a,{key:1},{default:s(()=>[o(d,{span:12},{default:s(()=>[o(p,{class:v(["form-item","form-item-"+l.themes])},{default:s(()=>[o(w,{size:"small",effect:l.themes,modelValue:t(e).multiDimensional.enable,"onUpdate:modelValue":n[2]||(n[2]=u=>t(e).multiDimensional.enable=u),onChange:S},{default:s(()=>[N(T(t(z)("visualization.rotation_3d")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),t(e).multiDimensional.enable?(c(),x(U,{key:0},[o(p,{class:v(["form-item","form-item-"+l.themes]),label:"X"},{default:s(()=>[o(b,{effect:l.themes,size:"middle",disabled:t(e).isLock,min:-360,max:360,step:1,modelValue:t(e).multiDimensional.x,"onUpdate:modelValue":n[3]||(n[3]=u=>t(e).multiDimensional.x=u),onChange:S,"controls-position":"right"},null,8,["effect","disabled","modelValue"])]),_:1},8,["class"]),o(p,{class:v(["form-item","form-item-"+l.themes]),label:"Y"},{default:s(()=>[o(b,{effect:l.themes,size:"middle",disabled:t(e).isLock,min:-360,max:360,step:1,modelValue:t(e).multiDimensional.y,"onUpdate:modelValue":n[4]||(n[4]=u=>t(e).multiDimensional.y=u),onChange:S,"controls-position":"right"},null,8,["effect","disabled","modelValue"])]),_:1},8,["class"]),o(p,{class:v(["form-item","form-item-"+l.themes]),label:"Z"},{default:s(()=>[o(b,{effect:l.themes,size:"middle",disabled:t(e).isLock,min:-360,max:360,step:1,modelValue:t(e).multiDimensional.z,"onUpdate:modelValue":n[5]||(n[5]=u=>t(e).multiDimensional.z=u),onChange:S,"controls-position":"right"},null,8,["effect","disabled","modelValue"])]),_:1},8,["class"])],64)):M("",!0)]),_:1})]),_:1})):M("",!0)]),_:1})}}});const Te=pe(ge,[["__scopeId","data-v-5ed95882"]]),Ke=q({__name:"CommonBorderSetting",props:{themes:{default:"dark"},styleInfo:{}},emits:["onStyleAttrChange"],setup(j,{emit:R}){const C=Z(),V=J(),{canvasStyleData:z,curComponent:W}=H(C),{t:e}=X(),k=j,r=R,{themes:f,styleInfo:g}=ie(k),I=ne({fontSize:[],isSetting:!1,predefineColors:be}),h=A({borderWidth:0,borderRadius:5}),S=[{name:e("visualization.border_style_solid"),value:"solid"},{name:e("visualization.border_style_dashed"),value:"dashed"},{name:e("visualization.border_style_dotted"),value:"dotted"}],P=()=>{g.value&&Object.keys(h.value).forEach(d=>{h.value[d]=Math.round(g.value[d]*100/z.value.scale)})},m=L(()=>g.value),l=d=>{V.recordSnapshotCache("border-changeStyle"),r("onStyleAttrChange",d)},n=d=>{l({key:d,value:g.value[d]})},b=d=>{g.value[d]=h.value[d]*z.value.scale/100,l({key:d,value:g.value[d]})},p=L(()=>W.value&&W.value.component==="SvgTriangle");return Y(()=>g.value,()=>{P()},{deep:!0,immediate:!0}),(d,a)=>{const w=he,E=F,u=ve,$=ce,D=G;return c(),y(E,{class:"custom-row",style:{"padding-bottom":"8px"}},{default:s(()=>[o(D,{size:"small","label-position":"top"},{default:s(()=>[p.value?(c(),y(E,{key:0,style:{display:"flex"}},{default:s(()=>[o(t(_),{style:{width:"70px"},label:t(e)("visualization.color"),class:v(["form-item","form-item-"+t(f)])},{default:s(()=>[o(w,{title:t(e)("visualization.color"),disabled:!m.value.borderActive,modelValue:m.value.borderColor,"onUpdate:modelValue":a[0]||(a[0]=i=>m.value.borderColor=i),class:"color-picker-style",triggerWidth:65,"is-custom":"","show-alpha":"",predefine:I.predefineColors,onChange:a[1]||(a[1]=i=>n("borderColor"))},null,8,["title","disabled","modelValue","predefine"])]),_:1},8,["label","class"]),o(t(_),{style:{width:"150px"},label:t(e)("visualization.board_width"),class:v(["form-item","form-item-"+t(f)])},{default:s(()=>[o(t(O),{title:t(e)("visualization.board_width"),min:0,max:50,effect:t(f),disabled:!m.value.borderActive,"controls-position":"right",modelValue:h.value.borderWidth,"onUpdate:modelValue":a[2]||(a[2]=i=>h.value.borderWidth=i),class:"color-picker-style",onChange:a[3]||(a[3]=i=>b("borderWidth"))},null,8,["title","effect","disabled","modelValue"])]),_:1},8,["label","class"])]),_:1})):(c(),x(U,{key:1},[o(E,{style:{display:"flex"}},{default:s(()=>[o(t(_),{style:{width:"70px"},label:t(e)("visualization.color"),class:v(["form-item","form-item-"+t(f)])},{default:s(()=>[o(w,{title:t(e)("visualization.color"),disabled:!m.value.borderActive,modelValue:m.value.borderColor,"onUpdate:modelValue":a[4]||(a[4]=i=>m.value.borderColor=i),class:"color-picker-style",triggerWidth:65,"is-custom":"","show-alpha":"",effect:t(f),predefine:I.predefineColors,onChange:a[5]||(a[5]=i=>n("borderColor"))},null,8,["title","disabled","modelValue","effect","predefine"])]),_:1},8,["label","class"]),o(t(_),{style:{width:"150px"},label:t(e)("visualization.board_radius"),class:v(["form-item","form-item-"+t(f)])},{default:s(()=>[o(t(O),{title:t(e)("visualization.board_radius"),disabled:!m.value.borderActive,effect:t(f),min:0,max:200,"controls-position":"right",modelValue:h.value.borderRadius,"onUpdate:modelValue":a[6]||(a[6]=i=>h.value.borderRadius=i),class:"color-picker-style",onChange:a[7]||(a[7]=i=>b("borderRadius"))},null,8,["title","disabled","effect","modelValue"])]),_:1},8,["label","class"])]),_:1}),o(E,{style:{display:"flex"}},{default:s(()=>[o(t(_),{style:{width:"70px"},label:t(e)("visualization.style"),class:v(["form-item","form-item-"+t(f)])},{default:s(()=>[o($,{effect:t(f),disabled:!m.value.borderActive,modelValue:m.value.borderStyle,"onUpdate:modelValue":a[8]||(a[8]=i=>m.value.borderStyle=i),size:"small",style:{width:"65px"},onChange:a[9]||(a[9]=i=>n("borderStyle"))},{default:s(()=>[(c(),x(U,null,K(S,i=>o(u,{class:"custom-style-option",key:i.value,label:i.name,value:i.value},null,8,["label","value"])),64))]),_:1},8,["effect","disabled","modelValue"])]),_:1},8,["label","class"]),o(t(_),{style:{width:"150px"},label:t(e)("visualization.board_width"),class:v(["form-item","form-item-"+t(f)])},{default:s(()=>[o(t(O),{title:t(e)("visualization.board_width"),disabled:!m.value.borderActive,min:0,max:50,effect:t(f),"controls-position":"right",modelValue:h.value.borderWidth,"onUpdate:modelValue":a[10]||(a[10]=i=>h.value.borderWidth=i),class:"color-picker-style",onChange:a[11]||(a[11]=i=>b("borderWidth"))},null,8,["title","disabled","effect","modelValue"])]),_:1},8,["label","class"])]),_:1})],64))]),_:1})]),_:1})}}});export{Te as C,Ke as _};
