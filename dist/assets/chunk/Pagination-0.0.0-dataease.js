import{A as U,y as x,W as C,r as E,V as z}from"./element-plus-secondary-0.0.0-dataease.js";import{h as B}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{h as s}from"./lodash-es-0.0.0-dataease.js";import{d as S,t as $,r as _,a7 as A,o as i,c as u,a as d,Y as c,u as t,W as r,U as p,S as g,a8 as P,T as O,R as j}from"./@vue-0.0.0-dataease.js";import{_ as R}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./@vueuse-0.0.0-dataease.js";import"./@element-plus-0.0.0-dataease.js";import"./dayjs-0.0.0-dataease.js";import"./@amap-0.0.0-dataease.js";import"./@popperjs-0.0.0-dataease.js";import"./async-validator-0.0.0-dataease.js";import"./@ctrl-0.0.0-dataease.js";import"./normalize-wheel-es-0.0.0-dataease.js";import"./memoize-one-0.0.0-dataease.js";import"./pinia-0.0.0-dataease.js";import"./vue-demi-0.0.0-dataease.js";import"./index-0.0.0-dataease.js";import"./mitt-0.0.0-dataease.js";import"./web-storage-cache-0.0.0-dataease.js";import"./vue-types-0.0.0-dataease.js";import"./is-plain-object-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./qs-0.0.0-dataease.js";import"./side-channel-0.0.0-dataease.js";import"./es-errors-0.0.0-dataease.js";import"./object-inspect-0.0.0-dataease.js";import"./crypto-js-0.0.0-dataease.js";import"./side-channel-list-0.0.0-dataease.js";import"./side-channel-map-0.0.0-dataease.js";import"./get-intrinsic-0.0.0-dataease.js";import"./es-object-atoms-0.0.0-dataease.js";import"./math-intrinsics-0.0.0-dataease.js";import"./gopd-0.0.0-dataease.js";import"./es-define-property-0.0.0-dataease.js";import"./has-symbols-0.0.0-dataease.js";import"./get-proto-0.0.0-dataease.js";import"./dunder-proto-0.0.0-dataease.js";import"./call-bind-apply-helpers-0.0.0-dataease.js";import"./function-bind-0.0.0-dataease.js";import"./hasown-0.0.0-dataease.js";import"./call-bound-0.0.0-dataease.js";import"./side-channel-weakmap-0.0.0-dataease.js";import"./jspdf-0.0.0-dataease.js";import"./@babel-0.0.0-dataease.js";import"./fflate-0.0.0-dataease.js";import"./fast-png-0.0.0-dataease.js";import"./iobuffer-0.0.0-dataease.js";import"./pako-0.0.0-dataease.js";import"./vue-router_2-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./vue-0.0.0-dataease.js";import"./vue-i18n-0.0.0-dataease.js";import"./@intlify-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./zrender-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";const W={class:"api-pagination"},F={class:"type"},L={class:"table-title request"},M={class:"table-title response"},Y=S({__name:"Pagination",props:{page:{type:Object,default:()=>({pageType:"",requestData:[],responseData:[]})}},setup(V){const T=V,{page:e}=$(T),{t:a}=B(),w=[{value:"pageNumber",label:a("api_pagination.number__size")},{value:"cursor",label:a("api_pagination.cursor__size")},{value:"empty",label:a("chart.line_symbol_none")}],q=_([{parameterName:a("api_pagination.page_number"),builtInParameterName:"${pageToken}",requestParameterName:"",parameterDefaultValue:""},{parameterName:a("api_pagination.pagination_size"),builtInParameterName:"${pageSize}",requestParameterName:"",parameterDefaultValue:""}]),b=[{value:"totalNumber",label:a("api_pagination.total_number_de")},{value:"totalPage",label:a("api_pagination.number_of_pages")}],I=[{value:"cursor",label:a("api_pagination.cursor")}],m=_(s(b)),k=_([{parameterName:a("api_pagination.total_number"),resolutionPath:"",resolutionPathType:"number"}]);A(()=>{(!e.value.requestData||e.value.requestData.length===0)&&(e.value.requestData=q.value),(!e.value.responseData||e.value.responseData.length===0)&&(e.value.responseData=k.value),(e.value.pageType===""||!e.value.pageType)&&(e.value.pageType="empty"),v()});const v=()=>{e.value.pageType==="pageNumber"&&(e.value.responseData[0].resolutionPathType="totalNumber",e.value.responseData[0].parameterName=a("api_pagination.total_number"),m.value=s(b),e.value.requestData[0].parameterName=a("api_pagination.page_number"),e.value.requestData[0].builtInParameterName="${pageNumber}"),e.value.pageType==="cursor"&&(e.value.responseData[0].resolutionPathType="cursor",e.value.responseData[0].parameterName=a("api_pagination.cursor"),m.value=s(I),e.value.requestData[0].parameterName=a("api_pagination.cursor"),e.value.requestData[0].builtInParameterName="${pageToken}")};return(G,h)=>{const f=U,y=x,n=C,N=E,D=z;return i(),u("div",W,[d("span",F,c(t(a)("api_pagination.pagination_method")),1),r(y,{modelValue:t(e).pageType,"onUpdate:modelValue":h[0]||(h[0]=o=>t(e).pageType=o),onChange:v,style:{width:"100%","margin-top":"8px"}},{default:p(()=>[(i(),u(g,null,P(w,o=>r(f,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),t(e).pageType!=="empty"?(i(),u(g,{key:0},[d("div",L,c(t(a)("datasource.request")),1),r(D,{"header-cell-class-name":"header-cell",data:t(e).requestData,style:{width:"100%"}},{default:p(()=>[r(n,{prop:"parameterName",label:t(a)("api_pagination.parameter_name")},null,8,["label"]),r(n,{prop:"builtInParameterName",label:t(a)("api_pagination.built_in_parameter_name")},null,8,["label"]),r(n,{label:t(a)("api_pagination.parameter_default_value"),width:"220"},{default:p(o=>[r(N,{modelValue:o.row.parameterDefaultValue,"onUpdate:modelValue":l=>o.row.parameterDefaultValue=l,style:{width:"100%"},placeholder:o.row.builtInParameterName==="${pageNumber}"?t(a)("api_pagination.enter_first_page"):t(a)("api_pagination.enter_default_value")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["data"]),d("div",M,c(t(a)("api_pagination.response")),1),r(D,{"header-cell-class-name":"header-cell",data:t(e).responseData,style:{width:"100%"}},{default:p(()=>[r(n,{prop:"parameterName",label:t(a)("api_pagination.parameter_name"),width:"160"},null,8,["label"]),r(n,{prop:"resolutionPath",label:t(a)("api_pagination.parsing_path")},{default:p(o=>[r(N,{modelValue:o.row.resolutionPath,"onUpdate:modelValue":l=>o.row.resolutionPath=l,style:{width:"100%"},placeholder:t(a)("api_pagination.please_enter_jsonpath")},{prepend:p(()=>[r(y,{class:"bg-white",modelValue:o.row.resolutionPathType,"onUpdate:modelValue":l=>o.row.resolutionPathType=l,style:{width:"89px"}},{default:p(()=>[(i(!0),u(g,null,P(m.value,l=>(i(),O(f,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["data"])],64)):j("",!0)])}}});const Ke=R(Y,[["__scopeId","data-v-860a0d86"]]);export{Ke as default};
