import"./index-0.0.0-dataease.js";import{a as E,E as x}from"./el-table-0.0.0-dataease.js";import"./el-checkbox-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import{o as U,G as C}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{a as z,E as B}from"./el-select-0.0.0-dataease.js";import{e as m}from"./lodash-0.0.0-dataease.js";import{d as $,t as j,r as _,aj as O,f as i,O as u,P as d,a4 as c,u as t,j as o,i as n,W as g,a6 as P,g as S,_ as A}from"./vue-0.0.0-dataease.js";import{_ as F}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./index-0.0.0-dataease4.js";import"./index-0.0.0-dataease3.js";import"./index-0.0.0-dataease5.js";import"./raf-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./index-0.0.0-dataease6.js";import"./token-0.0.0-dataease.js";import"./strings-0.0.0-dataease.js";const G={class:"api-pagination"},L={class:"type"},M={class:"table-title request"},R={class:"table-title response"},W=$({__name:"Pagination",props:{page:{type:Object,default:()=>({pageType:"",requestData:[],responseData:[]})}},setup(V){const T=V,{page:e}=j(T),{t:a}=U(),w=[{value:"pageNumber",label:a("api_pagination.number__size")},{value:"cursor",label:a("api_pagination.cursor__size")},{value:"empty",label:a("chart.line_symbol_none")}],q=_([{parameterName:a("api_pagination.page_number"),builtInParameterName:"${pageToken}",requestParameterName:"",parameterDefaultValue:""},{parameterName:a("api_pagination.pagination_size"),builtInParameterName:"${pageSize}",requestParameterName:"",parameterDefaultValue:""}]),b=[{value:"totalNumber",label:a("api_pagination.total_number_de")},{value:"totalPage",label:a("api_pagination.number_of_pages")}],I=[{value:"cursor",label:a("api_pagination.cursor")}],s=_(m(b)),k=_([{parameterName:a("api_pagination.total_number"),resolutionPath:"",resolutionPathType:"number"}]);O(()=>{(!e.value.requestData||e.value.requestData.length===0)&&(e.value.requestData=q.value),(!e.value.responseData||e.value.responseData.length===0)&&(e.value.responseData=k.value),(e.value.pageType===""||!e.value.pageType)&&(e.value.pageType="empty"),v()});const v=()=>{e.value.pageType==="pageNumber"&&(e.value.responseData[0].resolutionPathType="totalNumber",e.value.responseData[0].parameterName=a("api_pagination.total_number"),s.value=m(b),e.value.requestData[0].parameterName=a("api_pagination.page_number"),e.value.requestData[0].builtInParameterName="${pageNumber}"),e.value.pageType==="cursor"&&(e.value.responseData[0].resolutionPathType="cursor",e.value.responseData[0].parameterName=a("api_pagination.cursor"),s.value=m(I),e.value.requestData[0].parameterName=a("api_pagination.cursor"),e.value.requestData[0].builtInParameterName="${pageToken}")};return(H,h)=>{const f=z,y=B,p=E,N=C,D=x;return i(),u("div",G,[d("span",L,c(t(a)("api_pagination.pagination_method")),1),o(y,{modelValue:t(e).pageType,"onUpdate:modelValue":h[0]||(h[0]=l=>t(e).pageType=l),onChange:v,style:{width:"100%","margin-top":"8px"}},{default:n(()=>[(i(),u(g,null,P(w,l=>o(f,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),t(e).pageType!=="empty"?(i(),u(g,{key:0},[d("div",M,c(t(a)("datasource.request")),1),o(D,{"header-cell-class-name":"header-cell",data:t(e).requestData,style:{width:"100%"}},{default:n(()=>[o(p,{prop:"parameterName",label:t(a)("api_pagination.parameter_name")},null,8,["label"]),o(p,{prop:"builtInParameterName",label:t(a)("api_pagination.built_in_parameter_name")},null,8,["label"]),o(p,{label:t(a)("api_pagination.parameter_default_value"),width:"220"},{default:n(l=>[o(N,{modelValue:l.row.parameterDefaultValue,"onUpdate:modelValue":r=>l.row.parameterDefaultValue=r,style:{width:"100%"},placeholder:l.row.builtInParameterName==="${pageNumber}"?t(a)("api_pagination.enter_first_page"):t(a)("api_pagination.enter_default_value")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["data"]),d("div",R,c(t(a)("api_pagination.response")),1),o(D,{"header-cell-class-name":"header-cell",data:t(e).responseData,style:{width:"100%"}},{default:n(()=>[o(p,{prop:"parameterName",label:t(a)("api_pagination.parameter_name"),width:"160"},null,8,["label"]),o(p,{prop:"resolutionPath",label:t(a)("api_pagination.parsing_path")},{default:n(l=>[o(N,{modelValue:l.row.resolutionPath,"onUpdate:modelValue":r=>l.row.resolutionPath=r,style:{width:"100%"},placeholder:t(a)("api_pagination.please_enter_jsonpath")},{prepend:n(()=>[o(y,{class:"bg-white",modelValue:l.row.resolutionPathType,"onUpdate:modelValue":r=>l.row.resolutionPathType=r,style:{width:"89px"}},{default:n(()=>[(i(!0),u(g,null,P(s.value,r=>(i(),S(f,{key:r.value,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["data"])],64)):A("",!0)])}}});const be=F(W,[["__scopeId","data-v-860a0d86"]]);export{be as default};
