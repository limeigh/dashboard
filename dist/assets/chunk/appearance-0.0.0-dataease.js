import{d as v}from"./pinia-0.0.0-dataease.js";import{f as L,a as S,o as E,v as c,g as P,w as y}from"./index-0.0.0-dataease.js";import{l as T,d as B}from"./font-0.0.0-dataease.js";import{u as A}from"./login-0.0.0-dataease.js";import{_ as d,c as s}from"./less-0.0.0-dataease.js";import"./vue-demi-0.0.0-dataease.js";import"./@vue-0.0.0-dataease.js";import"./mitt-0.0.0-dataease.js";import"./web-storage-cache-0.0.0-dataease.js";import"./@amap-0.0.0-dataease.js";import"./element-plus-secondary-0.0.0-dataease.js";import"./@vueuse-0.0.0-dataease.js";import"./@element-plus-0.0.0-dataease.js";import"./lodash-es-0.0.0-dataease.js";import"./dayjs-0.0.0-dataease.js";import"./@popperjs-0.0.0-dataease.js";import"./async-validator-0.0.0-dataease.js";import"./@ctrl-0.0.0-dataease.js";import"./normalize-wheel-es-0.0.0-dataease.js";import"./memoize-one-0.0.0-dataease.js";import"./vue-types-0.0.0-dataease.js";import"./is-plain-object-0.0.0-dataease.js";import"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./qs-0.0.0-dataease.js";import"./side-channel-0.0.0-dataease.js";import"./es-errors-0.0.0-dataease.js";import"./object-inspect-0.0.0-dataease.js";import"./crypto-js-0.0.0-dataease.js";import"./side-channel-list-0.0.0-dataease.js";import"./side-channel-map-0.0.0-dataease.js";import"./get-intrinsic-0.0.0-dataease.js";import"./es-object-atoms-0.0.0-dataease.js";import"./math-intrinsics-0.0.0-dataease.js";import"./gopd-0.0.0-dataease.js";import"./es-define-property-0.0.0-dataease.js";import"./has-symbols-0.0.0-dataease.js";import"./get-proto-0.0.0-dataease.js";import"./dunder-proto-0.0.0-dataease.js";import"./call-bind-apply-helpers-0.0.0-dataease.js";import"./function-bind-0.0.0-dataease.js";import"./hasown-0.0.0-dataease.js";import"./call-bound-0.0.0-dataease.js";import"./side-channel-weakmap-0.0.0-dataease.js";import"./jspdf-0.0.0-dataease.js";import"./@babel-0.0.0-dataease.js";import"./fflate-0.0.0-dataease.js";import"./fast-png-0.0.0-dataease.js";import"./iobuffer-0.0.0-dataease.js";import"./pako-0.0.0-dataease.js";import"./vue-router_2-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./vue-0.0.0-dataease.js";import"./vue-i18n-0.0.0-dataease.js";import"./@intlify-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./zrender-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./tslib-0.0.0-dataease.js";import"./copy-anything-0.0.0-dataease.js";import"./is-what-0.0.0-dataease.js";const h=L(),a="/iic-dae-dataease2/de2api",n=a+"/appearance/image/",{wsCache:$}=S(),D=v("appearanceStore",{state:()=>({themeColor:"",customColor:"",navigateBg:"",navigate:"",mobileLogin:"",mobileLoginBg:"",help:"",showDoc:"0",showAi:"0",showCopilot:"0",showAbout:"0",bg:"",login:"",showSlogan:"true",slogan:"",web:"",name:"",foot:"false",footContent:"",loaded:!1,showDemoTips:!1,demoTipsContent:"",community:!0,fontList:[]}),getters:{getNavigate(){return this.navigate?n+this.navigate:null},getMobileLogin(){return this.mobileLogin?n+this.mobileLogin:null},getMobileLoginBg(){return this.mobileLoginBg?n+this.mobileLoginBg:null},getHelp(){return this.help},getThemeColor(){return this.themeColor},getCustomColor(){return this.customColor},getNavigateBg(){return this.navigateBg},getBg(){return this.bg?n+this.bg:null},getLogin(){return this.login?n+this.login:null},getShowSlogan(){return this.showSlogan},getSlogan(){return this.slogan},getWeb(){return this.web?n+this.web:null},getName(){return this.name},getLoaded(){return this.loaded},getFoot(){return this.foot},getFootContent(){return this.footContent},getShowDemoTips(){return this.showDemoTips},getDemoTipsContent(){return this.demoTipsContent},getCommunity(){return this.community},getShowAi(){return c(this.showAi)},getShowCopilot(){return c(this.showCopilot)},getShowDoc(){return c(this.showDoc)},getShowAbout(){return c(this.showAbout)}},actions:{setNavigate(t){this.navigate=t},setMobileLogin(t){this.mobileLogin=t},async setFontList(){const t=await T();this.fontList=t||[]},setCurrentFont(t){const i=this.fontList.find(o=>o.name===t);if(i){let o=document.querySelector(`#de-custom_font${t}`);o||(o=document.createElement("style"),o.setAttribute("id",`de-custom_font${t}`),document.querySelector("head").appendChild(o)),o.innerHTML=`@font-face {
            font-family: '${t}';
            src: url(${h.baseUrl?(h.baseUrl+a).replace("/./","/"):a}/typeface/download/${i.fileTransName});
            font-weight: normal;
            font-style: normal;
            }`}},setMobileLoginBg(t){this.mobileLoginBg=t},setHelp(t){this.help=t},setNavigateBg(t){this.navigateBg=t},setThemeColor(t){this.themeColor=t},setCustomColor(t){this.customColor=t},setLoaded(t){this.loaded=t},async setAppearance(t){if($.get(P("app.desktop"))&&(this.loaded=!0,this.community=!0),this.loaded)return;B().then(m=>{const[r]=m||[];w(`${h.baseUrl?(h.baseUrl+a).replace("/./","/"):a}/typeface/download/${r==null?void 0:r.fileTransName}`,r==null?void 0:r.name,r==null?void 0:r.fileTransName);function w(C,p,b){let l=document.querySelector("#de-custom_font");l||(l=document.createElement("style"),l.setAttribute("id","de-custom_font"),document.querySelector("head").appendChild(l)),l.innerHTML=p&&b?`@font-face {
                font-family: '${p}';
                src: url(${C});
                font-weight: normal;
                font-style: normal;
                }`:"",document.documentElement.style.setProperty("--de-custom_font",`${p}`),document.documentElement.style.setProperty("--van-base-font",`${p}`)}}),t||(document.title="");const o=await A();this.loaded=!0;const u=o==null?void 0:o.data;if(!(u!=null&&u.length)){t||(document.title="DataEase",g());return}const e={loaded:!1,community:!0};let f=!1;if(u.forEach(m=>{e[m.pkey]=m.pval,m.pkey==="community"&&(f=!0)}),e.community=f,this.community=e.community,this.community){this.showDemoTips=e.showDemoTips,this.demoTipsContent=e.demoTipsContent,this.loaded=!0,g();return}this.navigate=e.navigate,this.mobileLogin=e.mobileLogin,this.mobileLoginBg=e.mobileLoginBg,this.help=e.help,this.showAi=e.showAi,this.showCopilot=e.showCopilot,this.showDoc=e.showDoc,this.showAbout=e.showAbout,this.navigateBg=e.navigateBg,this.themeColor=e.themeColor,this.customColor=e.customColor,this.themeColor==="custom"&&this.customColor?(document.documentElement.style.setProperty("--ed-color-primary",this.customColor),document.documentElement.style.setProperty("--van-blue",this.customColor),document.documentElement.style.setProperty("--ed-color-primary-light-5",d.mix(new s("ffffff"),new s(this.customColor.substr(1)),{value:40}).toRGB()),document.documentElement.style.setProperty("--ed-color-primary-light-3",d.mix(new s("ffffff"),new s(this.customColor.substr(1)),{value:15}).toRGB()),document.documentElement.style.setProperty("--ed-color-primary-1a",`${this.customColor}1a`),document.documentElement.style.setProperty("--ed-color-primary-33",`${this.customColor}33`),document.documentElement.style.setProperty("--ed-color-primary-99",`${this.customColor}99`),document.documentElement.style.setProperty("--ed-color-primary-dark-2",d.mix(new s("000000"),new s(this.customColor.substr(1)),{value:15}).toRGB())):document.documentElement.style.getPropertyValue("--ed-color-primary")&&(document.documentElement.style.setProperty("--ed-color-primary","#3370FF"),document.documentElement.style.removeProperty("--ed-color-primary-light-3"),document.documentElement.style.removeProperty("--ed-color-primary-light-5"),document.documentElement.style.removeProperty("--ed-color-primary-1a"),document.documentElement.style.removeProperty("--ed-color-primary-33"),document.documentElement.style.removeProperty("--ed-color-primary-99"),document.documentElement.style.removeProperty("--ed-color-primary-dark-2")),this.bg=e.bg,this.login=e.login,this.showSlogan=e.showSlogan,this.slogan=e.slogan,this.web=e.web,this.name=e.name,this.foot=e.foot,this.footContent=e.footContent,!t&&(this.name?(document.title=this.name,y(this.name)):(document.title="DataEase",y("DataEase")),g(this.web))}}}),g=t=>{const i=document.querySelector('link[rel="icon"]');i&&(t?i.href=n+t:i.href="/dataease.svg")},Ut=()=>D(E);export{D as useAppearanceStore,Ut as useAppearanceStoreWithOut};
