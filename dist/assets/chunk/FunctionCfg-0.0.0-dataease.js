import"./index-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{E as q,a as G}from"./el-select-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import{o as j,G as K}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import"./el-radio-0.0.0-dataease.js";import{E as M}from"./el-color-picker-0.0.0-dataease.js";import{E as W}from"./el-slider-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import{E as X,a as Z}from"./el-form-item-0.0.0-dataease.js";import{E as H}from"./el-checkbox-0.0.0-dataease.js";import{d as Q,w as Y,X as $,y as F,r as ee,o as te,f as m,O as C,j as r,i as a,S as p,a3 as y,a4 as g,u as s,P as oe,_ as d,g as h,W as D,a6 as le,a8 as S}from"./vue-0.0.0-dataease.js";import{aB as ae,a as re,p as ie}from"./chart-0.0.0-dataease.js";import{e as _,i as ne}from"./StringUtils-0.0.0-dataease.js";import{E as se,a as me}from"./index-0.0.0-dataease27.js";import{_ as fe}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./index-0.0.0-dataease4.js";import"./index-0.0.0-dataease3.js";import"./index-0.0.0-dataease6.js";import"./token-0.0.0-dataease.js";import"./strings-0.0.0-dataease.js";import"./index-0.0.0-dataease5.js";import"./axios-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./index-0.0.0-dataease20.js";import"./index-0.0.0-dataease18.js";import"./position-0.0.0-dataease.js";import"./chart-0.0.0-dataease2.js";import"./dataset-0.0.0-dataease.js";import"./app-0.0.0-dataease.js";import"./decimal-0.0.0-dataease.js";const ce={key:0},ue={style:{"padding-left":"22px"}},de=Q({__name:"FunctionCfg",props:{chart:{type:Object,required:!0},themes:{type:String,default:"dark"},propertyInner:{type:Array}},emits:["onFunctionCfgChange"],setup(o,{emit:N}){const{t:i}=j(),n=o,O=N;Y(()=>n.chart.senior.functionCfg,()=>{E()},{deep:!0});const t=$({functionForm:JSON.parse(JSON.stringify(ae)),predefineColors:re,showEmptyStrategy:!1}),c=()=>{O("onFunctionCfgChange",t.functionForm)},V=f=>{var e;return(e=n.propertyInner)==null?void 0:e.includes(f)},E=()=>{const f=JSON.parse(JSON.stringify(n.chart));if(f.senior){let e=ie(f.senior);e.functionCfg&&(t.functionForm=e.functionCfg),B()}},U=F(()=>!(_(n.chart.type,"table-pivot","table-info","indicator")||n.chart.type.includes("chart-mix"))),v=F(()=>_(n.chart.type,"rich-text")),w=F(()=>V("emptyDataStrategy")&&ne(n.chart.type,"table")&&t.functionForm.emptyDataStrategy!=="breakLine"),k=ee([]),B=()=>{if(w.value){k.value=[];let f;_(n.chart.type,"table-normal","table-pivot")&&(f=n.chart.yAxis),n.chart.type==="table-info"&&(f=n.chart.xAxis),f.forEach(e=>{e.groupType==="q"&&k.value.push({label:e.name,value:e.dataeaseName})})}},I=F(()=>_(n.chart.type,"circle-packing"));return te(()=>{E()}),(f,e)=>{const A=H,u=X,T=W,x=M,b=se,z=me,L=K,R=G,J=q,P=Z;return m(),C("div",{onKeydown:e[9]||(e[9]=S(()=>{},["stop"])),onKeyup:e[10]||(e[10]=S(()=>{},["stop"])),style:{width:"100%"}},[r(P,{ref:"functionForm",model:t.functionForm,"label-position":"top",onSubmit:e[8]||(e[8]=S(()=>{},["prevent"]))},{default:a(()=>[V("slider")?(m(),C("div",ce,[r(u,{class:p(["form-item form-item-checkbox","form-item-"+o.themes])},{default:a(()=>[r(A,{effect:o.themes,size:"small",modelValue:t.functionForm.sliderShow,"onUpdate:modelValue":e[0]||(e[0]=l=>t.functionForm.sliderShow=l),onChange:c},{default:a(()=>[y(g(s(i)("chart.slider")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),oe("div",ue,[r(u,{label:s(i)("chart.slider_range")+"(%)",class:p(["form-item range-slider form-item-checkbox","form-item-"+o.themes])},{default:a(()=>[r(T,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderRange,"onUpdate:modelValue":e[1]||(e[1]=l=>t.functionForm.sliderRange=l),style:{width:"90%","margin-top":"-8px"},min:0,max:100,"input-size":"small",range:"",onChange:c},null,8,["effect","disabled","modelValue"])]),_:1},8,["label","class"]),r(u,{label:s(i)("chart.slider_bg"),class:p(["form-item","form-item-"+o.themes])},{default:a(()=>[r(x,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderBg,"onUpdate:modelValue":e[2]||(e[2]=l=>t.functionForm.sliderBg=l),class:"color-picker-style",predefine:t.predefineColors,onChange:c,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"]),r(u,{label:s(i)("chart.slider_fill_bg"),class:p(["form-item","form-item-"+o.themes])},{default:a(()=>[r(x,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderFillBg,"onUpdate:modelValue":e[3]||(e[3]=l=>t.functionForm.sliderFillBg=l),class:"color-picker-style",predefine:t.predefineColors,onChange:c,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"]),r(u,{label:s(i)("chart.slider_text_color"),class:p(["form-item","form-item-"+o.themes])},{default:a(()=>[r(x,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderTextColor,"onUpdate:modelValue":e[4]||(e[4]=l=>t.functionForm.sliderTextColor=l),class:"color-picker-style",predefine:t.predefineColors,onChange:c,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"])])])):d("",!0),V("emptyDataStrategy")?(m(),h(u,{key:1,label:s(i)("chart.empty_data_strategy"),class:p(["form-item","form-item-"+o.themes])},{default:a(()=>[r(z,{effect:o.themes,modelValue:t.functionForm.emptyDataStrategy,"onUpdate:modelValue":e[5]||(e[5]=l=>t.functionForm.emptyDataStrategy=l),onChange:c},{default:a(()=>[r(b,{effect:o.themes,label:"breakLine"},{default:a(()=>[y(g(v.value?s(i)("visualization.set_as_tips")+'"-"':s(i)("chart.break_line")),1)]),_:1},8,["effect"]),v.value?(m(),h(b,{key:0,effect:o.themes,label:"custom"},{default:a(()=>[y(g(s(i)("visualization.custom")),1)]),_:1},8,["effect"])):d("",!0),v.value?d("",!0):(m(),C(D,{key:1},[I.value?d("",!0):(m(),h(b,{key:0,effect:o.themes,label:"setZero"},{default:a(()=>[y(g(s(i)("chart.set_zero")),1)]),_:1},8,["effect"])),U.value?(m(),h(b,{key:1,effect:o.themes,label:"ignoreData"},{default:a(()=>[y(g(s(i)("chart.ignore_data")),1)]),_:1},8,["effect"])):d("",!0)],64))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"])):d("",!0),r(u,null,{default:a(()=>[t.functionForm.emptyDataStrategy==="custom"?(m(),h(L,{key:0,effect:o.themes,modelValue:t.functionForm.emptyDataCustomValue,"onUpdate:modelValue":e[6]||(e[6]=l=>t.functionForm.emptyDataCustomValue=l),class:"value-item",onChange:c,placeholder:"请输入自定义值",clearable:""},null,8,["effect","modelValue"])):d("",!0)]),_:1}),w.value?(m(),h(u,{key:2,label:s(i)("chart.empty_data_field_ctrl"),class:p(["form-item","form-item-"+o.themes])},{default:a(()=>[r(J,{effect:o.themes,modelValue:t.functionForm.emptyDataFieldCtrl,"onUpdate:modelValue":e[7]||(e[7]=l=>t.functionForm.emptyDataFieldCtrl=l),multiple:"",onChange:c},{default:a(()=>[(m(!0),C(D,null,le(k.value,l=>(m(),h(R,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"])):d("",!0)]),_:1},8,["model"])],32)}}});const Qe=fe(de,[["__scopeId","data-v-a63c7f67"]]);export{Qe as default};
