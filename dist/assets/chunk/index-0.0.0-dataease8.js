import{b as vt,c as _t,a as ie,z as nt}from"./index-0.0.0-dataease.js";import"./el-footer-0.0.0-dataease.js";import"./el-aside-0.0.0-dataease.js";import"./el-main-0.0.0-dataease.js";import{f as s,O as x,P as a,d as ne,t as Ze,j as t,u as e,af as Ce,r as z,X as me,y as q,o as be,a as Lt,W as Y,a4 as L,g as A,i as o,_ as H,S as U,a3 as j,R as pe,ag as Tt,z as Mt,ah as Bt,n as de,e as et,a8 as Ht,w as jt,U as Re,a6 as he,T as ct,ai as zt,l as At}from"./vue-0.0.0-dataease.js";import{d as fe}from"./dvMain-0.0.0-dataease.js";import{j as ht,_ as Ot,k as Pt,D as Ut,f as Ft}from"./DePreview-0.0.0-dataease.js";import{D as Rt,i as Zt,U as Nt,d as Wt,_ as xe,Q as Gt,b as qt,T as Jt,c as Qt,M as Xt,e as Kt,f as Yt,g as eo,h as to,j as Le,k as oo,l as no,O as ao,C as io,S as lo,a as so,m as Fe,n as ro}from"./CanvasCacheDialog.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{a as co,n as Q,j as G,v as tt,o as ve,D as X,F as ot,N as ge,y as Ne,G as uo,C as po,u as mo,r as _e}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import fo from"./MobileConfigPanel-0.0.0-dataease.js";import{useAppStoreWithOut as gt}from"./app-0.0.0-dataease.js";import{E as vo,a as _o,b as ho}from"./el-dropdown-menu-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import"./el-dropdown-item-0.0.0-dataease.js";import{E as at}from"./el-col-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import{d as go,a as Co}from"./MultiplexPreviewShow-0.0.0-dataease.js";import{i as bo}from"./chart-list-0.0.0-dataease.js";import{i as yo}from"./icon_copy_filled-0.0.0-dataease.js";import{i as wo}from"./icon_left_outlined-0.0.0-dataease.js";import{d as ut}from"./DeResourceTree-0.0.0-dataease.js";import{i as So}from"./PreviewHead.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{e as K}from"./eventBus-0.0.0-dataease.js";import{s as Ve}from"./snapshot-0.0.0-dataease.js";import ko from"./MultiplexingCanvas-0.0.0-dataease.js";import{c as xo,a as Io,d as pt,f as Do,b as Vo,l as Eo,m as $o,q as Lo,e as To,i as Ct,h as Mo,o as Bo}from"./canvasUtils-0.0.0-dataease.js";import{d as Ho}from"./DeShortcutKey-0.0.0-dataease.js";import jo from"./DeResourceGroupOpt-0.0.0-dataease.js";import{_ as le}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import zo from"./DeAppApply-0.0.0-dataease.js";import{u as Ao,a as Oo,s as Po,d as Uo,r as Fo}from"./dataVisualization-0.0.0-dataease.js";import{E as De}from"./index-0.0.0-dataease4.js";import Ro from"./index-0.0.0-dataease26.js";import{g as Zo,a as No}from"./dataset-0.0.0-dataease.js";import{E as We}from"./el-row-0.0.0-dataease.js";import{E as bt,a as Wo}from"./el-collapse-item-0.0.0-dataease.js";import{a as yt,D as Go}from"./chart-0.0.0-dataease.js";import{i as wt,b as qo,u as mt}from"./imgUtils-0.0.0-dataease.js";import{c as St,d as Jo}from"./canvasStyle-0.0.0-dataease.js";import{g as Qo}from"./util-0.0.0-dataease.js";import{E as Xo}from"./el-dialog-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import{E as it,a as kt}from"./el-form-item-0.0.0-dataease.js";import{E as Ko}from"./el-upload-0.0.0-dataease.js";import"./el-progress-0.0.0-dataease.js";import Yo from"./ImgViewDialog-0.0.0-dataease.js";import{E as en}from"./el-space-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{E as tn,a as on}from"./el-select-0.0.0-dataease.js";import{E as xt}from"./el-color-picker-0.0.0-dataease.js";import{i as nn,a as an}from"./icon_italic_outlined-0.0.0-dataease.js";import{i as ln,a as sn,b as rn}from"./icon_right-alignment_outlined-0.0.0-dataease.js";import{E as dn}from"./el-divider-0.0.0-dataease.js";import{i as cn,a as un,b as pn}from"./LegendSelector-0.0.0-dataease.js";import{e as It,m as mn}from"./lodash-0.0.0-dataease.js";import{B as fn}from"./BackgroundOverallCommon-0.0.0-dataease.js";import vn from"./ChartStyleBatchSet-0.0.0-dataease.js";import{c as _n,a as ft}from"./CrossPermission-0.0.0-dataease.js";import{i as hn}from"./interactive-0.0.0-dataease.js";import{w as gn}from"./watermark-0.0.0-dataease.js";import{E as Cn}from"./EmptyBackground-0.0.0-dataease.js";import{c as bn}from"./index-0.0.0-dataease16.js";import"./dataVisualization-0.0.0-dataease2.js";import"./index-0.0.0-dataease21.js";import"./library-0.0.0-dataease.js";import"./antv-0.0.0-dataease.js";import"./index-0.0.0-dataease22.js";import"./pureFunctionsAny.generated-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./decimal-0.0.0-dataease.js";import"./tslib.es6-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./_commonjs-dynamic-modules-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./style-0.0.0-dataease.js";import"./translate-0.0.0-dataease.js";import"./Component-0.0.0-dataease18.js";import"./Component-0.0.0-dataease17.js";import"./icon_edit_outlined-0.0.0-dataease.js";import"./icon_delete-trash_outlined-0.0.0-dataease.js";import"./el-popover-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./el-tree-0.0.0-dataease.js";import"./token-0.0.0-dataease.js";import"./index-0.0.0-dataease15.js";import"./el-checkbox-0.0.0-dataease.js";import"./el-tree-select-0.0.0-dataease.js";import"./strings-0.0.0-dataease.js";import"./el-checkbox-group-0.0.0-dataease.js";import"./el-tabs-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import"./el-radio-0.0.0-dataease.js";import"./HandleMore.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./icon_more_outlined-0.0.0-dataease.js";import"./more_v-0.0.0-dataease.js";import"./icon_add_outlined-0.0.0-dataease.js";import"./icon_drag_outlined-0.0.0-dataease.js";import"./icon_visible_outlined-0.0.0-dataease.js";import"./dv-folder-0.0.0-dataease.js";import"./icon_dataset-0.0.0-dataease.js";import"./icon_warning_filled-0.0.0-dataease.js";import"./icon_info_outlined-0.0.0-dataease.js";import"./vuedraggable-es-0.0.0-dataease.js";import"./time-format-0.0.0-dataease.js";import"./dayjs.min-0.0.0-dataease.js";import"./time-format-dayjs-0.0.0-dataease.js";import"./attr-0.0.0-dataease23.js";import"./el-time-picker-0.0.0-dataease.js";import"./el-date-picker-0.0.0-dataease.js";import"./arrays-0.0.0-dataease.js";import"./index-0.0.0-dataease18.js";import"./index-0.0.0-dataease5.js";import"./el-input-number-0.0.0-dataease.js";import"./icon_admin_outlined-0.0.0-dataease.js";import"./index-0.0.0-dataease27.js";import"./index-0.0.0-dataease20.js";import"./index-0.0.0-dataease28.js";import"./index-0.0.0-dataease29.js";import"./use-route-0.0.0-dataease.js";import"./index-0.0.0-dataease30.js";import"./index-0.0.0-dataease31.js";import"./index-0.0.0-dataease32.js";import"./index-0.0.0-dataease33.js";import"./el-virtual-list-0.0.0-dataease.js";import"./raf-0.0.0-dataease.js";import"./el-select-v2-0.0.0-dataease.js";import"./index-0.0.0-dataease6.js";import"./fixed-size-list-0.0.0-dataease.js";import"./field-list-0.0.0-dataease.js";import"./treeSortUtils-0.0.0-dataease.js";import"./Attr-0.0.0-dataease22.js";import"./CommonAttr-0.0.0-dataease.js";import"./CommonBorderSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./CarouselSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./CollapseSwitchItem-0.0.0-dataease.js";import"./el-switch-0.0.0-dataease.js";import"./icon_replace_outlined-0.0.0-dataease.js";import"./icon_download_outlined-0.0.0-dataease.js";import"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./watermark-0.0.0-dataease2.js";import"./user-0.0.0-dataease.js";import"./ChartComponentS2-0.0.0-dataease.js";import"./chart-0.0.0-dataease2.js";import"./ViewTrackBar-0.0.0-dataease.js";import"./el-pagination-0.0.0-dataease.js";import"./ChartError-0.0.0-dataease.js";import"./LinkageSet-0.0.0-dataease.js";import"./dv-link-target-0.0.0-dataease.js";import"./dv-dashboard-spine-0.0.0-dataease.js";import"./dv-screen-spine-0.0.0-dataease.js";import"./CodeMirror-0.0.0-dataease.js";import"./dv-empty-0.0.0-dataease.js";import"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./Component-0.0.0-dataease16.js";import"./index-0.0.0-dataease34.js";import"./ChartComponentG2Plot-0.0.0-dataease.js";import"./PluginComponent.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./DrillPath-0.0.0-dataease.js";import"./DeRichTextView-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./Component-0.0.0-dataease12.js";import"./ChartEmptyInfo-0.0.0-dataease.js";import"./chart-dark-list-0.0.0-dataease.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./Component-0.0.0-dataease13.js";import"./Attr-0.0.0-dataease16.js";import"./Component-0.0.0-dataease10.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import"./Component-0.0.0-dataease5.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease3.js";import"./Attr-0.0.0-dataease.js";import"./Component-0.0.0-dataease3.js";import"./board-list-0.0.0-dataease.js";import"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease2.js";import"./Attr-0.0.0-dataease9.js";import"./Component-0.0.0-dataease6.js";import"./Attr-0.0.0-dataease6.js";import"./Component-0.0.0-dataease4.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease4.js";import"./Component-0.0.0-dataease14.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease5.js";import"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import"./Attr-0.0.0-dataease10.js";import"./Component-0.0.0-dataease11.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease6.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease7.js";import"./Attr-0.0.0-dataease7.js";import"./Component-0.0.0-dataease9.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease8.js";import"./Component-0.0.0-dataease7.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease9.js";import"./Component-0.0.0-dataease15.js";import"./Attr-0.0.0-dataease19.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease10.js";import"./Attr-0.0.0-dataease15.js";import"./DatasetSelect-0.0.0-dataease.js";import"./icon_done_outlined-0.0.0-dataease.js";import"./Threshold-0.0.0-dataease.js";import"./TableThresholdEdit-0.0.0-dataease.js";import"./icon_info_filled-0.0.0-dataease.js";import"./TextLabelThresholdEdit-0.0.0-dataease.js";import"./TextThresholdEdit-0.0.0-dataease.js";import"./LineThresholdEdit-0.0.0-dataease.js";import"./PictureGroupThresholdEdit-0.0.0-dataease.js";import"./Component-0.0.0-dataease2.js";import"./ModelUtil-0.0.0-dataease.js";import"./el-slider-0.0.0-dataease.js";import"./CustomColorStyleSelect-0.0.0-dataease.js";import"./GradientColorSelector-0.0.0-dataease.js";import"./icon_rename_outlined-0.0.0-dataease.js";import"./icon_more-vertical_outlined-0.0.0-dataease.js";import"./dv-info-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./icon_pc_outlined-0.0.0-dataease.js";import"./MobileBackgroundSelector-0.0.0-dataease.js";import"./ComponentStyleEditor-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";import"./constants-0.0.0-dataease.js";import"./dv-dashboard-spine-mobile-disabled-0.0.0-dataease.js";import"./dv-rename-0.0.0-dataease.js";import"./icon_file-add_outlined-0.0.0-dataease.js";import"./icon_search-outline_outlined-0.0.0-dataease.js";import"./dv-sort-desc-0.0.0-dataease.js";import"./icon_operation-analysis_outlined-0.0.0-dataease.js";import"./ShareHandler-0.0.0-dataease.js";import"./share-0.0.0-dataease.js";import"./de-copy-0.0.0-dataease.js";import"./icon_refresh_outlined-0.0.0-dataease.js";import"./icon_close_outlined-0.0.0-dataease.js";import"./ShareTicket-0.0.0-dataease.js";import"./el-table-0.0.0-dataease.js";import"./index-0.0.0-dataease19.js";import"./GridTable-0.0.0-dataease.js";import"./TicketEdit-0.0.0-dataease.js";import"./el-drawer-0.0.0-dataease.js";import"./index-0.0.0-dataease3.js";import"./use-dialog-0.0.0-dataease.js";import"./CustomLinkPwd-0.0.0-dataease.js";import"./TicketDialog-0.0.0-dataease.js";import"./DeResourceCreateOptV2.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./index-0.0.0-dataease23.js";import"./templateMarket-0.0.0-dataease.js";import"./MarketPreviewV2-0.0.0-dataease.js";import"./icon-filter-0.0.0-dataease.js";import"./TemplateMarketPreviewItem-0.0.0-dataease.js";import"./CategoryTemplateV2-0.0.0-dataease.js";import"./TemplateMarketV2Item-0.0.0-dataease.js";import"./TemplateSkeleton-0.0.0-dataease.js";import"./visual-star-0.0.0-dataease.js";import"./DvDetailInfo-0.0.0-dataease.js";import"./ShareVisualHead-0.0.0-dataease.js";import"./DashboardPreviewShow.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./DeResourceArrow-0.0.0-dataease.js";import"./icon_right_outlined-0.0.0-dataease.js";import"./useMoveLine-0.0.0-dataease.js";import"./AppExportForm-0.0.0-dataease.js";import"./PreviewShow.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./nothing-tree-0.0.0-dataease.js";import"./icon_down_outlined-1-0.0.0-dataease.js";import"./icon_copy_outlined-0.0.0-dataease.js";import"./DimensionItem-0.0.0-dataease.js";import"./icon_sort_outlined-0.0.0-dataease.js";import"./icon_invisible_outlined-0.0.0-dataease.js";import"./utils-0.0.0-dataease.js";import"./QuotaItem-0.0.0-dataease.js";import"./DragPlaceholder-0.0.0-dataease.js";import"./FilterTree.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./RowAuth-0.0.0-dataease.js";import"./AuthTree-0.0.0-dataease.js";import"./FilterFiled-0.0.0-dataease.js";import"./TimeDialog-0.0.0-dataease.js";import"./options-0.0.0-dataease.js";import"./icon_down_outlined-0.0.0-dataease.js";import"./ChartStyle-0.0.0-dataease.js";import"./MiscSelector-0.0.0-dataease.js";import"./LabelSelector-0.0.0-dataease.js";import"./StringUtils-0.0.0-dataease.js";import"./TooltipSelector-0.0.0-dataease.js";import"./XAxisSelector-0.0.0-dataease.js";import"./YAxisSelector-0.0.0-dataease.js";import"./DualYAxisSelector-0.0.0-dataease.js";import"./DualYAxisSelectorInner-0.0.0-dataease.js";import"./TitleSelector-0.0.0-dataease.js";import"./icon_letter-spacing_outlined-0.0.0-dataease.js";import"./SummarySelector-0.0.0-dataease.js";import"./BasicStyleSelector-0.0.0-dataease.js";import"./SymbolicStyleSelector-0.0.0-dataease.js";import"./DualBasicStyleSelector-0.0.0-dataease.js";import"./TableHeaderSelector-0.0.0-dataease.js";import"./TableHeaderGroupConfig-0.0.0-dataease.js";import"./index.esm-0.0.0-dataease.js";import"./TableCellSelector-0.0.0-dataease.js";import"./TableTotalSelector-0.0.0-dataease.js";import"./CustomAggrEdit-0.0.0-dataease.js";import"./icon_adjustment_outlined-0.0.0-dataease.js";import"./MiscStyleSelector-0.0.0-dataease.js";import"./IndicatorValueSelector-0.0.0-dataease.js";import"./icon_bottom-align_outlined-0.0.0-dataease.js";import"./IndicatorNameSelector-0.0.0-dataease.js";import"./QuadrantSelector-0.0.0-dataease.js";import"./FlowMapLineSelector-0.0.0-dataease.js";import"./FlowMapPointSelector-0.0.0-dataease.js";import"./BulletTargetSelector.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./BulletMeasureSelector.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./BulletRangeSelector.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./VQueryChartStyle-0.0.0-dataease.js";import"./Senior-0.0.0-dataease.js";import"./FunctionCfg-0.0.0-dataease.js";import"./ScrollCfg-0.0.0-dataease.js";import"./AssistLine-0.0.0-dataease.js";import"./AssistLineEdit-0.0.0-dataease.js";import"./MapMapping-0.0.0-dataease.js";import"./BubbleAnimateCfg-0.0.0-dataease.js";import"./QuotaFilterEditor-0.0.0-dataease.js";import"./ResultFilterEditor-0.0.0-dataease.js";import"./DrillItem-0.0.0-dataease.js";import"./ChartType-0.0.0-dataease.js";import"./CompareEdit-0.0.0-dataease.js";import"./ValueFormatterEdit-0.0.0-dataease.js";import"./CustomSortEdit-0.0.0-dataease.js";import"./SortPriorityEdit-0.0.0-dataease.js";import"./CalcFieldEdit-0.0.0-dataease.js";import"./ChartTemplateInfo-0.0.0-dataease.js";import"./field-calculated-list-0.0.0-dataease.js";import"./position-0.0.0-dataease.js";import"./datasource-0.0.0-dataease.js";import"./el-empty-0.0.0-dataease.js";import"./none-0.0.0-dataease.js";const yn={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function wn(O,m){return s(),x("svg",yn,[...m[0]||(m[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.6667 2.08398H17.0834C17.5436 2.08398 17.9167 2.45708 17.9167 2.91732V8.33398C17.9167 8.79422 17.5436 9.16732 17.0834 9.16732H11.6667C11.2065 9.16732 10.8334 8.79422 10.8334 8.33398V2.91732C10.8334 2.45708 11.2065 2.08398 11.6667 2.08398ZM12.5001 7.50065H16.2501V3.75065H12.5001V7.50065ZM2.91674 10.834H8.33341C8.79364 10.834 9.16674 11.2071 9.16674 11.6673V17.084C9.16674 17.5442 8.79364 17.9173 8.33341 17.9173H2.91674C2.4565 17.9173 2.08341 17.5442 2.08341 17.084V11.6673C2.08341 11.2071 2.4565 10.834 2.91674 10.834ZM3.75007 16.2507H7.50007V12.5007H3.75007V16.2507ZM17.0834 10.834H11.6667C11.2065 10.834 10.8334 11.2071 10.8334 11.6673V17.084C10.8334 17.5442 11.2065 17.9173 11.6667 17.9173H17.0834C17.5436 17.9173 17.9167 17.5442 17.9167 17.084V11.6673C17.9167 11.2071 17.5436 10.834 17.0834 10.834ZM12.5001 16.2507V12.5007H16.2501V16.2507H12.5001ZM2.09567 5.8636C1.93295 5.70088 1.93295 5.43706 2.09567 5.27434L2.68493 4.68508C2.84765 4.52237 3.11146 4.52237 3.27418 4.68508L4.74732 6.15822L7.98823 2.91732C8.15095 2.7546 8.41477 2.7546 8.57748 2.91732L9.16674 3.50657C9.32946 3.66929 9.32946 3.93311 9.16674 4.09583L5.10088 8.16169C4.90561 8.35696 4.58903 8.35696 4.39377 8.16169L2.09567 5.8636Z",fill:"white","fill-opacity":"0.6"},null,-1)])])}const Sn={render:wn},kn={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function xn(O,m){return s(),x("svg",kn,[...m[0]||(m[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.17657 10.4785L9.174 10.4816L8.62618 11.1344C8.32264 11.4962 8.30723 11.9378 8.30784 12.1448C8.3082 12.2683 8.31704 12.3875 8.32329 12.4716C8.33061 12.5701 8.33378 12.6159 8.33378 12.6484C8.33383 13.4649 9.10394 14.0621 9.89478 13.859L10.5216 13.698C10.8369 13.617 11.0443 13.4284 11.1599 13.3046C11.219 13.2415 11.2683 13.1794 11.3013 13.1374L11.332 13.0981C11.3503 13.0746 11.3606 13.0614 11.373 13.0467L17.7441 5.45382C17.8648 5.59853 17.9804 5.74754 18.0907 5.90069C18.3024 6.161 18.4971 6.43158 18.6744 6.71176C19.1869 7.51954 19.5332 8.38333 19.7047 9.27787L19.7608 9.61472L19.8024 9.97542L19.8068 10.1754L19.8019 10.3577C19.7208 11.863 18.6414 13.0679 17.2958 13.1619L17.1262 13.1678H15.6529C15.1454 13.1703 14.6687 13.4406 14.3711 13.8943C14.1398 14.2487 14.0366 14.6805 14.0742 15.1056L14.0989 15.2872L14.1737 15.5781C14.3443 16.1879 14.2649 16.8533 13.9574 17.3931C13.7122 17.8236 13.3411 18.1404 12.9127 18.2951L12.7495 18.3454L12.1476 18.4686C11.7129 18.5493 11.2768 18.6057 10.8397 18.638L10.4022 18.6622L9.94788 18.6703C8.6298 18.6703 7.34847 18.4612 6.14512 18.0493C4.97677 17.6491 3.92507 17.0752 3.01631 16.3426C2.1002 15.6023 1.3785 14.7373 0.872027 13.7729C0.340156 12.7578 0.0703125 11.679 0.0703125 10.5664C0.0703125 9.45171 0.338847 8.36362 0.869922 7.32918C1.37691 6.34067 2.09677 5.45017 3.01015 4.68246C3.91985 3.91859 4.97114 3.31868 6.13895 2.89698C7.08916 2.558 8.0712 2.3483 9.06314 2.27184L9.4888 2.24724L9.93729 2.2384L9.95757 2.23438C10.7604 2.23506 11.5548 2.32059 12.3246 2.48573C13.3328 2.63875 14.2782 2.94404 15.1326 3.3804L9.17657 10.4785ZM9.99722 5.18537C10.6309 5.18537 11.1422 5.69878 11.1422 6.33034C11.1422 6.9619 10.6288 7.47531 9.99722 7.47531C9.36352 7.47531 8.85225 6.9619 8.85225 6.33034C8.85225 5.69878 9.36566 5.18537 9.99722 5.18537ZM5.62548 6.74669C6.25704 6.74669 6.77045 7.2601 6.77045 7.89166C6.77045 8.52322 6.25704 9.03663 5.62548 9.03663C4.99177 9.03663 4.48051 8.52322 4.48051 7.89166C4.48051 7.2601 4.99392 6.74669 5.62548 6.74669ZM5.72959 12.0552C5.72745 11.4236 5.21618 10.9102 4.58463 10.9102C3.95307 10.9102 3.43966 11.4236 3.43966 12.0552C3.43966 12.6867 3.95092 13.2001 4.58463 13.2001C5.21618 13.2001 5.72959 12.6867 5.72959 12.0552Z",fill:"white","fill-opacity":"0.6"},null,-1),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.7341 12.5111C10.6156 12.6523 10.5034 12.8422 10.3137 12.8909L9.68691 13.0519C9.4233 13.1196 9.1666 12.9206 9.16658 12.6484C9.16656 12.3663 9.06493 11.9074 9.26402 11.6701L9.80935 11.0202L9.81191 11.0172L18.2318 0.982833C18.3797 0.806552 18.6425 0.783558 18.8188 0.931475L19.4571 1.46713C19.6334 1.61505 19.6564 1.87786 19.5085 2.05415L10.7341 12.5111Z",fill:"white","fill-opacity":"0.6"},null,-1)])])}const In={render:xn},Dn={width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};function Vn(O,m){return s(),x("svg",Dn,[...m[0]||(m[0]=[a("path",{d:"M6.66666 3.66667H9.33332V5H6.66666V3.66667Z"},null,-1),a("path",{d:"M8.99999 11H6.99999V12.3333H8.99999V11Z"},null,-1),a("path",{d:"M3.33332 1C2.96513 1 2.66666 1.29848 2.66666 1.66667V14.3333C2.66666 14.7015 2.96513 15 3.33332 15H12.6667C13.0348 15 13.3333 14.7015 13.3333 14.3333V1.66667C13.3333 1.29848 13.0348 1 12.6667 1H3.33332ZM3.99999 2.33333H12V13.6667H3.99999V2.33333Z"},null,-1)])])}const En={render:Vn},$n={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ln(O,m){return s(),x("svg",$n,[...m[0]||(m[0]=[a("path",{d:"M14.3333 1.33398H1.66667C1.29848 1.33398 1 1.63246 1 2.00065V11.334C1 11.7022 1.29848 12.0007 1.66667 12.0007H14.3333C14.7015 12.0007 15 11.7022 15 11.334V2.00065C15 1.63246 14.7015 1.33398 14.3333 1.33398ZM2.33333 8.66732V2.66732H13.6667V8.66732H2.33333ZM2.33333 10.0007H13.6667V10.6673H2.33333V10.0007ZM4.66667 13.334H11.3333V14.6673H4.66667V13.334Z",fill:"#646A73"},null,-1)])])}const Tn={render:Ln},Mn=ne({__name:"DbMoreComGroup",props:{dvModel:{type:String,default:"dv"},themes:{type:String,default:"dark"}},setup(O){const m=O,{dvModel:i}=Ze(m),v=(w,p)=>{K.emit("handleNew",{componentName:w,innerType:p})},b=w=>{xo(w,i.value)},g=w=>{Io(w,i.value)};return(w,p)=>(s(),x("div",{class:"group",onDragstart:b,onDragend:g},[t(Rt,{themes:O.themes,icon:e(go),label:w.$t("visualization.web"),"drag-info":"DeFrame&DeFrame",onClick:p[0]||(p[0]=C=>v("DeFrame","DeFrame"))},null,8,["themes","icon","label"])],32))}});const Bn=le(Mn,[["__scopeId","data-v-0f4e5de8"]]),Hn={class:"toolbar-main"},jn={class:"toolbar"},zn={class:"left-area"},An={id:"canvas-name",class:"name-area",style:{height:"100%",padding:"10px"}},On={key:1,class:"left-area"},Pn={class:"opt-area"},Un={key:2,class:"left-area"},Fn={key:3,class:"middle-area"},Rn={key:2,class:"right-area"},Zn={key:3,class:"right-area full-area"},Nn={key:4,class:"right-area full-area"},Ie="dashboard",Wn=ne({__name:"DbToolbar",props:{createType:{type:String,default:"create"}},emits:["recoverToPublished"],setup(O,{emit:m}){const{t:i}=ve(),v=fe(),b=Ve(),g=Ho(),{styleChangeTimes:w,snapshotIndex:p}=Ce(b),C=z(null),{linkageSettingStatus:S,curLinkageView:n,componentData:M,dvInfo:c,canvasViewInfo:_,editMode:r,batchOptStatus:I,targetLinkageInfo:E,curBatchOptComponents:y,appData:B}=Ce(v),$=z(null),f=z(null);let d=z(!1),u=z(""),D=z(null);const T=me({preBatchComponentData:[],preBatchCanvasViewInfo:{}}),F=z(null),N=z(null),{wsCache:W}=vt("localStorage"),se=co(),Te=q(()=>Ke.getIsIframe),Ge=W.get("app.desktop"),ye=m,Me=()=>{d.value=!0,u.value=c.value.name,de(()=>{D.value.focus()})},Ee=()=>{if(d.value=!1,!(!u.value||!u.value.trim())&&u.value.trim()!==c.value.name){if(u.value.trim().length>64||u.value.trim().length<1){X.warning(i("components.length_1_64_characters")),Me();return}c.value.name=u.value,u.value=""}},Be=()=>{p.value>0&&(b.undo(),K.emit("matrix-canvasInit",!1))},He=()=>{p.value!==b.snapshotData.length-1&&(b.redo(),K.emit("matrix-canvasInit",!1))},we=()=>{f.value.toggleFullscreen()},qe=()=>{if(!c.value.id||c.value.dataState==="prepare"){X.warning(i("components.current_page_first"));return}pt(()=>{let h="#/preview?dvId="+c.value.id+"&ignoreParams=true&editPreview=true";te.baseUrl&&(h=`${te.baseUrl}${h}`.replaceAll("//#","/#"));const l=window.open(h,"_blank");$t(l)})},$e=()=>{v.setEditMode("edit")},je=q(()=>{let h=[];return M.value.forEach(l=>{l.innerType==="VQuery"&&h.push(l),l.innerType==="DeTabs"&&l.propValue.forEach(P=>{h=[...P.componentData.filter(ae=>ae.innerType==="VQuery"),...h]})}),h}),Je=h=>{h&&h.opt==="newLeaf"&&(c.value.dataState="ready",c.value.pid=h.pid,c.value.name=h.name,ce(h.withPublish,h.status))},Qe=()=>{ye("recoverToPublished")},ze=h=>{const l=[];Do(M.value,l),Ao({id:c.value.id,name:c.value.name,mobileLayout:c.value.mobileLayout,activeViewIds:l,status:h,type:"dashboard"}).then(()=>{v.updateDvInfoCall(h),h?X.success(i("visualization.published_success")):X.success(i("visualization.cancel_publish_tips"))})},ce=(h=!1,l)=>{if(se.getOid&&W.get("user.oid")&&se.getOid!==W.get("user.oid")){ot.confirm(i("components.from_other_organizations"),{confirmButtonType:"primary",type:"warning",confirmButtonText:i("components.close_the_page"),cancelButtonText:i("common.cancel"),autofocus:!1,showClose:!1}).then(()=>{window.close()});return}if(c.value.dataState==="prepare")if(B.value){const P={base:{pid:"",name:c.value.name,datasetFolderPid:null,datasetFolderName:c.value.name},appData:B.value};de(()=>{C.value.init(P)})}else{const P={name:c.value.name,leaf:!0,id:c.value.pid||"0"};F.value.optInit("leaf",P,"newLeaf",!0,{withPublish:h,status:l});return}Vo(()=>{k({withPublish:h,status:l})})},k=h=>{if(W.delete("DE-DV-CATCH-"+c.value.id),w.value>0||h.withPublish){v.matrixSizeAdaptor(),je.value.forEach(l=>{ie().emitter.emit(`updateQueryCriteria${l.id}`)});try{To(h,()=>{b.resetStyleChangeTimes();let l=window.location.href;l=l.replace(/(#\/[^?]*)(?:\?[^#]*)?/,`$1?resourceId=${c.value.id}`),te.baseUrl||window.history.replaceState({path:l},"",l),B.value&&Ct(c.value.id,{busiFlag:"dashboard",resourceTable:"snapshot"},()=>{ie().emitter.emit("refresh-dataset-selector"),ie().emitter.emit("calcData-all"),C.value.close(),v.setAppDataInfo(null),b.resetSnapshot()}),h.withPublish?ze(h.status):X.success(i("commons.save_success"))})}catch(l){console.error(l)}}},V=()=>{v.setCurComponent({component:null,index:null}),v.setComponentData([]),b.recordSnapshotCache("renderChart")},R=()=>{let h="#/panel/index";c.value.id&&(h=h+"?dvId="+c.value.id),w.value>0?ot.confirm(i("components.sure_to_exit"),{confirmButtonType:"primary",type:"warning",autofocus:!1,showClose:!1}).then(()=>{Se(h)}):Se(h)},te=_t(),Se=h=>{if(Et.value){te.clearState(),ie().emitter.emit("changeCurrentComponent","DashboardPanel");return}if(window["dataease-embedded-host"]&&(re!=null&&re.value)){const l={methodName:"embeddedInteractive",args:{eventName:"de-dashboard-editor-back",args:"Just a demo that descript dataease embedded interactive"}};re.value.invokeMethod(l);return}W.delete("DE-DV-CATCH-"+c.value.id),W.set("db-info-id",c.value.id),history.state.back?history.back():window.open(h,"_self")},lt=()=>{$.value.dialogInit()};be(()=>{K.on("preview",we),K.on("save",ce),K.on("clearCanvas",V)}),Lt(()=>{K.off("preview",we),K.off("save",ce),K.off("clearCanvas",V),v.setAppDataInfo(null)});const Ae=()=>{v.setCurComponent({component:null,index:null}),v.setHiddenListStatus(!1)},oe=()=>{v.setHiddenListStatus()},ue=()=>{if(!c.value.id||c.value.dataState==="prepare"){X.warning(i("components.current_page_first"));return}ie().emitter.emit("mobileConfig")},Oe=()=>{ge(M.value).forEach(l=>{var P;y.value.includes(l.id)&&K.emit("removeMatrixItemById-"+l.canvasId,l.id),l.component==="DeTabs"&&((P=l.propValue)==null||P.forEach(ae=>{var Z;(Z=ae.componentData)==null||Z.forEach(J=>{y.value.includes(J.id)&&K.emit("removeMatrixItemById-"+J.canvasId,J.id)})}))}),de(()=>{Xe()})},ke=()=>{const h={};M.value.forEach(l=>{var P;y.value.includes(l.id)&&(h[l.id]=l),l.component==="DeTabs"&&((P=l.propValue)==null||P.forEach(ae=>{var Z;(Z=ae.componentData)==null||Z.forEach(J=>{y.value.includes(J.id)&&(h[J.id]=J)})}))}),g.copyMultiplexingComponents(_.value,h,!0,"batchOpt"),Xe()},Pe=h=>{h?(T.preBatchComponentData=ge(M.value),T.preBatchCanvasViewInfo=ge(_.value)):(T.preBatchComponentData=[],T.preBatchCanvasViewInfo={}),v.setHiddenListStatus(!1),v.setBatchOptStatus(h)},Ue=()=>{if(M.value.length===0){X.warning(i("components.add_components_first"));return}if(!c.value.id||c.value.dataState==="prepare"){X.warning(i("components.current_page_first"));return}pt(()=>{N.value.optInit()})},Xe=()=>{Pe(!1)},st=()=>{v.clearLinkageSettingInfo()},Dt=()=>{for(const l in E.value){let P=0;const ae=E.value[l],Z=ae.linkageFields;if(Z&&Z.forEach(function(J){J.sourceField&&J.targetField||P++}),P>0){X.error(i("visualization.datalist")+"【"+ae.targetViewName+"】"+i("visualization.exit_un_march_linkage_field"));return}}const h={dvId:c.value.id,sourceViewId:n.value.id,linkageInfo:E.value};Eo(h).then(()=>{X.success(i("save_success.common")),$o(c.value.id).then(l=>{v.setNowPanelTrackInfo(l.data)}),st(),Lo(c.value.id).then(l=>{v.setNowPanelJumpInfo(l.data)})})},Vt=()=>{b.recordSnapshotCache("onDvNameChange")},Ke=gt(),Et=q(()=>Ke.getIsDataEaseBi||Ke.getIsIframe),re=z(null),$t=h=>{if(re!=null&&re.value){const l={methodName:"initOpenHandler",args:h};re.value.invokeMethod(l)}};return(h,l)=>{const P=De,ae=at,Z=Ne,J=vo,rt=_o,dt=ho;return s(),x(Y,null,[a("div",Hn,[a("div",jn,[e(r)==="preview"?(s(),x(Y,{key:0},[a("div",zn,[a("span",An,L(e(c).name),1)]),l[11]||(l[11]=a("div",{class:"middle-area"},null,-1))],64)):(s(),x(Y,{key:1},[e(I)?H("",!0):(s(),A(e(G),{key:0,class:"custom-el-icon back-icon",onClick:l[0]||(l[0]=ee=>R())},{default:o(()=>[t(Q,{name:"icon_left_outlined"},{default:o(()=>[t(e(wo),{class:"svg-icon toolbar-icon"})]),_:1})]),_:1})),e(r)==="edit"&&!e(I)?(s(),x("div",On,[a("span",{id:"canvas-name",class:"name-area",onDblclick:Me},L(e(c).name),33),a("div",Pn,[t(P,{effect:"dark",content:h.$t("visualization.undo"),placement:"bottom"},{default:o(()=>[t(e(G),{class:U(["toolbar-hover-icon",{"toolbar-icon-disabled":e(p)<1}]),disabled:e(p)<1,onClick:l[1]||(l[1]=ee=>Be())},{default:o(()=>[t(Q,{name:"icon_undo_outlined"},{default:o(()=>[t(e(ut),{class:"svg-icon"})]),_:1})]),_:1},8,["class","disabled"])]),_:1},8,["content"]),t(P,{effect:"dark",content:h.$t("commons.reduction"),placement:"bottom"},{default:o(()=>[t(e(G),{class:U(["toolbar-hover-icon opt-icon-redo",{"toolbar-icon-disabled":e(p)===e(b).snapshotData.length-1}]),onClick:l[2]||(l[2]=ee=>He())},{default:o(()=>[t(Q,{name:"icon_redo_outlined"},{default:o(()=>[t(e(Zt),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1},8,["content"])])])):H("",!0),e(I)?(s(),x("div",Un,[t(ae,{class:"adapt-count"},{default:o(()=>[a("span",null,L(e(i)("user.selection_info",[e(y).length])),1)]),_:1})])):H("",!0),!e(I)&&!e(S)?(s(),x("div",Fn,[t(xe,{"base-width":410,"show-split-line":!0,"is-label":"","icon-name":e(Wt),themes:"light",title:e(i)("chart.datalist")},{default:o(()=>[t(Nt,{themes:"light","dv-model":Ie})]),_:1},8,["icon-name","title"]),t(xe,{"base-width":115,"show-split-line":!0,"is-label":"",themes:"light","icon-name":e(qt),title:e(i)("visualization.filter_component")},{default:o(()=>[t(Gt,{themes:"light","dv-model":Ie})]),_:1},8,["icon-name","title"]),t(xe,{"is-label":"",themes:"light","base-width":115,"icon-name":e(Qt),title:e(i)("components.rich_text")},{default:o(()=>[t(Jt,{themes:"light","dv-model":Ie})]),_:1},8,["icon-name","title"]),t(xe,{"is-label":"",themes:"light",placement:"bottom","base-width":328,"icon-name":e(Kt),title:e(i)("components.media")},{default:o(()=>[t(Xt,{themes:"light","dv-model":Ie})]),_:1},8,["icon-name","title"]),t(xe,{themes:"light","is-label":"","base-width":115,"icon-name":e(Co),title:"Tab"},{default:o(()=>[t(Yt,{themes:"light","dv-model":Ie})]),_:1},8,["icon-name"]),t(xe,{themes:"light","show-split-line":"","is-label":"","base-width":115,"icon-name":e(eo),title:e(i)("visualization.more")},{default:o(()=>[t(Bn,{themes:"light","dv-model":Ie})]),_:1},8,["icon-name","title"]),t(to,{"icon-name":e(yo),title:e(i)("visualization.multiplexing"),"is-label":"",onCustomClick:lt},null,8,["icon-name","title"])])):H("",!0)],64)),!e(I)&&!e(S)?(s(),x("div",Rn,[e(r)!=="preview"?(s(),x(Y,{key:0},[t(P,{effect:"dark",content:e(i)("visualization.outer_param_set"),placement:"bottom"},{default:o(()=>[t(Le,{tips:e(i)("visualization.outer_param_set"),onCustomClick:Ue,"icon-name":e(bo)},null,8,["tips","icon-name"])]),_:1},8,["content"]),t(P,{effect:"dark",content:e(i)("visualization.batch_opt"),placement:"bottom"},{default:o(()=>[t(Le,{tips:e(i)("visualization.batch_opt"),onCustomClick:l[3]||(l[3]=ee=>Pe(!0)),"icon-name":e(Sn)},null,8,["tips","icon-name"])]),_:1},8,["content"]),t(P,{effect:"dark",content:e(i)("components.dashboard_configuration"),placement:"bottom"},{default:o(()=>[t(Le,{tips:e(i)("components.dashboard_configuration"),onCustomClick:Ae,"icon-name":e(In)},null,8,["tips","icon-name"])]),_:1},8,["content"]),t(P,{effect:"dark",content:e(i)("visualization.hidden_components"),placement:"bottom"},{default:o(()=>[t(Le,{tips:e(i)("visualization.hidden_components"),onCustomClick:oe,"icon-name":e(ht)},null,8,["tips","icon-name"])]),_:1},8,["content"]),l[12]||(l[12]=a("div",{class:"divider"},null,-1)),e(Ge)?H("",!0):(s(),A(P,{key:0,offset:14,effect:"dark",content:e(i)("components.to_mobile_layout"),placement:"bottom"},{default:o(()=>[t(Le,{tips:e(i)("components.to_mobile_layout"),onCustomClick:ue,"icon-name":e(En)},null,8,["tips","icon-name"])]),_:1},8,["content"]))],64)):H("",!0),e(r)==="edit"?(s(),A(dt,{key:1,trigger:"hover"},{dropdown:o(()=>[t(rt,{class:"drop-style"},{default:o(()=>[Te.value?H("",!0):(s(),A(J,{key:0,onClick:we},{default:o(()=>[t(e(G),{style:{"margin-right":"8px","font-size":"16px"}},{default:o(()=>[t(Q,{name:"icon_pc_fullscreen"},{default:o(()=>[t(e(So),{class:"svg-icon"})]),_:1})]),_:1}),j(" "+L(e(i)("visualization.fullscreen_preview")),1)]),_:1})),t(J,{onClick:l[4]||(l[4]=ee=>qe())},{default:o(()=>[t(e(G),{style:{"margin-right":"8px","font-size":"16px"}},{default:o(()=>[t(Q,null,{default:o(()=>[t(e(Tn),{class:"svg-icon"})]),_:1})]),_:1}),j(" "+L(e(i)("work_branch.new_page_preview")),1)]),_:1})]),_:1})]),default:o(()=>[t(Z,{class:"preview-button",style:{float:"right","margin-right":"12px"}},{default:o(()=>[j(L(e(i)("visualization.preview")),1)]),_:1})]),_:1})):H("",!0),e(r)==="preview"?(s(),A(Z,{key:2,class:"custom-normal-button",icon:"EditPen",onClick:l[5]||(l[5]=ee=>$e()),type:"primary"},{default:o(()=>[j(L(e(i)("data_set.edit")),1)]),_:1})):H("",!0),e(r)==="edit"||e(r)==="preview"?(s(),x(Y,{key:3},[e(r)==="edit"||e(r)==="preview"?(s(),A(Z,{key:0,disabled:e(w)<1,onClick:l[6]||(l[6]=ee=>ce()),style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[j(L(e(i)("data_set.save")),1)]),_:1},8,["disabled"])):H("",!0),t(dt,{disabled:e(c).status===0,"popper-class":"menu-outer-dv_popper",trigger:"hover"},{dropdown:o(()=>[t(rt,null,{default:o(()=>[e(c).status===2?(s(),A(J,{key:0,onClick:Qe},{default:o(()=>[t(e(G),{class:"handle-icon"},{default:o(()=>[t(Q,{name:"icon_left_outlined"},{default:o(()=>[t(e(oo),{class:"svg-icon toolbar-icon"})]),_:1})]),_:1}),j(" "+L(e(i)("visualization.publish_recover")),1)]),_:1})):H("",!0),[1,2].includes(e(c).status)?(s(),A(J,{key:1,onClick:l[8]||(l[8]=ee=>ze(0))},{default:o(()=>[t(e(G),{class:"handle-icon"},{default:o(()=>[t(Q,{name:"icon_left_outlined"},{default:o(()=>[t(e(ut),{class:"svg-icon toolbar-icon"})]),_:1})]),_:1}),j(" "+L(e(i)("visualization.cancel_publish")),1)]),_:1})):H("",!0)]),_:1})]),default:o(()=>[t(Z,{onClick:l[7]||(l[7]=ee=>ce(!0,1)),style:{float:"right",margin:"0 12px 0 0"},type:"primary"},{default:o(()=>[j(L(e(i)("visualization.publish")),1)]),_:1})]),_:1},8,["disabled"])],64)):H("",!0)])):H("",!0),e(I)?(s(),x("div",Zn,[t(Z,{text:"",icon:"CopyDocument",class:"custom-normal-button",onClick:ke,disabled:e(y).length===0,style:{float:"right","margin-right":"12px"}},{default:o(()=>[j(L(e(i)("data_set.copy")),1)]),_:1},8,["disabled"]),t(Z,{text:"",icon:"Delete",class:"custom-normal-button",onClick:Oe,disabled:e(y).length===0,style:{float:"right","margin-right":"12px"}},{default:o(()=>[j(L(e(i)("data_set.delete")),1)]),_:1},8,["disabled"]),t(Z,{onClick:Xe,style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[j(L(e(i)("components.complete")),1)]),_:1})])):H("",!0),e(S)?(s(),x("div",Nn,[t(Z,{class:"custom-normal-button",onClick:l[9]||(l[9]=ee=>st()),style:{float:"right","margin-right":"12px"}},{default:o(()=>[j(L(e(i)("userimport.cancel")),1)]),_:1}),t(Z,{onClick:Dt,style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[j(L(e(i)("userimport.sure")),1)]),_:1})])):H("",!0)]),e(d)?(s(),A(Bt,{key:0,to:"#canvas-name"},[pe(a("input",{onChange:Vt,ref_key:"nameInput",ref:D,"onUpdate:modelValue":l[10]||(l[10]=ee=>Mt(u)?u.value=ee:u=ee),onBlur:Ee},null,544),[[Tt,e(u)]])])):H("",!0),t(ko,{ref_key:"multiplexingRef",ref:$},null,512),t(jo,{onFinish:Je,"cur-canvas-type":"dashboard",ref_key:"resourceGroupOpt",ref:F},null,512),t(no,{ref_key:"outerParamsSetRef",ref:N},null,512)]),t(Ot,{"show-position":"edit",ref_key:"fullScreeRef",ref:f},null,512),t(e(tt),{ref_key:"openHandler",ref:re,jsname:"L2NvbXBvbmVudC9lbWJlZGRlZC1pZnJhbWUvT3BlbkhhbmRsZXI="},null,512),t(zo,{ref_key:"resourceAppOpt",ref:C,"component-data":e(M),"dv-info":e(c),"canvas-view-info":e(_),"cur-canvas-type":"dashboard",onSaveAppCanvas:ce},null,8,["component-data","dv-info","canvas-view-info"])],64)}}});const Gn=le(Wn,[["__scopeId","data-v-6172f5f0"]]),qn={t:"1690342810342",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2380","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"};function Jn(O,m){return s(),x("svg",qn,[...m[0]||(m[0]=[a("path",{d:"M87 160h850c13.255 0 24 10.745 24 24v656c0 13.255-10.745 24-24 24H87c-13.255 0-24-10.745-24-24V184c0-13.255 10.745-24 24-24z",fill:"#C5C5C5","fill-opacity":".45","p-id":"2381","data-spm-anchor-id":"a313x.7781069.0.i1",class:"selected"},null,-1),a("path",{d:"M111 864l128.17-128.361c22.092-22.125 57.936-22.151 80.06-0.06 22.124 22.091 57.968 22.065 80.06-0.06l120.576-120.756c39.023-39.081 102.34-39.128 141.42-0.105L911 864H111z",fill:"#ABABAB","fill-opacity":".574","p-id":"2382","data-spm-anchor-id":"a313x.7781069.0.i0",class:"selected"},null,-1),a("path",{d:"M321 487m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",fill:"#ABABAB","fill-opacity":".574","p-id":"2383"},null,-1),a("path",{d:"M71 160h882a8 8 0 0 1 8 8v104H63V168a8 8 0 0 1 8-8z",fill:"#ABABAB","fill-opacity":".5","p-id":"2384"},null,-1),a("path",{d:"M287 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2385"},null,-1),a("path",{d:"M207 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2386"},null,-1),a("path",{d:"M127 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2387"},null,-1)])])}const Qn={render:Jn},Xn=["src"],Kn={class:"title-main"},Yn={class:"title-area"},ea=["title"],ta={key:0,class:"edit-area"},oa=ne({__name:"SubjectTemplateItem",props:{subjectItem:{type:Object,required:!0}},emits:["subjectDelete","onSubjectChange","subjectEdit"],setup(O,{emit:m}){const i=fe(),v=Ve(),{canvasStyleData:b}=Ce(i),g=me({defaultSubject:{},subjectItemDetails:null,canEdit:!1}),{t:w}=ve(),p=O,{subjectItem:C}=Ze(p),S=q(()=>g.subjectItemDetails&&g.subjectItemDetails.themeId===b.value.themeId),n=m,M=()=>{ot.confirm(w("components.to_delete_",[C.value.name]),{confirmButtonType:"danger",type:"warning",autofocus:!1,showClose:!1}).then(()=>{n("subjectDelete",C.value.id)})},c=()=>{n("subjectEdit")},_=()=>{S.value||(i.setCanvasStyle(JSON.parse(C.value.details)),v.recordSnapshotCache("renderChart"),St(),ie().emitter.emit("onSubjectChange"))};return be(()=>{try{g.subjectItemDetails=JSON.parse(C.value.details)}catch{}}),(r,I)=>{const E=et("Delete"),y=G,B=Ne,$=et("EditPen");return s(),x("div",{class:U([{"background-selected":S.value},"subject-template"])},[a("div",null,[a("div",{class:"vertical-layout",onClick:Ht(_,["stop"])},[e(C).coverUrl?(s(),x("img",{key:0,src:e(wt)(e(C).coverUrl),alt:"",width:"172",height:"79"},null,8,Xn)):(s(),A(Q,{key:1,name:"dv-no-img"},{default:o(()=>[t(e(Qn),{class:"svg-icon",style:{width:"172px",height:"79px"}})]),_:1}))]),a("div",Kn,[a("div",Yn,[a("span",{style:{"margin-top":"8px","margin-left":"8px"},title:e(w)(e(C).name)},L(e(w)(e(C).name)),9,ea)]),e(C).type==="self"?(s(),x("div",ta,[t(e(De),{effect:"dark",placement:"top",content:r.$t("common.delete")},{default:o(()=>[t(B,{text:"",class:"m-custom-icon",onClick:I[0]||(I[0]=f=>M())},{default:o(()=>[t(y,{size:"14px"},{default:o(()=>[t(E)]),_:1})]),_:1})]),_:1},8,["content"]),t(e(De),{effect:"dark",placement:"top",content:r.$t("common.edit")},{default:o(()=>[t(B,{text:"",class:"m-custom-icon",style:{"margin-left":"2px"},onClick:I[1]||(I[1]=f=>c())},{default:o(()=>[t(y,{size:"14px"},{default:o(()=>[t($)]),_:1})]),_:1})]),_:1},8,["content"])])):H("",!0)])])],2)}}});const Ye=le(oa,[["__scopeId","data-v-59dd12c9"]]),na=15e6,aa=ne({__name:"DeUpload",props:{imgUrl:{type:String},themes:{type:String,default:"dark"}},emits:["onImgChange"],setup(O,{emit:m}){const i=Ve(),v=m,b=z(null),g=O,{themes:w,imgUrl:p}=Ze(g),C=z(null),S=me({fileList:[],dialogImageUrl:"",dialogVisible:!1,uploadDisabled:!1}),n=()=>{C.value=p.value,C.value?S.fileList.push({url:wt(C.value)}):S.fileList=[]},M=()=>{S.uploadDisabled=!1,C.value=null,S.fileList=[],v("onImgChange")},c=E=>{S.dialogImageUrl=E.url,S.dialogVisible=!0},_=E=>{mt(E.file,y=>{i.recordSnapshotCache("deUpload"),C.value=y,v("onImgChange",y)})},r=E=>{const y=E.target.files[0];if(y.size>na){I();return}mt(y,B=>{i.recordSnapshotCache("uploadFileResult"),C.value=B,v("onImgChange",B)})},I=()=>{X.error("图片大小不能超过15M")};return be(()=>{n()}),jt(()=>p.value,()=>{n()}),(E,y)=>{const B=et("Plus"),$=G,f=Ko;return s(),x("div",{class:U(["avatar-uploader-container",`img-area_${e(w)}`])},[t(f,{action:"",effect:e(w),accept:".jpeg,.jpg,.png,.gif,.svg",class:U(["avatar-uploader",{disabled:S.uploadDisabled}]),"list-type":"picture-card","on-preview":c,"on-remove":M,"http-request":_,"before-upload":e(qo),"file-list":S.fileList},{default:o(()=>[t($,null,{default:o(()=>[t(B)]),_:1})]),_:1},8,["effect","class","before-upload","file-list"]),a("input",{id:"input",ref_key:"files",ref:b,type:"file",accept:".jpeg,.jpg,.png,.gif,.svg",hidden:"",onClick:y[0]||(y[0]=d=>{d.target.value=""}),onChange:r},null,544),t(Yo,{modelValue:S.dialogVisible,"onUpdate:modelValue":y[1]||(y[1]=d=>S.dialogVisible=d),"image-url":S.dialogImageUrl},null,8,["modelValue","image-url"])],2)}}});const ia=le(aa,[["__scopeId","data-v-e433d9f6"]]),la={class:"m-label"},sa={class:"m-label"},ra=ne({__name:"SubjectEditDialog",emits:["finish"],setup(O,{expose:m,emit:i}){const{t:v}=ve(),b=z(!1),g={name:[{required:!0,message:v("commons.input_content"),trigger:"change"},{max:50,message:v("commons.char_can_not_more_50"),trigger:"change"}],coverUrl:[{required:!0,message:v("components.upload_a_cover"),trigger:"change"}]},w=z(),p=z(!1),C=z("new"),S=()=>{w.value.clearValidate(),p.value=!1},n=z(null),M=q(()=>C.value==="new"?v("components.a_new_theme"):v("components.edit_theme")),c=(E,y)=>{C.value=y,p.value=!0,n.value=ge(E)},_=()=>{w.value.validate(E=>{E&&r("finish",n.value)})};m({optInit:c,resetForm:S});const r=i,I=E=>{n.value.coverUrl=E};return(E,y)=>{const B=uo,$=it,f=kt,d=Ne,u=Xo,D=nt;return pe((s(),A(u,{title:M.value,modelValue:p.value,"onUpdate:modelValue":y[3]||(y[3]=T=>p.value=T),width:"400px","before-close":S},{footer:o(()=>[t(d,{secondary:"",onClick:y[1]||(y[1]=T=>S())},{default:o(()=>[j(L(e(v)("common.cancel")),1)]),_:1}),t(d,{type:"primary",onClick:y[2]||(y[2]=T=>_())},{default:o(()=>[j(L(e(v)("chart.confirm")),1)]),_:1})]),default:o(()=>[t(f,{"label-position":"top","require-asterisk-position":"right",ref_key:"subject",ref:w,model:n.value,rules:g},{default:o(()=>[t($,{class:"form-item",prop:"name"},{label:o(()=>[a("label",la,L(e(v)("common.name")),1)]),default:o(()=>[t(B,{modelValue:n.value.name,"onUpdate:modelValue":y[0]||(y[0]=T=>n.value.name=T)},null,8,["modelValue"])]),_:1}),t($,{class:"form-item",prop:"coverUrl"},{label:o(()=>[a("label",sa,L(e(v)("components.cover")),1)]),default:o(()=>[t(ia,{themes:"light","img-url":n.value.coverUrl,onOnImgChange:I},null,8,["img-url"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])),[[D,b.value]])}}});const da=le(ra,[["__scopeId","data-v-ce3dd517"]]),ca={class:"direction-left"},ua={class:"direction"},pa={class:"item-area",style:{overflow:"hidden"}},ma={class:"item-area"},fa={class:"item-area"},va={class:"direction-right"},_a={class:"direction"},ha={style:{display:"flex","margin-top":"16px"}},ga={style:{flex:"1"},class:"dot-container"},Ca={key:0,class:"dots"},ba=["onClick"],ya=ne({__name:"Slider",props:{initialSpeed:{type:Number,default:30},initialInterval:{type:Number,default:3}},emits:["reload"],setup(O,{expose:m,emit:i}){const v=fe(),{canvasStyleData:b}=Ce(v),g=i,w=z(null),p=O,{initialSpeed:C}=Ze(p),{t:S}=ve(),n=me({temp:null,sliders:[],slidersLoading:!1,sliderWidth:420,imgWidth:420,currentIndex:1,distance:-420,transitionEnd:!0,speed:C.value,saveSubjectVisible:!1}),M=q(()=>({transform:`translate3d(${n.distance}px, 0, 0)`})),c=q(()=>{var d;return{height:((d=n.sliders[0])==null?void 0:d.length)<3?"140px":"250px"}}),_=()=>{n.slidersLoading=!0,Oo({}).then(d=>{n.sliders=[],n.sliders=d.data,n.slidersLoading=!1,n.sliders.length<n.currentIndex&&(n.currentIndex=1,g("reload"))}).catch(()=>{n.slidersLoading=!1})},r=d=>{Uo(d).then(()=>{X.success(S("chart.delete_success")),_()})},I=d=>{n.slidersLoading=!0,Po(d).then(()=>{w.value.resetForm(),X.success(S("dataset.save_success")),_()}).catch(()=>{n.slidersLoading=!1})},E=d=>{d&&d.id?w.value.optInit(d,"edit"):w.value.optInit(d,"new")},y=()=>{const d=ge(b.value);d.themeId=Qo();const u={name:S("components.a_new_theme"),coverUrl:null,details:JSON.stringify(d)};E(u)},B=(d,u,D)=>{n.temp&&(window.clearInterval(n.temp),n.temp=null),n.temp=window.setInterval(()=>{u===-1&&d<n.distance||u===1&&d>n.distance?n.distance+=D*u:(n.transitionEnd=!0,window.clearInterval(n.temp),n.distance=d,d<-n.sliderWidth*n.sliders.length&&(n.distance=-n.sliderWidth),d>-n.sliderWidth&&(n.distance=-n.sliderWidth*n.sliders.length))},20)},$=(d,u,D)=>{if(!n.transitionEnd)return;n.transitionEnd=!1,u===-1?n.currentIndex+=d/n.sliderWidth:n.currentIndex-=d/n.sliderWidth,n.currentIndex>n.sliders.length&&(n.currentIndex=1),n.currentIndex<1&&(n.currentIndex=n.sliders.length);const T=n.distance+d*u;B(T,u,D)},f=d=>{const u=d-n.currentIndex>=0?-1:1,D=Math.abs(d-n.currentIndex)*n.sliderWidth,T=Math.abs(d-n.currentIndex)===0?n.speed:Math.abs(d-n.currentIndex)*n.speed;$(D,u,T)};return be(()=>{_()}),m({saveSelfSubject:y}),(d,u)=>{const D=We,T=at,F=nt;return s(),A(D,{style:{"flex-direction":"column",width:"100%"}},{default:o(()=>[pe((s(),A(D,{style:{"margin-top":"-4px","margin-bottom":"-6px"}},{default:o(()=>[a("div",ca,[u[3]||(u[3]=a("span",null," ",-1)),pe(a("ul",ua,[a("li",{class:"left",onClick:u[0]||(u[0]=N=>$(n.sliderWidth,1,n.speed))},[...u[2]||(u[2]=[a("svg",{width:"36",height:"40",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("g",{filter:"url(#filter0_d_1423_44506)"},[a("rect",{width:"24",height:"24",rx:"12",transform:"matrix(-1 0 0 1 28 4)",fill:"white"}),a("rect",{x:"-0.5",y:"0.5",width:"23",height:"23",rx:"11.5",transform:"matrix(-1 0 0 1 27 4)",stroke:"#DEE0E3"})]),a("path",{d:"M13.8609 16.0005L17.9268 11.9346C18.0244 11.837 18.0244 11.6787 17.9268 11.5811L17.5732 11.2275C17.4756 11.1299 17.3173 11.1299 17.2197 11.2275L12.8003 15.6469C12.605 15.8422 12.605 16.1588 12.8003 16.354L17.2197 20.7735C17.3173 20.8711 17.4756 20.8711 17.5732 20.7735L17.9268 20.4199C18.0244 20.3223 18.0244 20.164 17.9268 20.0664L13.8609 16.0005Z",fill:"#1F2329"}),a("defs",null,[a("filter",{id:"filter0_d_1423_44506",x:"-4",y:"0",width:"40",height:"40",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[a("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),a("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a("feOffset",{dy:"4"}),a("feGaussianBlur",{stdDeviation:"4"}),a("feComposite",{in2:"hardAlpha",operator:"out"}),a("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),a("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1423_44506"}),a("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1423_44506",result:"shape"})])])],-1)])])],512),[[Re,n.currentIndex>1]])]),t(T,{span:24},{default:o(()=>[t(D,{id:"slider"},{default:o(()=>[a("div",{class:"slider-window",style:ct(c.value)},[n.slidersLoading?H("",!0):(s(),x("ul",{key:0,class:"container",style:ct(M.value)},[a("li",null,[a("div",pa,[(s(!0),x(Y,null,he(n.sliders[n.sliders.length-1],N=>(s(),A(Ye,{key:N.id,"subject-item":N,onSubjectDelete:r,onSubjectEdit:W=>E(N)},null,8,["subject-item","onSubjectEdit"]))),128))])]),(s(!0),x(Y,null,he(n.sliders,(N,W)=>(s(),x("li",{key:W},[a("div",ma,[(s(!0),x(Y,null,he(N,se=>(s(),A(Ye,{key:se.id,"subject-item":se,onSubjectDelete:r,onSubjectEdit:Te=>E(se)},null,8,["subject-item","onSubjectEdit"]))),128))])]))),128)),a("li",null,[a("div",fa,[(s(!0),x(Y,null,he(n.sliders[0],N=>(s(),A(Ye,{key:N.id,"subject-item":N,onSubjectDelete:r,onSubjectEdit:W=>E(N)},null,8,["subject-item","onSubjectEdit"]))),128))])])],4))],4)]),_:1})]),_:1}),a("div",va,[u[5]||(u[5]=a("span",null," ",-1)),pe(a("ul",_a,[a("li",{class:"right",onClick:u[1]||(u[1]=N=>$(n.sliderWidth,-1,n.speed))},[...u[4]||(u[4]=[a("svg",{width:"36",height:"40",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("g",{filter:"url(#filter0_d_1423_44502)"},[a("rect",{x:"8",y:"4",width:"24",height:"24",rx:"12",fill:"white"}),a("rect",{x:"8.5",y:"4.5",width:"23",height:"23",rx:"11.5",stroke:"#DEE0E3"})]),a("path",{d:"M22.1391 15.9985L18.0732 11.9327C17.9756 11.835 17.9756 11.6768 18.0732 11.5791L18.4268 11.2256C18.5244 11.1279 18.6827 11.1279 18.7803 11.2256L23.1997 15.645C23.395 15.8402 23.395 16.1568 23.1997 16.3521L18.7803 20.7715C18.6827 20.8691 18.5244 20.8691 18.4268 20.7715L18.0732 20.418C17.9756 20.3203 17.9756 20.162 18.0732 20.0644L22.1391 15.9985Z",fill:"#1F2329"}),a("defs",null,[a("filter",{id:"filter0_d_1423_44502",x:"0",y:"0",width:"40",height:"40",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[a("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),a("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a("feOffset",{dy:"4"}),a("feGaussianBlur",{stdDeviation:"4"}),a("feComposite",{in2:"hardAlpha",operator:"out"}),a("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),a("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1423_44502"}),a("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1423_44502",result:"shape"})])])],-1)])])],512),[[Re,n.currentIndex<n.sliders.length]])])]),_:1})),[[F,n.slidersLoading]]),a("div",ha,[u[7]||(u[7]=a("div",{style:{flex:"1"}},null,-1)),a("div",ga,[u[6]||(u[6]=a("span",{hidden:""},"B",-1)),n.sliders.length>1?(s(),x("ul",Ca,[(s(!0),x(Y,null,he(n.sliders,(N,W)=>(s(),x("li",{key:W,class:U({dotted:W===n.currentIndex-1}),onClick:se=>f(W+1)},null,10,ba))),128))])):H("",!0)])]),t(da,{ref_key:"subjectEditDialogRef",ref:w,onFinish:I},null,512)]),_:1})}}});const wa=le(ya,[["__scopeId","data-v-3b7e2903"]]),Sa={class:"custom-item-text"},ka=ne({__name:"ViewSimpleTitle",emits:["onTextChange"],setup(O,{emit:m}){const{t:i}=ve(),v=fe(),b=m,g=q(()=>v.canvasStyleData.component.chartTitle),w=me({fontSize:[],isSetting:!1,predefineColors:yt}),p=z("light"),C=q(()=>{const _=[];for(let r=10;r<=60;r=r+2)_.push({name:r+"",value:r+""});return _}),S=_=>{g.value.modifyName=_,b("onTextChange",g.value)};function n(){g.value.isBolder=!g.value.isBolder,S("isBolder")}function M(){g.value.isItalic=!g.value.isItalic,S("isItalic")}function c(_){g.value.hPosition=_,S("hPosition")}return(_,r)=>{const I=We,E=xt,y=it,B=on,$=tn,f=G,d=De,u=en;return s(),A(I,{class:"custom-row"},{default:o(()=>[t(I,null,{default:o(()=>[a("span",Sa,L(e(i)("chart.text")),1)]),_:1}),t(I,{style:{"margin-top":"8px"}},{default:o(()=>[t(u,{wrap:""},{default:o(()=>[t(y,{class:U(["form-item no-margin-bottom","form-item-"+p.value])},{default:o(()=>[t(E,{title:e(i)("chart.text_color"),modelValue:g.value.color,"onUpdate:modelValue":r[0]||(r[0]=D=>g.value.color=D),class:"color-picker-style","is-custom":"",size:"small",predefine:w.predefineColors,onChange:r[1]||(r[1]=D=>S("color"))},null,8,["title","modelValue","predefine"])]),_:1},8,["class"]),t(y,{class:U(["form-item no-margin-bottom","form-item-"+p.value])},{default:o(()=>[t($,{style:{width:"56px"},title:e(i)("chart.text_fontsize"),modelValue:g.value.fontSize,"onUpdate:modelValue":r[2]||(r[2]=D=>g.value.fontSize=D),placeholder:e(i)("chart.size"),size:"small",onChange:r[3]||(r[3]=D=>S("fontSize"))},{default:o(()=>[(s(!0),x(Y,null,he(C.value,D=>(s(),A(B,{key:D.value,label:D.name,value:D.value},null,8,["label","value"]))),128))]),_:1},8,["title","modelValue","placeholder"])]),_:1},8,["class"]),t(d,{effect:"dark",placement:"top"},{content:o(()=>[j(L(e(i)("chart.bolder")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:p.value==="dark",active:g.value.isBolder}]),onClick:n},[t(f,null,{default:o(()=>[t(Q,{name:"icon_bold_outlined"},{default:o(()=>[t(e(nn),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),t(d,{effect:"dark",placement:"top"},{content:o(()=>[j(L(e(i)("chart.italic")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:p.value==="dark",active:g.value.isItalic}]),onClick:M},[t(f,null,{default:o(()=>[t(Q,{name:"icon_italic_outlined"},{default:o(()=>[t(e(an),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),r[7]||(r[7]=a("div",{class:"m-divider"},null,-1)),t(d,{effect:"dark",placement:"top"},{content:o(()=>[j(L(e(i)("chart.text_pos_left")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:p.value==="dark",active:g.value.hPosition==="left"}]),onClick:r[4]||(r[4]=D=>c("left"))},[t(f,null,{default:o(()=>[t(Q,{name:"icon_left-alignment_outlined"},{default:o(()=>[t(e(ln),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),t(d,{effect:"dark",placement:"top"},{content:o(()=>[j(L(e(i)("chart.text_pos_center")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:p.value==="dark",active:g.value.hPosition==="center"}]),onClick:r[5]||(r[5]=D=>c("center"))},[t(f,null,{default:o(()=>[t(Q,{name:"icon_center-alignment_outlined"},{default:o(()=>[t(e(sn),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),t(d,{effect:"dark",placement:"top"},{content:o(()=>[j(L(e(i)("chart.text_pos_right")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:p.value==="dark",active:g.value.hPosition==="right"}]),onClick:r[6]||(r[6]=D=>c("right"))},[t(f,null,{default:o(()=>[t(Q,{name:"icon_right-alignment_outlined"},{default:o(()=>[t(e(rn),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1})]),_:1})]),_:1})]),_:1})}}});const xa=le(ka,[["__scopeId","data-v-6f72d840"]]),Ia={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function Da(O,m){return s(),x("svg",Ia,[...m[0]||(m[0]=[a("path",{d:"M2 5.5C2 5.22386 2.22386 5 2.5 5H17.5C17.7761 5 18 5.22386 18 5.5V8.5C18 8.77614 17.7761 9 17.5 9H2.5C2.22386 9 2 8.77614 2 8.5V5.5Z"},null,-1),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12V18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18V12ZM4 17V13H20V17H4Z"},null,-1)])])}const Va={render:Da},Ea={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function $a(O,m){return s(),x("svg",Ea,[...m[0]||(m[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 9C9 8.44772 9.44772 8 10 8H23C23.5523 8 24 8.44772 24 9V15C24 15.5523 23.5523 16 23 16H10C9.44771 16 9 15.5523 9 15V9ZM11 14V10H22V14H11Z"},null,-1),a("path",{d:"M0 10.5C0 10.2239 0.223858 10 0.5 10H6.5C6.77614 10 7 10.2239 7 10.5V13.5C7 13.7761 6.77614 14 6.5 14H0.5C0.223858 14 0 13.7761 0 13.5V10.5Z"},null,-1)])])}const La={render:$a},Ta={style:{width:"100%"}},Ma={style:{width:"100%",padding:"16px 8px 0"}},Ba={style:{padding:"0 8px 8px"}},Ha=ne({__name:"FilterStyleSimpleSelector",setup(O){const{t:m}=ve(),i=fe(),v=Ve(),b=q(()=>i.canvasStyleData.component.filterStyle),g=me({fontSize:[],isSetting:!1,predefineColors:yt}),w=()=>{},p=S=>{i.canvasStyleData.component.filterStyle=It(b.value),Jo(S),v.recordSnapshotCache("filterStyleSimpleSelector-themeChange")},C=(S,n="titleLayout")=>{b.value[n]=S,p(n)};return be(()=>{K.on("onThemeColorChange",w)}),(S,n)=>{const M=Q,c=De,_=it,r=at,I=xt,E=We,y=dn,B=bt,$=kt;return s(),x("div",Ta,[t($,{"label-position":"top",size:"small",style:{width:"100%"}},{default:o(()=>[a("div",Ma,[t(E,{gutter:8},{default:o(()=>[t(r,{span:12},{default:o(()=>[t(_,{class:"form-item",label:e(m)("components.title_horizontal_position")},{default:o(()=>[t(c,{effect:"dark",placement:"top"},{content:o(()=>[j(L(e(m)("chart.text_pos_left")),1)]),default:o(()=>[t(e(G),{class:U([b.value.titleLayout==="left"?"active":"cbd","hover-icon"]),onClick:n[0]||(n[0]=f=>C("left"))},{default:o(()=>[t(M,{name:"icon_left-align_outlined"},{default:o(()=>[t(e(cn),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),t(c,{effect:"dark",placement:"top"},{content:o(()=>[j(L(e(m)("chart.text_pos_center")),1)]),default:o(()=>[t(e(G),{class:U([b.value.titleLayout==="center"&&"active","hover-icon"]),onClick:n[1]||(n[1]=f=>C("center"))},{default:o(()=>[t(M,{name:"icon_horizontal-align_outlined"},{default:o(()=>[t(e(un),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),t(c,{effect:"dark",placement:"top"},{content:o(()=>[j(L(e(m)("chart.text_pos_right")),1)]),default:o(()=>[t(e(G),{class:U([b.value.titleLayout==="right"&&"active","hover-icon"]),onClick:n[2]||(n[2]=f=>C("right"))},{default:o(()=>[t(M,{name:"icon_right-align_outlined"},{default:o(()=>[t(e(pn),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["label"])]),_:1}),t(r,{span:12},{default:o(()=>[t(_,{class:"form-item",label:e(m)("components.title_display_position")},{default:o(()=>[t(c,{effect:"dark",placement:"top"},{content:o(()=>[j(L(e(m)("chart.text_pos_top")),1)]),default:o(()=>[t(e(G),{class:U([b.value.layout==="vertical"&&"active","hover-icon"]),onClick:n[3]||(n[3]=f=>C("vertical","layout"))},{default:o(()=>[t(M,{name:"icon_title-top-align_outlined"},{default:o(()=>[t(e(Va),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),t(c,{effect:"dark",placement:"top"},{content:o(()=>[j(L(e(m)("chart.text_pos_center")),1)]),default:o(()=>[t(e(G),{class:U([b.value.layout==="horizontal"&&"active","hover-icon"]),onClick:n[4]||(n[4]=f=>C("horizontal","layout"))},{default:o(()=>[t(M,{name:"icon_title-left-align_outlined"},{default:o(()=>[t(e(La),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["label"])]),_:1}),t(r,{span:12},{default:o(()=>[t(_,{class:"form-item",label:e(m)("components.title_color")},{default:o(()=>[t(I,{modelValue:b.value.titleColor,"onUpdate:modelValue":n[5]||(n[5]=f=>b.value.titleColor=f),"trigger-width":197,"is-custom":"",predefine:g.predefineColors,onChange:n[6]||(n[6]=f=>p("titleColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),t(r,{span:12},{default:o(()=>[t(_,{class:"form-item",label:e(m)("components.label_color")},{default:o(()=>[t(I,{modelValue:b.value.labelColor,"onUpdate:modelValue":n[7]||(n[7]=f=>b.value.labelColor=f),"trigger-width":197,"is-custom":"",predefine:g.predefineColors,onChange:n[8]||(n[8]=f=>p("labelColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1})]),_:1}),t(y,{class:"m-divider"})]),t(B,{title:e(m)("components.input_box_style"),name:"input_style_filter_selector",class:"inner-collapse"},{default:o(()=>[a("div",Ba,[t(E,{gutter:8},{default:o(()=>[t(r,{span:12},{default:o(()=>[t(_,{class:"form-item",label:e(m)("visualization.board")},{default:o(()=>[t(I,{modelValue:b.value.borderColor,"onUpdate:modelValue":n[9]||(n[9]=f=>b.value.borderColor=f),"trigger-width":197,"is-custom":"",predefine:g.predefineColors,onChange:n[10]||(n[10]=f=>p("borderColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),t(r,{span:12},{default:o(()=>[t(_,{class:"form-item",label:e(m)("visualization.text")},{default:o(()=>[t(I,{modelValue:b.value.text,"onUpdate:modelValue":n[11]||(n[11]=f=>b.value.text=f),"trigger-width":197,"is-custom":"",predefine:g.predefineColors,onChange:n[12]||(n[12]=f=>p("text"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),t(r,{span:12},{default:o(()=>[t(_,{class:"form-item",label:e(m)("visualization.board_background")},{default:o(()=>[t(I,{modelValue:b.value.bgColor,"onUpdate:modelValue":n[13]||(n[13]=f=>b.value.bgColor=f),"trigger-width":197,"is-custom":"",predefine:g.predefineColors,onChange:n[14]||(n[14]=f=>p("bgColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1})]),_:1})])]),_:1},8,["title"])]),_:1})])}}});const ja=le(Ha,[["__scopeId","data-v-409b4547"]]),za={class:"attr-container"},Aa=ne({__name:"DbCanvasAttr",setup(O){const m=fe(),i=Ve(),{canvasStyleData:v,componentData:b,canvasViewInfo:g}=Ce(m),{t:w}=ve();let p=!1;const C=z(["style"]),S=me({colorForm:JSON.parse(JSON.stringify(Go)),customColor:null,colorIndex:0,sliderShow:!0,collapseShow:!0}),n=()=>{S.collapseShow=!1,de(()=>{M(),S.collapseShow=!0})},M=()=>{St(),i.recordSnapshotCache("renderChart")},c=$=>{r("customAttr","color",$)},_=$=>{r("customStyle","text",$)},r=($,f,d)=>{p&&(Object.keys(g.value).forEach(function(u){const D=g.value[u];try{$==="customAttr"?mn(D.customAttr,d):Object.keys(d).forEach(function(T){D[$][f][T]!==void 0&&(D[$][f][T]=d[T])}),ie().emitter.emit("renderChart-"+u,D)}catch{console.warn("themeAttrChange-error")}}),i.recordSnapshotCache("renderChart"))},I=()=>{},E=$=>{v.value.component.chartCommonStyle=$,b.value.forEach(f=>{f.commonBackground=ge($)})};be(()=>{ie({name:"onSubjectChange",callback:()=>{n()}}),de(()=>{p=!0})});const y=z(),B=()=>{y.value.saveSelfSubject()};return($,f)=>{const d=Ne,u=bt,D=Wo,T=We;return s(),x("div",za,[t(T,null,{default:o(()=>[t(D,{modelValue:C.value,"onUpdate:modelValue":f[0]||(f[0]=F=>C.value=F)},{default:o(()=>[t(u,{title:e(w)("components.dashboard_style"),name:"style"},{default:o(()=>[t(wa,{ref_key:"slider",ref:y},null,512),t(d,{class:"button-panel__style",text:"",size:"small",onClick:B},{default:o(()=>[j(L($.$t("commons.save")),1)]),_:1})]),_:1},8,["title"]),t(u,{title:e(w)("components.overall_configuration"),name:"overallSetting"},{default:o(()=>[t(ao,{onOnThemeColorChange:I})]),_:1},8,["title"]),t(u,{title:e(w)("components.dashboard_background"),name:"background",class:"content-no-padding-bottom"},{default:o(()=>[t(io,{themes:"light"})]),_:1},8,["title"]),t(u,{title:e(w)("visualization.view_style"),name:"componentStyle",class:"content-no-padding-bottom"},{default:o(()=>[t(fn,{"common-background-pop":e(v).component.chartCommonStyle,"component-position":"'dashboard'",themes:"light",onOnBackgroundChange:E,"background-color-picker-width":197,"background-border-select-width":197},null,8,["common-background-pop"])]),_:1},8,["title"]),t(u,{title:e(w)("components.chart_color"),name:"graphical",class:"no-padding no-border-bottom"},{default:o(()=>[S.collapseShow?(s(),A(so,{key:0,onOnColorChange:c})):H("",!0)]),_:1},8,["title"]),t(u,{title:e(w)("visualization.chart_title"),name:"viewTitle"},{default:o(()=>[t(xa,{onOnTextChange:_})]),_:1},8,["title"]),t(u,{title:e(w)("visualization.filter_component"),name:"filterComponent",class:"no-padding no-border-bottom"},{default:o(()=>[t(ja)]),_:1},8,["title"]),t(u,{title:e(w)("components.advanced_style_settings"),name:"seniorStyleSetting",class:"no-padding no-border-bottom"},{default:o(()=>[t(lo)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1})])}}});const Oa=le(Aa,[["__scopeId","data-v-5e877012"]]),Pa={class:"config-hidden"},Ua={class:"component-outer"},Fa=["onClick"],Ra=ne({__name:"DashboardHiddenComponent",emits:["cancelHidden"],setup(O,{emit:m}){const i=fe(),{componentData:v,canvasStyleData:b,canvasViewInfo:g,dvInfo:w}=Ce(i),p=m,C=q(()=>v.value.filter(n=>n.dashboardHidden)),S=n=>{n.dashboardHidden=!1,p("cancelHidden",n)};return(n,M)=>{var r;const c=G,_=De;return s(),x("div",Pa,[((r=C.value)==null?void 0:r.length)>0?(s(!0),x(Y,{key:0},he(C.value,I=>(s(),x("div",{style:{height:"180px",width:"260px"},class:"wrapper-inner-adaptor",key:I.id},[a("div",Ua,[t(Pt,{"canvas-id":"canvas-main","canvas-style-data":e(b),"dv-info":e(w),"canvas-view-info":e(g),"view-info":e(g)[I.id],config:I,class:"wrapper-design","show-position":"viewDialog","search-count":0,scale:e(b).scale},null,8,["canvas-style-data","dv-info","canvas-view-info","view-info","config","scale"])]),a("div",{class:"select-to-dashboard",onClick:E=>S(I)},[t(_,{effect:"dark",content:n.$t("visualization.cancel_hidden"),placement:"bottom"},{default:o(()=>[t(c,{style:{"font-size":"16px"}},{default:o(()=>[t(Q,{name:"dvHidden"},{default:o(()=>[t(e(ht),{class:"svg-icon"})]),_:1})]),_:1})]),_:1},8,["content"])],8,Fa)]))),128)):(s(),A(Cn,{key:1,description:n.$t("visualization.no_hidden_components"),"img-type":"noneWhite"},null,8,["description"]))])}}});const Za=le(Ra,[["__scopeId","data-v-fc657f36"]]),Na={style:{height:"100%"}},Yc=ne({__name:"index",setup(O){const m=hn(),i=_t(),{wsCache:v}=vt(),b=z(null),g=z(null),w=k=>{if(k.key==="panel-weight"&&!_n(k.oldValue,k.newValue)){const V=i.resourceId||_e.currentRoute.value.query.resourceId,R=i.opt||_e.currentRoute.value.query.opt;R&&R==="create"||ft(v.get("panel-weight"),V,4)}},p=fe(),C=Ve(),S=po(),n=mo(),{fullscreenFlag:M,componentData:c,curComponent:_,canvasStyleData:r,canvasViewInfo:I,editMode:E,batchOptStatus:y,hiddenListStatus:B,lastHiddenComponent:$,dvInfo:f}=Ce(p),d=z(!1),u=gt(),D=q(()=>u.getIsDataEaseBi),{t:T}=ve(),F=me({datasetTree:[],sourcePid:null,canvasId:"canvas-main",opt:null,resourceId:null}),N=()=>{No({}).then(k=>{F.datasetTree=k||[]})},W=q(()=>{var k,V,R;return!!(_.value&&(!["UserView","VQuery"].includes((k=_.value)==null?void 0:k.component)||((V=_.value)==null?void 0:V.component)==="UserView"&&((R=_.value)==null?void 0:R.innerType)==="picture-group")&&!y.value&&!B.value)}),se=q(()=>{var k,V;return((k=_.value)==null?void 0:k.component)==="UserView"?T("visualization.attribute"):((V=_.value)==null?void 0:V.label)||T("visualization.attribute")}),Te=q(()=>!!(_.value&&["UserView","VQuery"].includes(_.value.component)&&_.value.innerType!=="picture-group"&&!y.value&&!B.value)),Ge=async k=>{if(!window.DataEaseBi||!k)return!0;const V={busiFlag:"dashboard",resourceTable:"core"};return await m.setInteractive(V),ft(v.get("panel-weight"),k,4)},ye=z(!1),Me=()=>{const k=It(r.value);k.mobileSetting||(k.mobileSetting={backgroundColorSelect:!1,background:"",color:"#ffffff",backgroundImageEnable:!1,customSetting:!1}),p.setCanvasStyle(k),de(()=>{ye.value=!0,p.setCurComponent({component:null,index:null})})},Ee=z(!1),Be=z(!1);let He=null;const we=()=>He(!0),qe=k=>{const V=v.get("DE-DV-CATCH-"+F.resourceId);if(k&&V){const R=ge(V);C.snapshotPublish(R),d.value=!0,setTimeout(()=>{C.recordSnapshotCache("doUseCache"),C.recordSnapshotCache("renderChart")},1500)}else $e(),v.delete("DE-DV-CATCH-"+F.resourceId)},$e=k=>{const{resourceId:V,opt:R,sourcePid:te}=F;Ct(V,{busiFlag:R==="copy"?"dashboard-copy":"dashboard",resourceTable:"snapshot",source:"main-edit"},function(){d.value=!0,f.value&&R==="copy"&&(f.value.dataState="prepare",f.value.optType="copy",f.value.pid=te,setTimeout(()=>{C.recordSnapshotCache("initLocalCanvasData")},1500)),Bo({resourceId:V}),k&&k()})};be(async()=>{var Ae;document.body.style.overflow="hidden",p.setCurComponent({component:null,index:null}),p.setHiddenListStatus(!1),C.initSnapShot(),window.location.hash.includes("#/dashboard")&&(Be.value=!0),await new Promise(oe=>He=oe),Ee.value=!0,ie({name:"mobileConfig",callback:()=>{Me()}}),window.addEventListener("storage",w),window.addEventListener("message",je);const k=i.resourceId||_e.currentRoute.value.query.resourceId,V=i.pid||_e.currentRoute.value.query.pid,R=i.opt||_e.currentRoute.value.query.opt,te=i.createType||_e.currentRoute.value.query.createType,Se=i.templateParams||_e.currentRoute.value.query.templateParams;if(await Ge(k))if(N(),F.sourcePid=V,F.opt=R,F.resourceId=k,k)d.value=!1,v.get("DE-DV-CATCH-"+k)?(Ae=b.value)==null||Ae.dialogInit({canvasType:"dashboard",resourceId:k}):$e(()=>{});else if(R&&R==="create"){d.value=!1;let oe;try{await gn().then(ke=>{oe=ke.data,oe.settingContent=JSON.parse(oe.settingContent)})}catch{console.error("can not find watermark info")}let ue,Oe;if(te==="template"){const ke=JSON.parse(Zo.decode(decodeURIComponent(Se+"")));await Mo(ke,Pe=>{var Ue;ue=Pe,Oe=(Ue=ue.baseInfo)==null?void 0:Ue.preName})}de(()=>{p.createInit("dashboard",null,V,oe,Oe),te==="template"&&(v.delete("de-template-data"),p.setComponentData(ue.componentData),p.setCanvasStyle(ue.canvasStyleData),p.setCanvasViewInfo(ue.canvasViewInfo),p.setAppDataInfo(ue.appData),setTimeout(()=>{C.recordSnapshotCache("template")},1500),p.getAppDataInfo()&&K.emit("save")),d.value=!0,r.value.component.chartTitle.color="#000000"})}else{let oe="#/panel/index";window.open(oe,"_self")}});const je=k=>{const V=k.data;(V==null?void 0:V.targetSourceId)===f.value.id+""&&V.type==="webParams"&&Je(V)},Je=k=>{const V=k.params;p.addWebParamsFilter(V)},Qe=q(()=>c.value.filter(k=>!k.dashboardHidden)),ze=k=>{var V;g.value&&((V=$.value)!=null&&V.length&&$.value.includes(k.id)||(k.y=void 0),g.value.addItemBox(k),de(()=>{g.value.canvasInit(!1)}),C.recordSnapshotCache("cancelHidden"))},ce=()=>{Fo({id:f.value.id,type:"dashboard",name:f.value.name}).then(()=>{F.resourceId=f.value.id,F.sourcePid=f.value.pid,F.opt=null,$e(()=>{de(()=>{g.value.canvasInit(!1),p.updateDvInfoCall(1),ie().emitter.emit("calcData-all")})})})};return zt(()=>{document.body.style.overflow="",window.removeEventListener("storage",w),window.removeEventListener("message",je)}),(k,V)=>{const R=bn,te=nt;return s(),x(Y,null,[Ee.value&&!ye.value?pe((s(),x("div",{key:0,class:U(["dv-common-layout dv-teleport-query",D.value&&!Be.value&&"dataease-w-h"])},[t(Gn,{onRecoverToPublished:ce}),t(R,{class:U(["dv-layout-container",{"preview-content":e(E)==="preview"}]),"element-loading-background":"rgba(0, 0, 0, 0)"},{default:o(()=>[a("main",{class:U(["center",{"de-screen-full":e(M)}])},[d.value?(s(),A(Ut,{key:0,style:{"overflow-x":"hidden"},ref_key:"deCanvasRef",ref:g,"canvas-id":F.canvasId,"component-data":Qe.value,"canvas-style-data":e(r),"canvas-view-info":e(I),"font-family":e(r).fontFamily},null,8,["canvas-id","component-data","canvas-style-data","canvas-view-info","font-family"])):H("",!0)],2),W.value?(s(),A(Fe,{key:0,"theme-info":"light",title:se.value,width:420,"side-name":"componentProp","aside-position":"right",view:e(I)[e(_).id],element:e(_),class:"left-sidebar"},{default:o(()=>[(s(),A(At(e(Ft)(e(_))),{themes:"light"}))]),_:1},8,["title","view","element"])):H("",!0),pe(t(Fe,{"theme-info":"light",title:e(T)("visualization.dashboard_configuration"),width:420,"aside-position":"right","side-name":"canvas",class:"left-sidebar"},{default:o(()=>[t(Oa)]),_:1},8,["title"]),[[Re,!e(_)&&!e(y)&&!e(B)]]),pe(a("div",Na,[t(Ro,{themes:"light",view:e(I)[e(_)?e(_).id:"default"],"dataset-tree":F.datasetTree},null,8,["view","dataset-tree"])],512),[[Re,Te.value]]),e(y)?(s(),A(Fe,{key:1,"theme-info":"light",title:e(T)("visualization.batch_style_set"),width:280,"aside-position":"right",class:"left-sidebar","side-name":"batchOpt"},{default:o(()=>[t(vn)]),_:1},8,["title"])):H("",!0),e(B)?(s(),A(Fe,{key:2,"theme-info":"light",title:e(T)("visualization.hidden_components"),width:280,"aside-position":"right",class:"left-sidebar"},{default:o(()=>[t(Za,{onCancelHidden:ze})]),_:1},8,["title"])):H("",!0)]),_:1},8,["class"])],2)),[[te,e(S).loadingMap[e(n).currentPath]]]):Ee.value&&ye.value?(s(),A(fo,{key:1,onPcMode:V[0]||(V[0]=Se=>ye.value=!1)})):H("",!0),t(e(tt),{jsname:"L2NvbXBvbmVudC9lbWJlZGRlZC1pZnJhbWUvTmV3V2luZG93SGFuZGxlcg==",onLoaded:we,onLoadFail:we}),t(e(tt),{jsname:"L2NvbXBvbmVudC90aHJlc2hvbGQtd2FybmluZy9UaHJlc2hvbGREaWFsb2c="}),t(ro,{ref_key:"canvasCacheOutRef",ref:b,onDoUseCache:qe},null,512)],64)}}});export{Yc as default};
