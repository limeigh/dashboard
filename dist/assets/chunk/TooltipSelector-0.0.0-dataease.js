import{w as g,O as Ae,e as j,N as Ne,A as Oe,y as Le,f as Pe,r as De,B as Me,C as Ge,p as Re,z as Be,x as qe}from"./element-plus-secondary-0.0.0-dataease.js";import{d as Ye,k as $,r as W,i as Je,w as se,l as je,b as We,o as c,T,U as s,W as a,u as l,z as F,R as C,_ as P,c as w,a8 as _,S as x,a as G,Y as N,V as ie,$ as Xe,a0 as He}from"./@vue-0.0.0-dataease.js";import{i as Ke}from"./icon_info_outlined-0.0.0-dataease.js";import{e as X,f as Qe}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{av as H,am as me,an as R,ao as ue,a as Ze,aq as B,ap as et}from"./chart-0.0.0-dataease.js";import{D as tt,C as ot,y as lt,E as at,h as ne,O as de,P as rt}from"./lodash-es-0.0.0-dataease.js";import{f as L}from"./attr-0.0.0-dataease23.js";import{c as fe}from"./index-0.0.0-dataease12.js";import{d as st}from"./dvMain-0.0.0-dataease.js";import{s as it}from"./pinia-0.0.0-dataease.js";import{u as D}from"./index-0.0.0-dataease.js";import{i as pe}from"./field-list-0.0.0-dataease.js";import{_ as mt}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./@vueuse-0.0.0-dataease.js";import"./@element-plus-0.0.0-dataease.js";import"./dayjs-0.0.0-dataease.js";import"./@amap-0.0.0-dataease.js";import"./@popperjs-0.0.0-dataease.js";import"./async-validator-0.0.0-dataease.js";import"./@ctrl-0.0.0-dataease.js";import"./normalize-wheel-es-0.0.0-dataease.js";import"./memoize-one-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./qs-0.0.0-dataease.js";import"./side-channel-0.0.0-dataease.js";import"./es-errors-0.0.0-dataease.js";import"./object-inspect-0.0.0-dataease.js";import"./crypto-js-0.0.0-dataease.js";import"./side-channel-list-0.0.0-dataease.js";import"./side-channel-map-0.0.0-dataease.js";import"./get-intrinsic-0.0.0-dataease.js";import"./es-object-atoms-0.0.0-dataease.js";import"./math-intrinsics-0.0.0-dataease.js";import"./gopd-0.0.0-dataease.js";import"./es-define-property-0.0.0-dataease.js";import"./has-symbols-0.0.0-dataease.js";import"./get-proto-0.0.0-dataease.js";import"./dunder-proto-0.0.0-dataease.js";import"./call-bind-apply-helpers-0.0.0-dataease.js";import"./function-bind-0.0.0-dataease.js";import"./hasown-0.0.0-dataease.js";import"./call-bound-0.0.0-dataease.js";import"./side-channel-weakmap-0.0.0-dataease.js";import"./jspdf-0.0.0-dataease.js";import"./@babel-0.0.0-dataease.js";import"./fflate-0.0.0-dataease.js";import"./fast-png-0.0.0-dataease.js";import"./iobuffer-0.0.0-dataease.js";import"./pako-0.0.0-dataease.js";import"./vue-router_2-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./vue-0.0.0-dataease.js";import"./vue-i18n-0.0.0-dataease.js";import"./@intlify-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./zrender-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./web-storage-cache-0.0.0-dataease.js";import"./chart-0.0.0-dataease2.js";import"./dataset-0.0.0-dataease.js";import"./js-base64-0.0.0-dataease.js";import"./app-0.0.0-dataease.js";import"./login-0.0.0-dataease.js";import"./vue-demi-0.0.0-dataease.js";import"./mitt-0.0.0-dataease.js";import"./vue-types-0.0.0-dataease.js";import"./is-plain-object-0.0.0-dataease.js";import"./decimal.js-0.0.0-dataease.js";import"./@antv-0.0.0-dataease.js";import"./eventemitter3-0.0.0-dataease.js";import"./@mapbox-0.0.0-dataease.js";import"./pbf-0.0.0-dataease.js";import"./ieee754-0.0.0-dataease.js";import"./supercluster-0.0.0-dataease.js";import"./gl-matrix-0.0.0-dataease.js";import"./tslib-0.0.0-dataease.js";import"./detect-browser-0.0.0-dataease.js";import"./size-sensor-0.0.0-dataease.js";import"./d3-regression-0.0.0-dataease.js";import"./d3-hierarchy-0.0.0-dataease.js";import"./fmin-0.0.0-dataease.js";import"./pdfast-0.0.0-dataease.js";import"./d3-ease-0.0.0-dataease.js";import"./d3-interpolate-0.0.0-dataease.js";import"./d3-color-0.0.0-dataease.js";import"./d3-timer-0.0.0-dataease.js";import"./fecha-0.0.0-dataease.js";import"./topojson-client-0.0.0-dataease.js";import"./viewport-mercator-project-0.0.0-dataease.js";import"./@turf-0.0.0-dataease.js";import"./polygon-clipping-0.0.0-dataease.js";import"./splaytree-0.0.0-dataease.js";import"./robust-predicates-0.0.0-dataease.js";import"./d3-scale-0.0.0-dataease.js";import"./d3-collection-0.0.0-dataease.js";import"./d3-format-0.0.0-dataease.js";import"./d3-time-format-0.0.0-dataease.js";import"./d3-time-0.0.0-dataease.js";import"./d3-array-0.0.0-dataease.js";import"./earcut-0.0.0-dataease.js";import"./regl-0.0.0-dataease.js";import"./mapbox-gl-0.0.0-dataease.js";import"./d3-dsv-0.0.0-dataease.js";import"./geojson-vt-0.0.0-dataease.js";import"./hammerjs-0.0.0-dataease.js";import"./element-resize-detector-0.0.0-dataease.js";import"./batch-processor-0.0.0-dataease.js";import"./d3-hexbin-0.0.0-dataease.js";import"./mathjs-0.0.0-dataease.js";import"./typed-function-0.0.0-dataease.js";import"./complex.js-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./exceljs-0.0.0-dataease.js";import"./file-saver-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./util-0.0.0-dataease.js";import"./snowflake-id-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./less-0.0.0-dataease.js";import"./copy-anything-0.0.0-dataease.js";import"./is-what-0.0.0-dataease.js";const ut={key:0},nt={class:"data-area-label"},dt={style:{"margin-right":"4px"}},ft={key:2},pt={style:{"padding-left":"22px"}},ct={key:3,class:"carousel"},ht=Ye({__name:"TooltipSelector",props:{chart:{type:Object,required:!0},themes:{type:String,default:"dark"},allFields:{type:Array,required:!1},propertyInner:{type:Array}},emits:["onTooltipChange","onExtTooltipChange"],setup(d,{emit:ce}){const{t:n}=Qe(),h=d,he=st(),{batchOptStatus:K,mobileInPc:Q}=it(he),Z=Ze,ee=$(()=>h.themes==="dark"?"light":"dark"),O=ce,i=W({}),A=W(Je("quotaData")),q=$(()=>z("seriesTooltipFormatter")&&!K.value&&!Q.value&&h.chart.id),ve=()=>{if(!q.value)return;i.value={};const o=r.tooltipForm.seriesTooltipFormatter;o.splice(0,o.length);const e=[];U.value.forEach(u=>{B(u.formatterCfg),o.push({...u,show:!0}),e.push(u.id)}),A.value.forEach(u=>{e.includes(u.id)||(B(u.formatterCfg),o.push({...u,seriesId:u.id,show:!1}))}),o[0]&&(i.value=o[0]),O("onTooltipChange",{data:r.tooltipForm,render:!1},"seriesTooltipFormatter"),O("onExtTooltipChange",Y.value)},Fe=()=>{i.value={};const o=r.tooltipForm.seriesTooltipFormatter,e=A.value.map(m=>m.id);for(let m=o.length-1;m>=0;m--)e.includes(o[m].id)||o.splice(m,1);const u=o.map(m=>m.id);A.value.forEach(m=>{u.includes(m.id)||o.push({...m,seriesId:m.id,show:!1})}),o[0]&&(i.value=o[0])},te=["yAxis","yAxisExt","extBubble"],U=$(()=>{let o=[];return te.forEach(e=>{var m,p;if(!((p=(m=Ve.value)==null?void 0:m.axis)!=null&&p.includes(e)))return;const u=h.chart[e];u==null||u.forEach(f=>{o.push({...f,seriesId:`${f.id}-${e}`})})}),o}),ge=$(()=>tt(U.value,o=>o.id));function be(o){return h.chart.type.includes("chart-mix")?rt(ge.value,o.id):!0}const Y=$(()=>{var e;const o=(e=U.value)==null?void 0:e.map(u=>u.id);return r.tooltipForm.seriesTooltipFormatter.filter(u=>{var m;return!o.includes(u.id)&&u.show&&((m=A.value)==null?void 0:m.findIndex(p=>p.id===u.id))!==-1})}),ye=$(()=>{var o;return((o=U.value)==null?void 0:o.findIndex(e=>i.value.id===e.id))===-1&&i.value.id!=="-1"}),Te=$(()=>{var o;return((o=U.value)==null?void 0:o.findIndex(e=>i.value.id===e.id))!==-1}),oe=$(()=>{var o,e;return z("seriesTooltipFormatter")&&(((o=h.chart.yAxis)==null?void 0:o.length)||((e=h.chart.yAxisExt)==null?void 0:e.length))}),Ve=$(()=>fe.getChartView(h.chart.render,h.chart.type)),Ce=[{name:n("chart.sum"),value:"sum"},{name:n("chart.avg"),value:"avg"},{name:n("chart.max"),value:"max"},{name:n("chart.min"),value:"min"},{name:n("chart.stddev_pop"),value:"stddev_pop"},{name:n("chart.var_pop"),value:"var_pop"},{name:n("chart.count"),value:"count"},{name:n("chart.count_distinct"),value:"count_distinct"}],we=[{name:n("chart.count"),value:"count"},{name:n("chart.count_distinct"),value:"count_distinct"}],ke=[0,1,5],Ie=$(()=>{var o;return ke.includes((o=i.value)==null?void 0:o.deType)?we:Ce}),$e=$(()=>{if(h.chart.type==="bar-range"){const o=h.chart.yAxis[0],e=h.chart.yAxisExt[0];if(o&&o.groupType==="d"||e&&e.groupType==="d")return!0}return!1});se([()=>h.chart.customAttr.tooltip,()=>h.chart.customAttr.tooltip.show],()=>{re()},{deep:!1});const r=je({tooltipForm:{tooltipFormatter:H.tooltipFormatter,carousel:H.carousel}}),xe=$(()=>{const o=[];for(let e=10;e<=40;e=e+2)o.push({name:e+"",value:e});for(let e=50;e<=200;e=e+10)o.push({name:e+"",value:e});return o}),b=(o,e=!1,u=!0)=>{o==="seriesTooltipFormatter"&&O("onExtTooltipChange",Y.value),O("onTooltipChange",{data:r.tooltipForm,requestData:e,render:u},o)};function le(o,e,u){et(o,e),b(u)}const ae=W(),re=()=>{var e,u,m,p;const o=JSON.parse(JSON.stringify(h.chart));if(o.customAttr){const f=JSON.parse(JSON.stringify(o.customAttr));if(f.tooltip){r.tooltipForm=at(f.tooltip,ne(H)),B(r.tooltipForm.tooltipFormatter),(e=ae.value)==null||e.blur();const v=r.tooltipForm.seriesTooltipFormatter;if(!v.length){(u=A.value)==null||u.forEach(V=>v.push({...V,seriesId:V.id,show:!1})),i.value={};return}v.forEach(V=>{B(V.formatterCfg)});const E=v.reduce((V,k)=>(k.seriesId=k.seriesId??k.id,V[k.seriesId]=k,V),{});!(i!=null&&i.value)||!E[(m=i.value)==null?void 0:m.seriesId]?(i.value={},v[0]&&(i.value=v[0])):i.value=E[(p=i.value)==null?void 0:p.seriesId]}}},z=o=>{var u,m;const e=fe.getChartView(h.chart.render,h.chart.type);return e?(u=e.propertyInner["tooltip-selector"])==null?void 0:u.includes(o):(m=h.propertyInner)==null?void 0:m.includes(o)},J=o=>{var m;const{axisType:e,editType:u}=o;if(!(!q.value||!r.tooltipForm.seriesTooltipFormatter.length||!((m=A.value)!=null&&m.length)||!te.includes(e))){switch(u){case"add":Ee(o);break;case"remove":ze(o);break;case"update":Se(o);break}O("onTooltipChange",{data:r.tooltipForm,render:!1},"seriesTooltipFormatter"),O("onExtTooltipChange",Y.value)}},Ee=o=>{const{axis:e,axisType:u}=o,m=e.reduce((f,v)=>(v&&(v.axisType=u,v.seriesId=`${v.id}-${u}`,f[v.id]=v),f),{}),p=[];r.tooltipForm.seriesTooltipFormatter.forEach(f=>{if(m[f.id])if(f.show=!0,f.seriesId===f.id)f.seriesId=m[f.id].seriesId,f.axisType=m[f.id].axisType,f.summary=m[f.id].summary,f.chartShowName=m[f.id].chartShowName;else{if(p.findIndex(E=>E.id===f.id)!==-1)return;const v=ne(m[f.id]);v.show=!0,p.push(v)}}),r.tooltipForm.seriesTooltipFormatter=de(r.tooltipForm.seriesTooltipFormatter.concat(p),f=>U.value.findIndex(v=>v.id===f.id)!==-1).flat()},ze=o=>{var v,E,V,k,S;const{axis:e,axisType:u}=o,m=e.reduce((y,I)=>(I&&(I.axisType=u,I.seriesId=`${I.id}-${u}`,y[I.seriesId]=I),y),{}),p=(v=A.value)==null?void 0:v.map(y=>y.id),f=r.tooltipForm.seriesTooltipFormatter.reduce((y,I)=>(y[I.id]!==void 0?y[`${I.id}-${u}`]=!0:y[I.id]=!1,y),{});if(r.tooltipForm.seriesTooltipFormatter=(E=r.tooltipForm.seriesTooltipFormatter)==null?void 0:E.filter(y=>(p==null?void 0:p.includes(y.id))&&!f[y.seriesId]),r.tooltipForm.seriesTooltipFormatter.forEach(y=>{m[y.seriesId]&&(y.show=!1,y.summary=m[y.seriesId].summary,y.seriesId=y.id)}),r.tooltipForm.seriesTooltipFormatter=de(r.tooltipForm.seriesTooltipFormatter,y=>U.value.findIndex(I=>I.id===y.id)!==-1).flat(),!((V=U.value)!=null&&V.length)){i.value={};return}m[(k=i.value)==null?void 0:k.seriesId]&&(i.value=(S=r.tooltipForm.seriesTooltipFormatter)==null?void 0:S[0])},Se=o=>{const{axis:e,axisType:u}=o,m=e.reduce((p,f)=>(f&&(f.axisType=u,f.seriesId=`${f.id}-${u}`,p[f.seriesId]=f),p),{});r.tooltipForm.seriesTooltipFormatter.forEach(p=>{var f,v;m[p.seriesId]&&(p.chartShowName=(f=m[p.seriesId])==null?void 0:f.chartShowName,p.summary=((v=m[p.seriesId])==null?void 0:v.summary)??p.summary)})},M=$(()=>ot(h.allFields,[]).map(o=>({key:o.dataeaseName,name:o.name,value:`${o.dataeaseName}@${o.name}`,disabled:!1}))),Ue=$(()=>r.tooltipForm.showFields&&r.tooltipForm.showFields.length>0?r.tooltipForm.showFields.filter(o=>!lt(o)).map(o=>o.split("@")[1]+": ${"+o.split("@")[1]+"}").join(`
`):"");se(()=>M.value,()=>{var e;if(!z("showFields"))return;let o=[];(e=r.tooltipForm.showFields)==null||e.forEach(u=>{var m;(m=M.value)!=null&&m.map(p=>p.value).includes(u)&&o.push(u)}),r.tooltipForm.showFields=o,M.value.length>0&&b("showFields")});const _e=$(()=>h.chart.type==="sankey");return We(()=>{re(),D({name:"addAxis",callback:J}),D({name:"removeAxis",callback:J}),D({name:"updateAxis",callback:J}),D({name:"chart-type-change",callback:ve}),D({name:"dataset-change",callback:Fe})}),(o,e)=>{const u=Ne,m=Oe,p=Le,f=Pe,v=De,E=Me,V=Ge,k=Re,S=Be,y=qe;return c(),T(y,{ref:"tooltipForm",disabled:!r.tooltipForm.show,model:r.tooltipForm,"label-position":"top",size:"small"},{default:s(()=>{var I;return[a(l(g),{label:l(n)("chart.background")+l(n)("chart.color"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(u,{effect:d.themes,modelValue:r.tooltipForm.backgroundColor,"onUpdate:modelValue":e[0]||(e[0]=t=>r.tooltipForm.backgroundColor=t),class:"color-picker-style",predefine:l(Z),onChange:e[1]||(e[1]=t=>b("backgroundColor")),"is-custom":"","trigger-width":108,"show-alpha":""},null,8,["effect","modelValue","predefine"])]),_:1},8,["label","class"]),a(l(Ae),null,{default:s(()=>[z("color")?(c(),T(l(g),{key:0,class:F(["form-item","form-item-"+d.themes]),label:l(n)("chart.text")},{default:s(()=>[a(u,{effect:d.themes,modelValue:r.tooltipForm.color,"onUpdate:modelValue":e[2]||(e[2]=t=>r.tooltipForm.color=t),class:"color-picker-style",predefine:l(Z),onChange:e[3]||(e[3]=t=>b("color")),"is-custom":""},null,8,["effect","modelValue","predefine"])]),_:1},8,["class","label"])):C("",!0),z("fontSize")?(c(),T(l(g),{key:1,class:F(["form-item","form-item-"+d.themes])},{label:s(()=>[...e[51]||(e[51]=[P("Â ",-1)])]),default:s(()=>[a(f,{content:l(n)("chart.font_size"),effect:ee.value,placement:"top"},{default:s(()=>[a(p,{size:"small",style:{width:"108px"},effect:d.themes,modelValue:r.tooltipForm.fontSize,"onUpdate:modelValue":e[4]||(e[4]=t=>r.tooltipForm.fontSize=t),modelModifiers:{number:!0},placeholder:l(n)("chart.text_fontsize"),onChange:e[5]||(e[5]=t=>b("fontSize"))},{default:s(()=>[(c(!0),w(x,null,_(xe.value,t=>(c(),T(m,{key:t.value,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue","placeholder"])]),_:1},8,["content","effect"])]),_:1},8,["class"])):C("",!0)]),_:1}),z("showFields")&&!l(K)&&!l(Q)?(c(),w("div",ut,[a(l(g),{label:l(n)("chart.tooltip"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{size:"small",effect:d.themes,filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",modelValue:r.tooltipForm.showFields,"onUpdate:modelValue":e[6]||(e[6]=t=>r.tooltipForm.showFields=t),onChange:e[7]||(e[7]=t=>b("showFields"))},{default:s(()=>[(c(!0),w(x,null,_(M.value,t=>(c(),T(m,{key:t.key,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"]),z("customContent")?(c(),T(l(g),{key:0,class:F("form-item-"+d.themes)},{label:s(()=>[G("span",nt,[G("span",dt,N(l(n)("chart.content_formatter")),1),a(f,{class:"item",effect:ee.value,placement:"bottom"},{content:s(()=>[G("div",null,N(l(n)("chart.custom_tooltip_content_tip")),1)]),default:s(()=>[a(l(j),{class:F(["hint-icon",{"hint-icon--dark":d.themes==="dark"}])},{default:s(()=>[a(X,{name:"icon_info_outlined"},{default:s(()=>[a(l(Ke),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1},8,["effect"])])]),default:s(()=>[a(v,{style:{"font-size":"smaller","font-weight":"normal"},effect:d.themes,modelValue:r.tooltipForm.customContent,"onUpdate:modelValue":e[8]||(e[8]=t=>r.tooltipForm.customContent=t),type:"textarea",autosize:{minRows:4,maxRows:4},placeholder:Ue.value,onBlur:e[9]||(e[9]=t=>b("customContent"))},null,8,["effect","modelValue","placeholder"])]),_:1},8,["class"])):C("",!0)])):C("",!0),z("tooltipFormatter")&&!$e.value?(c(),w(x,{key:1},[a(l(g),{label:l(n)("chart.value_formatter_type"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{size:"small",style:{width:"100%"},effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.type,"onUpdate:modelValue":e[10]||(e[10]=t=>r.tooltipForm.tooltipFormatter.type=t),onChange:e[11]||(e[11]=t=>b("tooltipFormatter.type"))},{default:s(()=>[(c(!0),w(x,null,_(l(me),t=>(c(),T(m,{key:t.value,label:l(n)("chart."+t.name),value:t.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"]),r.tooltipForm.tooltipFormatter.type!=="auto"?(c(),T(l(g),{key:0,label:l(n)("chart.value_formatter_decimal_count"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(E,{"controls-position":"right",style:{width:"100%"},effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.decimalCount,"onUpdate:modelValue":e[12]||(e[12]=t=>r.tooltipForm.tooltipFormatter.decimalCount=t),precision:0,min:0,max:10,size:"small",onChange:e[13]||(e[13]=t=>b("tooltipFormatter.decimalCount"))},null,8,["effect","modelValue"])]),_:1},8,["label","class"])):C("",!0),r.tooltipForm.tooltipFormatter.type!=="percent"?(c(),w(x,{key:1},[a(k,{gutter:8},{default:s(()=>[l(R)?C("",!0):(c(),T(V,{key:0,span:12},{default:s(()=>[a(l(g),{label:o.$t("chart.value_formatter_unit_language"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{disabled:r.tooltipForm.tooltipFormatter.type==="percent",size:"small",effect:d.themes,modelValue:r.tooltipForm.tooltipFormatter.unitLanguage,"onUpdate:modelValue":e[14]||(e[14]=t=>r.tooltipForm.tooltipFormatter.unitLanguage=t),placeholder:o.$t("chart.pls_select_field"),onChange:e[15]||(e[15]=t=>le(r.tooltipForm.tooltipFormatter,t,"tooltipFormatter"))},{default:s(()=>[a(m,{label:o.$t("chart.value_formatter_unit_language_ch"),value:"ch"},null,8,["label"]),a(m,{label:o.$t("chart.value_formatter_unit_language_en"),value:"en"},null,8,["label"])]),_:1},8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1})),a(V,{span:l(R)?24:12},{default:s(()=>[a(l(g),{label:l(n)("chart.value_formatter_unit"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{disabled:r.tooltipForm.tooltipFormatter.type==="percent",effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.unit,"onUpdate:modelValue":e[16]||(e[16]=t=>r.tooltipForm.tooltipFormatter.unit=t),placeholder:l(n)("chart.pls_select_field"),size:"small",onChange:e[17]||(e[17]=t=>b("tooltipFormatter"))},{default:s(()=>[(c(!0),w(x,null,_(l(ue)(r.tooltipForm.tooltipFormatter.unitLanguage),t=>(c(),T(m,{key:t.value,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1},8,["span"])]),_:1}),a(k,{gutter:8},{default:s(()=>[a(V,{span:24},{default:s(()=>[a(l(g),{label:l(n)("chart.value_formatter_suffix"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(v,{effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.suffix,"onUpdate:modelValue":e[18]||(e[18]=t=>r.tooltipForm.tooltipFormatter.suffix=t),size:"small",clearable:"",placeholder:l(n)("commons.input_content"),onChange:e[19]||(e[19]=t=>b("tooltipFormatter.suffix"))},null,8,["effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1})]),_:1})],64)):C("",!0),a(l(g),{class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(S,{size:"small",effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.thousandSeparator,"onUpdate:modelValue":e[20]||(e[20]=t=>r.tooltipForm.tooltipFormatter.thousandSeparator=t),onChange:e[21]||(e[21]=t=>b("tooltipFormatter.thousandSeparator")),label:l(n)("chart.value_formatter_thousand_separator")},null,8,["effect","modelValue","label"])]),_:1},8,["class"]),_e.value?(c(),T(l(g),{key:2,class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(S,{size:"small",effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.showTotalPercent,"onUpdate:modelValue":e[22]||(e[22]=t=>r.tooltipForm.tooltipFormatter.showTotalPercent=t),onChange:e[23]||(e[23]=t=>b("tooltipFormatter.showTotalPercent")),label:l(n)("chart.value_formatter_total_out_percent")},null,8,["effect","modelValue","label"])]),_:1},8,["class"])):C("",!0)],64)):C("",!0),q.value?(c(),w("div",ft,[a(l(g),null,{default:s(()=>[a(p,{size:"small",modelValue:i.value,"onUpdate:modelValue":e[24]||(e[24]=t=>i.value=t),disabled:!oe.value,effect:d.themes,ref_key:"formatterSelector",ref:ae,"value-key":"seriesId",class:"series-select"},{prefix:s(()=>[i.value.seriesId?(c(),T(l(j),{key:0,style:{"font-size":"14px"}},{default:s(()=>[a(X,{className:`field-icon-${l(L)[i.value.deType]}`},{default:s(()=>[(c(),T(ie(l(pe)[l(L)[i.value.deType]]),{class:F(["svg-icon",`field-icon-${l(L)[i.value.deType]}`])},null,8,["class"]))]),_:1},8,["className"])]),_:1})):C("",!0)]),default:s(()=>[(c(!0),w(x,null,_(r.tooltipForm.seriesTooltipFormatter,t=>(c(),w(x,{key:t.seriesId},[be(t)?(c(),T(m,{key:0,class:"series-select-option",value:t,label:`${t.name}${t.summary!==""?"("+l(n)("chart."+t.summary)+")":""}`},{default:s(()=>[a(l(j),{style:{"margin-right":"8px"}},{default:s(()=>[a(X,{className:`field-icon-${l(L)[t.deType]}`},{default:s(()=>[(c(),T(ie(l(pe)[l(L)[t.deType]]),{class:F(["svg-icon",`field-icon-${l(L)[t.deType]}`])},null,8,["class"]))]),_:2},1032,["className"])]),_:2},1024),P(" "+N(t.name)+" "+N(t.summary!==""?"("+l(n)("chart."+t.summary)+")":""),1)]),_:2},1032,["value","label"])):C("",!0)],64))),128))]),_:1},8,["modelValue","disabled","effect"])]),_:1}),(I=i.value)!=null&&I.seriesId?(c(),w(x,{key:0},[a(l(g),{class:F(["form-item form-item-checkbox","form-item-"+d.themes])},{default:s(()=>[a(S,{disabled:!oe.value,modelValue:i.value.show,"onUpdate:modelValue":e[25]||(e[25]=t=>i.value.show=t),effect:d.themes,size:"small",label:"quota",onChange:e[26]||(e[26]=t=>b("seriesTooltipFormatter",!0))},{default:s(()=>[P(N(l(n)("chart.show")),1)]),_:1},8,["disabled","modelValue","effect"])]),_:1},8,["class"]),G("div",pt,[a(l(g),{class:F(["form-item","form-item-"+d.themes]),label:l(n)("chart.show_name")},{default:s(()=>[a(v,{effect:d.themes,size:"small",maxlength:20,onChange:e[27]||(e[27]=t=>b("seriesTooltipFormatter")),modelValue:i.value.chartShowName,"onUpdate:modelValue":e[28]||(e[28]=t=>i.value.chartShowName=t),disabled:!i.value.show||Te.value},null,8,["effect","modelValue","disabled"])]),_:1},8,["class","label"]),ye.value?(c(),T(k,{key:0},{default:s(()=>[a(V,null,{default:s(()=>[a(l(g),{label:l(n)("common.please_select")+l(n)("chart.aggregation"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{size:"small",modelValue:i.value.summary,"onUpdate:modelValue":e[29]||(e[29]=t=>i.value.summary=t),disabled:!i.value.show,effect:h.themes,onChange:e[30]||(e[30]=t=>b("seriesTooltipFormatter",!0))},{default:s(()=>[(c(!0),w(x,null,_(Ie.value,t=>(c(),T(m,{label:t.name,value:t.value,key:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled","effect"])]),_:1},8,["label","class"])]),_:1})]),_:1})):C("",!0),a(l(g),{label:l(n)("chart.value_formatter_type"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{size:"small",disabled:!i.value.show,style:{width:"100%"},effect:h.themes,modelValue:i.value.formatterCfg.type,"onUpdate:modelValue":e[31]||(e[31]=t=>i.value.formatterCfg.type=t),onChange:e[32]||(e[32]=t=>b("seriesTooltipFormatter"))},{default:s(()=>[(c(!0),w(x,null,_(l(me),t=>(c(),T(m,{key:t.value,label:l(n)("chart."+t.name),value:t.value},null,8,["label","value"]))),128))]),_:1},8,["disabled","effect","modelValue"])]),_:1},8,["label","class"]),i.value.formatterCfg.type!=="auto"?(c(),T(l(g),{key:1,label:l(n)("chart.value_formatter_decimal_count"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(E,{"controls-position":"right",disabled:!i.value.show,style:{width:"100%"},effect:h.themes,modelValue:i.value.formatterCfg.decimalCount,"onUpdate:modelValue":e[33]||(e[33]=t=>i.value.formatterCfg.decimalCount=t),precision:0,min:0,max:10,size:"small",onChange:e[34]||(e[34]=t=>b("seriesTooltipFormatter"))},null,8,["disabled","effect","modelValue"])]),_:1},8,["label","class"])):C("",!0),i.value.formatterCfg.type!=="percent"?(c(),w(x,{key:2},[a(k,{gutter:8},{default:s(()=>[l(R)?C("",!0):(c(),T(V,{key:0,span:12},{default:s(()=>[a(l(g),{label:o.$t("chart.value_formatter_unit_language"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{disabled:!i.value.show||i.value.formatterCfg.type=="percent",size:"small",effect:d.themes,modelValue:i.value.formatterCfg.unitLanguage,"onUpdate:modelValue":e[35]||(e[35]=t=>i.value.formatterCfg.unitLanguage=t),placeholder:o.$t("chart.pls_select_field"),onChange:e[36]||(e[36]=t=>le(i.value.formatterCfg,t,"seriesTooltipFormatter"))},{default:s(()=>[a(m,{label:o.$t("chart.value_formatter_unit_language_ch"),value:"ch"},null,8,["label"]),a(m,{label:o.$t("chart.value_formatter_unit_language_en"),value:"en"},null,8,["label"])]),_:1},8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1})),a(V,{span:l(R)?24:12},{default:s(()=>[a(l(g),{label:l(n)("chart.value_formatter_unit"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{disabled:!i.value.show||i.value.formatterCfg.type=="percent",effect:h.themes,modelValue:i.value.formatterCfg.unit,"onUpdate:modelValue":e[37]||(e[37]=t=>i.value.formatterCfg.unit=t),placeholder:l(n)("chart.pls_select_field"),size:"small",onChange:e[38]||(e[38]=t=>b("seriesTooltipFormatter"))},{default:s(()=>[(c(!0),w(x,null,_(l(ue)(i.value.formatterCfg.unitLanguage),t=>(c(),T(m,{key:t.value,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1},8,["span"])]),_:1}),a(k,{gutter:8},{default:s(()=>[a(V,{span:24},{default:s(()=>[a(l(g),{label:l(n)("chart.value_formatter_suffix"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(v,{disabled:!i.value.show,effect:h.themes,modelValue:i.value.formatterCfg.suffix,"onUpdate:modelValue":e[39]||(e[39]=t=>i.value.formatterCfg.suffix=t),size:"small",clearable:"",placeholder:l(n)("commons.input_content"),onChange:e[40]||(e[40]=t=>b("seriesTooltipFormatter"))},null,8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1})]),_:1})],64)):C("",!0),a(l(g),{class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(S,{disabled:!i.value.show,size:"small",effect:h.themes,modelValue:i.value.formatterCfg.thousandSeparator,"onUpdate:modelValue":e[41]||(e[41]=t=>i.value.formatterCfg.thousandSeparator=t),onChange:e[42]||(e[42]=t=>b("seriesTooltipFormatter")),label:l(n)("chart.value_formatter_thousand_separator")},null,8,["disabled","effect","modelValue","label"])]),_:1},8,["class"])])],64)):C("",!0)])):C("",!0),Xe(a(l(g),{class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(S,{effect:d.themes,size:"small",onChange:e[43]||(e[43]=t=>b("showGap")),modelValue:r.tooltipForm.showGap,"onUpdate:modelValue":e[44]||(e[44]=t=>r.tooltipForm.showGap=t)},{default:s(()=>[P(N(l(n)("chart.show_gap")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),[[He,z("showGap")]]),z("carousel")?(c(),w("div",ct,[a(l(g),{class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(S,{effect:d.themes,size:"small",onChange:e[45]||(e[45]=t=>b("carousel")),modelValue:r.tooltipForm.carousel.enable,"onUpdate:modelValue":e[46]||(e[46]=t=>r.tooltipForm.carousel.enable=t)},{default:s(()=>[P(N(l(n)("chart.carousel_enable")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),a(k,{gutter:8},{default:s(()=>[a(V,{span:12},{default:s(()=>[a(l(g),{label:l(n)("chart.carousel_stay_time"),class:F(["form-item w100","form-item-"+d.themes])},{default:s(()=>[a(E,{style:{width:"100%"},effect:d.themes,"controls-position":"right",size:"middle",precision:"0",min:1,max:600,disabled:!r.tooltipForm.carousel.enable,onChange:e[47]||(e[47]=t=>b("carousel")),modelValue:r.tooltipForm.carousel.stayTime,"onUpdate:modelValue":e[48]||(e[48]=t=>r.tooltipForm.carousel.stayTime=t)},null,8,["effect","disabled","modelValue"])]),_:1},8,["label","class"])]),_:1}),a(V,{span:12},{default:s(()=>[a(l(g),{label:l(n)("chart.carousel_interval"),class:F(["form-item w100","form-item-"+d.themes])},{default:s(()=>[a(E,{style:{width:"100%"},effect:d.themes,"controls-position":"right",size:"middle",precision:"0",min:1,max:600,disabled:!r.tooltipForm.carousel.enable,onChange:e[49]||(e[49]=t=>b("carousel")),modelValue:r.tooltipForm.carousel.intervalTime,"onUpdate:modelValue":e[50]||(e[50]=t=>r.tooltipForm.carousel.intervalTime=t)},null,8,["effect","disabled","modelValue"])]),_:1},8,["label","class"])]),_:1})]),_:1})])):C("",!0)]}),_:1},8,["disabled","model"])}}});const Ul=mt(ht,[["__scopeId","data-v-0619cdd4"]]);export{Ul as default};
