import{a as P}from"./index-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import{E as Ae}from"./el-checkbox-0.0.0-dataease.js";import{E as Ne}from"./el-row-0.0.0-dataease.js";import{E as Oe}from"./el-col-0.0.0-dataease.js";import{j as J,n as W,o as Le,G as Pe}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{a as De,E as Ge}from"./el-select-0.0.0-dataease.js";import{E as Me}from"./el-color-picker-0.0.0-dataease.js";import{d as Re,af as Be,y as I,r as X,x as qe,w as se,X as je,o as Ye,f as c,g as T,i as s,j as a,u as o,S as F,_ as C,a3 as D,O as w,a6 as _,W as $,P as M,a4 as N,l as ie,R as Je,U as We}from"./vue-0.0.0-dataease.js";import{i as Xe}from"./icon_info_outlined-0.0.0-dataease.js";import{av as H,am as me,an as R,ao as ue,a as He,aq as B,ap as Ke}from"./chart-0.0.0-dataease.js";import{E as g,a as Qe}from"./el-form-item-0.0.0-dataease.js";import{E as Ze}from"./el-space-0.0.0-dataease.js";import{C as et,B as tt,x as lt,D as ot,e as ne,R as de,S as at}from"./lodash-0.0.0-dataease.js";import{f as L}from"./attr-0.0.0-dataease23.js";import{c as fe}from"./index-0.0.0-dataease21.js";import{d as rt}from"./dvMain-0.0.0-dataease.js";import{i as pe}from"./field-list-0.0.0-dataease.js";import{E as st}from"./index-0.0.0-dataease4.js";import{E as it}from"./index-0.0.0-dataease20.js";import{_ as mt}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./constants-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./index-0.0.0-dataease6.js";import"./token-0.0.0-dataease.js";import"./strings-0.0.0-dataease.js";import"./index-0.0.0-dataease5.js";import"./index-0.0.0-dataease27.js";import"./position-0.0.0-dataease.js";import"./chart-0.0.0-dataease2.js";import"./dataset-0.0.0-dataease.js";import"./app-0.0.0-dataease.js";import"./decimal-0.0.0-dataease.js";import"./antv-0.0.0-dataease.js";import"./index-0.0.0-dataease22.js";import"./pureFunctionsAny.generated-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./tslib.es6-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./_commonjs-dynamic-modules-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./util-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./index-0.0.0-dataease3.js";import"./index-0.0.0-dataease18.js";const ut={key:0},nt={class:"data-area-label"},dt={style:{"margin-right":"4px"}},ft={key:2},pt={style:{"padding-left":"22px"}},ct={key:3,class:"carousel"},ht=Re({__name:"TooltipSelector",props:{chart:{type:Object,required:!0},themes:{type:String,default:"dark"},allFields:{type:Array,required:!1},propertyInner:{type:Array}},emits:["onTooltipChange","onExtTooltipChange"],setup(d,{emit:ce}){const{t:n}=Le(),h=d,he=rt(),{batchOptStatus:K,mobileInPc:Q}=Be(he),Z=He,ee=I(()=>h.themes==="dark"?"light":"dark"),O=ce,i=X({}),A=X(qe("quotaData")),q=I(()=>S("seriesTooltipFormatter")&&!K.value&&!Q.value&&h.chart.id),ve=()=>{if(!q.value)return;i.value={};const l=r.tooltipForm.seriesTooltipFormatter;l.splice(0,l.length);const e=[];U.value.forEach(u=>{B(u.formatterCfg),l.push({...u,show:!0}),e.push(u.id)}),A.value.forEach(u=>{e.includes(u.id)||(B(u.formatterCfg),l.push({...u,seriesId:u.id,show:!1}))}),l[0]&&(i.value=l[0]),O("onTooltipChange",{data:r.tooltipForm,render:!1},"seriesTooltipFormatter"),O("onExtTooltipChange",j.value)},Fe=()=>{i.value={};const l=r.tooltipForm.seriesTooltipFormatter,e=A.value.map(m=>m.id);for(let m=l.length-1;m>=0;m--)e.includes(l[m].id)||l.splice(m,1);const u=l.map(m=>m.id);A.value.forEach(m=>{u.includes(m.id)||l.push({...m,seriesId:m.id,show:!1})}),l[0]&&(i.value=l[0])},te=["yAxis","yAxisExt","extBubble"],U=I(()=>{let l=[];return te.forEach(e=>{var m,p;if(!((p=(m=Ve.value)==null?void 0:m.axis)!=null&&p.includes(e)))return;const u=h.chart[e];u==null||u.forEach(f=>{l.push({...f,seriesId:`${f.id}-${e}`})})}),l}),ge=I(()=>et(U.value,l=>l.id));function be(l){return h.chart.type.includes("chart-mix")?at(ge.value,l.id):!0}const j=I(()=>{var e;const l=(e=U.value)==null?void 0:e.map(u=>u.id);return r.tooltipForm.seriesTooltipFormatter.filter(u=>{var m;return!l.includes(u.id)&&u.show&&((m=A.value)==null?void 0:m.findIndex(p=>p.id===u.id))!==-1})}),ye=I(()=>{var l;return((l=U.value)==null?void 0:l.findIndex(e=>i.value.id===e.id))===-1&&i.value.id!=="-1"}),Te=I(()=>{var l;return((l=U.value)==null?void 0:l.findIndex(e=>i.value.id===e.id))!==-1}),le=I(()=>{var l,e;return S("seriesTooltipFormatter")&&(((l=h.chart.yAxis)==null?void 0:l.length)||((e=h.chart.yAxisExt)==null?void 0:e.length))}),Ve=I(()=>fe.getChartView(h.chart.render,h.chart.type)),Ce=[{name:n("chart.sum"),value:"sum"},{name:n("chart.avg"),value:"avg"},{name:n("chart.max"),value:"max"},{name:n("chart.min"),value:"min"},{name:n("chart.stddev_pop"),value:"stddev_pop"},{name:n("chart.var_pop"),value:"var_pop"},{name:n("chart.count"),value:"count"},{name:n("chart.count_distinct"),value:"count_distinct"}],we=[{name:n("chart.count"),value:"count"},{name:n("chart.count_distinct"),value:"count_distinct"}],ke=[0,1,5],Ee=I(()=>{var l;return ke.includes((l=i.value)==null?void 0:l.deType)?we:Ce}),Ie=I(()=>{if(h.chart.type==="bar-range"){const l=h.chart.yAxis[0],e=h.chart.yAxisExt[0];if(l&&l.groupType==="d"||e&&e.groupType==="d")return!0}return!1});se([()=>h.chart.customAttr.tooltip,()=>h.chart.customAttr.tooltip.show],()=>{re()},{deep:!1});const r=je({tooltipForm:{tooltipFormatter:H.tooltipFormatter,carousel:H.carousel}}),$e=I(()=>{const l=[];for(let e=10;e<=40;e=e+2)l.push({name:e+"",value:e});for(let e=50;e<=200;e=e+10)l.push({name:e+"",value:e});return l}),b=(l,e=!1,u=!0)=>{l==="seriesTooltipFormatter"&&O("onExtTooltipChange",j.value),O("onTooltipChange",{data:r.tooltipForm,requestData:e,render:u},l)};function oe(l,e,u){Ke(l,e),b(u)}const ae=X(),re=()=>{var e,u,m,p;const l=JSON.parse(JSON.stringify(h.chart));if(l.customAttr){const f=JSON.parse(JSON.stringify(l.customAttr));if(f.tooltip){r.tooltipForm=ot(f.tooltip,ne(H)),B(r.tooltipForm.tooltipFormatter),(e=ae.value)==null||e.blur();const v=r.tooltipForm.seriesTooltipFormatter;if(!v.length){(u=A.value)==null||u.forEach(V=>v.push({...V,seriesId:V.id,show:!1})),i.value={};return}v.forEach(V=>{B(V.formatterCfg)});const x=v.reduce((V,k)=>(k.seriesId=k.seriesId??k.id,V[k.seriesId]=k,V),{});!(i!=null&&i.value)||!x[(m=i.value)==null?void 0:m.seriesId]?(i.value={},v[0]&&(i.value=v[0])):i.value=x[(p=i.value)==null?void 0:p.seriesId]}}},S=l=>{var u,m;const e=fe.getChartView(h.chart.render,h.chart.type);return e?(u=e.propertyInner["tooltip-selector"])==null?void 0:u.includes(l):(m=h.propertyInner)==null?void 0:m.includes(l)},Y=l=>{var m;const{axisType:e,editType:u}=l;if(!(!q.value||!r.tooltipForm.seriesTooltipFormatter.length||!((m=A.value)!=null&&m.length)||!te.includes(e))){switch(u){case"add":xe(l);break;case"remove":Se(l);break;case"update":ze(l);break}O("onTooltipChange",{data:r.tooltipForm,render:!1},"seriesTooltipFormatter"),O("onExtTooltipChange",j.value)}},xe=l=>{const{axis:e,axisType:u}=l,m=e.reduce((f,v)=>(v&&(v.axisType=u,v.seriesId=`${v.id}-${u}`,f[v.id]=v),f),{}),p=[];r.tooltipForm.seriesTooltipFormatter.forEach(f=>{if(m[f.id])if(f.show=!0,f.seriesId===f.id)f.seriesId=m[f.id].seriesId,f.axisType=m[f.id].axisType,f.summary=m[f.id].summary,f.chartShowName=m[f.id].chartShowName;else{if(p.findIndex(x=>x.id===f.id)!==-1)return;const v=ne(m[f.id]);v.show=!0,p.push(v)}}),r.tooltipForm.seriesTooltipFormatter=de(r.tooltipForm.seriesTooltipFormatter.concat(p),f=>U.value.findIndex(v=>v.id===f.id)!==-1).flat()},Se=l=>{var v,x,V,k,z;const{axis:e,axisType:u}=l,m=e.reduce((y,E)=>(E&&(E.axisType=u,E.seriesId=`${E.id}-${u}`,y[E.seriesId]=E),y),{}),p=(v=A.value)==null?void 0:v.map(y=>y.id),f=r.tooltipForm.seriesTooltipFormatter.reduce((y,E)=>(y[E.id]!==void 0?y[`${E.id}-${u}`]=!0:y[E.id]=!1,y),{});if(r.tooltipForm.seriesTooltipFormatter=(x=r.tooltipForm.seriesTooltipFormatter)==null?void 0:x.filter(y=>(p==null?void 0:p.includes(y.id))&&!f[y.seriesId]),r.tooltipForm.seriesTooltipFormatter.forEach(y=>{m[y.seriesId]&&(y.show=!1,y.summary=m[y.seriesId].summary,y.seriesId=y.id)}),r.tooltipForm.seriesTooltipFormatter=de(r.tooltipForm.seriesTooltipFormatter,y=>U.value.findIndex(E=>E.id===y.id)!==-1).flat(),!((V=U.value)!=null&&V.length)){i.value={};return}m[(k=i.value)==null?void 0:k.seriesId]&&(i.value=(z=r.tooltipForm.seriesTooltipFormatter)==null?void 0:z[0])},ze=l=>{const{axis:e,axisType:u}=l,m=e.reduce((p,f)=>(f&&(f.axisType=u,f.seriesId=`${f.id}-${u}`,p[f.seriesId]=f),p),{});r.tooltipForm.seriesTooltipFormatter.forEach(p=>{var f,v;m[p.seriesId]&&(p.chartShowName=(f=m[p.seriesId])==null?void 0:f.chartShowName,p.summary=((v=m[p.seriesId])==null?void 0:v.summary)??p.summary)})},G=I(()=>tt(h.allFields,[]).map(l=>({key:l.dataeaseName,name:l.name,value:`${l.dataeaseName}@${l.name}`,disabled:!1}))),Ue=I(()=>r.tooltipForm.showFields&&r.tooltipForm.showFields.length>0?r.tooltipForm.showFields.filter(l=>!lt(l)).map(l=>l.split("@")[1]+": ${"+l.split("@")[1]+"}").join(`
`):"");se(()=>G.value,()=>{var e;if(!S("showFields"))return;let l=[];(e=r.tooltipForm.showFields)==null||e.forEach(u=>{var m;(m=G.value)!=null&&m.map(p=>p.value).includes(u)&&l.push(u)}),r.tooltipForm.showFields=l,G.value.length>0&&b("showFields")});const _e=I(()=>h.chart.type==="sankey");return Ye(()=>{re(),P({name:"addAxis",callback:Y}),P({name:"removeAxis",callback:Y}),P({name:"updateAxis",callback:Y}),P({name:"chart-type-change",callback:ve}),P({name:"dataset-change",callback:Fe})}),(l,e)=>{const u=Me,m=De,p=Ge,f=st,v=Pe,x=it,V=Oe,k=Ne,z=Ae,y=Qe;return c(),T(y,{ref:"tooltipForm",disabled:!r.tooltipForm.show,model:r.tooltipForm,"label-position":"top",size:"small"},{default:s(()=>{var E;return[a(o(g),{label:o(n)("chart.background")+o(n)("chart.color"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(u,{effect:d.themes,modelValue:r.tooltipForm.backgroundColor,"onUpdate:modelValue":e[0]||(e[0]=t=>r.tooltipForm.backgroundColor=t),class:"color-picker-style",predefine:o(Z),onChange:e[1]||(e[1]=t=>b("backgroundColor")),"is-custom":"","trigger-width":108,"show-alpha":""},null,8,["effect","modelValue","predefine"])]),_:1},8,["label","class"]),a(o(Ze),null,{default:s(()=>[S("color")?(c(),T(o(g),{key:0,class:F(["form-item","form-item-"+d.themes]),label:o(n)("chart.text")},{default:s(()=>[a(u,{effect:d.themes,modelValue:r.tooltipForm.color,"onUpdate:modelValue":e[2]||(e[2]=t=>r.tooltipForm.color=t),class:"color-picker-style",predefine:o(Z),onChange:e[3]||(e[3]=t=>b("color")),"is-custom":""},null,8,["effect","modelValue","predefine"])]),_:1},8,["class","label"])):C("",!0),S("fontSize")?(c(),T(o(g),{key:1,class:F(["form-item","form-item-"+d.themes])},{label:s(()=>[...e[51]||(e[51]=[D(" ",-1)])]),default:s(()=>[a(f,{content:o(n)("chart.font_size"),effect:ee.value,placement:"top"},{default:s(()=>[a(p,{size:"small",style:{width:"108px"},effect:d.themes,modelValue:r.tooltipForm.fontSize,"onUpdate:modelValue":e[4]||(e[4]=t=>r.tooltipForm.fontSize=t),modelModifiers:{number:!0},placeholder:o(n)("chart.text_fontsize"),onChange:e[5]||(e[5]=t=>b("fontSize"))},{default:s(()=>[(c(!0),w($,null,_($e.value,t=>(c(),T(m,{key:t.value,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue","placeholder"])]),_:1},8,["content","effect"])]),_:1},8,["class"])):C("",!0)]),_:1}),S("showFields")&&!o(K)&&!o(Q)?(c(),w("div",ut,[a(o(g),{label:o(n)("chart.tooltip"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{size:"small",effect:d.themes,filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",modelValue:r.tooltipForm.showFields,"onUpdate:modelValue":e[6]||(e[6]=t=>r.tooltipForm.showFields=t),onChange:e[7]||(e[7]=t=>b("showFields"))},{default:s(()=>[(c(!0),w($,null,_(G.value,t=>(c(),T(m,{key:t.key,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"]),S("customContent")?(c(),T(o(g),{key:0,class:F("form-item-"+d.themes)},{label:s(()=>[M("span",nt,[M("span",dt,N(o(n)("chart.content_formatter")),1),a(f,{class:"item",effect:ee.value,placement:"bottom"},{content:s(()=>[M("div",null,N(o(n)("chart.custom_tooltip_content_tip")),1)]),default:s(()=>[a(o(J),{class:F(["hint-icon",{"hint-icon--dark":d.themes==="dark"}])},{default:s(()=>[a(W,{name:"icon_info_outlined"},{default:s(()=>[a(o(Xe),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1},8,["effect"])])]),default:s(()=>[a(v,{style:{"font-size":"smaller","font-weight":"normal"},effect:d.themes,modelValue:r.tooltipForm.customContent,"onUpdate:modelValue":e[8]||(e[8]=t=>r.tooltipForm.customContent=t),type:"textarea",autosize:{minRows:4,maxRows:4},placeholder:Ue.value,onBlur:e[9]||(e[9]=t=>b("customContent"))},null,8,["effect","modelValue","placeholder"])]),_:1},8,["class"])):C("",!0)])):C("",!0),S("tooltipFormatter")&&!Ie.value?(c(),w($,{key:1},[a(o(g),{label:o(n)("chart.value_formatter_type"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{size:"small",style:{width:"100%"},effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.type,"onUpdate:modelValue":e[10]||(e[10]=t=>r.tooltipForm.tooltipFormatter.type=t),onChange:e[11]||(e[11]=t=>b("tooltipFormatter.type"))},{default:s(()=>[(c(!0),w($,null,_(o(me),t=>(c(),T(m,{key:t.value,label:o(n)("chart."+t.name),value:t.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"]),r.tooltipForm.tooltipFormatter.type!=="auto"?(c(),T(o(g),{key:0,label:o(n)("chart.value_formatter_decimal_count"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(x,{"controls-position":"right",style:{width:"100%"},effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.decimalCount,"onUpdate:modelValue":e[12]||(e[12]=t=>r.tooltipForm.tooltipFormatter.decimalCount=t),precision:0,min:0,max:10,size:"small",onChange:e[13]||(e[13]=t=>b("tooltipFormatter.decimalCount"))},null,8,["effect","modelValue"])]),_:1},8,["label","class"])):C("",!0),r.tooltipForm.tooltipFormatter.type!=="percent"?(c(),w($,{key:1},[a(k,{gutter:8},{default:s(()=>[o(R)?C("",!0):(c(),T(V,{key:0,span:12},{default:s(()=>[a(o(g),{label:l.$t("chart.value_formatter_unit_language"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{disabled:r.tooltipForm.tooltipFormatter.type==="percent",size:"small",effect:d.themes,modelValue:r.tooltipForm.tooltipFormatter.unitLanguage,"onUpdate:modelValue":e[14]||(e[14]=t=>r.tooltipForm.tooltipFormatter.unitLanguage=t),placeholder:l.$t("chart.pls_select_field"),onChange:e[15]||(e[15]=t=>oe(r.tooltipForm.tooltipFormatter,t,"tooltipFormatter"))},{default:s(()=>[a(m,{label:l.$t("chart.value_formatter_unit_language_ch"),value:"ch"},null,8,["label"]),a(m,{label:l.$t("chart.value_formatter_unit_language_en"),value:"en"},null,8,["label"])]),_:1},8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1})),a(V,{span:o(R)?24:12},{default:s(()=>[a(o(g),{label:o(n)("chart.value_formatter_unit"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{disabled:r.tooltipForm.tooltipFormatter.type==="percent",effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.unit,"onUpdate:modelValue":e[16]||(e[16]=t=>r.tooltipForm.tooltipFormatter.unit=t),placeholder:o(n)("chart.pls_select_field"),size:"small",onChange:e[17]||(e[17]=t=>b("tooltipFormatter"))},{default:s(()=>[(c(!0),w($,null,_(o(ue)(r.tooltipForm.tooltipFormatter.unitLanguage),t=>(c(),T(m,{key:t.value,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1},8,["span"])]),_:1}),a(k,{gutter:8},{default:s(()=>[a(V,{span:24},{default:s(()=>[a(o(g),{label:o(n)("chart.value_formatter_suffix"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(v,{effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.suffix,"onUpdate:modelValue":e[18]||(e[18]=t=>r.tooltipForm.tooltipFormatter.suffix=t),size:"small",clearable:"",placeholder:o(n)("commons.input_content"),onChange:e[19]||(e[19]=t=>b("tooltipFormatter.suffix"))},null,8,["effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1})]),_:1})],64)):C("",!0),a(o(g),{class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(z,{size:"small",effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.thousandSeparator,"onUpdate:modelValue":e[20]||(e[20]=t=>r.tooltipForm.tooltipFormatter.thousandSeparator=t),onChange:e[21]||(e[21]=t=>b("tooltipFormatter.thousandSeparator")),label:o(n)("chart.value_formatter_thousand_separator")},null,8,["effect","modelValue","label"])]),_:1},8,["class"]),_e.value?(c(),T(o(g),{key:2,class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(z,{size:"small",effect:h.themes,modelValue:r.tooltipForm.tooltipFormatter.showTotalPercent,"onUpdate:modelValue":e[22]||(e[22]=t=>r.tooltipForm.tooltipFormatter.showTotalPercent=t),onChange:e[23]||(e[23]=t=>b("tooltipFormatter.showTotalPercent")),label:o(n)("chart.value_formatter_total_out_percent")},null,8,["effect","modelValue","label"])]),_:1},8,["class"])):C("",!0)],64)):C("",!0),q.value?(c(),w("div",ft,[a(o(g),null,{default:s(()=>[a(p,{size:"small",modelValue:i.value,"onUpdate:modelValue":e[24]||(e[24]=t=>i.value=t),disabled:!le.value,effect:d.themes,ref_key:"formatterSelector",ref:ae,"value-key":"seriesId",class:"series-select"},{prefix:s(()=>[i.value.seriesId?(c(),T(o(J),{key:0,style:{"font-size":"14px"}},{default:s(()=>[a(W,{className:`field-icon-${o(L)[i.value.deType]}`},{default:s(()=>[(c(),T(ie(o(pe)[o(L)[i.value.deType]]),{class:F(["svg-icon",`field-icon-${o(L)[i.value.deType]}`])},null,8,["class"]))]),_:1},8,["className"])]),_:1})):C("",!0)]),default:s(()=>[(c(!0),w($,null,_(r.tooltipForm.seriesTooltipFormatter,t=>(c(),w($,{key:t.seriesId},[be(t)?(c(),T(m,{key:0,class:"series-select-option",value:t,label:`${t.name}${t.summary!==""?"("+o(n)("chart."+t.summary)+")":""}`},{default:s(()=>[a(o(J),{style:{"margin-right":"8px"}},{default:s(()=>[a(W,{className:`field-icon-${o(L)[t.deType]}`},{default:s(()=>[(c(),T(ie(o(pe)[o(L)[t.deType]]),{class:F(["svg-icon",`field-icon-${o(L)[t.deType]}`])},null,8,["class"]))]),_:2},1032,["className"])]),_:2},1024),D(" "+N(t.name)+" "+N(t.summary!==""?"("+o(n)("chart."+t.summary)+")":""),1)]),_:2},1032,["value","label"])):C("",!0)],64))),128))]),_:1},8,["modelValue","disabled","effect"])]),_:1}),(E=i.value)!=null&&E.seriesId?(c(),w($,{key:0},[a(o(g),{class:F(["form-item form-item-checkbox","form-item-"+d.themes])},{default:s(()=>[a(z,{disabled:!le.value,modelValue:i.value.show,"onUpdate:modelValue":e[25]||(e[25]=t=>i.value.show=t),effect:d.themes,size:"small",label:"quota",onChange:e[26]||(e[26]=t=>b("seriesTooltipFormatter",!0))},{default:s(()=>[D(N(o(n)("chart.show")),1)]),_:1},8,["disabled","modelValue","effect"])]),_:1},8,["class"]),M("div",pt,[a(o(g),{class:F(["form-item","form-item-"+d.themes]),label:o(n)("chart.show_name")},{default:s(()=>[a(v,{effect:d.themes,size:"small",maxlength:20,onChange:e[27]||(e[27]=t=>b("seriesTooltipFormatter")),modelValue:i.value.chartShowName,"onUpdate:modelValue":e[28]||(e[28]=t=>i.value.chartShowName=t),disabled:!i.value.show||Te.value},null,8,["effect","modelValue","disabled"])]),_:1},8,["class","label"]),ye.value?(c(),T(k,{key:0},{default:s(()=>[a(V,null,{default:s(()=>[a(o(g),{label:o(n)("common.please_select")+o(n)("chart.aggregation"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{size:"small",modelValue:i.value.summary,"onUpdate:modelValue":e[29]||(e[29]=t=>i.value.summary=t),disabled:!i.value.show,effect:h.themes,onChange:e[30]||(e[30]=t=>b("seriesTooltipFormatter",!0))},{default:s(()=>[(c(!0),w($,null,_(Ee.value,t=>(c(),T(m,{label:t.name,value:t.value,key:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled","effect"])]),_:1},8,["label","class"])]),_:1})]),_:1})):C("",!0),a(o(g),{label:o(n)("chart.value_formatter_type"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{size:"small",disabled:!i.value.show,style:{width:"100%"},effect:h.themes,modelValue:i.value.formatterCfg.type,"onUpdate:modelValue":e[31]||(e[31]=t=>i.value.formatterCfg.type=t),onChange:e[32]||(e[32]=t=>b("seriesTooltipFormatter"))},{default:s(()=>[(c(!0),w($,null,_(o(me),t=>(c(),T(m,{key:t.value,label:o(n)("chart."+t.name),value:t.value},null,8,["label","value"]))),128))]),_:1},8,["disabled","effect","modelValue"])]),_:1},8,["label","class"]),i.value.formatterCfg.type!=="auto"?(c(),T(o(g),{key:1,label:o(n)("chart.value_formatter_decimal_count"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(x,{"controls-position":"right",disabled:!i.value.show,style:{width:"100%"},effect:h.themes,modelValue:i.value.formatterCfg.decimalCount,"onUpdate:modelValue":e[33]||(e[33]=t=>i.value.formatterCfg.decimalCount=t),precision:0,min:0,max:10,size:"small",onChange:e[34]||(e[34]=t=>b("seriesTooltipFormatter"))},null,8,["disabled","effect","modelValue"])]),_:1},8,["label","class"])):C("",!0),i.value.formatterCfg.type!=="percent"?(c(),w($,{key:2},[a(k,{gutter:8},{default:s(()=>[o(R)?C("",!0):(c(),T(V,{key:0,span:12},{default:s(()=>[a(o(g),{label:l.$t("chart.value_formatter_unit_language"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{disabled:!i.value.show||i.value.formatterCfg.type=="percent",size:"small",effect:d.themes,modelValue:i.value.formatterCfg.unitLanguage,"onUpdate:modelValue":e[35]||(e[35]=t=>i.value.formatterCfg.unitLanguage=t),placeholder:l.$t("chart.pls_select_field"),onChange:e[36]||(e[36]=t=>oe(i.value.formatterCfg,t,"seriesTooltipFormatter"))},{default:s(()=>[a(m,{label:l.$t("chart.value_formatter_unit_language_ch"),value:"ch"},null,8,["label"]),a(m,{label:l.$t("chart.value_formatter_unit_language_en"),value:"en"},null,8,["label"])]),_:1},8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1})),a(V,{span:o(R)?24:12},{default:s(()=>[a(o(g),{label:o(n)("chart.value_formatter_unit"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(p,{disabled:!i.value.show||i.value.formatterCfg.type=="percent",effect:h.themes,modelValue:i.value.formatterCfg.unit,"onUpdate:modelValue":e[37]||(e[37]=t=>i.value.formatterCfg.unit=t),placeholder:o(n)("chart.pls_select_field"),size:"small",onChange:e[38]||(e[38]=t=>b("seriesTooltipFormatter"))},{default:s(()=>[(c(!0),w($,null,_(o(ue)(i.value.formatterCfg.unitLanguage),t=>(c(),T(m,{key:t.value,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1},8,["span"])]),_:1}),a(k,{gutter:8},{default:s(()=>[a(V,{span:24},{default:s(()=>[a(o(g),{label:o(n)("chart.value_formatter_suffix"),class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(v,{disabled:!i.value.show,effect:h.themes,modelValue:i.value.formatterCfg.suffix,"onUpdate:modelValue":e[39]||(e[39]=t=>i.value.formatterCfg.suffix=t),size:"small",clearable:"",placeholder:o(n)("commons.input_content"),onChange:e[40]||(e[40]=t=>b("seriesTooltipFormatter"))},null,8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1})]),_:1})],64)):C("",!0),a(o(g),{class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(z,{disabled:!i.value.show,size:"small",effect:h.themes,modelValue:i.value.formatterCfg.thousandSeparator,"onUpdate:modelValue":e[41]||(e[41]=t=>i.value.formatterCfg.thousandSeparator=t),onChange:e[42]||(e[42]=t=>b("seriesTooltipFormatter")),label:o(n)("chart.value_formatter_thousand_separator")},null,8,["disabled","effect","modelValue","label"])]),_:1},8,["class"])])],64)):C("",!0)])):C("",!0),Je(a(o(g),{class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(z,{effect:d.themes,size:"small",onChange:e[43]||(e[43]=t=>b("showGap")),modelValue:r.tooltipForm.showGap,"onUpdate:modelValue":e[44]||(e[44]=t=>r.tooltipForm.showGap=t)},{default:s(()=>[D(N(o(n)("chart.show_gap")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),[[We,S("showGap")]]),S("carousel")?(c(),w("div",ct,[a(o(g),{class:F(["form-item","form-item-"+d.themes])},{default:s(()=>[a(z,{effect:d.themes,size:"small",onChange:e[45]||(e[45]=t=>b("carousel")),modelValue:r.tooltipForm.carousel.enable,"onUpdate:modelValue":e[46]||(e[46]=t=>r.tooltipForm.carousel.enable=t)},{default:s(()=>[D(N(o(n)("chart.carousel_enable")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),a(k,{gutter:8},{default:s(()=>[a(V,{span:12},{default:s(()=>[a(o(g),{label:o(n)("chart.carousel_stay_time"),class:F(["form-item w100","form-item-"+d.themes])},{default:s(()=>[a(x,{style:{width:"100%"},effect:d.themes,"controls-position":"right",size:"middle",precision:"0",min:1,max:600,disabled:!r.tooltipForm.carousel.enable,onChange:e[47]||(e[47]=t=>b("carousel")),modelValue:r.tooltipForm.carousel.stayTime,"onUpdate:modelValue":e[48]||(e[48]=t=>r.tooltipForm.carousel.stayTime=t)},null,8,["effect","disabled","modelValue"])]),_:1},8,["label","class"])]),_:1}),a(V,{span:12},{default:s(()=>[a(o(g),{label:o(n)("chart.carousel_interval"),class:F(["form-item w100","form-item-"+d.themes])},{default:s(()=>[a(x,{style:{width:"100%"},effect:d.themes,"controls-position":"right",size:"middle",precision:"0",min:1,max:600,disabled:!r.tooltipForm.carousel.enable,onChange:e[49]||(e[49]=t=>b("carousel")),modelValue:r.tooltipForm.carousel.intervalTime,"onUpdate:modelValue":e[50]||(e[50]=t=>r.tooltipForm.carousel.intervalTime=t)},null,8,["effect","disabled","modelValue"])]),_:1},8,["label","class"])]),_:1})]),_:1})])):C("",!0)]}),_:1},8,["disabled","model"])}}});const vl=mt(ht,[["__scopeId","data-v-0619cdd4"]]);export{vl as default};
