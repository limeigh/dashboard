import{q as so,e as lo,K as co,f as uo,i as vo,R as fo,S as Ao,v as bo,E as _o}from"./element-plus-secondary-0.0.0-dataease.js";import{f as go,e as yo}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{d as So,r as g,k as G,b as ho,e as wo,o as d,c as v,a as p,W as r,U as l,u as e,_ as I,Y as C,Z as Mo,$ as k,R as B,S as K,a0 as P,a8 as Co}from"./@vue-0.0.0-dataease.js";import{i as Y}from"./icon_left_outlined-0.0.0-dataease.js";import{i as ko}from"./icon_pc_outlined-0.0.0-dataease.js";import Vo from"./MobileBackgroundSelector-0.0.0-dataease.js";import{k as Eo}from"./DePreview-0.0.0-dataease.js";import{s as Oo}from"./snapshot-0.0.0-dataease.js";import{e as Bo,u as H,k as Z}from"./index-0.0.0-dataease.js";import{T as Po,d as zo,U as xo}from"./canvasUtils-0.0.0-dataease.js";import{d as No}from"./dvMain-0.0.0-dataease.js";import{s as To}from"./pinia-0.0.0-dataease.js";import Uo from"./ComponentStyleEditor-0.0.0-dataease.js";import{d as Io}from"./lodash-es-0.0.0-dataease.js";import{_ as Jo}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./@vueuse-0.0.0-dataease.js";import"./@element-plus-0.0.0-dataease.js";import"./dayjs-0.0.0-dataease.js";import"./@amap-0.0.0-dataease.js";import"./@popperjs-0.0.0-dataease.js";import"./async-validator-0.0.0-dataease.js";import"./@ctrl-0.0.0-dataease.js";import"./normalize-wheel-es-0.0.0-dataease.js";import"./memoize-one-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./qs-0.0.0-dataease.js";import"./side-channel-0.0.0-dataease.js";import"./es-errors-0.0.0-dataease.js";import"./object-inspect-0.0.0-dataease.js";import"./crypto-js-0.0.0-dataease.js";import"./side-channel-list-0.0.0-dataease.js";import"./side-channel-map-0.0.0-dataease.js";import"./get-intrinsic-0.0.0-dataease.js";import"./es-object-atoms-0.0.0-dataease.js";import"./math-intrinsics-0.0.0-dataease.js";import"./gopd-0.0.0-dataease.js";import"./es-define-property-0.0.0-dataease.js";import"./has-symbols-0.0.0-dataease.js";import"./get-proto-0.0.0-dataease.js";import"./dunder-proto-0.0.0-dataease.js";import"./call-bind-apply-helpers-0.0.0-dataease.js";import"./function-bind-0.0.0-dataease.js";import"./hasown-0.0.0-dataease.js";import"./call-bound-0.0.0-dataease.js";import"./side-channel-weakmap-0.0.0-dataease.js";import"./jspdf-0.0.0-dataease.js";import"./@babel-0.0.0-dataease.js";import"./fflate-0.0.0-dataease.js";import"./fast-png-0.0.0-dataease.js";import"./iobuffer-0.0.0-dataease.js";import"./pako-0.0.0-dataease.js";import"./vue-router_2-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./vue-0.0.0-dataease.js";import"./vue-i18n-0.0.0-dataease.js";import"./@intlify-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./zrender-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./web-storage-cache-0.0.0-dataease.js";import"./chart-0.0.0-dataease.js";import"./chart-0.0.0-dataease2.js";import"./dataset-0.0.0-dataease.js";import"./js-base64-0.0.0-dataease.js";import"./app-0.0.0-dataease.js";import"./login-0.0.0-dataease.js";import"./vue-demi-0.0.0-dataease.js";import"./mitt-0.0.0-dataease.js";import"./vue-types-0.0.0-dataease.js";import"./is-plain-object-0.0.0-dataease.js";import"./decimal.js-0.0.0-dataease.js";import"./imgUtils-0.0.0-dataease.js";import"./html2canvas-0.0.0-dataease.js";import"./util-0.0.0-dataease.js";import"./snowflake-id-0.0.0-dataease.js";import"./file-saver-0.0.0-dataease.js";import"./html-to-image-0.0.0-dataease.js";import"./ImgViewDialog-0.0.0-dataease.js";import"./style-0.0.0-dataease.js";import"./translate-0.0.0-dataease.js";import"./mathjs-0.0.0-dataease.js";import"./typed-function-0.0.0-dataease.js";import"./complex.js-0.0.0-dataease.js";import"./eventBus-0.0.0-dataease.js";import"./Component-0.0.0-dataease18.js";import"./DeShortcutKey-0.0.0-dataease.js";import"./canvasStyle-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./dataVisualization-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./less-0.0.0-dataease.js";import"./tslib-0.0.0-dataease.js";import"./copy-anything-0.0.0-dataease.js";import"./is-what-0.0.0-dataease.js";import"./ModelUtil-0.0.0-dataease.js";import"./index-0.0.0-dataease12.js";import"./@antv-0.0.0-dataease.js";import"./eventemitter3-0.0.0-dataease.js";import"./@mapbox-0.0.0-dataease.js";import"./pbf-0.0.0-dataease.js";import"./ieee754-0.0.0-dataease.js";import"./supercluster-0.0.0-dataease.js";import"./gl-matrix-0.0.0-dataease.js";import"./detect-browser-0.0.0-dataease.js";import"./size-sensor-0.0.0-dataease.js";import"./d3-regression-0.0.0-dataease.js";import"./d3-hierarchy-0.0.0-dataease.js";import"./fmin-0.0.0-dataease.js";import"./pdfast-0.0.0-dataease.js";import"./d3-ease-0.0.0-dataease.js";import"./d3-interpolate-0.0.0-dataease.js";import"./d3-color-0.0.0-dataease.js";import"./d3-timer-0.0.0-dataease.js";import"./fecha-0.0.0-dataease.js";import"./topojson-client-0.0.0-dataease.js";import"./viewport-mercator-project-0.0.0-dataease.js";import"./@turf-0.0.0-dataease.js";import"./polygon-clipping-0.0.0-dataease.js";import"./splaytree-0.0.0-dataease.js";import"./robust-predicates-0.0.0-dataease.js";import"./d3-scale-0.0.0-dataease.js";import"./d3-collection-0.0.0-dataease.js";import"./d3-format-0.0.0-dataease.js";import"./d3-time-format-0.0.0-dataease.js";import"./d3-time-0.0.0-dataease.js";import"./d3-array-0.0.0-dataease.js";import"./earcut-0.0.0-dataease.js";import"./regl-0.0.0-dataease.js";import"./mapbox-gl-0.0.0-dataease.js";import"./d3-dsv-0.0.0-dataease.js";import"./geojson-vt-0.0.0-dataease.js";import"./hammerjs-0.0.0-dataease.js";import"./element-resize-detector-0.0.0-dataease.js";import"./batch-processor-0.0.0-dataease.js";import"./d3-hexbin-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./exceljs-0.0.0-dataease.js";import"./Component-0.0.0-dataease17.js";import"./icon_edit_outlined-0.0.0-dataease.js";import"./icon_delete-trash_outlined-0.0.0-dataease.js";import"./HandleMore.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./icon_more_outlined-0.0.0-dataease.js";import"./more_v-0.0.0-dataease.js";import"./icon_add_outlined-0.0.0-dataease.js";import"./icon_drag_outlined-0.0.0-dataease.js";import"./icon_visible_outlined-0.0.0-dataease.js";import"./dv-folder-0.0.0-dataease.js";import"./icon_dataset-0.0.0-dataease.js";import"./icon_warning_filled-0.0.0-dataease.js";import"./icon_info_outlined-0.0.0-dataease.js";import"./vuedraggable-0.0.0-dataease.js";import"./time-format-0.0.0-dataease.js";import"./time-format-dayjs-0.0.0-dataease.js";import"./attr-0.0.0-dataease23.js";import"./EmptyBackground-0.0.0-dataease.js";import"./none-0.0.0-dataease.js";import"./nothing-tree-0.0.0-dataease.js";import"./icon_admin_outlined-0.0.0-dataease.js";import"./vant-0.0.0-dataease.js";import"./@vant-0.0.0-dataease.js";import"./chart-list-0.0.0-dataease.js";import"./field-list-0.0.0-dataease.js";import"./treeSortUtils-0.0.0-dataease.js";import"./Attr-0.0.0-dataease22.js";import"./CommonAttr-0.0.0-dataease.js";import"./CommonBorderSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./BackgroundOverallCommon-0.0.0-dataease.js";import"./board-list-0.0.0-dataease.js";import"./icon_italic_outlined-0.0.0-dataease.js";import"./icon_right-alignment_outlined-0.0.0-dataease.js";import"./CarouselSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./CollapseSwitchItem-0.0.0-dataease.js";import"./icon_replace_outlined-0.0.0-dataease.js";import"./icon_download_outlined-0.0.0-dataease.js";import"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./watermark-0.0.0-dataease2.js";import"./user-0.0.0-dataease.js";import"./jquery-0.0.0-dataease.js";import"./ChartComponentS2-0.0.0-dataease.js";import"./ViewTrackBar-0.0.0-dataease.js";import"./ChartError-0.0.0-dataease.js";import"./LinkageSet-0.0.0-dataease.js";import"./dv-link-target-0.0.0-dataease.js";import"./dv-dashboard-spine-0.0.0-dataease.js";import"./dv-screen-spine-0.0.0-dataease.js";import"./CodeMirror-0.0.0-dataease2.js";import"./@codemirror-0.0.0-dataease.js";import"./@lezer-0.0.0-dataease.js";import"./style-mod-0.0.0-dataease.js";import"./crelt-0.0.0-dataease.js";import"./@marijn-0.0.0-dataease.js";import"./w3c-keyname-0.0.0-dataease.js";import"./codemirror-0.0.0-dataease.js";import"./dv-empty-0.0.0-dataease.js";import"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./Component-0.0.0-dataease16.js";import"./index-0.0.0-dataease17.js";import"./ChartComponentG2Plot-0.0.0-dataease.js";import"./PluginComponent.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./DrillPath-0.0.0-dataease.js";import"./DeRichTextView-0.0.0-dataease.js";import"./@tinymce-0.0.0-dataease.js";import"./@npkg-0.0.0-dataease.js";import"./Component-0.0.0-dataease12.js";import"./ChartEmptyInfo-0.0.0-dataease.js";import"./chart-dark-list-0.0.0-dataease.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./Component-0.0.0-dataease13.js";import"./Attr-0.0.0-dataease16.js";import"./Component-0.0.0-dataease10.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import"./Component-0.0.0-dataease5.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease3.js";import"./Attr-0.0.0-dataease.js";import"./Component-0.0.0-dataease3.js";import"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease2.js";import"./Attr-0.0.0-dataease9.js";import"./Component-0.0.0-dataease6.js";import"./Attr-0.0.0-dataease6.js";import"./Component-0.0.0-dataease4.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease4.js";import"./Component-0.0.0-dataease14.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease5.js";import"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import"./Attr-0.0.0-dataease10.js";import"./Component-0.0.0-dataease11.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease6.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease7.js";import"./Attr-0.0.0-dataease7.js";import"./Component-0.0.0-dataease9.js";import"./@videojs-player-0.0.0-dataease.js";import"./video.js-0.0.0-dataease.js";import"./global-0.0.0-dataease.js";import"./keycode-0.0.0-dataease.js";import"./safe-json-parse-0.0.0-dataease.js";import"./@videojs-0.0.0-dataease.js";import"./is-function-0.0.0-dataease.js";import"./url-toolkit-0.0.0-dataease.js";import"./videojs-vtt.js-0.0.0-dataease.js";import"./m3u8-parser-0.0.0-dataease.js";import"./mpd-parser-0.0.0-dataease.js";import"./@xmldom-0.0.0-dataease.js";import"./mux.js-0.0.0-dataease.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease8.js";import"./Component-0.0.0-dataease7.js";import"./flv.js-0.0.0-dataease.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease9.js";import"./Component-0.0.0-dataease15.js";import"./Attr-0.0.0-dataease19.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease10.js";import"./Attr-0.0.0-dataease15.js";import"./DatasetSelect-0.0.0-dataease.js";import"./icon_done_outlined-0.0.0-dataease.js";import"./Threshold-0.0.0-dataease.js";import"./TableThresholdEdit-0.0.0-dataease.js";import"./icon_info_filled-0.0.0-dataease.js";import"./TextLabelThresholdEdit-0.0.0-dataease.js";import"./TextThresholdEdit-0.0.0-dataease.js";import"./LineThresholdEdit-0.0.0-dataease.js";import"./PictureGroupThresholdEdit-0.0.0-dataease.js";import"./Component-0.0.0-dataease2.js";import"./index-0.0.0-dataease16.js";import"./dv-info-0.0.0-dataease.js";import"./icon_down_outlined-1-0.0.0-dataease.js";import"./icon-filter-0.0.0-dataease.js";import"./icon_refresh_outlined-0.0.0-dataease.js";import"./icon_search-outline_outlined-0.0.0-dataease.js";import"./icon_copy_outlined-0.0.0-dataease.js";import"./DimensionItem-0.0.0-dataease.js";import"./icon_sort_outlined-0.0.0-dataease.js";import"./icon_right_outlined-0.0.0-dataease.js";import"./icon_invisible_outlined-0.0.0-dataease.js";import"./utils-0.0.0-dataease.js";import"./QuotaItem-0.0.0-dataease.js";import"./DragPlaceholder-0.0.0-dataease.js";import"./FilterTree.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./RowAuth-0.0.0-dataease.js";import"./AuthTree-0.0.0-dataease.js";import"./FilterFiled-0.0.0-dataease.js";import"./icon_close_outlined-0.0.0-dataease.js";import"./TimeDialog-0.0.0-dataease.js";import"./options-0.0.0-dataease.js";import"./icon_down_outlined-0.0.0-dataease.js";import"./ChartStyle-0.0.0-dataease.js";import"./MiscSelector-0.0.0-dataease.js";import"./LabelSelector-0.0.0-dataease.js";import"./StringUtils-0.0.0-dataease.js";import"./TooltipSelector-0.0.0-dataease.js";import"./XAxisSelector-0.0.0-dataease.js";import"./YAxisSelector-0.0.0-dataease.js";import"./DualYAxisSelector-0.0.0-dataease.js";import"./DualYAxisSelectorInner-0.0.0-dataease.js";import"./TitleSelector-0.0.0-dataease.js";import"./icon_letter-spacing_outlined-0.0.0-dataease.js";import"./LegendSelector-0.0.0-dataease.js";import"./icon_bottom-align_outlined-0.0.0-dataease.js";import"./CustomSortEdit-0.0.0-dataease.js";import"./SummarySelector-0.0.0-dataease.js";import"./BasicStyleSelector-0.0.0-dataease.js";import"./CustomColorStyleSelect-0.0.0-dataease.js";import"./GradientColorSelector-0.0.0-dataease.js";import"./SymbolicStyleSelector-0.0.0-dataease.js";import"./DualBasicStyleSelector-0.0.0-dataease.js";import"./TableHeaderSelector-0.0.0-dataease.js";import"./TableHeaderGroupConfig-0.0.0-dataease.js";import"./vue-uuid-0.0.0-dataease.js";import"./uuid-0.0.0-dataease.js";import"./TableCellSelector-0.0.0-dataease.js";import"./TableTotalSelector-0.0.0-dataease.js";import"./CustomAggrEdit-0.0.0-dataease.js";import"./icon_adjustment_outlined-0.0.0-dataease.js";import"./MiscStyleSelector-0.0.0-dataease.js";import"./IndicatorValueSelector-0.0.0-dataease.js";import"./IndicatorNameSelector-0.0.0-dataease.js";import"./QuadrantSelector-0.0.0-dataease.js";import"./FlowMapLineSelector-0.0.0-dataease.js";import"./FlowMapPointSelector-0.0.0-dataease.js";import"./BulletTargetSelector.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./BulletMeasureSelector.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./BulletRangeSelector.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./VQueryChartStyle-0.0.0-dataease.js";import"./Senior-0.0.0-dataease.js";import"./FunctionCfg-0.0.0-dataease.js";import"./ScrollCfg-0.0.0-dataease.js";import"./AssistLine-0.0.0-dataease.js";import"./AssistLineEdit-0.0.0-dataease.js";import"./MapMapping-0.0.0-dataease.js";import"./BubbleAnimateCfg-0.0.0-dataease.js";import"./QuotaFilterEditor-0.0.0-dataease.js";import"./ResultFilterEditor-0.0.0-dataease.js";import"./DrillItem-0.0.0-dataease.js";import"./ChartType-0.0.0-dataease.js";import"./CompareEdit-0.0.0-dataease.js";import"./ValueFormatterEdit-0.0.0-dataease.js";import"./SortPriorityEdit-0.0.0-dataease.js";import"./CalcFieldEdit-0.0.0-dataease.js";import"./ChartTemplateInfo-0.0.0-dataease.js";import"./field-calculated-list-0.0.0-dataease.js";const Lo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXcAAAAsCAYAAACe/vh+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPgSURBVHgB7dwxbtROFMfx3/8voAGJdBQgMdBQEkGDkBBGNFSQgh5zAsIJQsQBEk4QcwLgBFlOkEiIApoYiYaKREABFDCPmZEnG+9mk3XEYn0/0pOzY3tSJPP8/Ha9EgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACg7+Z8LPnYiLHmw+lginiexcKY/SsCgBn2n/rB+ViP200f2wqJuPZxK26Tubh/mI1vqLkgLPt4ku23hL4Yf659XBCAac3HGGj3Om1T+LipUHg5hTVrNmO88vFS+zvj46yPE5reDx/vfHwTjkTl45d2J+OFOLaeja3EsbJljqVsjuG5XsSx1bjdEoAu2FqyNfV5zDFOYR3/miBsvnLMXCd93PdxycfFDuKaj7uaQcfUD+fjdjUbsyt4rXC1T9X6qGrbKSTzZ2qvHnYU7gAGPh4JQFdc3M6N2P9AYV2n/baOnytU6nUct8rfKvoizmet08s+HrfMZ0n9jY/vCgXdND4o5I07Gt0RwJTSVX1+aDxVBUU2Nt9y/lYM+wOV2lu556jcgcOxtmZaP2kd5lV3my21V+QuzuGGxlIu+Kz299ys0raKu9JkdwL7xUI250z5X/3wOm7tip3+4Ctq/rguO3Zz6Nwy7rceO1de4OikhO7UXmS1sTvml9nWqu1UjG3ErSXytez4Ze19r+2o5HccV32cEjqX+uEpLImvaW/lnnMK/xxr2VgpKndgWk7NJ89SIq/UrM8yju1XuefzbWl8FW1J/sE+83RduZfZnIWP65oRfem5G7vlsyu7U7hiD9S8c54qcruFsp659eIs+ZfxeOvFpwTvsmNPq71vB2A8S+hl9vqhppPfVVcKffdaTc99SWHt7gh/9CW5lwpvqNgbolUccz7uKfwDbGbHFXG7mJ1/M0bO3pAhuQOTsaLJkqytNVuHc+qWJXdrtTiFws1+V6Gwvqs4lvb9LV98vBc6Vahpl1jSLtXcwpXZcU6h3eLGzFWKtgxwUMPtlTJ7ne6KKx2+LZNb1N6PP06q67ZM4eOGj3OaMX2p3AcKFbZVD+np0e04VmXH1RqdtAH8G6zdamvdxdfLBzjXHjo6ruZ5lmnYRyEHPm77+KkZ06ee+2qMQiGx1zrcp18q7b4gDOvLU71Al2ytWSumjq/rbN/OiOPbzpuEHWstmnWFxF5Nfqo+KlTab3081fSuKDwY9UkzhkQFoAtOobBKXwVg7EMJlrit0t5W8xFI+3kw5ryjZsnYHmbq4usHvip8/cDMVe4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKATvwGoIyg098JJfgAAAABJRU5ErkJggg==",Do={class:"mobile-config-panel"},Fo={class:"top-bar"},Xo={class:"mobile-to-pc"},qo={class:"mobile-save"},Wo={class:"open-mobile"},jo={class:"mobile-header"},Go=["src"],Ko={class:"config-panel-title"},Yo={class:"config-panel-content"},Ho=["src"],Zo={class:"mobile-com-list"},Qo={class:"config-mobile-sidebar"},Ro={class:"config-mobile-tab"},$o={class:"config-mobile-tab-style"},ot={key:0,class:"config-mobile-tab"},tt={class:"component-outer"},it=["onClick"],et=["onClick"],rt=So({__name:"MobileConfigPanel",emits:["pcMode"],setup(mt,{emit:Q}){const{t:c}=go(),y=No(),{componentData:V,canvasStyleData:J,canvasViewInfo:E,dvInfo:f}=To(y),S=g(!0),O=g(null),L=Q,D=Oo(),s=g({}),h=(o,i)=>{o==="componentStyleChange"&&u.value++;const t=document.querySelector("iframe");t&&t.contentWindow.postMessage({type:o,value:i},"*")},b=Bo(),R=G(()=>b.baseUrl?`${b.baseUrl}mobile.html#/panel`:"./mobile.html#/panel"),$=()=>{const o=JSON.parse(JSON.stringify(e(E)));o&&Object.keys(o).forEach(i=>{const{customAttrMobile:t,customStyleMobile:m,customAttr:n,customStyle:w}=o[i];o[i].customAttr=t||n,o[i].customStyle=m||w}),s.value=o,h("panelInit",JSON.parse(JSON.stringify({componentData:JSON.parse(JSON.stringify(e(V.value.filter(i=>!!i.inMobile)))),canvasStyleData:JSON.parse(JSON.stringify(e(J))),canvasViewInfo:Z(o),dvInfo:JSON.parse(JSON.stringify(e(f))),isEmbedded:!!b.baseUrl})))},oo=G(()=>V.value.filter(o=>!o.inMobile)),F=g(),X=o=>{var i;if(((i=o.data)==null?void 0:i.msgOrigin)==="de-fit2cloud"&&b.token&&b.baseUrl){const t={embeddedToken:b.token};t["de-embedded"]=!0,F.value.contentWindow.postMessage(t,"*");return}if(o.data.type==="panelInit"&&io(),o.data.type==="curComponentChange"&&(y.setCurComponentMobileConfig(o.data.value),o.data.value?A.value="componentStyle":A.value="com"),o.data.type==="delFromMobile"&&(u.value++,V.value.some(t=>t.id===o.data.value?(t.inMobile=!1,!0):!1)),o.data.type==="syncPcDesign"){const t=Po(o.data.value);if(t){u.value++;let m;const n=E.value[t.id];n&&(m=Z(n),m.customStyleMobile=null,m.customAttrMobile=null,s.value[t.id]=m),D.recordSnapshotCacheToMobile("syncPcDesign",t,m)}}["mobileSaveFromMobile","mobilePatchFromMobile"].includes(o.data.type)&&(V.value.forEach(t=>{const m=o.data.value[t.id];if(m){const{x:n,y:w,sizeX:x,sizeY:M,style:N,propValue:T,events:a,commonBackground:U}=m;t.mx=n,t.my=w,t.mSizeX=x,t.mSizeY=M,t.mStyle=N,t.mEvents=a,t.mCommonBackground=U,t.component==="VQuery"&&(t.mPropValue=T),t.component==="DeTabs"&&t.propValue.forEach(ro=>{var j;(j=ro.componentData)==null||j.forEach(_=>{const{style:mo,propValue:po,events:ao,commonBackground:no}=m.tab[_.id];_.mStyle=mo,_.mEvents=ao,_.mCommonBackground=no,_.component==="VQuery"&&(_.mPropValue=po)})})}}),s.value&&Object.keys(s.value).forEach(t=>{const{customAttr:m,customStyle:n}=s.value[t];E.value[t].customAttrMobile=m,E.value[t].customStyleMobile=n})),o.data.type==="mobileSaveFromMobile"&&to(),o.data.type==="mobilePatchFromMobile"&&L("pcMode")},to=()=>{D.resetStyleChangeTimes(),zo(()=>{_o.success(c("visualization.save_success"))})},io=()=>{$(),S.value=!1},z=Io(()=>{const o=window.innerHeight;if(o>1032){O.value={transform:"translateY(-50%)"};return}const i=o/1032;O.value={transform:`scale(${i}) translateY(-50%)`,transformOrigin:"0 0"}},100);ho(()=>{window.addEventListener("message",X),window.addEventListener("resize",z),y.setMobileInPc(!0),H({name:"onMobileStatusChange",callback:({type:o,value:i})=>{h(o,i)}}),H({name:"curComponentChange",callback:o=>{}}),z()}),wo(()=>{y.setMobileInPc(!1),window.removeEventListener("message",X),window.removeEventListener("resize",z)});const q=o=>{S.value||(o.inMobile=!0,u.value++,h("addToMobile",JSON.parse(JSON.stringify(e(o)))))},u=g(0),A=g("com"),W=()=>{if(y.setCurComponent({component:null,index:null}),!u.value){h("mobilePatch",void 0);return}so.confirm(c("visualization.change_save_tips"),{confirmButtonType:"primary",type:"warning",autofocus:!1,showClose:!1}).then(()=>{setTimeout(()=>{xo(f.value.id,s.value,"dashboard",()=>{u.value=0,L("pcMode")})},100)})},eo=()=>{u.value=0,h("mobileSave",void 0)};return(o,i)=>{const t=yo,m=lo,n=co,w=uo,x=vo,M=fo,N=Ao,T=bo;return d(),v("div",Do,[p("div",Fo,[p("div",Xo,[r(m,{onClick:W},{default:l(()=>[r(t,{name:"icon_left_outlined"},{default:l(()=>[r(e(Y),{class:"svg-icon"})]),_:1})]),_:1}),I(" "+C(e(f).name),1)]),p("div",qo,[p("span",Wo,C(e(c)("common.openMobileTerminal")),1),r(n,{size:"small",modelValue:e(f).mobileLayout,"onUpdate:modelValue":i[0]||(i[0]=a=>e(f).mobileLayout=a)},null,8,["modelValue"]),i[4]||(i[4]=p("span",{class:"open-mobile-line"},null,-1)),r(w,{offset:14,effect:"dark",content:"切换至PC端布局",placement:"bottom"},{default:l(()=>[r(m,{onClick:W,class:"switch-pc"},{default:l(()=>[r(t,{name:"icon_pc_outlined"},{default:l(()=>[r(e(ko),{class:"svg-icon"})]),_:1})]),_:1})]),_:1}),r(x,{type:"primary",onClick:eo},{default:l(()=>[...i[3]||(i[3]=[I("保存",-1)])]),_:1})])]),O.value?(d(),v("div",{key:0,class:"mobile-canvas",style:Mo(O.value)},[p("div",jo,[p("img",{src:e(Lo),alt:"",srcset:""},null,8,Go)]),p("div",Ko,[r(m,null,{default:l(()=>[r(t,{name:"icon_left_outlined"},{default:l(()=>[r(e(Y),{class:"svg-icon"})]),_:1})]),_:1}),I(" "+C(e(f).name),1)]),k((d(),v("div",Yo,[p("iframe",{ref_key:"newWindow",ref:F,src:R.value,frameborder:"0",width:"375"},null,8,Ho)])),[[T,S.value]]),i[5]||(i[5]=p("div",{class:"config-panel-foot"},null,-1))],4)):B("",!0),p("div",Zo,[p("div",Qo,C(e(c)("visualization.mobile_config")),1),r(N,{size:"small",modelValue:A.value,"onUpdate:modelValue":i[1]||(i[1]=a=>A.value=a)},{default:l(()=>[r(M,{label:e(c)("visualization.visualization_component"),name:"com"},null,8,["label"]),r(M,{label:e(c)("visualization.component_style"),name:"componentStyle"},null,8,["label"]),r(M,{label:e(c)("visualization.whole_style"),name:"style"},null,8,["label"])]),_:1},8,["modelValue"]),S.value?B("",!0):(d(),v(K,{key:0},[k(p("div",Ro,[r(Vo,{onStyleChange:i[2]||(i[2]=a=>u.value++)})],512),[[P,A.value==="style"]]),k(p("div",$o,[r(Uo,{"canvas-view-info-mobile":s.value},null,8,["canvas-view-info-mobile"])],512),[[P,A.value==="componentStyle"]]),A.value==="com"?(d(),v("div",ot,[(d(!0),v(K,null,Co(oo.value,a=>(d(),v("div",{style:{height:"196px",width:"196px"},class:"mobile-wrapper-inner-adaptor",key:a.id},[p("div",tt,[k(r(Eo,{"canvas-id":"canvas-main","canvas-style-data":e(J),"dv-info":e(f),"canvas-view-info":s.value,"view-info":s.value[a.id],config:a,class:"wrapper-design","show-position":"preview","search-count":0,scale:65},null,8,["canvas-style-data","dv-info","canvas-view-info","view-info","config"]),[[P,a.isShow]])]),p("div",{class:"mobile-com-mask",onClick:U=>q(a)},[k(p("span",{style:{color:"#909399"}},C(e(c)("visualization.mobile_ios_tips")),513),[[P,a.component==="DeStreamMedia"]])],8,it),S.value?B("",!0):(d(),v("div",{key:0,class:"pc-select-to-mobile",onClick:U=>q(a)},null,8,et))]))),128))])):B("",!0)],64))])])}}});const ha=Jo(rt,[["__scopeId","data-v-e6d3c645"]]);export{ha as default};
