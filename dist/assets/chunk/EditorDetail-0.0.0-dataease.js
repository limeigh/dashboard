import{z as xa}from"./index-0.0.0-dataease.js";import{E as Ua}from"./el-dialog-0.0.0-dataease.js";import{o as Pa,n as S,v as Na,D as B,F as Ne,G as Ea,y as Ra,j as qa}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{E as Ia}from"./el-date-picker-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import{E as Oa}from"./el-checkbox-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import"./el-virtual-list-0.0.0-dataease.js";import{E as ja}from"./el-select-v2-0.0.0-dataease.js";import{a as za,E as $a}from"./el-select-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import"./el-radio-0.0.0-dataease.js";import{a as Aa,E as Fa}from"./el-table-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import{_ as Da}from"./HandleMore.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{E as Wa}from"./el-row-0.0.0-dataease.js";import{E as Ba}from"./el-popover-0.0.0-dataease.js";import{E as Ha}from"./el-col-0.0.0-dataease.js";import{E as Ka,a as Ma}from"./el-tabs-0.0.0-dataease.js";import{a as Y,E as Ga}from"./el-form-item-0.0.0-dataease.js";import{d as La,X as Ee,t as Ja,r as _,y as Xa,w as Re,f as d,O as y,P as f,R as E,U as z,u as e,S as Z,a4 as p,g as c,i as r,j as n,W as T,_ as m,a3 as g,a6 as H,a8 as R,l as de,a9 as qe,n as Ie}from"./vue-0.0.0-dataease.js";import{i as Oe}from"./icon_calendar_outlined-0.0.0-dataease.js";import{i as Ya}from"./icon_rename_outlined-0.0.0-dataease.js";import{i as je}from"./icon_down_outlined-0.0.0-dataease.js";import{i as ze}from"./icon_down_outlined-1-0.0.0-dataease.js";import{i as $e}from"./icon_add_outlined-0.0.0-dataease.js";import{d as Za}from"./de-copy-0.0.0-dataease.js";import{d as Qa}from"./de-delete-0.0.0-dataease.js";import{i as et}from"./icon_warning_filled-0.0.0-dataease.js";import{i as Ae}from"./icon_delete-trash_outlined-0.0.0-dataease.js";import{i as at}from"./icon_edit_outlined-0.0.0-dataease.js";import{E as tt}from"./EmptyBackground-0.0.0-dataease.js";import{_ as ot}from"./ApiHttpRequestDraw.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{f as Fe,a as lt}from"./attr-0.0.0-dataease23.js";import{d as nt}from"./datasource-0.0.0-dataease.js";import{g as rt}from"./dataset-0.0.0-dataease.js";import{_ as Q}from"./CustomPassword.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import{_ as st}from"./Cron.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{i as it}from"./field-list-0.0.0-dataease.js";import{b as De}from"./pureFunctionsAny.generated-0.0.0-dataease.js";import{e as q}from"./lodash-0.0.0-dataease.js";import{E as ut}from"./index-0.0.0-dataease4.js";import{E as dt,a as pt}from"./index-0.0.0-dataease27.js";import{E as mt}from"./index-0.0.0-dataease20.js";import{_ as ct}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./index-0.0.0-dataease3.js";import"./use-dialog-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./dayjs.min-0.0.0-dataease.js";import"./arrays-0.0.0-dataease.js";import"./index-0.0.0-dataease18.js";import"./index-0.0.0-dataease5.js";import"./raf-0.0.0-dataease.js";import"./index-0.0.0-dataease6.js";import"./fixed-size-list-0.0.0-dataease.js";import"./strings-0.0.0-dataease.js";import"./token-0.0.0-dataease.js";import"./el-dropdown-menu-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./el-dropdown-item-0.0.0-dataease.js";import"./icon_more_outlined-0.0.0-dataease.js";import"./constants-0.0.0-dataease.js";import"./el-empty-0.0.0-dataease.js";import"./none-0.0.0-dataease.js";import"./nothing-tree-0.0.0-dataease.js";import"./el-drawer-0.0.0-dataease.js";import"./el-table-v2-0.0.0-dataease.js";import"./icon_expand-right_filled-0.0.0-dataease.js";import"./ApiHttpRequestForm-0.0.0-dataease.js";import"./ApiKeyValue-0.0.0-dataease.js";import"./ApiTestModel-0.0.0-dataease.js";import"./icon_drag_outlined-0.0.0-dataease.js";import"./vuedraggable-es-0.0.0-dataease.js";import"./ApiBody-0.0.0-dataease.js";import"./ApiVariable-0.0.0-dataease.js";import"./util-0.0.0-dataease.js";import"./CodeEdit.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./Pagination-0.0.0-dataease.js";import"./ApiAuthConfig.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./PluginComponent.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./icon_visible_outlined-0.0.0-dataease.js";import"./icon_invisible_outlined-0.0.0-dataease.js";import"./el-checkbox-group-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./decimal-0.0.0-dataease.js";const ft={class:"editor-detail"},gt={class:"detail-inner create-dialog"},_t={class:"info-update"},yt={class:"title-form_primary flex-space table-info-mr"},vt={key:1,class:"api-card-content"},bt=["onClick"],ht={class:"name ellipsis"},Vt={key:0,class:"de-tag invalid"},St={key:1,class:"de-tag valid"},Ct={class:"tips"},Tt={class:"foot"},kt={class:"req-title"},wt={class:"req-value"},xt={key:2,style:{display:"flex"}},Ut={class:"left-api_params"},Pt=["title","onClick"],Nt={class:"label"},Et={class:"name-copy"},Rt={class:"right-api_params"},qt={class:"flex-align-center icon"},It={class:"name"},Ot={key:2,class:"execute-rate-cont"},jt={class:"simple-cron"},zt={style:{width:"814px",height:"450px","overflow-y":"auto"}},$t={style:{width:"100%"}},At=La({__name:"EditorDetail",props:{form:{required:!1,default(){return Ee({id:0,name:"",desc:"",type:"API",apiConfiguration:[]})},type:Object},activeStep:{required:!1,default:1,type:Number},isSupportSetKey:{type:De,required:!0},pluginDs:{type:[],required:!0},pluginIndex:{type:String,required:!0},isPlugin:{type:De,required:!0}},setup(We,{expose:Be}){const{t:o}=Pa(),He=We,{form:a,activeStep:b,isSupportSetKey:Ke,pluginDs:pe,pluginIndex:me,isPlugin:ce}=Ja(He),$=Ee({itemRef:[]}),ee=_([]),Me=_(["GBK","UTF-8"]),Ge=_(["GBK","BIG5","ISO-8859-1","UTF-8","UTF-16","CP850","EUC_JP","EUC_KR"]),ae=_(!1),C=_(),K=_(!0),M={name:[{required:!0,message:o("datasource.input_name"),trigger:"blur"},{min:1,max:64,message:o("datasource.input_limit_1_64",[1,64]),trigger:"blur"}]},G=_(q(M)),Le=_(""),fe=_(),Je={name:"",deTableName:"",url:"",type:"",serialNumber:0,method:"GET",request:{headers:[{}],arguments:[],body:{type:"",raw:"",kvs:[]},page:{pageType:"empty",requestData:[],responseData:[]},authManager:{verification:"",username:"",password:""}},fields:[],useJsonPath:!1,jsonPath:""};let ge;const Xe=(s,t,u,i)=>{pe.value=t,me.value=u,ce.value=i,s.startsWith("API")||(a.value.configuration={dataBase:"",jdbcUrl:"",urlType:"hostName",sshType:"password",extraParams:"",username:"",password:"",host:"",authMethod:"",port:"",initialPoolSize:5,minPoolSize:5,maxPoolSize:5,queryTimeout:30},ee.value=[],G.value=q(M),_e()),s.startsWith("API")&&(a.value.syncSetting={updateType:"all_scope",syncRate:"SIMPLE_CRON",simpleCronValue:"1",simpleCronType:"minute",startTime:"",endTime:"",endLimit:"0",cron:"0 0/1 * * * ? *"}),s==="oracle"&&(a.value.configuration.connectionType="sid"),a.value.type=s,ge=setTimeout(()=>{clearTimeout(ge),A.value&&A.value.clearValidate(),C.value&&C.value.clearValidate()},0)},Ye=Xa(()=>a.value&&!a.value.type.startsWith("API")),Ze=[{id:"passwd",label:o("datasource.passwd")},{id:"kerberos",label:"Kerberos"}],Qe=(s,t,u)=>((t==null||t==="")&&a.value.configuration.useSSH&&u(new Error(o("data_source.cannot_be_empty"))),u()),ea=(s,t,u)=>((t==null||t==="")&&a.value.configuration.useSSH&&u(new Error(o("data_source.cannot_be_empty_de"))),u()),aa=(s,t,u)=>((t==null||t==="")&&a.value.configuration.useSSH&&u(new Error(o("data_source.cannot_be_empty_de_name"))),u()),ta=(s,t,u)=>((t==null||t==="")&&a.value.configuration.useSSH&&a.value.configuration.sshType==="password"&&u(new Error(o("data_source.cannot_be_empty_de_pwd"))),u()),oa=(s,t,u)=>((t===null||t===""||t===void 0)&&a.value.configuration.useSSH&&a.value.configuration.sshType==="sshkey"&&u(new Error(o("data_source.cannot_be_empty_de_key"))),u()),_e=()=>{const s={"configuration.jdbcUrl":[{required:!0,message:o("datasource.please_input_jdbc_url"),trigger:"blur"}],"configuration.dataBase":[{required:!0,message:o("datasource.please_input_data_base"),trigger:"blur"}],"configuration.authMethod":[{required:!0,message:o("datasource.please_select_oracle_type"),trigger:"blur"}],"configuration.username":[{required:!0,message:o("datasource.please_input_user_name"),trigger:"blur"}],"configuration.password":[{required:!0,message:o("datasource.please_input_password"),trigger:"blur"}],"configuration.host":[{required:!0,message:o("datasource._ip_address"),trigger:"blur"}],"configuration.extraParams":[{required:!1,message:o("datasource.please_input_url"),trigger:"blur"}],"configuration.port":[{required:!0,message:o("datasource.please_input_port"),trigger:"blur"}],"configuration.initialPoolSize":[{required:!0,message:o("common.inputText")+" "+o("datasource.initial_pool_size"),trigger:"blur"}],"configuration.minPoolSize":[{required:!0,message:o("common.inputText")+" "+o("datasource.min_pool_size"),trigger:"blur"}],"configuration.maxPoolSize":[{required:!0,message:o("common.inputText")+" "+o("datasource.max_pool_size"),trigger:"blur"}],"configuration.queryTimeout":[{required:!0,message:o("common.inputText")+" "+o("datasource.query_timeout"),trigger:"blur"}],"configuration.sshHost":[{validator:Qe,trigger:"blur"}],"configuration.sshPort":[{validator:ea,trigger:"blur"}],"configuration.sshUserName":[{validator:aa,trigger:"blur"}],"configuration.sshPassword":[{validator:ta,trigger:"blur"}],"configuration.sshKey":[{validator:oa,trigger:"blur"}]};["oracle","sqlServer","pg","redshift","db2"].includes(a.value.type)&&(s["configuration.schema"]=[{required:!0,message:o("datasource.please_choose_schema"),trigger:"blur"}]),a.value.type==="oracle"&&(s["configuration.connectionType"]=[{required:!0,message:o("datasource.connection_mode"),trigger:"change"}]),a.value.type==="es"&&(s["configuration.url"]=[{required:!0,message:o("datasource.please_input_datasource_url"),trigger:"change"}]),G.value={...q(s),...q(M)}};Re(()=>a.value.type,s=>{s.startsWith("API")||(G.value=q(M),_e())},{immediate:!0}),Re(()=>b.value,()=>{var s;oe.value=((s=a.value.syncSetting)==null?void 0:s.syncRate)==="CRON"});const la=s=>{$.itemRef.push(s)},na=s=>{const t=JSON.parse(JSON.stringify(s));t.deTableName="",t.serialNumber=a.value.apiConfiguration[a.value.apiConfiguration.length-1].serialNumber+1,t.copy=!0;const u=new RegExp(s.name+"_copy_([0-9]*)","gim");let i=0;for(let V=1;V<a.value.apiConfiguration.length;V++){const D=a.value.apiConfiguration[V].name.match(u);if(D!==null){const h=D[0].substring(a.value.apiConfiguration[V].name.length+5,D[0].length-1);!isNaN(parseInt(h))&&parseInt(h)>i&&(i=parseInt(h))}}i=i+1,t.name=s.name+"_copy_"+i,$.itemRef=[],a.value.apiConfiguration.push(t),B.success(o("datasource.success_copy"))},te=s=>{let t=null,u=!1;if(Le.value=o("datasource.data_table"),s)t=q(s),u=!0;else{t=q(Je),t.type=k.value;let i=a.value.apiConfiguration.length>0?a.value.apiConfiguration[a.value.apiConfiguration.length-1].serialNumber+1:0,V=a.value.paramsConfiguration&&a.value.paramsConfiguration.length>0?a.value.paramsConfiguration[a.value.paramsConfiguration.length-1].serialNumber+1:0;t.serialNumber=i+V}Ie(()=>{fe.value.initApiItem(t,a.value,k.value,u,Ke.value,pe.value,me.value,ce.value)})},k=_("table"),L=_(!1),J=_(!1),ra=(s,t)=>{a.value.apiConfiguration.splice(a.value.apiConfiguration.indexOf(s),1),ye(t)},ye=s=>{$.itemRef[s].hide()},sa=()=>(C.value.clearValidate(),C.value.validate),ia=()=>(A.value.clearValidate(),A.value.validate),ua=()=>C.value.clearValidate(),da=()=>{C.value.resetFields()},pa=s=>{let t=!1;if(s.type!=="params"){s.status="Success";for(let u=0;u<a.value.apiConfiguration.length;u++)a.value.apiConfiguration[u].serialNumber===s.serialNumber&&(t=!0,a.value.apiConfiguration[u]=s);t||($.itemRef=[],a.value.apiConfiguration.push(s))}else{if(a.value.paramsConfiguration)for(let u=0;u<a.value.paramsConfiguration.length;u++)a.value.paramsConfiguration[u].serialNumber===s.serialNumber&&(t=!0,a.value.paramsConfiguration[u]=s,s.serialNumber===he.value&&Ve(s));else a.value.paramsConfiguration=[];t||($.itemRef=[],a.value.paramsConfiguration.push(s))}},oe=_(!1),ma=()=>{a.value.syncSetting.syncRate==="SIMPLE"&&(a.value.syncSetting.endLimit=0,a.value.syncSetting.endTime=0,a.value.syncSetting.cron=""),a.value.syncSetting.syncRate==="SIMPLE_CRON"&&(a.value.syncSetting.cron="0 0/1 * * * ? *",a.value.syncSetting.simpleCronType="minute"),a.value.syncSetting.syncRate==="CRON"&&(a.value.syncSetting.cron="00 00 * ? * * *"),Ie(()=>{oe.value=a.value.syncSetting.syncRate==="CRON"})},ve=()=>{if(a.value.syncSetting.simpleCronType==="minute"){(a.value.syncSetting.simpleCronValue<1||a.value.syncSetting.simpleCronValue>59)&&(B.warning(o("cron.minute_limit")),a.value.syncSetting.simpleCronValue=59),a.value.syncSetting.cron="0 0/"+a.value.syncSetting.simpleCronValue+" * * * ? *";return}if(a.value.syncSetting.simpleCronType==="hour"){(a.value.syncSetting.simpleCronValue<1||a.value.syncSetting.simpleCronValue>23)&&(B.warning(o("cron.hour_limit")),a.value.syncSetting.simpleCronValue=23),a.value.syncSetting.cron="0 0 0/"+a.value.syncSetting.simpleCronValue+" * * ? *";return}if(a.value.syncSetting.simpleCronType==="day"){(a.value.syncSetting.simpleCronValue<1||a.value.syncSetting.simpleCronValue>31)&&(B.warning(o("cron.day_limit")),a.value.syncSetting.simpleCronValue=31),a.value.syncSetting.cron="0 0 0 1/"+a.value.syncSetting.simpleCronValue+" * ? *";return}},le=_(!1),ca=()=>{le.value=!0;const s=C.value.validate;s(t=>{if(le.value=!1,t){const u=JSON.parse(JSON.stringify(a.value));u.configuration=rt.encode(JSON.stringify(u.configuration)),ae.value=!0,nt(u).then(i=>{ee.value=(i.data||[]).map(V=>({value:V,label:V})),B.success(o("commons.success"))}).finally(()=>{ae.value=!1})}})},be=()=>{C.value.validateField("configuration.schema")},A=_(),fa={"syncSetting.updateType":[{required:!0,message:o("datasource.update_type"),trigger:"change"}],"syncSetting.syncRate":[{required:!0,message:o("datasource.sync_rate"),trigger:"change"}],"syncSetting.simpleCronValue":[{required:!0,message:o("auth.set_rules"),trigger:"change"}],"syncSetting.cron":[{required:!0,message:o("common.cron_exp"),trigger:"change"}],"syncSetting.startTime":[{required:!0,message:o("sync_task.please_choose_start_time"),trigger:"change"}]},ne=_(!1),F=_(!1),re=_(""),he=_(0),w=_({name:"",id:1,deType:0}),x=_({name:"",serialNumber:1}),ga={name:[{required:!0,message:o("data_source.enter_parameter_name"),trigger:"change"},{min:2,max:64,message:o("data_source.to_64_characters"),trigger:"blur"}]},_a={name:[{required:!0,message:o("data_source.the_interface_name"),trigger:"change"},{min:2,max:64,message:o("data_source.to_64_characters_de"),trigger:"blur"}]},Ve=s=>{I.value=s.fields,re.value=s.name,he.value=s.serialNumber},Se=_(),Ce=_(),ya=()=>{Se.value.validate(s=>{s&&I.value.forEach(t=>{t.id===w.value.id&&(t.name=w.value.name)})})},va=()=>{Ce.value.validate(s=>{s&&a.value.paramsConfiguration.forEach(t=>{t.serialNumber===x.value.serialNumber&&(t.name=x.value.name)}),F.value=!1})},Te=()=>{ne.value=!1},ke=()=>{F.value=!1},I=_([]),we=(s,t)=>{s==="rename"&&(F.value=!0,x.value.name=t.name,x.value.serialNumber=t.serialNumber),s==="delete"&&Ne.confirm(o("data_source.sure_to_delete"),{confirmButtonType:"danger",type:"warning",autofocus:!1,showClose:!1}).then(()=>{let u=0;for(let i=0;i<a.value.paramsConfiguration.length;i++)a.value.paramsConfiguration[i].serialNumber===t.serialNumber&&(u=i);a.value.paramsConfiguration.splice(u,1),re.value===t.name&&(I.value=[])}),s==="edit"&&te(t)},ba=s=>{Ne.confirm(o("data_source.sure_to_delete"),{confirmButtonType:"danger",type:"warning",autofocus:!1,showClose:!1}).then(()=>{I.value.splice(I.value.indexOf(s),1)})},ha=[{label:o("data_source.rename"),svgName:Ya,command:"rename"},{label:o("data_source.delete"),svgName:Ae,command:"delete"}];return Be({submitForm:sa,submitApiForm:ia,resetForm:da,initForm:Xe,clearForm:ua}),(s,t)=>{const u=Ea,i=Ga,V=Ka,D=Ma,h=Ra,O=Ha,U=qa,xe=Ba,se=Wa,Va=ut,Sa=Da,ie=Aa,Ca=Fa,v=dt,W=pt,P=mt,j=za,X=$a,Ta=ja,ka=Oa,Ue=Ia,Pe=Ua,wa=xa;return d(),y("div",ft,[f("div",gt,[E(f("div",_t,[f("div",{class:Z([e(b)===1&&"active","info-text"])},p(e(o)("data_source.source_configuration_information")),3),t[58]||(t[58]=f("div",{class:"update-info-line"},null,-1)),f("div",{class:Z([e(b)===2&&"active","update-text"])},p(e(o)("data_source.data_update_settings")),3)],512),[[z,e(a).type.startsWith("API")]]),E(f("div",{class:"title-form_primary base-info"},p(e(o)("datasource.basic_info")),513),[[z,e(b)!==2&&e(a).type.startsWith("API")]]),E((d(),c(e(Y),{onSubmit:t[37]||(t[37]=R(()=>{},["prevent"])),ref_key:"dsForm",ref:C,model:e(a),rules:G.value,"label-width":"180px","label-position":"top","require-asterisk-position":"right"},{default:r(()=>[E(n(i,{label:e(o)("data_source.data_source_name"),prop:"name"},{default:r(()=>[n(u,{modelValue:e(a).name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(a).name=l),autocomplete:"off",placeholder:e(o)("datasource.input_name")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),[[z,e(b)!==2]]),E(n(i,{label:e(o)("common.description")},{default:r(()=>[n(u,{class:"description-text",type:"textarea",placeholder:e(o)("common.inputText"),modelValue:e(a).description,"onUpdate:modelValue":t[1]||(t[1]=l=>e(a).description=l),row:10,maxlength:50,"show-word-limit":""},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),[[z,e(b)!==2]]),e(a).type.startsWith("API")?(d(),y(T,{key:0},[E(f("div",yt,[n(D,{modelValue:k.value,"onUpdate:modelValue":t[2]||(t[2]=l=>k.value=l),class:"api-tabs"},{default:r(()=>[n(V,{label:e(o)("datasource.data_table"),name:"table"},null,8,["label"]),e(a).type==="API"?(d(),c(V,{key:0,label:e(o)("data_source.interface_parameters"),name:"params"},null,8,["label"])):m("",!0)]),_:1},8,["modelValue"]),n(h,{type:"primary",style:{"margin-left":"auto"},onClick:t[3]||(t[3]=()=>te(null))},{icon:r(()=>[n(e(S),{name:"icon_add_outlined"},{default:r(()=>[n(e($e),{class:"svg-icon"})]),_:1})]),default:r(()=>[g(" "+p(e(o)("common.add")),1)]),_:1})],512),[[z,e(b)!==2]]),!e(a).apiConfiguration.length&&k.value==="table"?E((d(),c(tt,{key:0,description:e(o)("datasource.no_data_table"),"img-type":"noneWhite"},null,8,["description"])),[[z,e(b)!==2]]):m("",!0),e(a).type.startsWith("API")&&e(b)===1&&k.value==="table"?(d(),y("div",vt,[(d(!0),y(T,null,H(e(a).apiConfiguration,(l,N)=>(d(),y("div",{key:l.id,class:"api-card",onClick:ue=>te(l)},[n(se,null,{default:r(()=>[n(O,{style:{display:"flex"},span:19},{default:r(()=>[f("span",ht,p(l.name),1),l.status==="Error"?(d(),y("span",Vt,p(e(o)("datasource.invalid")),1)):m("",!0),l.status==="Success"?(d(),y("span",St,p(e(o)("datasource.valid")),1)):m("",!0)]),_:2},1024),n(O,{style:{"text-align":"right"},span:5},{default:r(()=>[n(U,{class:"de-copy-icon hover-icon",onClick:R(ue=>na(l),["stop"])},{default:r(()=>[n(e(S),{name:"de-copy"},{default:r(()=>[n(e(Za),{class:"svg-icon"})]),_:1})]),_:1},8,["onClick"]),f("span",{onClick:t[4]||(t[4]=R(()=>{},["stop"]))},[n(xe,{placement:"top",width:"200",ref_for:!0,ref:la,"show-arrow":"","popper-class":"api-table-delete",trigger:"click"},{reference:r(()=>[n(U,{class:"de-delete-icon hover-icon"},{default:r(()=>[n(e(S),{name:"de-delete"},{default:r(()=>[n(e(Qa),{class:"svg-icon"})]),_:1})]),_:1})]),default:r(()=>[n(U,{class:"de-copy-icon icon-warning"},{default:r(()=>[n(e(S),{name:"icon_warning_filled"},{default:r(()=>[n(e(et),{class:"svg-icon"})]),_:1})]),_:1}),f("div",Ct,p(e(o)("datasource.delete_this_item")),1),f("div",Tt,[n(h,{style:{"min-width":"48px"},secondary:"",onClick:ue=>ye(N)},{default:r(()=>[g(p(e(o)("common.cancel")),1)]),_:1},8,["onClick"]),n(h,{style:{"min-width":"48px"},type:"primary",onClick:ue=>ra(l,N)},{default:r(()=>[g(p(e(o)("common.sure")),1)]),_:1},8,["onClick"])])]),_:2},1024)])]),_:2},1024)]),_:2},1024),f("div",kt,[f("span",null,p(e(o)("datasource.method")),1),f("span",null,p(e(o)("datasource.url")),1)]),f("div",wt,[f("span",null,p(l.method),1),n(Va,{effect:"dark",content:l.url,placement:"top"},{default:r(()=>[f("span",null,p(l.url),1)]),_:2},1032,["content"])])],8,bt))),128))])):m("",!0),e(a).type==="API"&&e(b)===1&&k.value==="params"?(d(),y("div",xt,[f("div",Ut,[(d(!0),y(T,null,H(e(a).paramsConfiguration,l=>(d(),y("div",{class:Z([[{active:re.value===l.name}],"list-item_primary"]),title:l.name,key:l.id,onClick:N=>Ve(l)},[f("span",Nt,p(l.name),1),f("span",Et,[n(U,{class:"hover-icon",onClick:R(N=>we("edit",l),["stop"])},{default:r(()=>[n(e(S),{name:"icon_edit_outlined"},{default:r(()=>[n(e(at),{class:"svg-icon"})]),_:1})]),_:1},8,["onClick"]),n(Sa,{"icon-size":"24px",onHandleCommand:N=>we(N,l),"menu-list":ha,placement:"bottom-start"},null,8,["onHandleCommand"])])],10,Pt))),128))]),f("div",Rt,[n(Ca,{height:"300",style:{width:"100%"},"header-cell-class-name":"header-cell",data:I.value},{default:r(()=>[n(ie,{label:e(o)("visualization.param_name")},{default:r(l=>[g(p(l.row.name||"-"),1)]),_:1},8,["label"]),n(ie,{label:e(o)("deDataset.parameter_type")},{default:r(l=>[f("div",qt,[n(U,null,{default:r(()=>[n(e(S),null,{default:r(()=>[(d(),c(de(e(it)[e(Fe)[l.row.deType]]),{class:Z(["svg-icon",`field-icon-${e(Fe)[l.row.deType]}`])},null,8,["class"]))]),_:2},1024)]),_:2},1024),g(" "+p(e(lt)[l.row.deType]),1)])]),_:1},8,["label"]),n(ie,{label:e(o)("common.operate")},{default:r(l=>[n(h,{text:"",onClick:R(N=>ba(l.row),["stop"])},{icon:r(()=>[n(e(S),{name:"icon_delete-trash_outlined"},{default:r(()=>[n(e(Ae),{class:"svg-icon"})]),_:1})]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])])])):m("",!0)],64)):m("",!0),Ye.value?(d(),y(T,{key:1},[e(a).type!=="es"?(d(),c(i,{key:0,label:e(o)("data_source.connection_method"),prop:"type"},{default:r(()=>[n(W,{modelValue:e(a).configuration.urlType,"onUpdate:modelValue":t[5]||(t[5]=l=>e(a).configuration.urlType=l)},{default:r(()=>[n(v,{label:"hostName"},{default:r(()=>[g(p(e(o)("data_source.hostname")),1)]),_:1}),n(v,{label:"jdbcUrl"},{default:r(()=>[g(p(e(o)("data_source.jdbc_connection")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):m("",!0),e(a).configuration.urlType==="jdbcUrl"?(d(),c(i,{key:1,label:e(o)("data_source.jdbc_connection_string"),prop:"configuration.jdbcUrl"},{default:r(()=>[n(u,{modelValue:e(a).configuration.jdbcUrl,"onUpdate:modelValue":t[6]||(t[6]=l=>e(a).configuration.jdbcUrl=l),placeholder:e(o)("data_source.jdbc_connection_string"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):m("",!0),e(a).configuration.urlType!=="jdbcUrl"&&e(a).type!=="es"?(d(),c(i,{key:2,label:e(o)("datasource.host"),prop:"configuration.host"},{default:r(()=>[n(u,{modelValue:e(a).configuration.host,"onUpdate:modelValue":t[7]||(t[7]=l=>e(a).configuration.host=l),placeholder:e(o)("datasource._ip_address"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):m("",!0),e(a).configuration.urlType!=="jdbcUrl"&&e(a).type!=="es"?(d(),c(i,{key:3,label:e(o)("datasource.port"),prop:"configuration.port"},{default:r(()=>[n(P,{modelValue:e(a).configuration.port,"onUpdate:modelValue":t[8]||(t[8]=l=>e(a).configuration.port=l),autocomplete:"off","step-strictly":"",class:"text-left",min:0,placeholder:e(o)("common.inputText")+" "+e(o)("datasource.port"),"controls-position":"right",type:"number"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):m("",!0),e(a).configuration.urlType!=="jdbcUrl"&&e(a).type!=="es"?(d(),c(i,{key:4,label:e(o)("datasource.data_base"),prop:"configuration.dataBase"},{default:r(()=>[n(u,{modelValue:e(a).configuration.dataBase,"onUpdate:modelValue":t[9]||(t[9]=l=>e(a).configuration.dataBase=l),placeholder:e(o)("datasource.please_input_data_base"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):m("",!0),e(a).type==="presto"?(d(),c(i,{key:5,label:e(o)("datasource.auth_method"),prop:"configuration.authMethod"},{default:r(()=>[n(X,{placeholder:e(o)("common.inputText")+" "+e(o)("datasource.auth_method"),modelValue:e(a).configuration.authMethod,"onUpdate:modelValue":t[10]||(t[10]=l=>e(a).configuration.authMethod=l),class:"de-select"},{default:r(()=>[(d(),y(T,null,H(Ze,l=>n(j,{key:l.id,label:l.label,value:l.id},null,8,["label","value"])),64))]),_:1},8,["placeholder","modelValue"])]),_:1},8,["label"])):m("",!0),e(a).type==="presto"?(d(),c(i,{key:6,label:e(o)("datasource.client_principal"),prop:"configuration.username"},{default:r(()=>[n(u,{placeholder:e(o)("common.inputText")+" "+e(o)("datasource.client_principal"),modelValue:e(a).configuration.username,"onUpdate:modelValue":t[11]||(t[11]=l=>e(a).configuration.username=l),autocomplete:"off"},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):m("",!0),e(a).type==="presto"?(d(),c(i,{key:7,label:e(o)("datasource.keytab_Key_path"),prop:"configuration.password"},{default:r(()=>[n(e(Q),{placeholder:e(o)("common.inputText")+" "+e(o)("datasource.keytab_Key_path"),"show-password":"",type:"password",modelValue:e(a).configuration.password,"onUpdate:modelValue":t[12]||(t[12]=l=>e(a).configuration.password=l)},null,8,["placeholder","modelValue"]),f("p",null,p(e(o)("datasource.kerbers_info")),1)]),_:1},8,["label"])):m("",!0),e(a).type=="es"?(d(),c(i,{key:8,label:s.$t("datasource.datasource_url"),prop:"configuration.url"},{default:r(()=>[n(u,{modelValue:e(a).configuration.url,"onUpdate:modelValue":t[13]||(t[13]=l=>e(a).configuration.url=l),placeholder:s.$t("datasource.please_input_datasource_url"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):m("",!0),e(a).type!=="presto"?(d(),c(i,{key:9,label:e(o)("datasource.user_name")},{default:r(()=>[n(u,{placeholder:e(o)("common.inputText")+" "+e(o)("datasource.user_name"),modelValue:e(a).configuration.username,"onUpdate:modelValue":t[14]||(t[14]=l=>e(a).configuration.username=l),autocomplete:"off"},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):m("",!0),e(a).type!=="presto"?(d(),c(i,{key:10,label:e(o)("datasource.password")},{default:r(()=>[n(e(Q),{placeholder:e(o)("common.inputText")+" "+e(o)("datasource.password"),"show-password":"",type:"password",modelValue:e(a).configuration.password,"onUpdate:modelValue":t[15]||(t[15]=l=>e(a).configuration.password=l)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):m("",!0),e(a).type=="oracle"&&e(a).configuration.urlType!=="jdbcUrl"?(d(),c(i,{key:11,label:e(o)("datasource.connection_mode"),prop:"configuration.connectionType"},{default:r(()=>[n(v,{modelValue:e(a).configuration.connectionType,"onUpdate:modelValue":t[16]||(t[16]=l=>e(a).configuration.connectionType=l),label:"sid"},{default:r(()=>[g(p(e(o)("datasource.oracle_sid")),1)]),_:1},8,["modelValue"]),n(v,{modelValue:e(a).configuration.connectionType,"onUpdate:modelValue":t[17]||(t[17]=l=>e(a).configuration.connectionType=l),label:"serviceName"},{default:r(()=>[g(p(e(o)("datasource.oracle_service_name")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):m("",!0),["oracle","sqlServer","pg","redshift","db2"].includes(e(a).type)?(d(),c(i,{key:12,class:"schema-label",prop:le.value?"":"configuration.schema"},{label:r(()=>[f("span",It,[g(p(e(o)("datasource.schema")),1),t[59]||(t[59]=f("i",{class:"required"},null,-1))]),n(h,{text:"",size:"small",onClick:t[18]||(t[18]=l=>ca())},{icon:r(()=>[n(e(S),{name:"icon_add_outlined"},{default:r(()=>[n(e($e),{class:"svg-icon"})]),_:1})]),default:r(()=>[g(" "+p(e(o)("datasource.get_schema")),1)]),_:1})]),default:r(()=>[n(Ta,{modelValue:e(a).configuration.schema,"onUpdate:modelValue":t[19]||(t[19]=l=>e(a).configuration.schema=l),options:ee.value,filterable:"",placeholder:e(o)("common.please_select"),class:"de-select",onChange:be,onBlur:be},null,8,["modelValue","options","placeholder"])]),_:1},8,["prop"])):m("",!0),e(a).type=="oracle"?(d(),c(i,{key:13,label:s.$t("datasource.charset")},{default:r(()=>[n(X,{modelValue:e(a).configuration.charset,"onUpdate:modelValue":t[20]||(t[20]=l=>e(a).configuration.charset=l),filterable:"",placeholder:s.$t("datasource.please_choose_charset"),class:"de-select"},{default:r(()=>[(d(!0),y(T,null,H(Ge.value,l=>(d(),c(j,{key:l,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])):m("",!0),e(a).type=="oracle"?(d(),c(i,{key:14,label:s.$t("datasource.targetCharset")},{default:r(()=>[n(X,{modelValue:e(a).configuration.targetCharset,"onUpdate:modelValue":t[21]||(t[21]=l=>e(a).configuration.targetCharset=l),filterable:"",placeholder:s.$t("datasource.please_choose_targetCharset"),class:"de-select"},{default:r(()=>[(d(!0),y(T,null,H(Me.value,l=>(d(),c(j,{key:l,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])):m("",!0),e(a).configuration.urlType!=="jdbcUrl"&&e(a).type!=="es"?(d(),c(i,{key:15,label:e(o)("datasource.extra_params")},{default:r(()=>[n(u,{placeholder:e(o)("common.inputText")+" "+e(o)("datasource.extra_params"),modelValue:e(a).configuration.extraParams,"onUpdate:modelValue":t[22]||(t[22]=l=>e(a).configuration.extraParams=l),autocomplete:"off"},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):m("",!0),n(i,null,{default:r(()=>[!["es","api"].includes(e(a).type)&&e(a).configuration.urlType!=="jdbcUrl"?(d(),y("span",{key:0,class:"de-expand",onClick:t[23]||(t[23]=l=>J.value=!J.value)},[g(p(e(o)("data_source.ssh_settings"))+" ",1),n(U,null,{default:r(()=>[n(e(S),null,{default:r(()=>[(d(),c(de(J.value?e(je):e(ze)),{class:"svg-icon"}))]),_:1})]),_:1})])):m("",!0)]),_:1}),J.value?(d(),y(T,{key:16},[n(i,null,{default:r(()=>[n(ka,{modelValue:e(a).configuration.useSSH,"onUpdate:modelValue":t[24]||(t[24]=l=>e(a).configuration.useSSH=l)},{default:r(()=>[g(p(e(o)("data_source.enable_ssh")),1)]),_:1},8,["modelValue"])]),_:1}),n(i,{label:e(o)("data_source.host"),prop:"configuration.sshHost"},{default:r(()=>[n(u,{modelValue:e(a).configuration.sshHost,"onUpdate:modelValue":t[25]||(t[25]=l=>e(a).configuration.sshHost=l),placeholder:e(o)("data_source.please_enter_hostname"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(i,{label:e(o)("data_source.port"),prop:"configuration.sshPort"},{default:r(()=>[n(P,{modelValue:e(a).configuration.sshPort,"onUpdate:modelValue":t[26]||(t[26]=l=>e(a).configuration.sshPort=l),autocomplete:"off","step-strictly":"",class:"text-left",min:0,max:65535,placeholder:e(o)("common.inputText")+" "+e(o)("datasource.port"),"controls-position":"right"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(i,{label:e(o)("datasource.user_name"),prop:"configuration.sshUserName"},{default:r(()=>[n(u,{placeholder:e(o)("common.inputText")+" "+e(o)("datasource.user_name"),modelValue:e(a).configuration.sshUserName,"onUpdate:modelValue":t[27]||(t[27]=l=>e(a).configuration.sshUserName=l),autocomplete:"off",maxlength:255},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),n(i,{label:e(o)("data_source.connection_method")},{default:r(()=>[n(W,{modelValue:e(a).configuration.sshType,"onUpdate:modelValue":t[28]||(t[28]=l=>e(a).configuration.sshType=l)},{default:r(()=>[n(v,{label:"password"},{default:r(()=>[g(p(e(o)("data_source.password")),1)]),_:1}),n(v,{label:"sshkey"},{default:r(()=>[...t[60]||(t[60]=[g("ssh key",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(a).configuration.sshType==="password"?(d(),c(i,{key:0,label:e(o)("datasource.password"),prop:"configuration.sshPassword"},{default:r(()=>[n(e(Q),{placeholder:e(o)("common.inputText")+" "+e(o)("datasource.password"),"show-password":"",type:"password",modelValue:e(a).configuration.sshPassword,"onUpdate:modelValue":t[29]||(t[29]=l=>e(a).configuration.sshPassword=l)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):m("",!0),e(a).configuration.sshType==="sshkey"?(d(),c(i,{key:1,label:"ssh key",prop:"configuration.sshKey"},{default:r(()=>[n(u,{type:"textarea",rows:6,modelValue:e(a).configuration.sshKey,"onUpdate:modelValue":t[30]||(t[30]=l=>e(a).configuration.sshKey=l),placeholder:e(o)("data_source.enter_ssh_key"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1})):m("",!0),e(a).configuration.sshType==="sshkey"?(d(),c(i,{key:2,label:e(o)("data_source.ssh_key_password")},{default:r(()=>[n(e(Q),{placeholder:e(o)("common.inputText")+" "+e(o)("datasource.password"),"show-password":"",type:"password",modelValue:e(a).configuration.sshKeyPassword,"onUpdate:modelValue":t[31]||(t[31]=l=>e(a).configuration.sshKeyPassword=l)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):m("",!0)],64)):m("",!0),n(i,null,{default:r(()=>[["es","api"].includes(e(a).type)?m("",!0):(d(),y("span",{key:0,class:"de-expand",onClick:t[32]||(t[32]=l=>L.value=!L.value)},[g(p(e(o)("datasource.priority"))+" ",1),n(U,null,{default:r(()=>[n(e(S),null,{default:r(()=>[(d(),c(de(L.value?e(je):e(ze))))]),_:1})]),_:1})]))]),_:1}),L.value?(d(),y(T,{key:17},[n(se,{gutter:24,class:"mb16"},{default:r(()=>[n(O,{span:12},{default:r(()=>[n(i,{label:e(o)("datasource.initial_pool_size"),prop:"configuration.initialPoolSize"},{default:r(()=>[n(P,{modelValue:e(a).configuration.initialPoolSize,"onUpdate:modelValue":t[33]||(t[33]=l=>e(a).configuration.initialPoolSize=l),"controls-position":"right",autocomplete:"off",placeholder:e(o)("common.inputText")+" "+e(o)("datasource.initial_pool_size"),type:"number",min:0},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),n(O,{span:12},{default:r(()=>[n(i,{label:e(o)("datasource.min_pool_size"),prop:"configuration.minPoolSize"},{default:r(()=>[n(P,{modelValue:e(a).configuration.minPoolSize,"onUpdate:modelValue":t[34]||(t[34]=l=>e(a).configuration.minPoolSize=l),"controls-position":"right",autocomplete:"off",placeholder:e(o)("common.inputText")+" "+e(o)("datasource.min_pool_size"),type:"number",min:0},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),n(se,{gutter:24},{default:r(()=>[n(O,{span:12},{default:r(()=>[n(i,{label:e(o)("datasource.max_pool_size"),prop:"configuration.maxPoolSize"},{default:r(()=>[n(P,{modelValue:e(a).configuration.maxPoolSize,"onUpdate:modelValue":t[35]||(t[35]=l=>e(a).configuration.maxPoolSize=l),"controls-position":"right",autocomplete:"off",placeholder:e(o)("common.inputText")+" "+e(o)("datasource.max_pool_size"),type:"number",min:0},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),n(O,{span:12},{default:r(()=>[n(i,{label:`${e(o)("datasource.query_timeout")}(${e(o)("common.second")})`,prop:"configuration.queryTimeout"},{default:r(()=>[n(P,{modelValue:e(a).configuration.queryTimeout,"onUpdate:modelValue":t[36]||(t[36]=l=>e(a).configuration.queryTimeout=l),"controls-position":"right",autocomplete:"off",placeholder:e(o)("common.inputText")+" "+e(o)("datasource.query_timeout"),type:"number",min:0},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})],64)):m("",!0),n(e(Na),{form:e(a),jsname:"L2NvbXBvbmVudC9kYXRhLWZpbGxpbmcvRGF0YXNvdXJjZUVuYWJsZURhdGFGaWxsaW5n"},null,8,["form"])],64)):m("",!0)]),_:1},8,["model","rules"])),[[wa,ae.value]]),n(e(Y),{ref_key:"dsApiForm",ref:A,model:e(a),style:{"margin-top":"24px"},rules:fa,"label-width":"180px","label-position":"top","require-asterisk-position":"right"},{default:r(()=>[e(b)===2&&e(a).type.startsWith("API")?(d(),c(i,{key:0,label:e(o)("datasource.update_type"),prop:"syncSetting.updateType"},{default:r(()=>[n(W,{modelValue:e(a).syncSetting.updateType,"onUpdate:modelValue":t[38]||(t[38]=l=>e(a).syncSetting.updateType=l)},{default:r(()=>[n(v,{label:"all_scope"},{default:r(()=>[g(p(e(o)("datasource.all_scope")),1)]),_:1}),n(v,{label:"add_scope"},{default:r(()=>[g(p(e(o)("datasource.add_scope")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):m("",!0),e(b)===2&&e(a).type.startsWith("API")?(d(),c(i,{key:1,label:e(o)("datasource.sync_rate"),prop:"syncSetting.syncRate"},{default:r(()=>[n(W,{modelValue:e(a).syncSetting.syncRate,"onUpdate:modelValue":t[39]||(t[39]=l=>e(a).syncSetting.syncRate=l),onChange:ma},{default:r(()=>[n(v,{label:"RIGHTNOW"},{default:r(()=>[g(p(e(o)("data_source.update_now")),1)]),_:1}),n(v,{label:"CRON"},{default:r(()=>[g(p(e(o)("datasource.cron_config")),1)]),_:1}),n(v,{label:"SIMPLE_CRON"},{default:r(()=>[g(p(e(o)("datasource.simple_cron")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):m("",!0),e(b)===2&&e(a).type.startsWith("API")&&e(a).syncSetting.syncRate!=="RIGHTNOW"?(d(),y("div",Ot,[e(a).syncSetting.syncRate==="SIMPLE_CRON"?(d(),c(i,{key:0,label:e(o)("auth.set_rules"),prop:"syncSetting.simpleCronValue"},{default:r(()=>[f("div",jt,[g(p(e(o)("common.every"))+" ",1),n(P,{modelValue:e(a).syncSetting.simpleCronValue,"onUpdate:modelValue":t[40]||(t[40]=l=>e(a).syncSetting.simpleCronValue=l),"controls-position":"right",min:1,onChange:t[41]||(t[41]=l=>ve())},null,8,["modelValue"]),n(X,{modelValue:e(a).syncSetting.simpleCronType,"onUpdate:modelValue":t[42]||(t[42]=l=>e(a).syncSetting.simpleCronType=l),filterable:"",onChange:t[43]||(t[43]=l=>ve())},{default:r(()=>[n(j,{label:e(o)("common.minute"),value:"minute"},null,8,["label"]),n(j,{label:e(o)("common.hour"),value:"hour"},null,8,["label"]),n(j,{label:e(o)("common.day"),value:"day"},null,8,["label"])]),_:1},8,["modelValue"]),g(" "+p(e(o)("data_source.update_once")),1)])]),_:1},8,["label"])):m("",!0),e(a).syncSetting.syncRate==="CRON"?(d(),c(i,{key:1,prop:"syncSetting.cron"},{default:r(()=>[n(xe,{width:834,modelValue:K.value,"onUpdate:modelValue":t[48]||(t[48]=l=>K.value=l),trigger:"click"},{default:r(()=>[f("div",zt,[oe.value?(d(),c(st,{key:0,modelValue:e(a).syncSetting.cron,"onUpdate:modelValue":t[44]||(t[44]=l=>e(a).syncSetting.cron=l),"is-rate":e(a).syncRate==="CRON",onClose:t[45]||(t[45]=l=>K.value=!1)},null,8,["modelValue","is-rate"])):m("",!0)])]),reference:r(()=>[n(u,{modelValue:e(a).syncSetting.cron,"onUpdate:modelValue":t[46]||(t[46]=l=>e(a).syncSetting.cron=l),onClick:t[47]||(t[47]=l=>K.value=!0)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})):m("",!0),e(a).syncSetting.syncRate!=="RIGHTNOW"?(d(),c(i,{key:2,label:e(o)("datasource.start_time"),prop:"syncSetting.startTime"},{default:r(()=>[n(Ue,{modelValue:e(a).syncSetting.startTime,"onUpdate:modelValue":t[49]||(t[49]=l=>e(a).syncSetting.startTime=l),class:"de-date-picker","prefix-icon":e(Oe),type:"datetime",placeholder:e(o)("datasource.start_time")},null,8,["modelValue","prefix-icon","placeholder"])]),_:1},8,["label"])):m("",!0),e(a).syncSetting.syncRate!=="RIGHTNOW"?(d(),c(i,{key:3,label:e(o)("datasource.end_time"),prop:"syncSetting.endLimit"},{default:r(()=>[f("div",$t,[n(Ue,{modelValue:e(a).syncSetting.endTime,"onUpdate:modelValue":t[50]||(t[50]=l=>e(a).syncSetting.endTime=l),class:"de-date-picker","prefix-icon":e(Oe),type:"datetime",placeholder:e(o)("datasource.end_time")},null,8,["modelValue","prefix-icon","placeholder"])])]),_:1},8,["label"])):m("",!0)])):m("",!0)]),_:1},8,["model"]),n(Pe,{title:e(o)("data_source.edit_parameters"),modelValue:ne.value,"onUpdate:modelValue":t[54]||(t[54]=l=>ne.value=l),width:"420px",class:"create-dialog","before-close":Te},{footer:r(()=>[n(h,{secondary:"",onClick:Te},{default:r(()=>[g(p(e(o)("dataset.cancel")),1)]),_:1}),n(h,{type:"primary",onClick:ya},{default:r(()=>[g(p(e(o)("dataset.confirm")),1)]),_:1})]),default:r(()=>[n(e(Y),{"label-position":"top","require-asterisk-position":"right",ref_key:"paramsObjRef",ref:Se,onKeydown:t[53]||(t[53]=qe(R(()=>{},["stop","prevent"]),["enter"])),model:w.value,rules:ga},{default:r(()=>[n(i,{label:e(o)("visualization.param_name"),prop:"name"},{default:r(()=>[n(u,{placeholder:e(o)("data_source.enter_parameter_name"),modelValue:w.value.name,"onUpdate:modelValue":t[51]||(t[51]=l=>w.value.name=l)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),n(i,{label:e(o)("deDataset.parameter_type"),prop:"deType"},{default:r(()=>[n(W,{modelValue:w.value.deType,"onUpdate:modelValue":t[52]||(t[52]=l=>w.value.deType=l)},{default:r(()=>[n(v,{value:0,label:e(o)("data_source.text")},null,8,["label"]),n(v,{value:2,label:e(o)("data_source.numerical_value")},null,8,["label"]),n(v,{value:3,label:e(o)("data_source.numeric_value_decimal")},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["title","modelValue"]),n(Pe,{title:e(o)("data_source.rename"),modelValue:F.value,"onUpdate:modelValue":t[57]||(t[57]=l=>F.value=l),width:"420px",class:"create-dialog","before-close":ke},{footer:r(()=>[n(h,{secondary:"",onClick:ke},{default:r(()=>[g(p(e(o)("dataset.cancel")),1)]),_:1}),n(h,{type:"primary",onClick:va},{default:r(()=>[g(p(e(o)("dataset.confirm")),1)]),_:1})]),default:r(()=>[n(e(Y),{"label-position":"top","require-asterisk-position":"right",ref_key:"apiObjRef",ref:Ce,onKeydown:t[56]||(t[56]=qe(R(()=>{},["stop","prevent"]),["enter"])),model:x.value,rules:_a},{default:r(()=>[n(i,{label:e(o)("data_source.interface_name"),prop:"name"},{default:r(()=>[n(u,{placeholder:e(o)("data_source.the_interface_name"),modelValue:x.value.name,"onUpdate:modelValue":t[55]||(t[55]=l=>x.value.name=l)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["title","modelValue"]),n(ot,{onReturnItem:pa,ref_key:"editApiItem",ref:fe},null,512)])])}}});const Tl=ct(At,[["__scopeId","data-v-49236525"]]);export{Tl as default};
