let head = document.createElement('head')
  let suffix = `0.0.0-dataease`


  const getPrefix = () => {
    let prefix = ''
    Array.from(document.querySelector('head').children).some(ele => {
      if (['SCRIPT', 'LINK'].includes(ele.nodeName)) {
        let url = ''
        if (ele.nodeName === 'LINK') {
          url = ele.href
        } else if (ele.nodeName === 'SCRIPT') {
          url = ele.src
        }
        if (url.includes(suffix)) {
          prefix = new URL(url).origin
          const index = url.indexOf(`/js/div_import_0.0.0-dataease`)
          if (index > 0) {
            prefix = url.substring(0, index)
          }
          return true
        }
      }
    })
    return prefix
  }

  const eleArrStr = [{"name":"script","attributes":{"type":"module","crossorigin":"","src":"./js/panel-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/mitt-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/@vue-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/@amap-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/web-storage-cache-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/@vueuse-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/@element-plus-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/lodash-es-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/dayjs-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/@popperjs-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/async-validator-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/@ctrl-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/normalize-wheel-es-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/memoize-one-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/element-plus-secondary-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/is-plain-object-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/vue-types-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/vue-demi-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/pinia-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/index-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/@babel-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/fflate-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/iobuffer-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/pako-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/fast-png-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/jspdf-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/eventemitter3-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/lodash-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/@mapbox-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/ieee754-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/pbf-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/supercluster-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/gl-matrix-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/tslib-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/detect-browser-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/size-sensor-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-regression-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-hierarchy-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/fmin-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/pdfast-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-ease-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-color-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-interpolate-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-timer-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/fecha-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/topojson-client-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/viewport-mercator-project-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/splaytree-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/robust-predicates-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/polygon-clipping-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/@turf-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-collection-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-format-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-time-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-time-format-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-scale-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-array-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/earcut-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/regl-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/mapbox-gl-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-dsv-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/geojson-vt-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/hammerjs-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/batch-processor-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/element-resize-detector-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/d3-hexbin-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/@antv-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"modulepreload","crossorigin":"","href":"./assets/chunk/vue-router_2-0.0.0-dataease.js"}},{"name":"link","attributes":{"rel":"stylesheet","href":"./assets/css/index-0.0.0-dataease.css"}},{"name":"link","attributes":{"rel":"stylesheet","href":"./assets/css/@antv-0.0.0-dataease.css"}},{"name":"link","attributes":{"rel":"stylesheet","href":"./assets/css/element-plus-secondary-0.0.0-dataease.css"}},{"name":"link","attributes":{"rel":"stylesheet","href":"./assets/css/normalize-0.0.0-dataease.css"}}]
  const eleArr = eleArrStr
  const preUrl = getPrefix()
  
  function produceTag(obj, name) {
    let element = document.createElement(name)
    Object.entries(obj).forEach(([key, value]) => {
      if (['href', 'src'].includes(key)) {
        const relativeVal = value.startsWith('./') ? value.substr(1) : value
        element[key] = `${preUrl}${relativeVal}`
      } else {
        element.setAttribute(key, value || '')
      }
    })
    element.setAttribute('crossorigin', '')
    head.appendChild(element)
  }
  
  eleArr.forEach((ele) => {
    produceTag(ele.attributes, ele.name)
  })
  document.documentElement.insertBefore(head, document.querySelector('body'))